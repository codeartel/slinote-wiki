"use strict";var e=Object.freeze({__proto__:null,get COLUMN_DEFAULT_SIZE(){return Zse},get ROW_DEFAULT_SIZE(){return $se},get SheetChange(){return hIe},get SheetContext(){return cIe},get SheetDispatch(){return sIe},get SheetEditorPointerDown(){return uIe},get SheetFocusStatus(){return dIe},get SheetNextTick(){return aIe},get SheetPaste(){return pIe},get SheetProxy(){return fIe},get block(){return PNe},get border(){return BIe},get calcSheetRect(){return jEe},get clearEditorSelection(){return hDe},get copy(){return oIe},get createCellState(){return fce},get createEditorState(){return hce},get createEditorStyle(){return dce},get createSheetNode(){return uce},get createSheetState(){return pce},get crossEditorActions(){return wDe},get crossEditorRefresh(){return SDe},get crossSheetActions(){return xDe},get cut(){return nIe},get default(){return _Ne},get deleteColumn(){return GDe},get deleteRow(){return KDe},get deleteSheet(){return eIe},get deriveSheetState(){return XEe},get disableSelectedCoordinatesSelection(){return dse},get exportSheetStyle(){return $Ee},get exportStyleValue(){return ZEe},get fillColor(){return FIe},get focusEnd(){return Fke},get focusSheet(){return _ke},get focusSheetEnd(){return Wke},get focusSheetStart(){return jke},get focusStart(){return Hke},get generateSheetContext(){return YEe},get getMaxCellSize(){return ece},get getMinRowSize(){return tce},get getSelfCellSize(){return Qse},get icon(){return lIe},get initDefaultCell(){return nce},get insertBottom(){return UDe},get insertLeft(){return qDe},get insertRight(){return YDe},get insertSheet(){return MDe},get insertTop(){return ZDe},get isEmptyEditorState(){return zEe},get isMetaSheetNode(){return Kse},get isSheetNode(){return Yse},get isSingleSelected(){return ike},get keyboardEventEditorMoveAction(){return kDe},get keyboardEventSheetMoveAction(){return EDe},get keys(){return iIe},get merge(){return ZIe},get mergeEditorStyle(){return oce},get mergeSheet(){return nse},get name(){return Vse},get onlyMetaNode(){return qEe},get paste(){return tIe},get pasteToSheetFromClipboard(){return bke},get portalStyle(){return VEe},get produceCellEditor(){return UEe},get recoverSelectedCoordinatesSelection(){return fse},get redactionSheetState(){return tse},get reduceSheetState(){return WEe},get reflowEditorSelection(){return fDe},get refreshCEditor(){return wke},get refreshIndicatorRange(){return zke},get refreshSheetEditor(){return gse},get removeCellEditorReference(){return wse},get removeSelectedCoordinatesSelection(){return use},get resetCellState(){return hse},get resetToolsActive(){return Ile},get selectAll(){return QDe},get selectColumn(){return JDe},get selectRow(){return XDe},get setCellEditorPending(){return mse},get setCellEditorRefresh(){return yse},get setCellEditorSelectionFrozen(){return bse},get setCellEditorSelectionReflow(){return Cse},get setCellEditorStyle(){return xse},get setCellFocus(){return Pke},get setCellSize(){return lse},get setEditorActions(){return bDe},get setEditorFocus(){return ase},get setSheet(){return $De},get setSheetActions(){return CDe},get setSheetGfocus(){return yDe},get setSheetState(){return dDe},get setToolsActive(){return Nle},get shouldFocusEditor(){return oke},get sliceSheetState(){return GEe},get syncCEditorKey(){return zse},get syncCEditorSize(){return Wse},get syncCellSize(){return rse},get syncCellState(){return ose},get syncCellStyle(){return ise},get syncClientHeight(){return pse},get syncEditorSize(){return jse},get syncEmptySheet(){return Hse},get syncRowSize(){return cse},get syncRowState(){return sse},get syncSelectionBackward(){return gDe},get syncSelectionForward(){return mDe},get syncSheetProvider(){return vDe},get syncSheetReflow(){return _se},get syncSheetScroll(){return Fse},get syncSheetSize(){return vse},get syncSheetState(){return Pse},get syncSheetStyle(){return pDe},get toggleToolsActive(){return Dle},get traverseESheet(){return KEe},get unicode(){return KIe},get updateEditorState(){return uDe},get vertical(){return nNe},get writeSheetToClipboard(){return QEe}}),t=Object.freeze({__proto__:null,get AGENT_TYPE(){return yFe},get ASSETS(){return O$},get ASSETS_URL(){return W$},get BASE(){return A$},get BOOTSTRAP_URL(){return H$},get BaseEditor(){return XK},get BatchCatalogs(){return OK},get CATALOG(){return R$},get CATALOG_INDEX_URL(){return $$},get CATALOG_URL(){return z$},get CHANGELOG_URL(){return _$},get CLIPBOARD_COMMAND(){return T$},get COLOR_UPDATE(){return q$},get Clear(){return y2},get EDITOR(){return M$},get EDITOR_MAX_SIZE(){return N$},get EDITOR_URL(){return j$},get Editor(){return YK},get EditorAgent(){return UU},get EditorContext(){return ZU},get EditorDispatch(){return $U},get EditorImperator(){return VU},get FILE_SIZE(){return D$},get FOCUS_FIELD(){return E$},get FOCUS_SPLIT_TAG(){return k$},get File(){return k2},get Float(){return V2},get FontSizeReader(){return c3},get Input(){return j2},get Layout(){return N2},get MIN_FLOAT_SIZE(){return I$},get MOBILE_FILE_CONTENT(){return x$},get MOBILE_FILE_SCROLLBAR(){return S$},get MOBILE_FILE_STICKY(){return w$},get MOBILE_FILE_TREE(){return C$},get Main(){return A2},get MobileEditor(){return GK},get MobileFile(){return I2},get MobileRename(){return w2},get Modal(){return B2},get Moving(){return x2},get OFFSET_TOP(){return m$},get ONE(){return fUe},get PATH_FILL(){return dUe},get PCEditor(){return KK},get PCFile(){return D2},get PCRename(){return C2},get Profile(){return $2},get QRCODE_SECRET_KEY(){return b$},get REFERENCE(){return P$},get REFERENCE_INDEX_URL(){return U$},get REFERENCE_URL(){return Z$},get ReadOnlyTools(){return T2},get Reader(){return l3},get ReaderFetch(){return s3},get Rename(){return b2},get Replace(){return m2},get RootAdvisor(){return jU},get RootDispatch(){return PU},get RootImperator(){return zU},get RootPortal(){return HU},get RootProps(){return OU},get RootState(){return RU},get RootThreshold(){return _U},get RootTraversal(){return FU},get RootWorker(){return WU},get SAFARI_MODAL_VISIBLE(){return B$},get SDB(){return ZUe},get SEGMENT(){return F$},get SEGMENT_THRESHOLD(){return L$},get SEGMENT_URL(){return V$},get Search(){return g2},get SearchContext(){return KU},get SearchDispatch(){return YU},get SearchWorkerScheduler(){return Kje},get SegmentCompressionScheduler(){return qje},get SegmentDecompressionScheduler(){return Yje},get SyncEditorDataIdle(){return qU},get TWO(){return hUe},get ToolBar(){return L2},get ToolsImperator(){return GU},get WebDav(){return a3},get WebDavQRCode(){return d3},get WebDavStatusIcon(){return u3},get addAuthDelete(){return eY},get addFlush(){return k7},get addPageFileBranch(){return V6},get addStoreCatalog(){return bq},get addStoreEditor(){return Cq},get addStoreReference(){return yq},get adjustFileScrollTop(){return p6},get adjustFloatState(){return Cee},get adjustKeyboardScrollTop(){return v6},get afterFlush(){return N7},get align(){return hLe},get anchorBranchEditor(){return t6},get anchorEditorByBranch(){return ste},get anchorEditorByPageId(){return rte},get anchorEditorByProgress(){return cte},get anchorEditorBySelection(){return lte},get anchorGuide(){return ere},get assignFileBranchProps(){return l6},get assignFileCloud(){return e8},get assignWebDavItem(){return Gre},get bold(){return zNe},get bootstrapMisplace(){return m$e},get bulleted(){return OTe},get calcBlockSize(){return IFe},get calcBranchDot(){return ije},get calcBranchIntoView(){return oje},get calcDataSelection(){return cPe},get calcDiff(){return XUe},get calcEditorBounds(){return I_},get calcEditorThreshold(){return hFe},get calcEndBoundSlice(){return L_},get calcFileDelete(){return sVe},get calcGuideOneArrowScale(){return pUe},get calcGuideTwoArrowScale(){return vUe},get calcInputLocation(){return _ze},get calcOptionsSize(){return QUe},get calcScrollHeightByTree(){return cje},get calcStartBoundSlice(){return N_},get calcStartPathByData(){return hPe},get calcWebDavNoteSpaceHeight(){return $Ue},get check(){return VBe},get checkBranch(){return x6},get checkFileDelete(){return cVe},get checkReference(){return O6},get checkWebDavUpdate(){return _5},get clearAgentActions(){return a7},get clearAgentPropagation(){return r7},get clearAuthDelete(){return nY},get clearBranchRemoved(){return K7},get clearCursor(){return ile},get clearEditorCollapsedSelection(){return L9},get clearEditorHighlight(){return O9},get clearEditorSelection(){return I9},get clearExtraStore(){return hq},get clearExtraUndoRedo(){return pq},get clearFileCloud(){return n8},get clearFileCloudBind(){return o8},get clearFileTreeStatus(){return o6},get clearFlush(){return I7},get clearFormat(){return nTe},get clearGFocus(){return i4},get clearModal(){return nre},get clearProvider(){return v3},get clearProviderCollapsedSelection(){return m3},get clearProviderSelection(){return g3},get clearReplaceResult(){return lee},get clearSearchResult(){return q7},get clearStoreCURD(){return vq},get clearStoreCatalog(){return Vq},get clearStoreCreate(){return Kq},get clearStoreDelete(){return Uq},get clearStoreRecord(){return xq},get clearStoreUpdate(){return Jq},get clearWebDavItem(){return Yre},get clearWebDavSelectedIncloud(){return tle},get cloneCompositionEvent(){return Wze},get cloneInputEvent(){return jze},get cloneWebDavItem(){return _Ue},get code(){return oAe},get collapsedFileBranch(){return d6},get collectBranchNote(){return Q_e},get collectStoreCatalog(){return Ije},get collectStoreEditor(){return Lje},get collectStoreNote(){return Dje},get collectStorePageIds(){return Tje},get collectStoreReference(){return Nje},get common(){return Nxe},get completeStoreEditor(){return Iq},get concatFocus(){return xHe},get consumeAgentActions(){return c7},get createContextEditor(){return RUe},get createEditorFocus(){return WFe},get createEditorState(){return uFe},get createEmojiFocus(){return QFe},get createEmptyNode(){return vPe},get createEntryNode(){return gPe},get createFileFocus(){return zFe},get createLinkFocus(){return GFe},get createNodeFocus(){return ZFe},get createNoneFocus(){return jFe},get createOptionFocus(){return JFe},get createOutlineFocus(){return qFe},get createPage(){return zZe},get createPanelFocus(){return YFe},get createReferFocus(){return KFe},get createReferenceEditor(){return dFe},get createRoot(){return WZe},get createSelectorFocus(){return XFe},get createSheetFocus(){return $Fe},get createSlashFocus(){return eHe},get createToggleFocus(){return UFe},get createToolBarFocus(){return VFe},get createWebDavItem(){return HUe},get createWebDavModes(){return jUe},get crossSheetByFocus(){return jHe},get crossStateByFocus(){return _He},get deactivateFileBranch(){return V3},get decreaseFileScrollHeight(){return w6},get decreaseIndent(){return ZLe},get decreaseStoreEditor(){return Bq},get decreaseStoreEditorHighlights(){return Aq},get decreaseStoreReference(){return Fq},get decreaseWebDavItem(){return Ure},get deleteChangelog(){return eq},get deleteChangelogRecord(){return oq},get deleteCurrentPageId(){return A6},get deleteEditorUids(){return M9},get deleteFileBranch(){return M4},get deleteFileBranchSlience(){return O4},get deleteFileFloat(){return l8},get deleteNote(){return E7},get deleteRecordChangelog(){return T5},get deleteStore(){return jY},get deleteStoreAssets(){return $Y},get deleteStoreCatalog(){return WY},get deleteStoreEditor(){return VY},get deleteStoreReference(){return zY},get deleteWebDavCatalog(){return w5},get deleteWebDavEditor(){return x5},get deleteWebDavNote(){return b5},get deleteWebDavReferenceWithAssets(){return C5},get destoryNode(){return e4},get destructFocus(){return MHe},get destructOutlineFocus(){return RHe},get destructToggleFocus(){return OHe},get diffCatalog(){return YUe},get diffChangelog(){return qUe},get diffEditorUids(){return pFe},get diffReference(){return KUe},get downloadApplication(){return JZe},get downloadHTML(){return XZe},get downloadJSON(){return YZe},get downloadJSONHybrid(){return KZe},get downloadMarkdown(){return GZe},get dropNodeFocus(){return IHe},get dropPanelFocus(){return kHe},get dropRightFocus(){return EHe},get dropSheetFocus(){return DHe},get duplicateFileBranch(){return F4},get duplicateFileBranchSlience(){return H4},get duplicateNote(){return w7},get duplicateWebDavItem(){return qre},get emoji(){return Lhe},get entry(){return y$},get excludeFocus(){return SHe},get excludeStoreCreate(){return Yq},get excludeStoreDelete(){return Zq},get excludeStoreUpdate(){return Xq},get expandBranchEditor(){return n6},get expandFileBranch(){return f6},get expandNodeByFocus(){return WHe},get expandStoreEditorData(){return Qq},get exportApplication(){return m7},get exportEditorStyle(){return NPe},get exportHTML(){return y7},get exportJSON(){return v7},get exportMarkdown(){return g7},get exportPDF(){return b7},get exportStyleValue(){return p$},get exportWebDavQRCode(){return VUe},get extractDecorateNode(){return lUe},get extractPageIds(){return EPe},get extractPanelFocus(){return AHe},get extractReference(){return RPe},get fetchBranch(){return CK},get fetchBranchChildren(){return wK},get fetchBranchSource(){return xK},get fetchChangelog(){return i5},get fetchFeedback(){return r5},get fetchHelper(){return o5},get fetchPlan(){return l5},get fetchPricing(){return s5},get fetchPrivacyPolicy(){return W5},get fetchUserAgreement(){return j5},get fetchWebDAVTourist(){return z5},get filterBindCloud(){return WUe},get filterWebDavItem(){return zUe},get flatBranch(){return W_e},get flushStoreReference(){return Mq},get focusEditorEnd(){return A9},get focusEditorStart(){return B9},get focusSelectionEditor(){return ate},get fontSize(){return UNe},get fullBranch(){return z_e},get genID(){return aRe},get genNextEditBlockNode(){return aPe},get genPrevEditBlockNode(){return uPe},get generateAnchorEditorState(){return k$e},get generateBlockTree(){return OWe},get generateBranchHighlights(){return Zje},get generateCreator(){return wze},get generateFileDeleteModal(){return p$e},get generateFileOptions(){return yje},get generateHTMLTemplate(){return MZe},get generateHighlightStyle(){return Vje},get generateInfiniteEditorState(){return D$e},get generateKnowledgeTemplate(){return OZe},get generateMarkdownKit(){return xze},get generateReviewTree(){return YWe},get generateRootDeleteModal(){return v$e},get generateSearchFocus(){return zHe},get generateSearchTree(){return MWe},get generateSearchTreeSlowly(){return AWe},get genetateMobileOptions(){return bje},get getBranchByID(){return V_e},get getBranchNodes(){return J_e},get getDefaultStyle(){return IPe},get getEditorClientHeight(){return kFe},get getEditorClientWidth(){return EFe},get getFileClientHeight(){return DFe},get getFileScrollOffset(){return mje},get getFloatBranch(){return nje},get getFlushEditor(){return fFe},get getFocusDepth(){return THe},get getGeneralImageExt(){return T$e},get getGeneralImageMime(){return L$e},get getLocalBootStrap(){return TVe},get getLocalChangelog(){return zVe},get getLocalFeedback(){return $Ve},get getLocalGuideStep(){return n$e},get getLocalHelper(){return OVe},get getLocalHelperSlim(){return PVe},get getLocalNoteInnerHtml(){return c$e},get getLocalNoteLocation(){return r$e},get getLocalPlan(){return GVe},get getLocalPlanSlim(){return e$e},get getLocalPricing(){return UVe},get getLocalPricingSlim(){return YVe},get getLocalPrivacyPolicy(){return jVe},get getLocalRecentlyReview(){return AVe},get getLocalUserAgreement(){return HVe},get getLocalWebDAV(){return JVe},get getNextBranch(){return q_e},get getNextLevelBranch(){return Z_e},get getNodeByFocus(){return PHe},get getPageableBranch(){return eje},get getParentBranchByID(){return $_e},get getPrevBranch(){return Y_e},get getPrevLevelBranch(){return U_e},get getResultRecord(){return AK},get getSaftyBranch(){return lje},get getSelectionTitleNode(){return gFe},get getSheetByFocus(){return HHe},get getStartBlockNode(){return pPe},get getStateByFocus(){return FHe},get getWebDavBootstrap(){return c5},get getWebDavChangelog(){return a5},get getWebDavSDBData(){return d5},get getWebDavSDBIndex(){return u5},get highlightColour(){return aLe},get hotkeys(){return UHe},get i18n(){return zK},get image(){return nve},get importHTML(){return p7},get importMarkdown(){return Uie},get importNode(){return Q6},get importNote(){return Vie},get importOutlineToPage(){return Zie},get importPDF(){return h7},get importPage(){return J6},get importPageToPage(){return $ie},get increaseFileScrollHeight(){return C6},get increaseIndent(){return LLe},get increaseStoreEditor(){return Tq},get increaseStoreReference(){return Rq},get increaseWebDavItem(){return Zre},get increaseWebDavSyncTransitionCount(){return ele},get initBranchStore(){return T4},get initChangeActions(){return GUe},get initClientState(){return vqe},get initData(){return oPe},get initEditorClient(){return gqe},get initFileFloat(){return kqe},get initFileState(){return yqe},get initGuide(){return are},get initMovingState(){return wqe},get initMovingTreeState(){return xqe},get initPresetEditor(){return N4},get initPresetStore(){return L4},get initPresetTree(){return I4},get initReader(){return hqe},get initRenameState(){return zje},get initSearchResult(){return bqe},get initSearchState(){return Cqe},get initState(){return fqe},get initStore(){return mqe},get initToolBarState(){return pqe},get initUndoRedoStack(){return d4},get initUndoRedoState(){return Sqe},get initWebDavState(){return Eqe},get injectAbout(){return ore},get injectBootstrap(){return mK},get injectChangelog(){return yK},get injectEditor(){return SK},get injectEditorReference(){return mFe},get injectFeedback(){return ire},get injectFile(){return bK},get injectHelper(){return Qie},get injectPlan(){return lre},get injectPricing(){return rre},get injectReference(){return fPe},get injectReplaceResult(){return ree},get inputStoreReference(){return Oq},get insertConfirm(){return g$e},get insertEditorNodes(){return V9},get insertFileBranch(){return J3},get insertNote(){return Kie},get insertNoteSpace(){return Xie},get installNode(){return X6},get installNote(){return Yie},get installPage(){return G6},get isAssetsReference(){return MPe},get isBlockQuoteSyntax(){return kUe},get isBoldItalicSyntax(){return TUe},get isBoldSyntax(){return NUe},get isCatalogEqual(){return aUe},get isCollapsibleFocusInclude(){return bHe},get isDecorateBlockNodeSelection(){return sUe},get isDelete(){return t_e},get isDeleteBackward(){return f_e},get isDeleteForward(){return h_e},get isDeleteLineBackward(){return p_e},get isDeleteLineForward(){return v_e},get isDeleteWordBackward(){return g_e},get isDeleteWordForward(){return m_e},get isDuplicate(){return JHe},get isEditorFocus(){return iHe},get isEntryNode(){return mPe},get isExpandBackward(){return c_e},get isExpandForward(){return a_e},get isExpandLineBackward(){return u_e},get isExpandLineForward(){return d_e},get isExport(){return XHe},get isFileFocus(){return rHe},get isFocusInclude(){return pHe},get isFocusSheet(){return wHe},get isHeadingSyntax(){return EUe},get isHighlightNode(){return Uje},get isImport(){return GHe},get isItalicSyntax(){return LUe},get isLatestEntryNode(){return yPe},get isLinkFocus(){return aHe},get isListSyntax(){return DUe},get isMove(){return QHe},get isMoveDown(){return o_e},get isMoveLineBackward(){return l_e},get isMoveLineForward(){return s_e},get isMoveUp(){return n_e},get isMoveWordBackward(){return i_e},get isMoveWordForward(){return r_e},get isNew(){return qHe},get isNodeFocus(){return oHe},get isNoneFocus(){return tHe},get isOffPage(){return KHe},get isOptionFocus(){return dHe},get isOutlineFocus(){return hHe},get isOutlineFocusInclude(){return yHe},get isPaging(){return YHe},get isPanelFocus(){return sHe},get isPanelFocusInclude(){return vHe},get isPureReferenceEditor(){return PPe},get isReadOnlyBranch(){return tje},get isReadonlyFile(){return gje},get isReferFocus(){return cHe},get isRename(){return e_e},get isReplaceNode(){return RWe},get isResultEmpty(){return PWe},get isRootEditorFocus(){return CHe},get isSelectorFocus(){return uHe},get isSeparatorSyntax(){return IUe},get isSheetFocus(){return nHe},get isSheetFocusInclude(){return gHe},get isSlash(){return y_e},get isStaticEditState(){return C$e},get isStaticState(){return b$e},get isStrikeThroughSyntax(){return BUe},get isStrikeUnderlineSyntax(){return AUe},get isTitleReference(){return APe},get isToggleFocus(){return fHe},get isToggleFocusInclude(){return mHe},get isToolActive(){return v$},get isToolBarFocus(){return lHe},get isUnsaftyBranch(){return rje},get isWriterKeyBorad(){return iVe},get italic(){return KNe},get joinUID(){return hRe},get keys(){return WK},get lastFocus(){return BHe},get letterSpacing(){return UBe},get limitWidth(){return NFe},get lineHeight(){return JLe},get link(){return Sde},get loadNote(){return Jie},get locFileBranch(){return G3},get locateFloatState(){return kee},get mapEditorStateToEditState(){return aFe},get mapEditorToStoreEditor(){return Eje},get mapFileStateToEditState(){return pje},get mapFloatBranchToFloatState(){return vje},get mergeAuthDelete(){return tY},get mergeEditorReference(){return m9},get mergeFileFloat(){return r8},get mergeFileState(){return L6},get mergeFloatState(){return Dee},get mergeSearchResult(){return G7},get mergeStore(){return mq},get mergeStoreCRUD(){return Eq},get mergeStoreCatalog(){return Wq},get mergeStoreCreate(){return qq},get mergeStoreDelete(){return $q},get mergeStoreEditor(){return Nq},get mergeStoreEditorData(){return Lq},get mergeStoreRecord(){return wq},get mergeStoreReference(){return Hq},get mergeStoreSafty(){return kje},get mergeStoreUpdate(){return Gq},get mergeTextDecoration(){return h$},get mergeUndoRedoStack(){return h4},get moveFileBranch(){return V4},get moveNode(){return t4},get moveNote(){return x7},get newNote(){return C7},get newOutlineFileBranch(){return W6},get newPageFileBranch(){return z6},get numbered(){return YTe},get outline(){return cye},get paintFormat(){return sTe},get parseClipboardPayload(){return Fze},get parseFocus(){return LHe},get pasteFromClipboard(){return Fie},get preprocessMarkdownImage(){return MUe},get preset(){return D4},get pullWebDavAssets(){return F5},get pullWebDavCatalog(){return R5},get pullWebDavEditor(){return O5},get pullWebDavReference(){return P5},get pushFileBranch(){return X3},get pushWebDavAssets(){return y5},get pushWebDavCatalog(){return g5},get pushWebDavEditor(){return v5},get pushWebDavReference(){return m5},get putWebDavBootstrap(){return f5},get putWebDavChangelog(){return h5},get quote(){return Cfe},get readCatalog(){return UY},get readCatalogs(){return qY},get readCatalogsRecursion(){return YY},get readEditor(){return ZY},get readFromClipboard(){return Rze},get readReference(){return GY},get readReferences(){return KY},get readStore(){return XY},get readonly(){return sAe},get readonlyFileBranch(){return h6},get recordBootstrap(){return oK},get recordBranch(){return j_e},get recordChangelog(){return iK},get recordEditor(){return cK},get recordEditorCreative(){return aK},get recordStore(){return nK},get recordStoreCatalog(){return lK},get recordStoreEditor(){return rK},get recordStoreReference(){return sK},get recoverChangelog(){return tq},get recycleMemory(){return Ore},get redo(){return hle},get redoEditorState(){return y4},get reduceBranch(){return aje},get reduceBranchState(){return K_e},get reduceEditorReference(){return y9},get reduceNode(){return ZHe},get reduceStartPoint(){return SUe},get reduceUndoRedoStore(){return lVe},get refer(){return Npe},get refreshEditorReference(){return g9},get refreshFileBranch(){return U3},get refreshGFocus(){return r4},get reloadEditor(){return z9},get removeEditorLocation(){return N9},get removeEditorScrollProgress(){return h9},get removeFileBranch(){return $3},get removeFileBranchProps(){return s6},get removeFileCloud(){return Q4},get removeFlush(){return D7},get removeLocalNoteInnerHtml(){return s$e},get removeLocalNoteLocation(){return i$e},get removeResultBranch(){return nee},get removeStoreCatalog(){return zq},get removeStoreEditor(){return oY},get removeStoreReference(){return Pq},get renameFileBranch(){return X4},get renameNote(){return S7},get renderEditorElement(){return $ze},get renderFileElement(){return Uze},get renderFontSizeElement(){return qze},get renderInlineElement(){return Zze},get replaceBranch(){return Kee},get replaceContent(){return Yee},get replaceFileBranch(){return c6},get replaceMovingResult(){return vee},get replaceNote(){return Gie},get replayEditorState(){return b4},get resetChangelog(){return XU},get resetFileTreePath(){return m6},get resetFlushEditor(){return W9},get resetMovingResult(){return hee},get resetToolsActive(){return o7},get resetWebDav(){return jre},get resizeClient(){return J9},get resizeEditor(){return G9},get resizeFile(){return X9},get resizeFloatState(){return Iee},get saftyCatalog(){return uUe},get saftyChangelog(){return JU},get saftyDirectory(){return H5},get saftyEditorBounds(){return n9},get saftyFileBranch(){return q3},get saftyFileState(){return N6},get saftyInitUndoRedoStack(){return f4},get saftyMergeStore(){return gq},get saftyMergeUndoRedoStack(){return p4},get saftyRootBranch(){return Z3},get saftyStorage(){return BK},get saftyStoreCRUD(){return Sq},get scrollToBranchById(){return S6},get scrollToLastBranch(){return E6},get searchMovingResult(){return gee},get searchNextBlockNodePath(){return sPe},get searchNextNodePath(){return iPe},get searchPrevBlockNodePath(){return lPe},get searchPrevNodePath(){return rPe},get searchTextFromNode(){return TWe},get selectionEditorEnd(){return $9},get selectionOverlap(){return vFe},get separator(){return Jfe},get setAgentPropagation(){return i7},get setBootstrap(){return sre},get setBranchRemoved(){return Y7},get setChangelogRecord(){return nq},get setCurrentPageId(){return B6},get setCursor(){return ole},get setDeleteChangelog(){return B5},get setEditorActions(){return J8},get setEditorBounds(){return Q8},get setEditorBoundsReset(){return e9},get setEditorClient(){return S9},get setEditorData(){return C9},get setEditorFormatPaint(){return u9},get setEditorGHighlights(){return E9},get setEditorPastePending(){return t9},get setEditorPending(){return l9},get setEditorRefresh(){return s9},get setEditorReload(){return a9},get setEditorScrollOffset(){return x9},get setEditorScrollProgress(){return f9},get setEditorScrollTouchReset(){return d9},get setEditorSelection(){return k9},get setEditorSelectionReflow(){return D9},get setEditorSlicer(){return c9},get setEditorState(){return X8},get setEditorStatus(){return b9},get setEditorThreshold(){return w9},get setEditorUids(){return T9},get setFileBranch(){return z3},get setFileBranchMoreMoving(){return i6},get setFileBranchRename(){return r6},get setFileCloud(){return J4},get setFileCloudTimer(){return t8},get setFileEditPending(){return W3},get setFileFloat(){return i8},get setFileProvider(){return T6},get setFileReadonly(){return s8},get setFileScrollActive(){return g6},get setFileTreeNoDraft(){return Pre},get setFileVisible(){return M6},get setFloatFully(){return Eee},get setFloatId(){return See},get setFloatMoving(){return xee},get setFloatNoDraft(){return Lee},get setFloatRefresh(){return wee},get setFocusEditorPending(){return j9},get setGFocus(){return o4},get setGFocusSelectionReflow(){return l4},get setGuide(){return cre},get setLocalBootStrap(){return LVe},get setLocalChangelog(){return WVe},get setLocalFeedback(){return VVe},get setLocalGuideStep(){return t$e},get setLocalHelper(){return MVe},get setLocalHelperSlim(){return RVe},get setLocalNoteInnerHtml(){return l$e},get setLocalNoteLocation(){return o$e},get setLocalPlan(){return KVe},get setLocalPlanSlim(){return QVe},get setLocalPricing(){return ZVe},get setLocalPricingSlim(){return qVe},get setLocalPrivacyPolicy(){return _Ve},get setLocalRecentlyReview(){return BVe},get setLocalUpdateChangelog(){return N5},get setLocalUserAgreement(){return FVe},get setLocalWebDAV(){return XVe},get setModal(){return tre},get setMovingText(){return dee},get setNoDraft(){return Rre},get setProvider(){return p3},get setRecordChangelog(){return L5},get setRemoteUpdateChangelog(){return I5},get setReplaceComposition(){return Z7},get setReplaceText(){return z7},get setResearch(){return V7},get setResultBranch(){return tee},get setResultHeight(){return eee},get setResultWidth(){return Q7},get setSearchComposition(){return $7},get setSearchPercent(){return W7},get setSearchText(){return j7},get setStoreCatalog(){return jq},get setStoreEditor(){return kq},get setStorePending(){return fq},get setToolBarRefresh(){return Q9},get setToolBarResize(){return e7},get setToolsActive(){return n7},get setWebDavBootStrap(){return Xre},get setWebDavModal(){return Jre},get setWebDavPrevent(){return _re},get setWebDavStatusMessage(){return Qre},get setWebDavVisible(){return Hre},get shadowCloneRecordState(){return y$e},get sheet(){return e},get shouldCompleteStoreEditor(){return Aje},get shouldUpdateStoreReference(){return Bje},get slash(){return nRe},get sliceAfterPoint(){return DPe},get sliceBeforePoint(){return kPe},get sliceChangeState(){return JUe},get sliceNodeBySelection(){return wPe},get sliceNodeStyleBySelection(){return BWe},get sliceNoteDown(){return $Ze},get sliceNoteLocation(){return VZe},get sliceReplaceText(){return FWe},get sliceResizeNode(){return CPe},get sliceStoreEditNode(){return dPe},get sliceTools(){return g$},get spliceNode(){return HWe},get splitTextNode(){return Hze},get storeNoteLost(){return MK},get strikeThrough(){return oLe},get strikeUnderline(){return QNe},get stringifyEditorSharding(){return OUe},get stringifyFocus(){return NHe},get subscribeAgentActions(){return l7},get switchBranchEditor(){return e6},get syncDeleteChangelog(){return D5},get syncEditStateReference(){return F9},get syncEditorBranch(){return K3},get syncEditorChangeState(){return A5},get syncEditorCreateTime(){return o9},get syncEditorCursorStyle(){return R9},get syncEditorData(){return H9},get syncEditorReadTime(){return i9},get syncEditorReference(){return v9},get syncEditorState(){return G8},get syncEditorUids(){return P9},get syncEditorUndoRedo(){return v4},get syncEditorUpdateTime(){return r9},get syncFileBranch(){return Y3},get syncFileClientHeight(){return b6},get syncFileScrollHeight(){return y6},get syncFileState(){return I6},get syncLocalReferenceState(){return M5},get syncMomentUndoRedo(){return g4},get syncMovingResult(){return fee},get syncNearlyEditorScrollTouch(){return p9},get syncPullChangelog(){return k5},get syncPushChangelog(){return E5},get syncResultCount(){return oee},get syncResultScrollHeight(){return iee},get syncSearchResult(){return X7},get syncSearchTitle(){return U7},get syncStoreCatalog(){return _q},get syncWebDavNote(){return S5},get syncWebDavStatus(){return nle},get textColor(){return lLe},get toggle(){return mEe},get toggleFileBranch(){return a6},get toggleFileBranchMore(){return u6},get toggleFloatState(){return Nee},get toggleMovingResult(){return pee},get toggleResultExpand(){return J7},get toggleToolsActive(){return t7},get toggleWebDavBind(){return Kre},get toggleWebDavModeVisible(){return $re},get toggleWebDavPasswordVisible(){return zre},get toggleWebDavSelectorVisible(){return Vre},get toggleWebDavUsernameVisible(){return Wre},get transformBootStrap(){return FUe},get transformBranchToCatalog(){return X_e},get transformBranchToNode(){return __e},get transformCatalogToBranch(){return G_e},get transformFontSizeNode(){return bPe},get transformHtmlFragment(){return Cze},get transformMarkdown(){return bze},get transformMarkdownToBold(){return Lre},get transformMarkdownToBoldItalic(){return Bre},get transformMarkdownToInline(){return Nre},get transformMarkdownToItalic(){return Tre},get transformMarkdownToList(){return Dre},get transformMarkdownToOutline(){return Ere},get transformMarkdownToQuote(){return kre},get transformMarkdownToSeparator(){return Ire},get transformMarkdownToStrikeThrough(){return Are},get transformMarkdownToStrikeUnderline(){return Mre},get transformNodeToBranch(){return H_e},get transformNodeToText(){return LWe},get transformNoteDown(){return ZZe},get transformReferenceToNode(){return OPe},get transformSelection(){return $je},get transformToChangeRemote(){return UUe},get transformUID(){return fRe},get traverseData(){return xPe},get traverseEditor(){return SPe},get undo(){return ale},get undoCRUD(){return rVe},get undoEditorState(){return m4},get unsubscribeAgentActions(){return s7},get updateBlockNodeBranch(){return see},get updateChangelog(){return QU},get updateEditorStateData(){return _9},get updateFileBranch(){return Q3},get updateStoreEditor(){return Dq},get useAdvisor(){return J5},get useBranchRender(){return G2},get useEditorBounds(){return UK},get useEditorKeyboardEvents(){return FY},get useEditorReference(){return qK},get useEffects(){return VK},get useFileEvents(){return PK},get useFileHotkey(){return FK},get useFileInputs(){return X5},get useFileRefs(){return ZK},get useFloatEvents(){return _K},get useFloatRender(){return X2},get useFlushEditor(){return Q2},get useImperator(){return _Y},get useLayoutEvents(){return HY},get useMainEvents(){return HK},get useMobileEditorEvents(){return PY},get usePCEditorEvents(){return RY},get useProfileEvents(){return jK},get useReaderEffects(){return $K},get useReplacer(){return n5},get useSearchRender(){return J2},get useSearcher(){return t5},get useStore(){return K5},get useThreshold(){return e5},get useTraversal(){return e3},get useWebDavDelete(){return U5},get useWebDavEvents(){return $5},get useWebDavSync(){return Z5},get useWebDavTimer(){return Y5},get useWebDavUpdates(){return q5},get useWorker(){return G5},get writeToClipboard(){return Oze}});const n=Symbol.for("ruset"),o=Symbol.for("ruset.forward_ref"),i=Symbol.for("ruset.context"),r=Symbol.for("ruset.portal"),l=Symbol.for("ruset.event"),s=Array.isArray;function c(e){const t=typeof e;return"string"===t||"number"===t}function a(e){return null==e}function u(e){return null===e||!1===e||!0===e||void 0===e}function d(e){return"function"==typeof e}function f(e){return"string"==typeof e}function h(e){return"number"==typeof e}function p(e){return(null==e?void 0:e.symbol)===n}function v(e){return(null==e?void 0:e.type)===r}function g(){}function m(e,t){const n=c(e),o=c(t);return!(!n||!o)||!n&&!o&&(e.type===t.type&&e.key===t.key)}function y(e,t){return p(e)?void 0===e.key?e.type:`~${e.key}`:c(e)?`${t}-${e}`:""}const b=/\B([A-Z])/g,C=(e=>{const t=Object.create(null);return n=>{const o=t[n];return null!=o?o:t[n]=e(n)}})((e=>{const t=e.replace(b,"-$1").toLowerCase();return t.startsWith("webkit")||t.startsWith("ms")||t.startsWith("moz")?`-${t}`:t})),w=/["'&<>]/;function x(e){if(!w.test(e))return e;let t,n="",o="",i=0;for(t=0;t<e.length;++t){switch(e.charCodeAt(t)){case 34:o="&quot;";break;case 39:o="&#039;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}t>i&&(n+=e.slice(i,t)),n+=o,i=t+1}return n+e.slice(i,t)}const S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function E(e){let t="";for(const n in e){const o=e[n];!S[n]&&h(o)?t+=`${C(n)}:${o}px;`:o&&(t+=`${C(n)}:${o};`)}return t}const k=Promise.resolve(),D=k.then.bind(k);function I(e,t){return!s(e)||!s(t)||t.some(((t,n)=>t!==e[n]))}function N(e){const t=T.states;return void 0===t[e]&&(t[e]={}),t[e]}function L(){return{index:0,depth:0,states:[],effects:[],layoutEffects:[],order:[],loading:!1,ssr:!1,thrust:new Map,render:g}}const T=L();const B={pending:!1,count:0,timer:-1,queue:[],perform:e=>{T.ssr||(B.pending||(B.pending=!0,D(B.consume).catch((e=>{throw B.queue.length=0,new Error(e)}))),B.queue.push(e))},consume:()=>{if(!T.ssr){if(-1!==B.timer&&cancelAnimationFrame(B.timer),B.timer=-1,B.count>0&&M(),A(),B.pending=!1,B.queue.sort(((e,t)=>e.depth-t.depth)).forEach((e=>{e.render(e)})),B.queue.length=0,O(),B.count>=100)throw B.count=0,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside useLayoutEffect. Ruset limits the number of nested updates to prevent infinite loops.");B.pending?B.count++:B.count=0}}};function A(){B.timer=requestAnimationFrame(M)}function M(){if(!T.ssr){for(let e=0;e<T.effects.length;e++){const t=T.effects[e];d(t.clear)&&t.clear()}for(let e=0;e<T.effects.length;e++){const t=T.effects[e];void 0!==t.effect&&(t.clear=t.current())}T.effects.length=0}}function O(){if(T.ssr)return;const e=T.layoutEffects;T.layoutEffects=[];for(let t=0;t<e.length;t++){const n=e[t];d(n.clear)&&n.clear()}for(let t=0;t<e.length;t++){const n=e[t];void 0!==n.layoutEffect&&(n.clear=n.current())}}function R(e){var t,n;return T.ssr?(null===(t=T.thrust)||void 0===t?void 0:t.has(e))?T.thrust.get(e):e.defaultValue:(N(T.index++),(null===(n=T.thrust)||void 0===n?void 0:n.has(e))?T.thrust.get(e):e.defaultValue)}function P(){return!!T.ssr}function F(e,t){if(T.ssr)return;const n=N(T.index++);I(n.deps,t)&&(n.effect=!0,n.deps=t,n.current=e)}function H(e,t){if(T.ssr)return;const n=N(T.index++);I(n.deps,t)&&(n.layoutEffect=!0,n.deps=t,n.current=e)}function _(e,t){if(T.ssr)return e;const n=N(T.index++);return I(n.deps,t)&&(n.deps=t,n.current=e),n.current}function j(e,t,n){if(T.ssr)return;void 0!==n&&(n=n.concat(e));const o=()=>{d(e)?e(t()):e&&(e.current=t())},i=N(T.index++);I(i.deps,n)&&(i.layoutEffect=!0,i.deps=n,i.current=o)}function W(e,t){if(T.ssr)return e();const n=N(T.index++);return I(n.deps,t)&&(n.deps=t,n.current=e(),p(n.current)&&(n.current.memo=!0)),n.current}function z(e,t,n){if(T.ssr)return o();function o(){return[void 0===n?d(t)?t():t:n(t),t=>{const n=e(i.current[0],t);i.current[0]!==n&&(i.current[0]=n,i.pending=!0,B.perform(i))}]}const i=N(T.index++);return i.pending=!1,i.depth=T.depth,i.render=T.render,void 0===i.current&&(i.current=o()),i.current}function V(e,t){return d(t)?t(e):t}function $(e){return z(V,e)}function Z(e){if(T.ssr)return{current:e};const t=N(T.index++);return void 0===t.current&&(t.current=e),t}function U(e){const t=e=>({type:i,symbol:n,props:e});return t.defaultValue=e,t}function q(e){return d(e)&&e.flag===o}var Y;function K(e){var t;return null!==(t=e.children)&&void 0!==t?t:null}function G(e,t,o){return void 0!==t.key&&delete t.key,{type:e,key:o,props:t,symbol:n}}!function(e){e.div="div",e.span="span",e.text="text",e.img="img",e.input="input",e.iframe="iframe",e.textarea="textarea",e.svg="svg",e.path="path",e.circle="circle",e.a="a",e.br="br",e.pre="pre",e.code="code"}(Y||(Y={}));const X=G;function J(e){return t=>{const[n,o]=$(null);return F((()=>{e().then((e=>{o(e)}))}),[]),void 0!==(null==n?void 0:n.default)?G(n.default,t,void 0):null}}const Q="http://www.w3.org/2000/svg",ee={div:{step:10,limit:1e3,elements:[],creator:()=>document.createElement(Y.div)},span:{step:10,limit:1e3,elements:[],creator:()=>document.createElement(Y.span)},text:{step:10,limit:1e3,elements:[],creator:()=>document.createTextNode("")},img:{step:10,limit:100,elements:[],creator:()=>document.createElement(Y.img)},input:{step:10,limit:100,elements:[],creator:()=>document.createElement(Y.input)},textarea:{step:10,limit:10,elements:[],creator:()=>document.createElement(Y.textarea)},a:{step:10,limit:100,elements:[],creator:()=>document.createElement(Y.a)},svg:{step:10,limit:100,elements:[],creator:()=>document.createElementNS(Q,Y.svg)},path:{step:10,limit:100,elements:[],creator:()=>document.createElementNS(Q,Y.path)},circle:{step:10,limit:10,elements:[],creator:()=>document.createElementNS(Q,Y.circle)},iframe:{step:0,limit:0,elements:[],creator:()=>document.createElement(Y.iframe)},br:{step:0,limit:0,elements:[],creator:()=>document.createElement(Y.br)},pre:{step:0,limit:0,elements:[],creator:()=>document.createElement(Y.pre)},code:{step:0,limit:0,elements:[],creator:()=>document.createElement(Y.code)}};function te(e,t){"function"==typeof requestIdleCallback?e.timer=requestIdleCallback(t):e.timer=setTimeout(t)}function ne(e){for(const e in ee){const t=ee[e];if(t.elements.length>=t.limit)continue;if(void 0!==t.timer)continue;const n=()=>{if(t.limit<=t.elements.length)return;const e=Math.min(t.step,t.limit-t.elements.length);for(let n=0;n<e;n++)t.elements.push(t.creator());delete t.timer,t.limit>t.elements.length&&te(t,n)};te(t,n)}}const oe=e=>{const t=ee.text.elements;if(t.length){const n=t.pop();return n.textContent=e,n}return document.createTextNode(e)};const ie=new WeakMap;function re(e,t,n){void 0===e[l]&&(e[l]={});let o=e[l][t];if(void 0!==o)return o.current=n,void(o.options=n.options);o=function(e,t){const n=t=>{let o=t;if(!o)return void console.error(`${e} event unsupported`);if(!o.bubbles)return void n.current(o);let i=ie.get(t.target);void 0===i&&(i=new Map,ie.set(t.target,i));let r=i.get(e);r||(r=[],i.set(e,r));const l=t.stopPropagation.bind(t);o.stopPropagation=()=>{l(),(null==r?void 0:r.length)&&(r.length=0)};const s=t.stopImmediatePropagation.bind(t);o.stopImmediatePropagation=()=>{s(),(null==r?void 0:r.length)&&(r.length=0)},r.push((()=>n.current(o)))};return n.current=t,n.options=t.options,n}(t,n),e[l][t]=o,e.addEventListener(t,o,n.options)}function le(e){const t=ie.get(e.target);if(!t)return;const n=t.get(e.type);if(!n)return;let o=0;for(;o<n.length;)n[o++]();n.length=0}function se(e,t,n){if(void 0===e[l])return;const o=e[l][t];o.current!==n&&console.error(`${t} event listener can not match`),o.options!==n.options&&console.error(`${t} event options can not match`),delete e[l][t],e.removeEventListener(t,o,o.options)}const ce={copy:ye,cut:ye,paste:ye,focusin:de,focusout:de,focus:me,blur:me,change:me,beforeinput:me,input:me,keydown:ge,keypress:ge,keyup:ge,load:function(e){const t=e.target,n=e.currentTarget,o={target:ue(t),currentTarget:ue(n)};return Object.assign(de(e),o)},error:de,click:he,scroll:function(e){const t=e.target,n=e.currentTarget,o={target:ue(t),currentTarget:ue(n)};return Object.assign(de(e),o)},resize:function(e){const t=e.target,n=e.currentTarget,o={target:ue(t),currentTarget:ue(n)};return Object.assign(de(e),o)},wheel:function(e){return e},dblclick:he,mousedown:he,mousemove:he,mouseup:he,mouseenter:he,mouseleave:he,touchstart:ve,touchmove:ve,touchend:ve,touchcancel:ve,pointerdown:pe,pointermove:pe,pointerup:pe,pointercancel:pe,pointerenter:pe,pointerleave:pe,pointerover:pe,pointerout:pe,contextmenu:pe,transitionstart:Ce,transitionrun:Ce,transitionend:Ce,animationcancel:we,animationstart:we,animationend:we,animationiteration:we,compositionend:be,compositionstart:be,compositionupdate:be},ae={onCopy:"copy",onCut:"cut",onPaste:"paste",onFocus:"focusin",onBlur:"focusout",onChange:"change",onBeforeInput:"beforeinput",onInput:"input",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onLoad:"load",onError:"error",onClick:"click",onScroll:"scroll",onWheel:"wheel",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onDoubleClick:"dblclick",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseUp:"mouseup",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onPointerDown:"pointerdown",onPointerMove:"pointermove",onPointerUp:"pointerup",onPointerCancel:"pointercancel",onPointerEnter:"pointerenter",onPointerLeave:"pointerleave",onPointerOver:"pointerover",onPointerOut:"pointerout",onContextMenu:"contextmenu",onTransitionStart:"transitionstart",onTransitionRun:"transitionrun",onTransitionEnd:"transitionend",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationCancel:"animationcancel",onAnimationIteration:"animationiteration"};function ue(e){return e}function de(e){return{bubbles:e.bubbles,cancelable:e.cancelable,currentTarget:null,defaultPrevented:e.defaultPrevented,isTrusted:e.isTrusted,type:e.type,timeStamp:e.timeStamp,target:null,preventDefault:e.preventDefault.bind(e),stopImmediatePropagation:e.stopImmediatePropagation.bind(e),stopPropagation:e.stopPropagation.bind(e)}}function fe(e){return{altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,getModifierState:e.getModifierState.bind(e)}}function he(e){const t=e.target,n=e.currentTarget,o={clientX:e.clientX,clientY:e.clientY,movementX:e.movementX,movementY:e.movementY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,button:e.button,target:t,currentTarget:n};return Object.assign(de(e),fe(e),o)}function pe(e){var t,n;const o={pointerId:e.pointerId,pressure:e.pressure,tangentialPressure:e.tangentialPressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist,width:e.width,height:e.height,pointerType:e.pointerType,isPrimary:e.isPrimary,getCoalescedEvents:null===(t=e.getCoalescedEvents)||void 0===t?void 0:t.bind(e),getPredictedEvents:null===(n=e.getPredictedEvents)||void 0===n?void 0:n.bind(e)};return Object.assign(he(e),o)}function ve(e){const t={touches:e.touches,targetTouches:e.targetTouches};return Object.assign(de(e),fe(e),t)}function ge(e){const t={type:e.type,timeStamp:e.timeStamp,code:e.code,key:e.key,location:e.location,repeat:e.repeat,keyCode:e.keyCode};return Object.assign(de(e),fe(e),t)}function me(e){const t={target:e.target,currentTarget:e.currentTarget};return Object.assign(de(e),t)}function ye(e){const t=e.target,n=e.currentTarget,o={clipboardData:e.clipboardData,target:t,currentTarget:n};return Object.assign(de(e),o)}function be(e){const t=e.target,n=e.currentTarget,o={data:e.data,target:t,currentTarget:n};return Object.assign(de(e),o)}function Ce(e){const t=e.target,n=e.currentTarget,o={elapsedTime:e.elapsedTime,propertyName:e.propertyName,pseudoElement:e.pseudoElement,target:t,currentTarget:n};return Object.assign(de(e),o)}function we(e){const t=e.target,n=e.currentTarget,o={elapsedTime:e.elapsedTime,pseudoElement:e.pseudoElement,animationName:e.animationName,target:t,currentTarget:n};return Object.assign(de(e),o)}function xe(e,t,n,o){const{children:i,ele:r}=e.props,l=t.mounts.length;if(void 0===i||o&&!r){if(l>0){let e=0;for(;e<l;)t.index=e,Ne(t),e++;t.mounts.length=0,delete t.index}}else{if(!Array.isArray(i)&&l>1){let e=1;for(;e<l;)t.index=e,Ne(t),e++;t.mounts.length=1,delete t.index}n(i,t)}}function Se(e,t,n,o){var i;if("ref"!==n)if(void 0===ae[n]){if("className"===n&&(n="class"),e.type===Y.input){if("autoFocus"===n&&(n="autofocus"),"multiple"===n||"disabled"===n||"directory"===n||"webkitdirectory"===n||"autofocus"===n)return void(!0===o?t.ele.setAttribute(n,""):t.ele.removeAttribute(n))}else e.type===Y.path&&("strokeWidth"===n?n="stroke-width":"fillOpacity"===n&&(n="fill-opacity"));void 0!==o?"value"!==n?t.ele.setAttribute(n,o):t.ele.value=o:t.ele.removeAttribute(n)}else{const r=ae[n];void 0!==r&&d(o)&&(re(t.ele,r,o),(null===(i=e.props)||void 0===i?void 0:i.ref)||(e.props.ref=g))}}function Ee(e,t,n){if(a(n))e.removeAttribute("style");else if(a(t))for(const t in n){let o=n[t];o=!S[t]&&h(o)?`${o}px`:String(o).trim(),e.style.setProperty(C(t),o)}else{for(const o in n){let i=n[o];i!==t[o]&&(i=!S[o]&&h(i)?`${i}px`:String(i).trim(),e.style.setProperty(C(o),i))}for(const o in t)void 0===n[o]&&e.style.removeProperty(C(o))}}function ke(e,t,n){const{mounts:o,ele:i,index:r=0}=e;if(n){const n=function(e){var t,n,o;let{mounts:i,ele:r,index:l=0,nextMount:s}=e,c=null!==(t=null==s?void 0:s.ele)&&void 0!==t?t:null;if(null===c){let e=i.length-1;for(;!c&&l<e;)s=i[++l],(null==s?void 0:s.swaped)||(c=null!==(n=null==s?void 0:s.ele)&&void 0!==n?n:null)}for(;c===r;)s=null==s?void 0:s.mounts[0],c=null!==(o=null==s?void 0:s.ele)&&void 0!==o?o:null;return c}(e);i.insertBefore(t.ele,n)}o[r]=t}function De(e,t,n){var o,i,r;if(t===n)return;const{mounts:l,ele:s}=e;let c=n+(t<n?1:0),a=l[c];for(;!a||v(a.node);){if(c>l.length-1){a=void 0;break}a=l[++c]}let u=l[t];if(t>n?(l.splice(t,1),l.splice(n,0,u)):(l.splice(n+1,0,u),l.splice(t,1)),u&&!v(u.node)){let e=null!==(o=null==a?void 0:a.ele)&&void 0!==o?o:null;for(;e===s;)a=null==a?void 0:a.mounts[0],e=null!==(i=null==a?void 0:a.ele)&&void 0!==i?i:null;let t=u.ele;for(;t===s;)u=null==u?void 0:u.mounts[0],t=null!==(r=null==u?void 0:u.ele)&&void 0!==r?r:null;if(!t)return;t!==e&&s.insertBefore(t,e)}}function Ie(e,t,n){var o,i,r;if(t===n)return;const{mounts:l,ele:s}=e;let c=n,a=l[c];for(;!a||v(a.node)||a.swaped;){if(c>l.length-1){a=void 0;break}a=l[++c]}let u=l[t];const d=l[n];if(l[t]=d,l[n]=u,d&&!v(d.node)&&(d.swaped=!0),u&&!v(u.node)){delete u.swaped;let e=null!==(o=null==a?void 0:a.ele)&&void 0!==o?o:null;for(;e===s;)a=null==a?void 0:a.mounts[0],e=null!==(i=null==a?void 0:a.ele)&&void 0!==i?i:null;let t=u.ele;for(;t===s;)u=null==u?void 0:u.mounts[0],t=null!==(r=null==u?void 0:u.ele)&&void 0!==r?r:null;if(!t)return;t!==e&&s.insertBefore(t,e)}}function Ne(e,t,n){var o;const{mounts:i,ele:s,index:c=0}=e,a=i[c];if(void 0===a)return;if(a.destory)return void(void 0===t&&delete i[c]);a.destory=!0;const u=null===(o=a.node.props)||void 0===o?void 0:o.ref;void 0!==u&&(d(u)?u(null):u.current=null),function(e){if(void 0!==e.states)for(let t=0,n=e.states.length;t<n;t++){const n=e.states[t];!1===n.layoutEffect?(delete n.layoutEffect,T.layoutEffects.push(n)):!1===n.effect&&(delete n.effect,T.effects.push(n)),n.pending=!1}}(a);let f=n;const h=a.node.type;if(void 0===f?"function"!=typeof h&&(h in Y||void 0===h)&&(f=!0,s.removeChild(a.ele)):h===r&&(f=void 0),"function"!=typeof h&&h in Y){const e=a.ele[l];if(e)for(const t in e){const n=e[t];se(a.ele,t,n.current)}}for(let e=0,t=a.mounts.length;e<t;e++)a.index=e,Ne(a,!0,f);void 0===t&&delete i[c]}function Le(e,t){c(e)?Oe(e,t):u(e)?Re(e,t):s(e)?function(e,t){var n,o,i,r,l,s;e=e.flat(1/0);const c=t.mounts;if(0===c.length){t.index=0;let n=0;for(;n<e.length;)u(e[n])||(Le(e[n],t),t.index++),n++;return void delete t.index}let a,d=0,f=c.length-1,h=null===(n=c[0])||void 0===n?void 0:n.node,p=null===(o=c[f])||void 0===o?void 0:o.node,v=0,g=e.length-1,b=e[0],C=e[g];for(;d<=f&&v<=g;)if(u(h))h=e[++d];else if(u(p))p=e[--f];else if(u(b))b=e[++v];else if(u(C))C=e[--g];else if(m(h,b))t.index=d,Le(b,t),h=null===(i=c[++d])||void 0===i?void 0:i.node,b=e[++v];else if(m(p,C))a||(a=[]),a.push(C),p=null===(r=c[--f])||void 0===r?void 0:r.node,C=e[--g];else if(m(h,C))a||(a=[]),a.push(C),De(t,d,f),h=null===(l=c[d])||void 0===l?void 0:l.node,f--,C=e[--g];else{if(!m(p,b))break;De(t,f,d),t.index=d,Le(b,t),d++,p=null===(s=c[f])||void 0===s?void 0:s.node,b=e[++v]}let w=0;if(v<=g){let n,o=d;for(;o<=f;){const e=c[o].node;void 0===n&&(n=new Map);const t=y(e,o);n.set(t,o),o++}for(;v<=g;){if(u(b)){b=e[++v];continue}const o=y(b,v);if(!(null==n?void 0:n.has(o))){const n=d+w;c.splice(n,0,void 0),t.index=n,Le(b,t),b=e[++v],w++;continue}const i=n.get(o),r=i+w,l=d+w,{node:s}=c[l],a=y(s);n.set(a,i),n.delete(o),Ie(t,r,l),t.index=l,Le(b,t),b=e[++v],d++}}if(null==a?void 0:a.length){let e=a.length-1,n=f+w+1;for(;e>=0;)t.index=n++,Le(a[e--],t)}const x=f-d;if(x>=0){for(;d<=f;)t.index=w+f--,Ne(t);c.splice(d+w,x+1)}delete t.index,delete t.nextMount}(e,t):d(e.type)?Te(e,t):e.type===i?Be(e,t):e.type===r?Ae(e,t):Me(e,t)}function Te(e,t){const{mounts:n,depth:o,ele:r,index:l=0,thrust:s}=t;let c=n[l];if(null==c?void 0:c.destory)return;if((null==c?void 0:c.node)===e&&e.memo)return;if(void 0===c)c={node:e,ele:r,depth:o+1,mounts:[]};else if(e.type!==c.node.type||e.key!==c.node.key)return Ne(t),void Te(e,t);if(c.thrust=s,c.node=e,c.inctx=!1,t.node.type===i){const e=t.node.props.children;Array.isArray(e)&&1!==e.length||(c.inctx=!0)}void 0===c.states&&(c.states=[]),T.index=0,T.depth=c.depth,T.order=c.order,T.states=c.states,T.thrust=c.thrust,T.render=o=>{var i;if(o.pending){let o=0;for(;o<n.length&&(null===(i=n[o])||void 0===i?void 0:i.node)!==e;)o++;if(!n[o])return;t.index=o,Te({...e},t)}};let a=null;a=q(e.type)?e.type(e.props,e.props.ref):e.type(e.props);const u=function(e){const{mounts:t,index:n=0}=e;let o=n+1,i=t[o];if(i){if(i.swaped)for(;null==i?void 0:i.swaped;){if(o>t.length-1)return;i=t[++o]}return i}return e.nextMount}(t);u&&(c.nextMount=u),Le(a,c),c.nextMount&&delete c.nextMount,ke(t,c,!1),function(e){if(void 0!==e.states)for(let t=0,n=e.states.length;t<n;t++){const n=e.states[t];!0===n.layoutEffect?(n.layoutEffect=!1,T.layoutEffects.push(n)):!0===n.effect&&(n.effect=!1,T.effects.push(n))}}(c),delete T.thrust,delete T.order,T.states=[],T.render=g}function Be(e,t){const{mounts:n,depth:o,ele:i,index:r=0,thrust:l,inctx:s}=t;let c=n[r];if((null==c?void 0:c.node)!==e||!e.memo){if(void 0===c)c={node:e,ele:i,depth:o+1,mounts:[]};else if(e.type!==c.node.type||e.key!==c.node.key)return Ne(t),void Be(e,t);c.thrust=s?null!=l?l:new Map:new Map(l),c.thrust.set(t.node.type,e.props.value),c.node=e,t.nextMount&&(c.nextMount=t.nextMount),xe(e,c,Le),t.nextMount&&delete c.nextMount,ke(t,c,!1)}}function Ae(e,t){const{mounts:n,depth:o,index:i=0,thrust:r}=t,{ele:l}=e.props;let s=n[i];(null==s?void 0:s.node)===e&&e.memo||(void 0===s?s={node:e,ele:l,depth:o+1,mounts:[]}:e.type===s.node.type&&e.key===s.node.key||(Ne(t),Ae(e,t)),s.thrust=r,s.node=e,xe(e,s,Le,!0),ke(t,s,!1))}function Me(e,t){const{mounts:n,depth:o,index:i=0,thrust:r}=t;let l=!1,s=n[i];if((null==s?void 0:s.node)!==e||!e.memo){if(void 0===s){l=!0;s={node:e,ele:function(e){if(e===Y.svg){const t=ee.svg.elements;return t.length?t.pop():document.createElementNS(Q,e)}if(e===Y.path){const t=ee.path.elements;return t.length?t.pop():document.createElementNS(Q,e)}const t=ee[e].elements;return t.length?t.pop():document.createElement(e)}(e.type),depth:o+1,mounts:[]}}else if(e.type!==s.node.type||e.key!==s.node.key)return Ne(t),void Me(e,t);!function(e,t){const n=e.props,o=t.node.props;if(n!==o){for(let i in n){if("children"===i)continue;const r=n[i];let l=o[i];"value"===i&&(l=t.ele.value),l!==r&&("style"!==i?Se(e,t,i,r):Ee(t.ele,l,r))}for(const e in o)if("children"!==e&&void 0!==o[e]&&void 0===n[e]){if(void 0!==ae[e]){const n=ae[e];void 0!==n&&se(t.ele,n,o[e]);continue}t.ele.removeAttribute(e)}}else for(const o in n){if("children"===o)continue;const i=n[o];"style"!==o?Se(e,t,o,i):Ee(t.ele,null,i)}}(e,s),function(e,t){if(void 0!==e.props.ref){let n=t.ele;d(e.props.ref)?e.props.ref(n):e.props.ref.current=n}}(e,s),s.thrust=r,s.node=e,xe(e,s,Le),ke(t,s,l)}}function Oe(e,t){const{mounts:n,depth:o,index:i=0}=t;let r=!1,l=n[i];if(void 0===l){r=!0;l={node:e,ele:oe(String(e)),depth:o+1,mounts:[]}}else if(!c(l.node))return Ne(t),void Oe(e,t);l.node!==e&&(l.node=e,l.ele.nodeValue=String(e)),ke(t,l,r)}function Re(e,t){const{mounts:n,index:o=0}=t,i=n[o];void 0===i||u(i.node)||(Ne(t),Re(e,t))}function Pe(e,t){return f(e)?x(e):h(e)?`${e}`:u(e)?"":s(e)?function(e,t){let n="",o=0;for(;o<e.length;)n+=Pe(e[o],t),o++;return n}(e,t):d(e.type)?function(e,t){var n;T.thrust=t.thrust;let o=null;o=q(e.type)?e.type(e.props,e.props.ref):e.type(e.props);let r=!1;if((null===(n=t.node)||void 0===n?void 0:n.type)===i){const e=t.node.props.children;Array.isArray(e)&&1!==e.length||(r=!0)}return delete T.thrust,Pe(o,{...t,inctx:r,node:e})}(e,t):e.type===i?function(e,t){var n;let{thrust:o,inctx:i}=t;o=i?null!=o?o:new Map:new Map(o);null==o||o.set(null===(n=t.node)||void 0===n?void 0:n.type,e.props.value);const r=e.props.children;if(void 0===r)return"";return Pe(r,{...t,thrust:o})}(e,t):e.type===r?"":function(e,t){const n=e.type;let o=`<${n}`;for(let t in e.props){const n=e.props[t];if("className"===t?t="class":"autoFocus"===t?t="autofocus":"strokeWidth"===t?t="stroke-width":"fillOpacity"===t&&(t="fill-opacity"),"style"!==t||a(n)){if("children"===t)continue;f(n)?o+=` ${t}="${x(n)}"`:h(n)?o+=` ${t}="${n}"`:!0===n&&(o+=` ${t}`)}else{const e=E(n);e&&(o+=` style="${e.replace(/"/g,"'")}"`)}}if(n===Y.img||n===Y.input)return`${o} />`;o+=">";const i=e.props.children;void 0!==i&&(o+=Pe(i,{...t,node:e}));return o+=`</${n}>`,o}(e,t)}var Fe="object"==typeof global&&global&&global.Object===Object&&global,He="object"==typeof self&&self&&self.Object===Object&&self,_e=Fe||He||Function("return this")(),je=_e.Symbol,We=Object.prototype,ze=We.hasOwnProperty,Ve=We.toString,$e=je?je.toStringTag:void 0;var Ze=Object.prototype.toString;var Ue="[object Null]",qe="[object Undefined]",Ye=je?je.toStringTag:void 0;function Ke(e){return null==e?void 0===e?qe:Ue:Ye&&Ye in Object(e)?function(e){var t=ze.call(e,$e),n=e[$e];try{e[$e]=void 0;var o=!0}catch(e){}var i=Ve.call(e);return o&&(t?e[$e]=n:delete e[$e]),i}(e):function(e){return Ze.call(e)}(e)}function Ge(e){return null!=e&&"object"==typeof e}var Xe="[object Symbol]";function Je(e){return"symbol"==typeof e||Ge(e)&&Ke(e)==Xe}function Qe(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}var et=Array.isArray,tt=1/0,nt=je?je.prototype:void 0,ot=nt?nt.toString:void 0;function it(e){if("string"==typeof e)return e;if(et(e))return Qe(e,it)+"";if(Je(e))return ot?ot.call(e):"";var t=e+"";return"0"==t&&1/e==-tt?"-0":t}var rt=/\s/;var lt=/^\s+/;function st(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&rt.test(e.charAt(t)););return t}(e)+1).replace(lt,""):e}function ct(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var at=NaN,ut=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,ht=parseInt;function pt(e){if("number"==typeof e)return e;if(Je(e))return at;if(ct(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ct(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=st(e);var n=dt.test(e);return n||ft.test(e)?ht(e.slice(2),n?2:8):ut.test(e)?at:+e}var vt=1/0,gt=17976931348623157e292;function mt(e){return e?(e=pt(e))===vt||e===-vt?(e<0?-1:1)*gt:e==e?e:0:0===e?e:0}function yt(e){var t=mt(e),n=t%1;return t==t?n?t-n:t:0}function bt(e){return e}var Ct="[object AsyncFunction]",wt="[object Function]",xt="[object GeneratorFunction]",St="[object Proxy]";function Et(e){if(!ct(e))return!1;var t=Ke(e);return t==wt||t==xt||t==Ct||t==St}var kt,Dt=_e["__core-js_shared__"],It=(kt=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||""))?"Symbol(src)_1."+kt:"";var Nt=Function.prototype.toString;function Lt(e){if(null!=e){try{return Nt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Tt=/^\[object .+?Constructor\]$/,Bt=Function.prototype,At=Object.prototype,Mt=Bt.toString,Ot=At.hasOwnProperty,Rt=RegExp("^"+Mt.call(Ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pt(e){return!(!ct(e)||(t=e,It&&It in t))&&(Et(e)?Rt:Tt).test(Lt(e));var t}function Ft(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pt(n)?n:void 0}var Ht=Ft(_e,"WeakMap"),_t=Ht&&new Ht,jt=_t?function(e,t){return _t.set(e,t),e}:bt,Wt=jt,zt=Object.create,Vt=function(){function e(){}return function(t){if(!ct(t))return{};if(zt)return zt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),$t=Vt;function Zt(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$t(e.prototype),o=e.apply(n,t);return ct(o)?o:n}}var Ut=1;function qt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Yt=Math.max;function Kt(e,t,n,o){for(var i=-1,r=e.length,l=n.length,s=-1,c=t.length,a=Yt(r-l,0),u=Array(c+a),d=!o;++s<c;)u[s]=t[s];for(;++i<l;)(d||i<r)&&(u[n[i]]=e[i]);for(;a--;)u[s++]=e[i++];return u}var Gt=Math.max;function Xt(e,t,n,o){for(var i=-1,r=e.length,l=-1,s=n.length,c=-1,a=t.length,u=Gt(r-s,0),d=Array(u+a),f=!o;++i<u;)d[i]=e[i];for(var h=i;++c<a;)d[h+c]=t[c];for(;++l<s;)(f||i<r)&&(d[h+n[l]]=e[i++]);return d}function Jt(){}var Qt=4294967295;function en(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qt,this.__views__=[]}function tn(){}en.prototype=$t(Jt.prototype),en.prototype.constructor=en;var nn=_t?function(e){return _t.get(e)}:tn,on=nn,rn={},ln=Object.prototype.hasOwnProperty;function sn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function cn(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}sn.prototype=$t(Jt.prototype),sn.prototype.constructor=sn;var an=Object.prototype.hasOwnProperty;function un(e){if(Ge(e)&&!et(e)&&!(e instanceof en)){if(e instanceof sn)return e;if(an.call(e,"__wrapped__"))return function(e){if(e instanceof en)return e.clone();var t=new sn(e.__wrapped__,e.__chain__);return t.__actions__=cn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}(e)}return new sn(e)}function dn(e){var t=function(e){for(var t=e.name+"",n=rn[t],o=ln.call(rn,t)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==e)return i.name}return t}(e),n=un[t];if("function"!=typeof n||!(t in en.prototype))return!1;if(e===n)return!0;var o=on(n);return!!o&&e===o[0]}un.prototype=Jt.prototype,un.prototype.constructor=un;var fn=Date.now;function hn(e){var t=0,n=0;return function(){var o=fn(),i=16-(o-n);if(n=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pn=hn(Wt),vn=/\{\n\/\* \[wrapped with (.+)\] \*/,gn=/,? & /;var mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function yn(e){return function(){return e}}var bn=function(){try{var e=Ft(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Cn=bn,wn=Cn?function(e,t){return Cn(e,"toString",{configurable:!0,enumerable:!1,value:yn(t),writable:!0})}:bt,xn=hn(wn);function Sn(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function En(e){return e!=e}function kn(e,t,n){return t==t?function(e,t,n){for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}(e,t,n):function(e,t,n,o){for(var i=e.length,r=n+(o?1:-1);o?r--:++r<i;)if(t(e[r],r,e))return r;return-1}(e,En,n)}function Dn(e,t){return!!(null==e?0:e.length)&&kn(e,t,0)>-1}var In=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Nn(e,t,n){var o=t+"";return xn(e,function(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(mn,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return Sn(In,(function(n){var o="_."+n[0];t&n[1]&&!Dn(e,o)&&e.push(o)})),e.sort()}(function(e){var t=e.match(vn);return t?t[1].split(gn):[]}(o),n)))}var Ln=1,Tn=2,Bn=4,An=8,Mn=32,On=64;function Rn(e,t,n,o,i,r,l,s,c,a){var u=t&An;t|=u?Mn:On,(t&=~(u?On:Mn))&Bn||(t&=~(Ln|Tn));var d=[e,t,i,u?r:void 0,u?l:void 0,u?void 0:r,u?void 0:l,s,c,a],f=n.apply(void 0,d);return dn(e)&&pn(f,d),f.placeholder=o,Nn(f,e,t)}function Pn(e){return e.placeholder}var Fn=9007199254740991,Hn=/^(?:0|[1-9]\d*)$/;function _n(e,t){var n=typeof e;return!!(t=null==t?Fn:t)&&("number"==n||"symbol"!=n&&Hn.test(e))&&e>-1&&e%1==0&&e<t}var jn=Math.min;var Wn="__lodash_placeholder__";function zn(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var l=e[n];l!==t&&l!==Wn||(e[n]=Wn,r[i++]=n)}return r}var Vn=1,$n=2,Zn=8,Un=16,qn=128,Yn=512;function Kn(e,t,n,o,i,r,l,s,c,a){var u=t&qn,d=t&Vn,f=t&$n,h=t&(Zn|Un),p=t&Yn,v=f?void 0:Zt(e);return function g(){for(var m=arguments.length,y=Array(m),b=m;b--;)y[b]=arguments[b];if(h)var C=Pn(g),w=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(y,C);if(o&&(y=Kt(y,o,i,h)),r&&(y=Xt(y,r,l,h)),m-=w,h&&m<a){var x=zn(y,C);return Rn(e,t,Kn,g.placeholder,n,y,x,s,c,a-m)}var S=d?n:this,E=f?S[e]:e;return m=y.length,s?y=function(e,t){for(var n=e.length,o=jn(t.length,n),i=cn(e);o--;){var r=t[o];e[o]=_n(r,n)?i[r]:void 0}return e}(y,s):p&&m>1&&y.reverse(),u&&c<m&&(y.length=c),this&&this!==_e&&this instanceof g&&(E=v||Zt(E)),E.apply(S,y)}}var Gn=1;var Xn="__lodash_placeholder__",Jn=1,Qn=2,eo=4,to=8,no=128,oo=256,io=Math.min;var ro="Expected a function",lo=1,so=2,co=8,ao=16,uo=32,fo=64,ho=Math.max;function po(e,t,n,o,i,r,l,s){var c=t&so;if(!c&&"function"!=typeof e)throw new TypeError(ro);var a=o?o.length:0;if(a||(t&=~(uo|fo),o=i=void 0),l=void 0===l?l:ho(yt(l),0),s=void 0===s?s:yt(s),a-=i?i.length:0,t&fo){var u=o,d=i;o=i=void 0}var f=c?void 0:on(e),h=[e,t,n,o,i,u,d,r,l,s];if(f&&function(e,t){var n=e[1],o=t[1],i=n|o,r=i<(Jn|Qn|no),l=o==no&&n==to||o==no&&n==oo&&e[7].length<=t[8]||o==(no|oo)&&t[7].length<=t[8]&&n==to;if(!r&&!l)return e;o&Jn&&(e[2]=t[2],i|=n&Jn?0:eo);var s=t[3];if(s){var c=e[3];e[3]=c?Kt(c,s,t[4]):s,e[4]=c?zn(e[3],Xn):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Xt(c,s,t[6]):s,e[6]=c?zn(e[5],Xn):t[6]),(s=t[7])&&(e[7]=s),o&no&&(e[8]=null==e[8]?t[8]:io(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(h,f),e=h[0],t=h[1],n=h[2],o=h[3],i=h[4],!(s=h[9]=void 0===h[9]?c?0:e.length:ho(h[9]-a,0))&&t&(co|ao)&&(t&=~(co|ao)),t&&t!=lo)p=t==co||t==ao?function(e,t,n){var o=Zt(e);return function i(){for(var r=arguments.length,l=Array(r),s=r,c=Pn(i);s--;)l[s]=arguments[s];var a=r<3&&l[0]!==c&&l[r-1]!==c?[]:zn(l,c);return(r-=a.length)<n?Rn(e,t,Kn,i.placeholder,void 0,l,a,void 0,void 0,n-r):qt(this&&this!==_e&&this instanceof i?o:e,this,l)}}(e,t,s):t!=uo&&t!=(lo|uo)||i.length?Kn.apply(void 0,h):function(e,t,n,o){var i=t&Gn,r=Zt(e);return function t(){for(var l=-1,s=arguments.length,c=-1,a=o.length,u=Array(a+s),d=this&&this!==_e&&this instanceof t?r:e;++c<a;)u[c]=o[c];for(;s--;)u[c++]=arguments[++l];return qt(d,i?n:this,u)}}(e,t,n,o);else var p=function(e,t,n){var o=t&Ut,i=Zt(e);return function t(){return(this&&this!==_e&&this instanceof t?i:e).apply(o?n:this,arguments)}}(e,t,n);return Nn((f?Wt:pn)(p,h),e,t)}function vo(e,t,n){"__proto__"==t&&Cn?Cn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function go(e,t){return e===t||e!=e&&t!=t}var mo=Object.prototype.hasOwnProperty;function yo(e,t,n){var o=e[t];mo.call(e,t)&&go(o,n)&&(void 0!==n||t in e)||vo(e,t,n)}function bo(e,t,n,o){var i=!n;n||(n={});for(var r=-1,l=t.length;++r<l;){var s=t[r],c=o?o(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?vo(n,s,c):yo(n,s,c)}return n}var Co=Math.max;function wo(e,t,n){return t=Co(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,r=Co(o.length-t,0),l=Array(r);++i<r;)l[i]=o[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=o[i];return s[t]=n(l),qt(e,this,s)}}function xo(e,t){return xn(wo(e,t,bt),e+"")}var So=9007199254740991;function Eo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=So}function ko(e){return null!=e&&Eo(e.length)&&!Et(e)}function Do(e,t,n){if(!ct(n))return!1;var o=typeof t;return!!("number"==o?ko(n)&&_n(t,n.length):"string"==o&&t in n)&&go(n[t],e)}function Io(e){return xo((function(t,n){var o=-1,i=n.length,r=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(i--,r):void 0,l&&Do(n[0],n[1],l)&&(r=i<3?void 0:r,i=1),t=Object(t);++o<i;){var s=n[o];s&&e(t,s,o,r)}return t}))}var No=Object.prototype;function Lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||No)}function To(e){return Ge(e)&&"[object Arguments]"==Ke(e)}var Bo=Object.prototype,Ao=Bo.hasOwnProperty,Mo=Bo.propertyIsEnumerable,Oo=To(function(){return arguments}())?To:function(e){return Ge(e)&&Ao.call(e,"callee")&&!Mo.call(e,"callee")},Ro=Oo;var Po="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fo=Po&&"object"==typeof module&&module&&!module.nodeType&&module,Ho=Fo&&Fo.exports===Po?_e.Buffer:void 0,_o=(Ho?Ho.isBuffer:void 0)||function(){return!1},jo={};function Wo(e){return function(t){return e(t)}}jo["[object Float32Array]"]=jo["[object Float64Array]"]=jo["[object Int8Array]"]=jo["[object Int16Array]"]=jo["[object Int32Array]"]=jo["[object Uint8Array]"]=jo["[object Uint8ClampedArray]"]=jo["[object Uint16Array]"]=jo["[object Uint32Array]"]=!0,jo["[object Arguments]"]=jo["[object Array]"]=jo["[object ArrayBuffer]"]=jo["[object Boolean]"]=jo["[object DataView]"]=jo["[object Date]"]=jo["[object Error]"]=jo["[object Function]"]=jo["[object Map]"]=jo["[object Number]"]=jo["[object Object]"]=jo["[object RegExp]"]=jo["[object Set]"]=jo["[object String]"]=jo["[object WeakMap]"]=!1;var zo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vo=zo&&"object"==typeof module&&module&&!module.nodeType&&module,$o=Vo&&Vo.exports===zo&&Fe.process,Zo=function(){try{var e=Vo&&Vo.require&&Vo.require("util").types;return e||$o&&$o.binding&&$o.binding("util")}catch(e){}}(),Uo=Zo&&Zo.isTypedArray,qo=Uo?Wo(Uo):function(e){return Ge(e)&&Eo(e.length)&&!!jo[Ke(e)]},Yo=qo,Ko=Object.prototype.hasOwnProperty;function Go(e,t){var n=et(e),o=!n&&Ro(e),i=!n&&!o&&_o(e),r=!n&&!o&&!i&&Yo(e),l=n||o||i||r,s=l?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],c=s.length;for(var a in e)!t&&!Ko.call(e,a)||l&&("length"==a||i&&("offset"==a||"parent"==a)||r&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||_n(a,c))||s.push(a);return s}function Xo(e,t){return function(n){return e(t(n))}}var Jo=Xo(Object.keys,Object),Qo=Object.prototype.hasOwnProperty;function ei(e){if(!Lo(e))return Jo(e);var t=[];for(var n in Object(e))Qo.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ti(e){return ko(e)?Go(e):ei(e)}var ni=Object.prototype.hasOwnProperty,oi=Io((function(e,t){if(Lo(t)||ko(t))bo(t,ti(t),e);else for(var n in t)ni.call(t,n)&&yo(e,n,t[n])})),ii=oi;var ri=Object.prototype.hasOwnProperty;function li(e){if(!ct(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Lo(e),n=[];for(var o in e)("constructor"!=o||!t&&ri.call(e,o))&&n.push(o);return n}function si(e){return ko(e)?Go(e,!0):li(e)}var ci=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ai=/^\w*$/;var ui=Ft(Object,"create");var di=Object.prototype.hasOwnProperty;var fi=Object.prototype.hasOwnProperty;function hi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function pi(e,t){for(var n=e.length;n--;)if(go(e[n][0],t))return n;return-1}hi.prototype.clear=function(){this.__data__=ui?ui(null):{},this.size=0},hi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},hi.prototype.get=function(e){var t=this.__data__;if(ui){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return di.call(t,e)?t[e]:void 0},hi.prototype.has=function(e){var t=this.__data__;return ui?void 0!==t[e]:fi.call(t,e)},hi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ui&&void 0===t?"__lodash_hash_undefined__":t,this};var vi=Array.prototype.splice;function gi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}gi.prototype.clear=function(){this.__data__=[],this.size=0},gi.prototype.delete=function(e){var t=this.__data__,n=pi(t,e);return!(n<0)&&(n==t.length-1?t.pop():vi.call(t,n,1),--this.size,!0)},gi.prototype.get=function(e){var t=this.__data__,n=pi(t,e);return n<0?void 0:t[n][1]},gi.prototype.has=function(e){return pi(this.__data__,e)>-1},gi.prototype.set=function(e,t){var n=this.__data__,o=pi(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};var mi=Ft(_e,"Map");function yi(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function bi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}bi.prototype.clear=function(){this.size=0,this.__data__={hash:new hi,map:new(mi||gi),string:new hi}},bi.prototype.delete=function(e){var t=yi(this,e).delete(e);return this.size-=t?1:0,t},bi.prototype.get=function(e){return yi(this,e).get(e)},bi.prototype.has=function(e){return yi(this,e).has(e)},bi.prototype.set=function(e,t){var n=yi(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};var Ci="Expected a function";function wi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ci);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var l=e.apply(this,o);return n.cache=r.set(i,l)||r,l};return n.cache=new(wi.Cache||bi),n}wi.Cache=bi;var xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Si=/\\(\\)?/g,Ei=function(e){var t=wi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xi,(function(e,n,o,i){t.push(o?i.replace(Si,"$1"):n||e)})),t})),ki=Ei;function Di(e){return null==e?"":it(e)}function Ii(e,t){return et(e)?e:function(e,t){if(et(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Je(e))||ai.test(e)||!ci.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:ki(Di(e))}var Ni=1/0;function Li(e){if("string"==typeof e||Je(e))return e;var t=e+"";return"0"==t&&1/e==-Ni?"-0":t}function Ti(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}var Bi=je?je.isConcatSpreadable:void 0;function Ai(e){return et(e)||Ro(e)||!!(Bi&&e&&e[Bi])}function Mi(e,t,n,o,i){var r=-1,l=e.length;for(n||(n=Ai),i||(i=[]);++r<l;){var s=e[r];t>0&&n(s)?t>1?Mi(s,t-1,n,o,i):Ti(i,s):o||(i[i.length]=s)}return i}function Oi(e){return(null==e?0:e.length)?Mi(e,1):[]}var Ri=Xo(Object.getPrototypeOf,Object),Pi="[object Object]",Fi=Function.prototype,Hi=Object.prototype,_i=Fi.toString,ji=Hi.hasOwnProperty,Wi=_i.call(Object);function zi(e){if(!Ge(e)||Ke(e)!=Pi)return!1;var t=Ri(e);if(null===t)return!0;var n=ji.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_i.call(n)==Wi}function Vi(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(i);++o<i;)r[o]=e[o+t];return r}var $i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Zi(e){return $i.test(e)}var Ui="\\ud800-\\udfff",qi="["+Ui+"]",Yi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ki="\\ud83c[\\udffb-\\udfff]",Gi="[^"+Ui+"]",Xi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ji="[\\ud800-\\udbff][\\udc00-\\udfff]",Qi="(?:"+Yi+"|"+Ki+")"+"?",er="[\\ufe0e\\ufe0f]?",tr=er+Qi+("(?:\\u200d(?:"+[Gi,Xi,Ji].join("|")+")"+er+Qi+")*"),nr="(?:"+[Gi+Yi+"?",Yi,Xi,Ji,qi].join("|")+")",or=RegExp(Ki+"(?="+Ki+")|"+nr+tr,"g");function ir(e){return Zi(e)?function(e){return e.match(or)||[]}(e):function(e){return e.split("")}(e)}var rr,lr=(rr="toUpperCase",function(e){var t=Zi(e=Di(e))?ir(e):void 0,n=t?t[0]:e.charAt(0),o=t?function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:Vi(e,t,n)}(t,1).join(""):e.slice(1);return n[rr]()+o}),sr=lr;var cr,ar=(cr={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},function(e){return null==cr?void 0:cr[e]}),ur=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var fr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var hr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var pr="\\ud800-\\udfff",vr="\\u2700-\\u27bf",gr="a-z\\xdf-\\xf6\\xf8-\\xff",mr="A-Z\\xc0-\\xd6\\xd8-\\xde",yr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",br="["+yr+"]",Cr="\\d+",wr="["+vr+"]",xr="["+gr+"]",Sr="[^"+pr+yr+Cr+vr+gr+mr+"]",Er="(?:\\ud83c[\\udde6-\\uddff]){2}",kr="[\\ud800-\\udbff][\\udc00-\\udfff]",Dr="["+mr+"]",Ir="(?:"+xr+"|"+Sr+")",Nr="(?:"+Dr+"|"+Sr+")",Lr="(?:['](?:d|ll|m|re|s|t|ve))?",Tr="(?:['](?:D|LL|M|RE|S|T|VE))?",Br="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ar="[\\ufe0e\\ufe0f]?",Mr=Ar+Br+("(?:\\u200d(?:"+["[^"+pr+"]",Er,kr].join("|")+")"+Ar+Br+")*"),Or="(?:"+[wr,Er,kr].join("|")+")"+Mr,Rr=RegExp([Dr+"?"+xr+"+"+Lr+"(?="+[br,Dr,"$"].join("|")+")",Nr+"+"+Tr+"(?="+[br,Dr+Ir,"$"].join("|")+")",Dr+"?"+Ir+"+"+Lr,Dr+"+"+Tr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cr,Or].join("|"),"g");function Pr(e,t,n){return e=Di(e),void 0===(t=n?void 0:t)?function(e){return hr.test(e)}(e)?function(e){return e.match(Rr)||[]}(e):function(e){return e.match(fr)||[]}(e):e.match(t)||[]}var Fr=RegExp("[']","g");var Hr,_r=(Hr=function(e,t,n){return t=t.toLowerCase(),e+(n?sr(Di(t).toLowerCase()):t)},function(e){return function(e,t,n,o){var i=-1,r=null==e?0:e.length;for(o&&r&&(n=e[++i]);++i<r;)n=t(n,e[i],i,e);return n}(Pr(function(e){return(e=Di(e))&&e.replace(ur,ar).replace(dr,"")}(e).replace(Fr,"")),Hr,"")}),jr=_r,Wr=Math.ceil,zr=Math.max;function Vr(e,t,n){t=(n?Do(e,t,n):void 0===t)?1:zr(yt(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,r=0,l=Array(Wr(o/t));i<o;)l[r++]=Vi(e,i,i+=t);return l}function $r(e){var t=this.__data__=new gi(e);this.size=t.size}$r.prototype.clear=function(){this.__data__=new gi,this.size=0},$r.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$r.prototype.get=function(e){return this.__data__.get(e)},$r.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.set=function(e,t){var n=this.__data__;if(n instanceof gi){var o=n.__data__;if(!mi||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new bi(o)}return n.set(e,t),this.size=n.size,this};var Zr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ur=Zr&&"object"==typeof module&&module&&!module.nodeType&&module,qr=Ur&&Ur.exports===Zr?_e.Buffer:void 0,Yr=qr?qr.allocUnsafe:void 0;function Kr(e,t){if(t)return e.slice();var n=e.length,o=Yr?Yr(n):new e.constructor(n);return e.copy(o),o}function Gr(){return[]}var Xr=Object.prototype.propertyIsEnumerable,Jr=Object.getOwnPropertySymbols,Qr=Jr?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var l=e[n];t(l,n,e)&&(r[i++]=l)}return r}(Jr(e),(function(t){return Xr.call(e,t)})))}:Gr,el=Qr;var tl=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ti(t,el(e)),e=Ri(e);return t}:Gr,nl=tl;function ol(e,t,n){var o=t(e);return et(e)?o:Ti(o,n(e))}function il(e){return ol(e,ti,el)}function rl(e){return ol(e,si,nl)}var ll=Ft(_e,"DataView"),sl=Ft(_e,"Promise"),cl=Ft(_e,"Set"),al="[object Map]",ul="[object Promise]",dl="[object Set]",fl="[object WeakMap]",hl="[object DataView]",pl=Lt(ll),vl=Lt(mi),gl=Lt(sl),ml=Lt(cl),yl=Lt(Ht),bl=Ke;(ll&&bl(new ll(new ArrayBuffer(1)))!=hl||mi&&bl(new mi)!=al||sl&&bl(sl.resolve())!=ul||cl&&bl(new cl)!=dl||Ht&&bl(new Ht)!=fl)&&(bl=function(e){var t=Ke(e),n="[object Object]"==t?e.constructor:void 0,o=n?Lt(n):"";if(o)switch(o){case pl:return hl;case vl:return al;case gl:return ul;case ml:return dl;case yl:return fl}return t});var Cl=bl,wl=Object.prototype.hasOwnProperty;var xl=_e.Uint8Array;function Sl(e){var t=new e.constructor(e.byteLength);return new xl(t).set(new xl(e)),t}var El=/\w*$/;var kl=je?je.prototype:void 0,Dl=kl?kl.valueOf:void 0;function Il(e,t){var n=t?Sl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Nl="[object Boolean]",Ll="[object Date]",Tl="[object Map]",Bl="[object Number]",Al="[object RegExp]",Ml="[object Set]",Ol="[object String]",Rl="[object Symbol]",Pl="[object ArrayBuffer]",Fl="[object DataView]",Hl="[object Float32Array]",_l="[object Float64Array]",jl="[object Int8Array]",Wl="[object Int16Array]",zl="[object Int32Array]",Vl="[object Uint8Array]",$l="[object Uint8ClampedArray]",Zl="[object Uint16Array]",Ul="[object Uint32Array]";function ql(e,t,n){var o,i,r,l=e.constructor;switch(t){case Pl:return Sl(e);case Nl:case Ll:return new l(+e);case Fl:return function(e,t){var n=t?Sl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Hl:case _l:case jl:case Wl:case zl:case Vl:case $l:case Zl:case Ul:return Il(e,n);case Tl:return new l;case Bl:case Ol:return new l(e);case Al:return(r=new(i=e).constructor(i.source,El.exec(i))).lastIndex=i.lastIndex,r;case Ml:return new l;case Rl:return o=e,Dl?Object(Dl.call(o)):{}}}function Yl(e){return"function"!=typeof e.constructor||Lo(e)?{}:$t(Ri(e))}var Kl=Zo&&Zo.isMap,Gl=Kl?Wo(Kl):function(e){return Ge(e)&&"[object Map]"==Cl(e)},Xl=Gl;var Jl=Zo&&Zo.isSet,Ql=Jl?Wo(Jl):function(e){return Ge(e)&&"[object Set]"==Cl(e)},es=Ql,ts=1,ns=2,os=4,is="[object Arguments]",rs="[object Function]",ls="[object GeneratorFunction]",ss="[object Object]",cs={};function as(e,t,n,o,i,r){var l,s=t&ts,c=t&ns,a=t&os;if(n&&(l=i?n(e,o,i,r):n(e)),void 0!==l)return l;if(!ct(e))return e;var u=et(e);if(u){if(l=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&wl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return cn(e,l)}else{var d=Cl(e),f=d==rs||d==ls;if(_o(e))return Kr(e,s);if(d==ss||d==is||f&&!i){if(l=c||f?{}:Yl(e),!s)return c?function(e,t){return bo(e,nl(e),t)}(e,function(e,t){return e&&bo(t,si(t),e)}(l,e)):function(e,t){return bo(e,el(e),t)}(e,function(e,t){return e&&bo(t,ti(t),e)}(l,e))}else{if(!cs[d])return i?e:{};l=ql(e,d,s)}}r||(r=new $r);var h=r.get(e);if(h)return h;r.set(e,l),es(e)?e.forEach((function(o){l.add(as(o,t,n,o,e,r))})):Xl(e)&&e.forEach((function(o,i){l.set(i,as(o,t,n,i,e,r))}));var p=u?void 0:(a?c?rl:il:c?si:ti)(e);return Sn(p||e,(function(o,i){p&&(o=e[i=o]),yo(l,i,as(o,t,n,i,e,r))})),l}cs[is]=cs["[object Array]"]=cs["[object ArrayBuffer]"]=cs["[object DataView]"]=cs["[object Boolean]"]=cs["[object Date]"]=cs["[object Float32Array]"]=cs["[object Float64Array]"]=cs["[object Int8Array]"]=cs["[object Int16Array]"]=cs["[object Int32Array]"]=cs["[object Map]"]=cs["[object Number]"]=cs[ss]=cs["[object RegExp]"]=cs["[object Set]"]=cs["[object String]"]=cs["[object Symbol]"]=cs["[object Uint8Array]"]=cs["[object Uint8ClampedArray]"]=cs["[object Uint16Array]"]=cs["[object Uint32Array]"]=!0,cs["[object Error]"]=cs[rs]=cs["[object WeakMap]"]=!1;var us=4;function ds(e){return as(e,us)}var fs=1,hs=4;function ps(e){return as(e,fs|hs)}function vs(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new bi;++t<n;)this.add(e[t])}function gs(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function ms(e,t){return e.has(t)}vs.prototype.add=vs.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},vs.prototype.has=function(e){return this.__data__.has(e)};var ys=1,bs=2;function Cs(e,t,n,o,i,r){var l=n&ys,s=e.length,c=t.length;if(s!=c&&!(l&&c>s))return!1;var a=r.get(e),u=r.get(t);if(a&&u)return a==t&&u==e;var d=-1,f=!0,h=n&bs?new vs:void 0;for(r.set(e,t),r.set(t,e);++d<s;){var p=e[d],v=t[d];if(o)var g=l?o(v,p,d,t,e,r):o(p,v,d,e,t,r);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!gs(t,(function(e,t){if(!ms(h,t)&&(p===e||i(p,e,n,o,r)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,o,r)){f=!1;break}}return r.delete(e),r.delete(t),f}function ws(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function xs(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ss=1,Es=2,ks="[object Boolean]",Ds="[object Date]",Is="[object Error]",Ns="[object Map]",Ls="[object Number]",Ts="[object RegExp]",Bs="[object Set]",As="[object String]",Ms="[object Symbol]",Os="[object ArrayBuffer]",Rs="[object DataView]",Ps=je?je.prototype:void 0,Fs=Ps?Ps.valueOf:void 0;var Hs=1,_s=Object.prototype.hasOwnProperty;var js=1,Ws="[object Arguments]",zs="[object Array]",Vs="[object Object]",$s=Object.prototype.hasOwnProperty;function Zs(e,t,n,o,i,r){var l=et(e),s=et(t),c=l?zs:Cl(e),a=s?zs:Cl(t),u=(c=c==Ws?Vs:c)==Vs,d=(a=a==Ws?Vs:a)==Vs,f=c==a;if(f&&_o(e)){if(!_o(t))return!1;l=!0,u=!1}if(f&&!u)return r||(r=new $r),l||Yo(e)?Cs(e,t,n,o,i,r):function(e,t,n,o,i,r,l){switch(n){case Rs:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Os:return!(e.byteLength!=t.byteLength||!r(new xl(e),new xl(t)));case ks:case Ds:case Ls:return go(+e,+t);case Is:return e.name==t.name&&e.message==t.message;case Ts:case As:return e==t+"";case Ns:var s=ws;case Bs:var c=o&Ss;if(s||(s=xs),e.size!=t.size&&!c)return!1;var a=l.get(e);if(a)return a==t;o|=Es,l.set(e,t);var u=Cs(s(e),s(t),o,i,r,l);return l.delete(e),u;case Ms:if(Fs)return Fs.call(e)==Fs.call(t)}return!1}(e,t,c,n,o,i,r);if(!(n&js)){var h=u&&$s.call(e,"__wrapped__"),p=d&&$s.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return r||(r=new $r),i(v,g,n,o,r)}}return!!f&&(r||(r=new $r),function(e,t,n,o,i,r){var l=n&Hs,s=il(e),c=s.length;if(c!=il(t).length&&!l)return!1;for(var a=c;a--;){var u=s[a];if(!(l?u in t:_s.call(t,u)))return!1}var d=r.get(e),f=r.get(t);if(d&&f)return d==t&&f==e;var h=!0;r.set(e,t),r.set(t,e);for(var p=l;++a<c;){var v=e[u=s[a]],g=t[u];if(o)var m=l?o(g,v,u,t,e,r):o(v,g,u,e,t,r);if(!(void 0===m?v===g||i(v,g,n,o,r):m)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,n,o,i,r))}function Us(e,t,n,o,i){return e===t||(null==e||null==t||!Ge(e)&&!Ge(t)?e!=e&&t!=t:Zs(e,t,n,o,Us,i))}var qs,Ys=function(e,t,n){for(var o=-1,i=Object(e),r=n(e),l=r.length;l--;){var s=r[qs?l:++o];if(!1===t(i[s],s,i))break}return e},Ks=Ys;var Gs=8;function Xs(e,t,n){var o=po(e,Gs,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=Xs.placeholder,o}Xs.placeholder={};var Js=function(){return _e.Date.now()},Qs="Expected a function",ec=Math.max,tc=Math.min;function nc(e,t,n){var o,i,r,l,s,c,a=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(Qs);function h(t){var n=o,r=i;return o=i=void 0,a=t,l=e.apply(r,n)}function p(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-a>=r}function v(){var e=Js();if(p(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-c);return d?tc(n,r-(e-a)):n}(e))}function g(e){return s=void 0,f&&o?h(e):(o=i=void 0,l)}function m(){var e=Js(),n=p(e);if(o=arguments,i=this,c=e,n){if(void 0===s)return function(e){return a=e,s=setTimeout(v,t),u?h(e):l}(c);if(d)return clearTimeout(s),s=setTimeout(v,t),h(c)}return void 0===s&&(s=setTimeout(v,t)),l}return t=pt(t)||0,ct(n)&&(u=!!n.leading,r=(d="maxWait"in n)?ec(pt(n.maxWait)||0,t):r,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),a=0,o=c=i=s=void 0},m.flush=function(){return void 0===s?l:g(Js())},m}function oc(e,t,n){(void 0!==n&&!go(e[t],n)||void 0===n&&!(t in e))&&vo(e,t,n)}function ic(e){return Ge(e)&&ko(e)}function rc(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function lc(e,t,n,o,i,r,l){var s=rc(e,n),c=rc(t,n),a=l.get(c);if(a)oc(e,n,a);else{var u=r?r(s,c,n+"",e,t,l):void 0,d=void 0===u;if(d){var f=et(c),h=!f&&_o(c),p=!f&&!h&&Yo(c);u=c,f||h||p?et(s)?u=s:ic(s)?u=cn(s):h?(d=!1,u=Kr(c,!0)):p?(d=!1,u=Il(c,!0)):u=[]:zi(c)||Ro(c)?(u=s,Ro(s)?u=function(e){return bo(e,si(e))}(s):ct(s)&&!Et(s)||(u=Yl(c))):d=!1}d&&(l.set(c,u),i(u,c,o,r,l),l.delete(c)),oc(e,n,u)}}function sc(e,t,n,o,i){e!==t&&Ks(t,(function(r,l){if(i||(i=new $r),ct(r))lc(e,t,l,n,sc,o,i);else{var s=o?o(rc(e,l),r,l+"",e,t,i):void 0;void 0===s&&(s=r),oc(e,l,s)}}),si)}function cc(e,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}var ac=xo((function(e,t){return ic(e)?function(e,t,n,o){var i=-1,r=Dn,l=!0,s=e.length,c=[],a=t.length;if(!s)return c;n&&(t=Qe(t,Wo(n))),o?(r=cc,l=!1):t.length>=200&&(r=ms,l=!1,t=new vs(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=o||0!==u?u:0,l&&d==d){for(var f=a;f--;)if(t[f]===d)continue e;c.push(u)}else r(t,d,o)||c.push(u)}return c}(e,Mi(t,1,ic,!0)):[]})),uc=ac;function dc(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function fc(e,t,n){var o=null==e?0:e.length;return o?Vi(e,(t=n||void 0===t?1:yt(t))<0?0:t,o):[]}function hc(e,t,n){var o=null==e?0:e.length;return o?Vi(e,0,(t=o-(t=n||void 0===t?1:yt(t)))<0?0:t):[]}function pc(e){return e&&e.length?e[0]:void 0}function vc(e){return(null==e?0:e.length)?Mi(e,Infinity):[]}var gc=Object.prototype.hasOwnProperty;function mc(e,t){return null!=e&&gc.call(e,t)}function yc(e,t){return null!=e&&function(e,t,n){for(var o=-1,i=(t=Ii(t,e)).length,r=!1;++o<i;){var l=Li(t[o]);if(!(r=null!=e&&n(e,l)))break;e=e[l]}return r||++o!=i?r:!!(i=null==e?0:e.length)&&Eo(i)&&_n(l,i)&&(et(e)||Ro(e))}(e,t,mc)}var bc="[object String]";function Cc(e){return"string"==typeof e||!et(e)&&Ge(e)&&Ke(e)==bc}function wc(e,t,n,o){return function(e,t){e&&Ks(e,t,ti)}(e,(function(e,i,r){t(o,n(e),i,r)})),o}var xc,Sc,Ec=Object.prototype.toString,kc=(xc=function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ec.call(t)),e[t]=n},Sc=yn(bt),function(e,t){return wc(e,xc,Sc(t),{})}),Dc=kc;function Ic(e,t){return t.length<2?e:function(e,t){for(var n=0,o=(t=Ii(t,e)).length;null!=e&&n<o;)e=e[Li(t[n++])];return n&&n==o?e:void 0}(e,Vi(t,0,-1))}var Nc=Zo&&Zo.isArrayBuffer,Lc=Nc?Wo(Nc):function(e){return Ge(e)&&"[object ArrayBuffer]"==Ke(e)},Tc=Lc,Bc="[object Boolean]";function Ac(e){return!0===e||!1===e||Ge(e)&&Ke(e)==Bc}var Mc="[object Map]",Oc="[object Set]",Rc=Object.prototype.hasOwnProperty;function Pc(e){if(null==e)return!0;if(ko(e)&&(et(e)||"string"==typeof e||"function"==typeof e.splice||_o(e)||Yo(e)||Ro(e)))return!e.length;var t=Cl(e);if(t==Mc||t==Oc)return!e.size;if(Lo(e))return!ei(e).length;for(var n in e)if(Rc.call(e,n))return!1;return!0}function Fc(e,t){return Us(e,t)}var Hc="[object Number]";function _c(e){return"number"==typeof e||Ge(e)&&Ke(e)==Hc}function jc(e){return _c(e)&&e!=+e}function Wc(e){return null===e}function zc(e){return void 0===e}var Vc=Io((function(e,t,n){sc(e,t,n)})),$c=Vc;function Zc(e,t){return null==(e=Ic(e,t=Ii(t,e)))||delete e[Li(dc(t))]}function Uc(e){return zi(e)?void 0:e}var qc,Yc=(qc=function(e,t){var n={};if(null==e)return n;var o=!1;t=Qe(t,(function(t){return t=Ii(t,e),o||(o=t.length>1),t})),bo(e,rl(e),n),o&&(n=as(n,7,Uc));for(var i=t.length;i--;)Zc(n,t[i]);return n},xn(wo(qc,void 0,Oi),qc+"")),Kc=Yc;function Gc(e,t,n,o){for(var i=n-1,r=e.length;++i<r;)if(o(e[i],t))return i;return-1}var Xc=Array.prototype.splice;function Jc(e,t){return e&&e.length&&t&&t.length?function(e,t,n,o){var i=o?Gc:kn,r=-1,l=t.length,s=e;for(e===t&&(t=cn(t)),n&&(s=Qe(e,Wo(n)));++r<l;)for(var c=0,a=t[r],u=n?n(a):a;(c=i(s,u,c,o))>-1;)s!==e&&Xc.call(s,c,1),Xc.call(e,c,1);return e}(e,t):e}function Qc(e){return e&&e.length?function(e,t){for(var n,o=-1,i=e.length;++o<i;){var r=t(e[o]);void 0!==r&&(n=void 0===n?r:n+r)}return n}(e,bt):0}var ea="Expected a function";function ta(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(ea);return ct(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),nc(e,t,{leading:o,maxWait:t,trailing:i})}var na=cl&&1/xs(new cl([,-0]))[1]==1/0?function(e){return new cl(e)}:tn,oa=200;function ia(e){return e&&e.length?function(e,t,n){var o=-1,i=Dn,r=e.length,l=!0,s=[],c=s;if(n)l=!1,i=cc;else if(r>=oa){var a=t?null:na(e);if(a)return xs(a);l=!1,i=ms,c=new vs}else c=t?[]:s;e:for(;++o<r;){var u=e[o],d=t?t(u):u;if(u=n||0!==u?u:0,l&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}(e):[]}var ra=function(e,t){return ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ra(e,t)};function la(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ra(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function sa(e,t,n,o){return new(n||(n=Promise))((function(i,r){function l(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(l,s)}c((o=o.apply(e,t||[])).next())}))}function ca(e,t){var n,o,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(l=0)),l;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return l.label++,{value:s[1],done:!1};case 5:l.label++,o=s[1],s=[0];continue;case 7:s=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){l=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){l.label=s[1];break}if(6===s[0]&&l.label<i[1]){l.label=i[1],i=s;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(s);break}i[2]&&l.ops.pop(),l.trys.pop();continue}s=t.call(e,l)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function aa(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ua(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)l.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return l}function da(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function fa(e){return this instanceof fa?(this.v=e,this):new fa(e)}function ha(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),r=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(e){i[e]&&(o[e]=function(t){return new Promise((function(n,o){r.push([e,t,n,o])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof fa?Promise.resolve(n.value.v).then(c,a):u(r[0][2],n)}catch(e){u(r[0][3],e)}var n}function c(e){s("next",e)}function a(e){s("throw",e)}function u(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function pa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=aa(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,i){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,i,(t=e[n](t)).done,t.value)}))}}}function va(e){return"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var ga,ma,ya=(ga=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},(ma=ga((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),ma.prototype.constructor=ma,ma);function ba(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ca=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,o,i;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var l=aa(r),s=l.next();!s.done;s=l.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else r.remove(this);var c=this.initialTeardown;if(va(c))try{c()}catch(e){i=e instanceof ya?e.errors:[e]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var u=aa(a),d=u.next();!d.done;d=u.next()){var f=d.value;try{xa(f)}catch(e){i=null!=i?i:[],e instanceof ya?i=da(da([],ua(i)),ua(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}if(i)throw new ya(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)xa(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&ba(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&ba(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function wa(e){return e instanceof Ca||e&&"closed"in e&&va(e.remove)&&va(e.add)&&va(e.unsubscribe)}function xa(e){va(e)?e():e.unsubscribe()}Ca.EMPTY;var Sa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ea={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=Ea.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,da([e,t],ua(n))):setTimeout.apply(void 0,da([e,t],ua(n)))},clearTimeout:function(e){var t=Ea.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ka(e){Ea.setTimeout((function(){throw e}))}function Da(){}var Ia=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,wa(t)&&t.add(n)):n.destination=Ma,n}return la(t,e),t.create=function(e,t,n){return new Ba(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ca),Na=Function.prototype.bind;function La(e,t){return Na.call(e,t)}var Ta=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Aa(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Aa(e)}else Aa(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Aa(e)}},e}(),Ba=function(e){function t(t,n,o){var i,r,l=e.call(this)||this;va(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=o?o:void 0}:l&&Sa.useDeprecatedNextContext?((r=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&La(t.next,r),error:t.error&&La(t.error,r),complete:t.complete&&La(t.complete,r)}):i=t;return l.destination=new Ta(i),l}return la(t,e),t}(Ia);function Aa(e){ka(e)}var Ma={closed:!0,next:Da,error:function(e){throw e},complete:Da},Oa="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ra(e){return e}var Pa=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,i=this,r=function(e){return e&&e instanceof Ia||function(e){return e&&va(e.next)&&va(e.error)&&va(e.complete)}(e)&&wa(e)}(e)?e:new Ba(e,t,n);return o=function(){var e=i,t=e.operator,n=e.source;r.add(t?t.call(r,n):n?i._subscribe(r):i._trySubscribe(r))},o(),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Fa(t))((function(t,o){var i=new Ba({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Oa]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?Ra:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Fa(e))((function(e,n){var o;t.subscribe((function(e){return o=e}),(function(e){return n(e)}),(function(){return e(o)}))}))},e.create=function(t){return new e(t)},e}();function Fa(e){var t;return null!==(t=null!=e?e:Sa.Promise)&&void 0!==t?t:Promise}function Ha(e){return function(t){if(function(e){return va(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function _a(e,t,n,o,i){return new ja(e,t,n,o,i)}var ja=function(e){function t(t,n,o,i,r,l){var s=e.call(this,t)||this;return s.onFinalize=r,s.shouldUnsubscribe=l,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=o?function(){try{o()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return la(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Ia),Wa={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,o=Wa.delegate;o&&(t=o.requestAnimationFrame,n=o.cancelAnimationFrame);var i=t((function(t){n=void 0,e(t)}));return new Ca((function(){return null==n?void 0:n(i)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wa.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,da([],ua(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wa.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,da([],ua(e)))},delegate:void 0},za={now:function(){return(za.delegate||Date).now()},delegate:void 0},Va=function(e){function t(t,n){return e.call(this)||this}return la(t,e),t.prototype.schedule=function(e,t){return this},t}(Ca),$a={setInterval:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=$a.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,da([e,t],ua(n))):setInterval.apply(void 0,da([e,t],ua(n)))},clearInterval:function(e){var t=$a.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Za=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return la(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),$a.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&$a.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,o=!1;try{this.work(e)}catch(e){o=!0,n=e||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,o=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ba(o,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Va),Ua=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=za.now,e}(),qa=function(e){function t(t,n){void 0===n&&(n=Ua.now);var o=e.call(this,t,n)||this;return o.actions=[],o._active=!1,o}return la(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Ua),Ya=new qa(Za),Ka=Ya,Ga=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o}return la(t,e),t.prototype.requestAsyncId=function(t,n,o){return void 0===o&&(o=0),null!==o&&o>0?e.prototype.requestAsyncId.call(this,t,n,o):(t.actions.push(this),t._scheduled||(t._scheduled=Wa.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,n,o){var i;if(void 0===o&&(o=0),null!=o?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,o);var r=t.actions;null!=n&&(null===(i=r[r.length-1])||void 0===i?void 0:i.id)!==n&&(Wa.cancelAnimationFrame(n),t._scheduled=void 0)},t}(Za),Xa=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return la(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,o=this.actions;e=e||o.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,n){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw n}},t}(qa))(Ga),Ja=new Pa((function(e){return e.complete()}));function Qa(e){return e&&va(e.schedule)}function eu(e){return e[e.length-1]}function tu(e){return Qa(eu(e))?e.pop():void 0}var nu=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ou(e){return va(null==e?void 0:e.then)}function iu(e){return va(e[Oa])}function ru(e){return Symbol.asyncIterator&&va(null==e?void 0:e[Symbol.asyncIterator])}function lu(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var su="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function cu(e){return va(null==e?void 0:e[su])}function au(e){return ha(this,arguments,(function(){var t,n,o;return ca(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,fa(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,fa(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,fa(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function uu(e){return va(null==e?void 0:e.getReader)}function du(e){if(e instanceof Pa)return e;if(null!=e){if(iu(e))return i=e,new Pa((function(e){var t=i[Oa]();if(va(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(nu(e))return o=e,new Pa((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(ou(e))return n=e,new Pa((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,ka)}));if(ru(e))return fu(e);if(cu(e))return t=e,new Pa((function(e){var n,o;try{for(var i=aa(t),r=i.next();!r.done;r=i.next()){var l=r.value;if(e.next(l),e.closed)return}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e.complete()}));if(uu(e))return fu(au(e))}var t,n,o,i;throw lu(e)}function fu(e){return new Pa((function(t){(function(e,t){var n,o,i,r;return sa(this,void 0,void 0,(function(){var l,s;return ca(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=pa(e),c.label=1;case 1:return[4,n.next()];case 2:if((o=c.sent()).done)return[3,4];if(l=o.value,t.next(l),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),o&&!o.done&&(r=n.return)?[4,r.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function hu(e,t,n,o,i){void 0===o&&(o=0),void 0===i&&(i=!1);var r=t.schedule((function(){n(),i?e.add(this.schedule(null,o)):this.unsubscribe()}),o);if(e.add(r),!i)return r}function pu(e,t){return void 0===t&&(t=0),Ha((function(n,o){n.subscribe(_a(o,(function(n){return hu(o,e,(function(){return o.next(n)}),t)}),(function(){return hu(o,e,(function(){return o.complete()}),t)}),(function(n){return hu(o,e,(function(){return o.error(n)}),t)})))}))}function vu(e,t){return void 0===t&&(t=0),Ha((function(n,o){o.add(e.schedule((function(){return n.subscribe(o)}),t))}))}function gu(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pa((function(n){hu(n,t,(function(){var o=e[Symbol.asyncIterator]();hu(n,t,(function(){o.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function mu(e,t){if(null!=e){if(iu(e))return function(e,t){return du(e).pipe(vu(t),pu(t))}(e,t);if(nu(e))return function(e,t){return new Pa((function(n){var o=0;return t.schedule((function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())}))}))}(e,t);if(ou(e))return function(e,t){return du(e).pipe(vu(t),pu(t))}(e,t);if(ru(e))return gu(e,t);if(cu(e))return function(e,t){return new Pa((function(n){var o;return hu(n,t,(function(){o=e[su](),hu(n,t,(function(){var e,t,i;try{t=(e=o.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return va(null==o?void 0:o.return)&&o.return()}}))}(e,t);if(uu(e))return function(e,t){return gu(au(e),t)}(e,t)}throw lu(e)}function yu(e,t){return t?mu(e,t):du(e)}function bu(e,t){return Ha((function(n,o){var i=0;n.subscribe(_a(o,(function(n){o.next(e.call(t,n,i++))})))}))}var Cu=Array.isArray;function wu(e){return bu((function(t){return function(e,t){return Cu(t)?e.apply(void 0,da([],ua(t))):e(t)}(e,t)}))}function xu(e,t,n){return void 0===n&&(n=1/0),va(t)?xu((function(n,o){return bu((function(e,i){return t(n,e,o,i)}))(du(e(n,o)))}),n):("number"==typeof t&&(n=t),Ha((function(t,o){return function(e,t,n,o,i,r,l,s){var c=[],a=0,u=0,d=!1,f=function(){!d||c.length||a||t.complete()},h=function(e){return a<o?p(e):c.push(e)},p=function(e){r&&t.next(e),a++;var s=!1;du(n(e,u++)).subscribe(_a(t,(function(e){null==i||i(e),r?h(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{a--;for(var e=function(){var e=c.shift();l?hu(t,l,(function(){return p(e)})):p(e)};c.length&&a<o;)e();f()}catch(e){t.error(e)}})))};return e.subscribe(_a(t,h,(function(){d=!0,f()}))),function(){null==s||s()}}(t,o,e,n)})))}function Su(e){return void 0===e&&(e=1/0),xu(Ra,e)}function Eu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Su(1)(yu(e,tu(e)))}var ku=["addListener","removeListener"],Du=["addEventListener","removeEventListener"],Iu=["on","off"];function Nu(e,t,n,o){if(va(n)&&(o=n,n=void 0),o)return Nu(e,t,n).pipe(wu(o));var i=ua(function(e){return va(e.addEventListener)&&va(e.removeEventListener)}(e)?Du.map((function(o){return function(i){return e[o](t,i,n)}})):function(e){return va(e.addListener)&&va(e.removeListener)}(e)?ku.map(Lu(e,t)):function(e){return va(e.on)&&va(e.off)}(e)?Iu.map(Lu(e,t)):[],2),r=i[0],l=i[1];if(!r&&nu(e))return xu((function(e){return Nu(e,t,n)}))(du(e));if(!r)throw new TypeError("Invalid event target");return new Pa((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return r(t),function(){return l(t)}}))}function Lu(e,t){return function(n){return function(o){return e[n](t,o)}}}function Tu(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Ka);var o=-1;return null!=t&&(Qa(t)?n=t:o=t),new Pa((function(t){var i=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);var r=0;return n.schedule((function(){t.closed||(t.next(r++),0<=o?this.schedule(void 0,o):t.complete())}),i)}))}function Bu(e,t){return void 0===e&&(e=0),void 0===t&&(t=Ya),e<0&&(e=0),Tu(e,e,t)}function Au(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=tu(e),o=function(e,t){return"number"==typeof eu(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?du(i[0]):Su(o)(yu(i,n)):Ja}var Mu=Array.isArray;function Ou(e,t){return Ha((function(n,o){var i=0;n.subscribe(_a(o,(function(n){return e.call(t,n,i++)&&o.next(n)})))}))}function Ru(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return va(eu(e))?e.pop():void 0}(e),o=function(e){return 1===e.length&&Mu(e[0])?e[0]:e}(e);return o.length?new Pa((function(e){var t=o.map((function(){return[]})),i=o.map((function(){return!1}));e.add((function(){t=i=null}));for(var r=function(r){du(o[r]).subscribe(_a(e,(function(o){if(t[r].push(o),t.every((function(e){return e.length}))){var l=t.map((function(e){return e.shift()}));e.next(n?n.apply(void 0,da([],ua(l))):l),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[r]=!0,!t[r].length&&e.complete()})))},l=0;!e.closed&&l<o.length;l++)r(l);return function(){t=i=null}})):Ja}function Pu(e,t){return void 0===t&&(t=Ya),Ha((function(n,o){var i=null,r=null,l=null,s=function(){if(i){i.unsubscribe(),i=null;var e=r;r=null,o.next(e)}};function c(){var n=l+e,r=t.now();if(r<n)return i=this.schedule(void 0,n-r),void o.add(i);s()}n.subscribe(_a(o,(function(n){r=n,l=t.now(),i||(i=t.schedule(c,e),o.add(i))}),(function(){s(),o.complete()}),void 0,(function(){r=i=null})))}))}function Fu(e){return e<=0?function(){return Ja}:Ha((function(t,n){var o=0;t.subscribe(_a(n,(function(t){++o<=e&&(n.next(t),e<=o&&n.complete())})))}))}function Hu(e,t){return t?function(n){return Eu(t.pipe(Fu(1),Ha((function(e,t){e.subscribe(_a(t,Da))}))),n.pipe(Hu(e)))}:xu((function(t,n){return du(e(t,n)).pipe(Fu(1),function(e){return bu((function(){return e}))}(t))}))}function _u(e,t){void 0===t&&(t=Ya);var n=Tu(e,t);return Hu((function(){return n}))}function ju(e,t){return Ha((function(n,o){var i=null,r=0,l=!1,s=function(){return l&&!i&&o.complete()};n.subscribe(_a(o,(function(n){null==i||i.unsubscribe();var l=0,c=r++;du(e(n,c)).subscribe(i=_a(o,(function(e){return o.next(t?t(n,e,c,l++):e)}),(function(){i=null,s()})))}),(function(){l=!0,s()})))}))}function Wu(e){return Ha((function(t,n){du(e).subscribe(_a(n,(function(){return n.complete()}),Da)),!n.closed&&t.subscribe(n)}))}function zu(e,t,n){void 0===t&&(t=Ya);var o=Tu(e,t);return function(e,t){return Ha((function(n,o){var i=null!=t?t:{},r=i.leading,l=void 0===r||r,s=i.trailing,c=void 0!==s&&s,a=!1,u=null,d=null,f=!1,h=function(){null==d||d.unsubscribe(),d=null,c&&(g(),f&&o.complete())},p=function(){d=null,f&&o.complete()},v=function(t){return d=du(e(t)).subscribe(_a(o,h,p))},g=function(){if(a){a=!1;var e=u;u=null,o.next(e),!f&&v(e)}};n.subscribe(_a(o,(function(e){a=!0,u=e,(!d||d.closed)&&(l?g():v(e))}),(function(){f=!0,(!(c&&a&&d)||d.closed)&&o.complete()})))}))}((function(){return o}),n)}const Vu=Symbol.for("immer-pro-nothing"),$u=Symbol.for("immer-pro-draftable"),Zu=Symbol.for("immer-pro-state"),Uu=Symbol.for("immer-pro-nodraft");function qu(e,...t){throw new Error(`[Immer Pro] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}const Yu=Object.getPrototypeOf;function Ku(e){return!!e&&!!e[Zu]}function Gu(e){return!!e&&!!e[Uu]}function Xu(e){var t;return!!e&&(Qu(e)||Array.isArray(e)||!!e[$u]||!!(null===(t=e.constructor)||void 0===t?void 0:t[$u])||rd(e)||ld(e))}const Ju=Object.prototype.constructor.toString();function Qu(e){if(!e||"object"!=typeof e)return!1;const t=Yu(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ju}function ed(e){return Ku(e)||qu(15),e[Zu].base_}function td(e,t){0===nd(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,o)=>t(o,n,e)))}function nd(e){const t=e[Zu];return t?t.type_:Array.isArray(e)?1:rd(e)?2:ld(e)?3:0}function od(e,t){return 2===nd(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function id(e,t,n){const o=nd(e);2===o?e.set(t,n):3===o?e.add(n):e[t]=n}function rd(e){return e instanceof Map}function ld(e){return e instanceof Set}function sd(e){return e.copy_||e.base_}function cd(e,t){if(rd(e))return new Map(e);if(ld(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Qu(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Zu];let n=Reflect.ownKeys(t);for(let o=0;o<n.length;o++){const i=n[o],r=t[i];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[i]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[i]})}return Object.create(Yu(e),t)}{const t=Yu(e);if(null!==t&&n)return{...e};const o=Object.create(t);return Object.assign(o,e)}}function ad(e,t=!1){return fd(e)||Ku(e)||Gu(e)||!Xu(e)||(nd(e)>1&&(e.set=e.add=e.clear=e.delete=dd),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>ad(t,!0)))),e}function ud(e){return Ku(e)||Gu(e)||!Xu(e)||(e[Uu]=!0),e}function dd(){qu(2)}function fd(e){return Object.isFrozen(e)}const hd={};function pd(e){const t=hd[e];return t||qu(0),t}let vd;function gd(){return vd}function md(e,t){t&&(pd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yd(e){bd(e),e.drafts_.forEach(wd),e.drafts_=null}function bd(e){e===vd&&(vd=e.parent_)}function Cd(e){return vd={drafts_:[],parent_:vd,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wd(e){const t=e[Zu];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function xd(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Zu].modified_&&(yd(t),qu(4)),Xu(e)&&(e=Sd(t,e),t.parent_||kd(t,e)),t.patches_&&pd("Patches").generateReplacementPatches_(n[Zu].base_,e,t.patches_,t.inversePatches_)):e=Sd(t,n,[]),yd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vu?e:void 0}function Sd(e,t,n){if(fd(t))return t;const o=t[Zu];if(!o)return td(t,((i,r)=>Ed(e,o,t,i,r,n))),t;if(o.scope_!==e)return t;if(!o.modified_)return kd(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const t=o.copy_;let i=t,r=!1;if(3===o.type_&&(i=new Set(t),t.clear(),r=!0),Array.isArray(i)&&o.ranges_&&!o.norange_){const l=o.ranges_;for(const[s,c]of l)for(let l=s;l<=c;l++){const s=i[l];Ed(e,o,t,l,s,n,r)}}else td(i,((i,l)=>Ed(e,o,t,i,l,n,r)));kd(e,t,!1),n&&e.patches_&&pd("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function Ed(e,t,n,o,i,r,l){if(Ku(i)){const l=Sd(e,i,r&&t&&3!==t.type_&&!od(t.assigned_,o)?r.concat(o):void 0);if(id(n,o,l),!Ku(l))return;e.canAutoFreeze_=!1}else l&&n.add(i);if(Xu(i)&&!fd(i)&&!Gu(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Sd(e,i),t&&t.scope_.parent_||"symbol"==typeof o||!Object.prototype.propertyIsEnumerable.call(n,o)||kd(e,i)}}function kd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ad(t,n)}const Dd={get(e,t){if(t===Zu)return e;const n=sd(e);if(!od(n,t))return function(e,t,n){var o;const i=Ld(t,n);return i?"value"in i?i.value:null===(o=i.get)||void 0===o?void 0:o.call(e.draft_):void 0}(e,n,t);const o=n[t];return e.finalized_||!Xu(o)?o:o===Nd(e.base_,t)?(Bd(e),e.copy_[t]=Ad(o,e)):o},has:(e,t)=>t in sd(e),ownKeys:e=>Reflect.ownKeys(sd(e)),set(e,t,n){const o=Ld(sd(e),t);if(null==o?void 0:o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){const o=Nd(sd(e),t),i=null==o?void 0:o[Zu];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||od(e.base_,t)))return!0;Bd(e),Td(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Nd(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Bd(e),Td(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=sd(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:o.enumerable,value:n[t]}:o},defineProperty(){qu(11)},getPrototypeOf:e=>Yu(e.base_),setPrototypeOf(){qu(12)}},Id={};function Nd(e,t){const n=e[Zu];return(n?sd(n):e)[t]}function Ld(e,t){if(!(t in e))return;let n=Yu(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Yu(n)}}function Td(e){e.modified_||(e.modified_=!0,e.parent_&&Td(e.parent_))}function Bd(e){e.copy_||(e.copy_=cd(e.base_,e.scope_.immer_.useStrictShallowCopy_),e.copy_[Uu]&&delete e.copy_[Uu])}td(Dd,((e,t)=>{Id[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Id.deleteProperty=function(e,t){return Id.set.call(this,e,t,void 0)},Id.set=function(e,t,n){return Dd.set.call(this,e[0],t,n,e[0])};function Ad(e,t){const n=rd(e)?pd("MapSet").proxyMap_(e,t):ld(e)?pd("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),o={type_:n?1:0,scope_:t?t.scope_:gd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=o,r=Dd;n&&(i=[o],r=Id);const{revoke:l,proxy:s}=Proxy.revocable(i,r);return o.draft_=s,o.revoke_=l,s}(e,t);return(t?t.scope_:gd()).drafts_.push(n),n}function Md(e){return Ku(e)||qu(10),Od(e)}function Od(e){if(!Xu(e)||fd(e))return e;const t=e[Zu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cd(e,t.scope_.immer_.useStrictShallowCopy_)}else n=cd(e,!0);return td(n,((e,t)=>{id(n,e,Od(t))})),t&&(t.finalized_=!1),n}const Rd=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const o=this;return function(e=n,...i){return o.produce(e,(e=>t.call(this,e,...i)))}}let o;if("function"!=typeof t&&qu(6),void 0!==n&&"function"!=typeof n&&qu(7),Xu(e)){const i=Cd(this),r=Ad(e,void 0);let l=!0;try{o=t(r),l=!1}finally{l?yd(i):bd(i)}return md(i,n),xd(o,i)}if(!e||"object"!=typeof e){if(o=t(e),void 0===o&&(o=e),o===Vu&&(o=void 0),this.autoFreeze_&&ad(o,!0),n){const t=[],i=[];pd("Patches").generateReplacementPatches_(e,o,t,i),n(t,i)}return o}qu(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,o;const i=this.produce(e,t,((e,t)=>{n=e,o=t}));return[i,n,o]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xu(e)||qu(8),Ku(e)&&(e=Md(e));const t=Cd(this),n=Ad(e,void 0);return n[Zu].isManual_=!0,bd(t),n}finishDraft(e,t){const n=e&&e[Zu];n&&n.isManual_||qu(9);const{scope_:o}=n;return md(o,t),xd(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}n>-1&&(t=t.slice(n+1));const o=pd("Patches").applyPatches_;return Ku(e)?o(e,t):this.produce(e,(e=>o(e,t)))}},Pd=Rd.produce;Rd.produceWithPatches.bind(Rd);const Fd=Rd.setAutoFreeze.bind(Rd);function Hd(e){const t=Z(0),n=Z(e);return!0!==e&&n.current===e||t.current++,n.current=e,t.current}function _d(e){const t=Z(e);return t.current=e,t}Rd.setUseStrictShallowCopy.bind(Rd),Rd.applyPatches.bind(Rd),Rd.createDraft.bind(Rd),Rd.finishDraft.bind(Rd),U(null);const jd=["click","bdclick","pointer","mouse","key","composition","blur","focus","context","copy","cut","paste","change","input","beforeinput","load","error","scroll","wheel","transition","touch"];function Wd(e,t){const n=Z(new Set),o=W((()=>e=>{var t;null===(t=n.current)||void 0===t||t.forEach((t=>{t.next(e)}))}),[]),i=W((()=>new Pa((e=>{var t;return null===(t=n.current)||void 0===t||t.add(e),()=>{var t;null===(t=n.current)||void 0===t||t.delete(e)}}))),[]);return i.type=e,i.listener=o,i.options=t,i}function zd(e,t){const n={};for(const o of e){const e=jd.find((e=>0===o.type.indexOf(e)));let i=o.type;if(e){i=`on${e[0].toUpperCase()+e.slice(1)}`;const t=o.type.replace(e,"");t&&(i+=t[0].toUpperCase()+t.slice(1))}n[i]=e=>{o.listener(e);const n=null==t?void 0:t[i];"function"==typeof n&&n(e)},o.options&&(n[i].options=o.options)}return n}function Vd({...e},t){for(const n in t){const o=e[n],i=t[n];i&&n.startsWith("on")&&(e[n]=o?(e,...t)=>{let n=!0;const r=e.stopPropagation.bind(e);e.stopPropagation=()=>(n=!1,r()),i(e,...t),n&&o(e,...t)}:i)}return e}function $d(...e){return t=>{var n;let o=!0;for(let i=e.length-1;i>=0&&o;i--){if(void 0===e[i])continue;const r=t.stopPropagation.bind(t);t.stopPropagation=()=>(o=!1,r()),null===(n=e[i])||void 0===n||n.call(e,t)}}}function Zd(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ud(...e){return Pd((t=>{try{t=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}(...e.slice().reverse())(t)}catch(e){}return t}))}function qd(e,t){const[n,o]=$(e),i=_d(t),r=_(((...e)=>{const t=i.current;o(t?n=>Ud(...e)(t(n)):Ud(...e))}),[i]);return[n,r]}function Yd(e){return Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(e)}Fd(!1);var Kd=/^\s+/,Gd=/\s+$/;function Xd(e,t){if(t=t||{},(e=e||"")instanceof Xd)return e;if(!(this instanceof Xd))return new Xd(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,o=null,i=null,r=null,l=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(Kd,"").replace(Gd,"").toLowerCase();var t,n=!1;if(vf[e])e=vf[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=Nf.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=Nf.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Nf.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=Nf.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Nf.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=Nf.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Nf.hex8.exec(e))return{r:Cf(t[1]),g:Cf(t[2]),b:Cf(t[3]),a:Ef(t[4]),format:n?"name":"hex8"};if(t=Nf.hex6.exec(e))return{r:Cf(t[1]),g:Cf(t[2]),b:Cf(t[3]),format:n?"name":"hex"};if(t=Nf.hex4.exec(e))return{r:Cf(t[1]+""+t[1]),g:Cf(t[2]+""+t[2]),b:Cf(t[3]+""+t[3]),a:Ef(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=Nf.hex3.exec(e))return{r:Cf(t[1]+""+t[1]),g:Cf(t[2]+""+t[2]),b:Cf(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==Yd(e)&&(Lf(e.r)&&Lf(e.g)&&Lf(e.b)?(c=e.r,a=e.g,u=e.b,t={r:255*yf(c,255),g:255*yf(a,255),b:255*yf(u,255)},l=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Lf(e.h)&&Lf(e.s)&&Lf(e.v)?(o=xf(e.s),i=xf(e.v),t=function(e,t,n){e=6*yf(e,360),t=yf(t,100),n=yf(n,100);var o=Math.floor(e),i=e-o,r=n*(1-t),l=n*(1-i*t),s=n*(1-(1-i)*t),c=o%6,a=[n,l,r,r,s,n][c],u=[s,n,n,l,r,r][c],d=[r,r,s,n,n,l][c];return{r:255*a,g:255*u,b:255*d}}(e.h,o,i),l=!0,s="hsv"):Lf(e.h)&&Lf(e.s)&&Lf(e.l)&&(o=xf(e.s),r=xf(e.l),t=function(e,t,n){var o,i,r;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=yf(e,360),t=yf(t,100),n=yf(n,100),0===t)o=i=r=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;o=l(c,s,e+1/3),i=l(c,s,e),r=l(c,s,e-1/3)}return{r:255*o,g:255*i,b:255*r}}(e.h,o,r),l=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));var c,a,u;return n=mf(n),{ok:l,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Jd(e,t,n){e=yf(e,255),t=yf(t,255),n=yf(n,255);var o,i,r=Math.max(e,t,n),l=Math.min(e,t,n),s=(r+l)/2;if(r==l)o=i=0;else{var c=r-l;switch(i=s>.5?c/(2-r-l):c/(r+l),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:i,l:s}}function Qd(e,t,n){e=yf(e,255),t=yf(t,255),n=yf(n,255);var o,i,r=Math.max(e,t,n),l=Math.min(e,t,n),s=r,c=r-l;if(i=0===r?0:c/r,r==l)o=0;else{switch(r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:i,v:s}}function ef(e,t,n,o){var i=[wf(Math.round(e).toString(16)),wf(Math.round(t).toString(16)),wf(Math.round(n).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function tf(e,t,n,o){return[wf(Sf(o)),wf(Math.round(e).toString(16)),wf(Math.round(t).toString(16)),wf(Math.round(n).toString(16))].join("")}function nf(e,t){t=0===t?0:t||10;var n=Xd(e).toHsl();return n.s-=t/100,n.s=bf(n.s),Xd(n)}function of(e,t){t=0===t?0:t||10;var n=Xd(e).toHsl();return n.s+=t/100,n.s=bf(n.s),Xd(n)}function rf(e){return Xd(e).desaturate(100)}function lf(e,t){t=0===t?0:t||10;var n=Xd(e).toHsl();return n.l+=t/100,n.l=bf(n.l),Xd(n)}function sf(e,t){t=0===t?0:t||10;var n=Xd(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Xd(n)}function cf(e,t){t=0===t?0:t||10;var n=Xd(e).toHsl();return n.l-=t/100,n.l=bf(n.l),Xd(n)}function af(e,t){var n=Xd(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,Xd(n)}function uf(e){var t=Xd(e).toHsl();return t.h=(t.h+180)%360,Xd(t)}function df(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Xd(e).toHsl(),o=[Xd(e)],i=360/t,r=1;r<t;r++)o.push(Xd({h:(n.h+r*i)%360,s:n.s,l:n.l}));return o}function ff(e){var t=Xd(e).toHsl(),n=t.h;return[Xd(e),Xd({h:(n+72)%360,s:t.s,l:t.l}),Xd({h:(n+216)%360,s:t.s,l:t.l})]}function hf(e,t,n){t=t||6,n=n||30;var o=Xd(e).toHsl(),i=360/n,r=[Xd(e)];for(o.h=(o.h-(i*t>>1)+720)%360;--t;)o.h=(o.h+i)%360,r.push(Xd(o));return r}function pf(e,t){t=t||6;for(var n=Xd(e).toHsv(),o=n.h,i=n.s,r=n.v,l=[],s=1/t;t--;)l.push(Xd({h:o,s:i,v:r})),r=(r+s)%1;return l}Xd.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,o=this.toRgb();return e=o.r/255,t=o.g/255,n=o.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=mf(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Qd(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Qd(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=Jd(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Jd(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return ef(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,o,i){var r=[wf(Math.round(e).toString(16)),wf(Math.round(t).toString(16)),wf(Math.round(n).toString(16)),wf(Sf(o))];if(i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*yf(this._r,255))+"%",g:Math.round(100*yf(this._g,255))+"%",b:Math.round(100*yf(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*yf(this._r,255))+"%, "+Math.round(100*yf(this._g,255))+"%, "+Math.round(100*yf(this._b,255))+"%)":"rgba("+Math.round(100*yf(this._r,255))+"%, "+Math.round(100*yf(this._g,255))+"%, "+Math.round(100*yf(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(gf[ef(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+tf(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var i=Xd(e);n="#"+tf(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Xd(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(lf,arguments)},brighten:function(){return this._applyModification(sf,arguments)},darken:function(){return this._applyModification(cf,arguments)},desaturate:function(){return this._applyModification(nf,arguments)},saturate:function(){return this._applyModification(of,arguments)},greyscale:function(){return this._applyModification(rf,arguments)},spin:function(){return this._applyModification(af,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(hf,arguments)},complement:function(){return this._applyCombination(uf,arguments)},monochromatic:function(){return this._applyCombination(pf,arguments)},splitcomplement:function(){return this._applyCombination(ff,arguments)},triad:function(){return this._applyCombination(df,[3])},tetrad:function(){return this._applyCombination(df,[4])}},Xd.fromRatio=function(e,t){if("object"==Yd(e)){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]="a"===o?e[o]:xf(e[o]));e=n}return Xd(e,t)},Xd.equals=function(e,t){return!(!e||!t)&&Xd(e).toRgbString()==Xd(t).toRgbString()},Xd.random=function(){return Xd.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Xd.mix=function(e,t,n){n=0===n?0:n||50;var o=Xd(e).toRgb(),i=Xd(t).toRgb(),r=n/100;return Xd({r:(i.r-o.r)*r+o.r,g:(i.g-o.g)*r+o.g,b:(i.b-o.b)*r+o.b,a:(i.a-o.a)*r+o.a})},Xd.readability=function(e,t){var n=Xd(e),o=Xd(t);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)},Xd.isReadable=function(e,t,n){var o,i,r=Xd.readability(e,t);switch(i=!1,(o=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+o.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7}return i},Xd.mostReadable=function(e,t,n){var o,i,r,l,s=null,c=0;i=(n=n||{}).includeFallbackColors,r=n.level,l=n.size;for(var a=0;a<t.length;a++)(o=Xd.readability(e,t[a]))>c&&(c=o,s=Xd(t[a]));return Xd.isReadable(e,s,{level:r,size:l})||!i?s:(n.includeFallbackColors=!1,Xd.mostReadable(e,["#fff","#000"],n))};var vf=Xd.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gf=Xd.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(vf);function mf(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function yf(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function bf(e){return Math.min(1,Math.max(0,e))}function Cf(e){return parseInt(e,16)}function wf(e){return 1==e.length?"0"+e:""+e}function xf(e){return e<=1&&(e=100*e+"%"),e}function Sf(e){return Math.round(255*parseFloat(e)).toString(16)}function Ef(e){return Cf(e)/255}var kf,Df,If,Nf=(Df="[\\s|\\(]+("+(kf="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+kf+")[,|\\s]+("+kf+")\\s*\\)?",If="[\\s|\\(]+("+kf+")[,|\\s]+("+kf+")[,|\\s]+("+kf+")[,|\\s]+("+kf+")\\s*\\)?",{CSS_UNIT:new RegExp(kf),rgb:new RegExp("rgb"+Df),rgba:new RegExp("rgba"+If),hsl:new RegExp("hsl"+Df),hsla:new RegExp("hsla"+If),hsv:new RegExp("hsv"+Df),hsva:new RegExp("hsva"+If),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Lf(e){return!!Nf.CSS_UNIT.exec(e)}const Tf="#fff",Bf="#23396b",Af="rgba(214, 219, 224, 0.32)",Mf="rgba(163, 166, 168, 0.32)",Of="rgba(112, 118, 121, 0.32)",Rf="transparent",Pf="rgba(198, 198, 198, 0.32)",Ff="rgba(150, 150, 150, 0.32)",Hf="#333",_f="#666",jf="#999",Wf="0 0 3px 1px rgba(0, 0, 0, 0.18)",zf="#545454",Vf=485,$f=450,Zf="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),Uf="undefined"!=typeof navigator&&/mac os x/i.test(navigator.userAgent),qf="undefined"!=typeof navigator&&/win/i.test(navigator.userAgent),Yf="undefined"!=typeof navigator&&/linux/i.test(navigator.userAgent),Kf="undefined"!=typeof navigator&&/Mobile|Tablet/i.test(navigator.userAgent),Gf="undefined"!=typeof navigator&&/shuli/i.test(navigator.userAgent),Xf="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Jf="undefined"!=typeof navigator&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Qf="undefined"!=typeof navigator&&/Chrome/.test(navigator.userAgent),eh="undefined"!=typeof navigator&&/Harmony/i.test(navigator.userAgent)&&!/HuaweiBrowser/i.test(navigator.userAgent),th="undefined"!=typeof navigator&&/QQ/.test(navigator.userAgent),nh="undefined"!=typeof navigator&&/MicroMessenger/.test(navigator.userAgent),oh="undefined"!=typeof navigator&&/ArkWeb/i.test(navigator.userAgent)&&eh&&Kf,ih=oh&&!th&&!nh,rh=ih;function lh(e){return e<=26?String.fromCharCode(e+64):lh(~~((e-1)/26))+lh(e%26||26)}const sh=["i","ii","iii","iv","v","vi","vii","viii","ix","x"];function ch(e){return Math.ceil(4*e/3)}const ah={32:" ",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};for(let e=0;e<=25;e++)ah[65+e]=String.fromCharCode(65+e);for(let e=0;e<=9;e++)ah[48+e]=String(e),ah[96+e]=String(e);for(let e=0;e<=29;e++)ah[112+e]=`F${e+1}`;const uh={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},dh={add:"+",ctrl:"control",space:" ",del:"delete",esc:"escape","":"arrowright","":"arrowleft","":"arrowup","":"arrowdown",...Uf&&{"":"meta","":"shift","":"alt"},...qf&&{win:"meta"}};function fh(e,t){Array.isArray(e)||(e=[e]);const n=e.map((e=>function(e){const t={};e=e.replace("++","+add").toLowerCase();const n=e.split("+"),{length:o}=n;for(const e in uh)t[uh[e]]=!1;for(let e of n){const n=e.endsWith("?")&&e.length>1;n&&(e=e.slice(0,-1));const i=dh[e]||e,r=uh[i];1!==o&&r||(t.key=i),r&&(t[r]=!n||null)}return t}(e)));return n.some((e=>function(e,t){for(const n in e){const o=e[n];let i;if(null!=o&&(i="key"===n&&null!=t.key?t.key.toLowerCase():t[n],(null!=i||!1!==o)&&o!==i&&o!==ah[t.keyCode]?.toLowerCase()))return!1}return!0}(e,t)))}function hh(e,t){return!!fh(e,t)&&(t.preventDefault(),!0)}function ph(e,t){return!!fh(e,t)&&(t.stopPropagation(),!0)}const vh=Symbol.for("ruset"),gh=Promise.resolve();var mh;function yh(e){var t;return null!==(t=e.children)&&void 0!==t?t:null}function bh(e,t,n){return void 0!==t.key&&delete t.key,{type:e,key:n,props:t,symbol:vh}}gh.then.bind(gh),function(e){e.div="div",e.span="span",e.text="text",e.img="img",e.input="input",e.iframe="iframe",e.textarea="textarea",e.svg="svg",e.path="path",e.circle="circle",e.a="a",e.br="br",e.pre="pre",e.code="code"}(mh||(mh={}));const Ch=bh;function wh(e){return bh("div",{...e})}const xh={position:"relative"},Sh={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:`rgba(255, 255, 255, ${Xf?1:.85})`,WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",pointerEvents:"none",zIndex:-1,transform:"translate3d(0, 0, 0)"};function Eh(e){return e?(delete(e={...e}).background,delete e.backgroundColor,delete e.backdropFilter,{...xh,...e}):xh}function kh(e){if(!e)return xh;const t={};return(e={...e}).background&&(t.background=e.background),e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.borderRadius&&(t.borderRadius=e.borderRadius),e.WebkitBackdropFilter&&(t.WebkitBackdropFilter=e.WebkitBackdropFilter),e.backdropFilter&&(t.backdropFilter=e.backdropFilter),{...Sh,...t}}function Dh({children:e,style:t,...n}){return Ch(wh,{...n,style:Eh(t),children:[e,bh("div",{style:kh(t)})]})}const Ih="undefined"!=typeof window?window.devicePixelRatio:1,Nh=100*Ih+"%",Lh=100*Ih+"%",Th={borderColor:Kf?"#a7a7a7":"#ddd",borderStyle:"solid",borderWidth:0,zIndex:1},Bh={width:Nh,height:Lh,transform:Kf?`scale3d(${1/Ih}, ${1/Ih}, 1)`:`scale(${1/Ih})`,borderColor:"inherit",borderStyle:"inherit",boxSizing:"border-box",zIndex:1},Ah={width:"100%",height:Lh,transform:Kf?`scale3d(1, ${1/Ih}, 1)`:`scale(1, ${1/Ih})`,borderColor:"inherit",borderStyle:"inherit",boxSizing:"border-box",zIndex:1},Mh={width:Nh,height:"100%",transform:Kf?`scale3d(${1/Ih}, 1, 1)`:`scale(${1/Ih}, 1)`,borderColor:"inherit",borderStyle:"inherit",boxSizing:"border-box",zIndex:1},Oh={position:"relative",...Th},Rh={position:"absolute",top:0,left:0,right:0,transformOrigin:"top",pointerEvents:"none",borderWidth:0,borderTopWidth:1,borderStyle:"solid",...Ah},Ph={position:"absolute",bottom:0,left:0,right:0,transformOrigin:"bottom",pointerEvents:"none",borderWidth:0,borderBottomWidth:1,borderStyle:"solid",...Ah},Fh={position:"absolute",right:0,top:0,bottom:0,transformOrigin:"right",pointerEvents:"none",borderWidth:0,borderRightWidth:1,borderStyle:"solid",...Mh},Hh={position:"absolute",left:0,top:0,bottom:0,transformOrigin:"left",pointerEvents:"none",borderWidth:0,borderLeftWidth:1,borderStyle:"solid",...Mh},_h={position:"absolute",right:0,top:0,transformOrigin:"top right",pointerEvents:"none",borderWidth:0,borderRightWidth:1,borderTopWidth:1,borderStyle:"solid",...Bh,width:150*Ih+"%",height:150*Ih+"%"},jh={position:"absolute",right:0,bottom:0,transformOrigin:"bottom right",pointerEvents:"none",borderWidth:0,borderRightWidth:1,borderBottomWidth:1,borderStyle:"solid",...Bh,width:150*Ih+"%",height:150*Ih+"%"},Wh={position:"absolute",left:0,top:0,transformOrigin:"top left",pointerEvents:"none",borderWidth:0,borderLeftWidth:1,borderTopWidth:1,borderStyle:"solid",...Bh,width:150*Ih+"%",height:150*Ih+"%"},zh={position:"absolute",left:0,bottom:0,transformOrigin:"bottom left",pointerEvents:"none",borderWidth:0,borderLeftWidth:1,borderBottomWidth:1,borderStyle:"solid",...Bh,width:150*Ih+"%",height:150*Ih+"%"},Vh={position:"absolute",left:0,top:0,transformOrigin:"top left",pointerEvents:"none",borderWidth:1,borderStyle:"solid",...Bh};var $h=Object.freeze({__proto__:null,all:Vh,borderView:Oh,bottom:Ph,bottomLeft:zh,bottomRight:jh,hairLine:Th,hairLineEdge:Bh,hairLineHorizontalEdge:Mh,hairLineVerticalEdge:Ah,left:Hh,right:Fh,top:Rh,topLeft:Wh,topRight:_h});const Zh="undefined"!=typeof window?window.devicePixelRatio:1,Uh=function({type:e,borderStyle:t,...n}){if("none"===e)return bh("div",{...n,children:n.children});const o=n.style?.width,i=n.style?.height;if(void 0===e||"all"===e){const e={...Vh,...t};return _c(o)&&(e.width=Zh*o),_c(i)&&(e.height=Zh*i),Ch("div",{...n,style:{...Oh,...n.style},children:[n.children,bh("div",{style:e})]})}const r={...$h[jr(e)],...t};return Ch("div",{...n,style:{...Oh,...n.style},children:[n.children,bh("div",{style:r})]})},qh={borderRadius:Kf?8:4,padding:"8px 20px",fontSize:Kf?14:12,fontWeight:Kf?Vf:"bold",color:"#fff",userSelect:"none",boxSizing:"border-box",minWidth:75,textAlign:"center"},Yh={borderRadius:Kf?8:4,padding:"6px 18px",fontSize:Kf?14:12,fontWeight:Kf?Vf:"bold",color:Bf,border:`1px solid ${Bf}`,userSelect:"none",boxSizing:"border-box",minWidth:75,textAlign:"center"};function Kh(e){return"function"==typeof e}function Gh(e){return function(t){if(function(e){return Kh(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Xh=function(e,t){return Xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Xh(e,t)};function Jh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Xh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Qh(e,t,n,o){return new(n||(n=Promise))((function(i,r){function l(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(l,s)}c((o=o.apply(e,t||[])).next())}))}function ep(e,t){var n,o,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(l=0)),l;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return l.label++,{value:s[1],done:!1};case 5:l.label++,o=s[1],s=[0];continue;case 7:s=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){l=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){l.label=s[1];break}if(6===s[0]&&l.label<i[1]){l.label=i[1],i=s;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(s);break}i[2]&&l.ops.pop(),l.trys.pop();continue}s=t.call(e,l)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function tp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function np(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)l.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return l}function op(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function ip(e){return this instanceof ip?(this.v=e,this):new ip(e)}function rp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(e,t||[]),r=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(e){i[e]&&(o[e]=function(t){return new Promise((function(n,o){r.push([e,t,n,o])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof ip?Promise.resolve(n.value.v).then(c,a):u(r[0][2],n)}catch(e){u(r[0][3],e)}var n}function c(e){s("next",e)}function a(e){s("throw",e)}function u(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function lp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=tp(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,i){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;var sp=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function cp(e){return Kh(null==e?void 0:e.then)}var ap=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function up(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var dp=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,o,i;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var l=tp(r),s=l.next();!s.done;s=l.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else r.remove(this);var c=this.initialTeardown;if(Kh(c))try{c()}catch(e){i=e instanceof ap?e.errors:[e]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var u=tp(a),d=u.next();!d.done;d=u.next()){var f=d.value;try{hp(f)}catch(e){i=null!=i?i:[],e instanceof ap?i=op(op([],np(i)),np(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}if(i)throw new ap(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)hp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&up(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&up(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function fp(e){return e instanceof dp||e&&"closed"in e&&Kh(e.remove)&&Kh(e.add)&&Kh(e.unsubscribe)}function hp(e){Kh(e)?e():e.unsubscribe()}dp.EMPTY;var pp={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vp={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setTimeout.apply(void 0,op([e,t],np(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function gp(e){vp.setTimeout((function(){throw e}))}function mp(){}var yp=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,fp(t)&&t.add(n)):n.destination=Ep,n}return Jh(t,e),t.create=function(e,t,n){return new xp(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(dp),bp=Function.prototype.bind;function Cp(e,t){return bp.call(e,t)}var wp=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Sp(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Sp(e)}else Sp(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Sp(e)}},e}(),xp=function(e){function t(t,n,o){var i,r,l=e.call(this)||this;Kh(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=o?o:void 0}:l&&pp.useDeprecatedNextContext?((r=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&Cp(t.next,r),error:t.error&&Cp(t.error,r),complete:t.complete&&Cp(t.complete,r)}):i=t;return l.destination=new wp(i),l}return Jh(t,e),t}(yp);function Sp(e){gp(e)}var Ep={closed:!0,next:mp,error:function(e){throw e},complete:mp},kp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dp(e){return e}var Ip=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o,i=this,r=function(e){return e&&e instanceof yp||function(e){return e&&Kh(e.next)&&Kh(e.error)&&Kh(e.complete)}(e)&&fp(e)}(e)?e:new xp(e,t,n);return o=function(){var e=i,t=e.operator,n=e.source;r.add(t?t.call(r,n):n?i._subscribe(r):i._trySubscribe(r))},o(),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Np(t))((function(t,o){var i=new xp({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[kp]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?Dp:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Np(e))((function(e,n){var o;t.subscribe((function(e){return o=e}),(function(e){return n(e)}),(function(){return e(o)}))}))},e.create=function(t){return new e(t)},e}();function Np(e){var t;return null!==(t=null!=e?e:pp.Promise)&&void 0!==t?t:Promise}function Lp(e){return Kh(e[kp])}function Tp(e){return Symbol.asyncIterator&&Kh(null==e?void 0:e[Symbol.asyncIterator])}function Bp(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Ap="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Mp(e){return Kh(null==e?void 0:e[Ap])}function Op(e){return rp(this,arguments,(function(){var t,n,o;return ep(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,ip(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,ip(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,ip(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Rp(e){return Kh(null==e?void 0:e.getReader)}function Pp(e){if(e instanceof Ip)return e;if(null!=e){if(Lp(e))return i=e,new Ip((function(e){var t=i[kp]();if(Kh(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(sp(e))return o=e,new Ip((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(cp(e))return n=e,new Ip((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,gp)}));if(Tp(e))return Fp(e);if(Mp(e))return t=e,new Ip((function(e){var n,o;try{for(var i=tp(t),r=i.next();!r.done;r=i.next()){var l=r.value;if(e.next(l),e.closed)return}}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}e.complete()}));if(Rp(e))return Fp(Op(e))}var t,n,o,i;throw Bp(e)}function Fp(e){return new Ip((function(t){(function(e,t){var n,o,i,r;return Qh(this,void 0,void 0,(function(){var l,s;return ep(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=lp(e),c.label=1;case 1:return[4,n.next()];case 2:if((o=c.sent()).done)return[3,4];if(l=o.value,t.next(l),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),o&&!o.done&&(r=n.return)?[4,r.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Hp(e,t,n,o,i){return new _p(e,t,n,o,i)}var _p=function(e){function t(t,n,o,i,r,l){var s=e.call(this,t)||this;return s.onFinalize=r,s.shouldUnsubscribe=l,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=o?function(){try{o()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Jh(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(yp);var jp=function(e){function t(t,n){return e.call(this)||this}return Jh(t,e),t.prototype.schedule=function(e,t){return this},t}(dp),Wp=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setInterval.apply(void 0,op([e,t],np(n)))},zp=function(e){return clearInterval(e)},Vp=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return Jh(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Wp(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&zp(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,o=!1;try{this.work(e)}catch(e){o=!0,n=e||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,o=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,up(o,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(jp),$p=function(){return Date.now()},Zp=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=$p,e}(),Up=function(e){function t(t,n){void 0===n&&(n=Zp.now);var o=e.call(this,t,n)||this;return o.actions=[],o._active=!1,o}return Jh(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Zp),qp=new Up(Vp),Yp=qp;function Kp(e){return e&&Kh(e.schedule)}function Gp(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Yp);var o=-1;return null!=t&&(Kp(t)?n=t:o=t),new Ip((function(t){var i=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);var r=0;return n.schedule((function(){t.closed||(t.next(r++),0<=o?this.schedule(void 0,o):t.complete())}),i)}))}function Xp(e,t){return void 0===t&&(t=qp),n=function(){return Gp(e,t)},Gh((function(e,t){var o=!1,i=null,r=null,l=!1,s=function(){if(null==r||r.unsubscribe(),r=null,o){o=!1;var e=i;i=null,t.next(e)}l&&t.complete()},c=function(){r=null,l&&t.complete()};e.subscribe(Hp(t,(function(e){o=!0,i=e,r||Pp(n(e)).subscribe(r=Hp(t,s,c))}),(function(){l=!0,(!o||!r||r.closed)&&t.complete()})))}));var n}function Jp(e,t){return void 0===t&&(t=null),t=null!=t?t:e,Gh((function(n,o){var i=[],r=0;n.subscribe(Hp(o,(function(n){var l,s,c,a,u=null;r++%t==0&&i.push([]);try{for(var d=tp(i),f=d.next();!f.done;f=d.next()){(v=f.value).push(n),e<=v.length&&(u=null!=u?u:[]).push(v)}}catch(e){l={error:e}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(l)throw l.error}}if(u)try{for(var h=tp(u),p=h.next();!p.done;p=h.next()){var v=p.value;up(i,v),o.next(v)}}catch(e){c={error:e}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(c)throw c.error}}}),(function(){var e,t;try{for(var n=tp(i),r=n.next();!r.done;r=n.next()){var l=r.value;o.next(l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){i=null})))}))}function Qp(e,t,n,o,i){void 0===o&&(o=0),void 0===i&&(i=!1);var r=t.schedule((function(){n(),i?e.add(this.schedule(null,o)):this.unsubscribe()}),o);if(e.add(r),!i)return r}function ev(e,t){return void 0===t&&(t=0),Gh((function(n,o){n.subscribe(Hp(o,(function(n){return Qp(o,e,(function(){return o.next(n)}),t)}),(function(){return Qp(o,e,(function(){return o.complete()}),t)}),(function(n){return Qp(o,e,(function(){return o.error(n)}),t)})))}))}function tv(e,t){return void 0===t&&(t=0),Gh((function(n,o){o.add(e.schedule((function(){return n.subscribe(o)}),t))}))}function nv(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ip((function(n){Qp(n,t,(function(){var o=e[Symbol.asyncIterator]();Qp(n,t,(function(){o.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function ov(e,t){if(null!=e){if(Lp(e))return function(e,t){return Pp(e).pipe(tv(t),ev(t))}(e,t);if(sp(e))return function(e,t){return new Ip((function(n){var o=0;return t.schedule((function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())}))}))}(e,t);if(cp(e))return function(e,t){return Pp(e).pipe(tv(t),ev(t))}(e,t);if(Tp(e))return nv(e,t);if(Mp(e))return function(e,t){return new Ip((function(n){var o;return Qp(n,t,(function(){o=e[Ap](),Qp(n,t,(function(){var e,t,i;try{t=(e=o.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return Kh(null==o?void 0:o.return)&&o.return()}}))}(e,t);if(Rp(e))return function(e,t){return nv(Op(e),t)}(e,t)}throw Bp(e)}function iv(e,t){return Gh((function(n,o){var i=0;n.subscribe(Hp(o,(function(n){o.next(e.call(t,n,i++))})))}))}function rv(e,t,n){return void 0===n&&(n=1/0),Kh(t)?rv((function(n,o){return iv((function(e,i){return t(n,e,o,i)}))(Pp(e(n,o)))}),n):("number"==typeof t&&(n=t),Gh((function(t,o){return function(e,t,n,o,i,r,l,s){var c=[],a=0,u=0,d=!1,f=function(){!d||c.length||a||t.complete()},h=function(e){return a<o?p(e):c.push(e)},p=function(e){r&&t.next(e),a++;var s=!1;Pp(n(e,u++)).subscribe(Hp(t,(function(e){null==i||i(e),r?h(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{a--;for(var e=function(){var e=c.shift();l?Qp(t,l,(function(){return p(e)})):p(e)};c.length&&a<o;)e();f()}catch(e){t.error(e)}})))};return e.subscribe(Hp(t,h,(function(){d=!0,f()}))),function(){null==s||s()}}(t,o,e,n)})))}function lv(){return void 0===(e=1)&&(e=1/0),rv(Dp,e);var e}function sv(e,t){return void 0===t&&(t=qp),Gh((function(n,o){var i=null,r=null,l=null,s=function(){if(i){i.unsubscribe(),i=null;var e=r;r=null,o.next(e)}};function c(){var n=l+e,r=t.now();if(r<n)return i=this.schedule(void 0,n-r),void o.add(i);s()}n.subscribe(Hp(o,(function(n){r=n,l=t.now(),i||(i=t.schedule(c,e),o.add(i))}),(function(){s(),o.complete()}),void 0,(function(){r=i=null})))}))}function cv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return lv()(function(e,t){return t?ov(e,t):Pp(e)}(e,function(e){return Kp((t=e)[t.length-1])?e.pop():void 0;var t}(e)))}var av=new Ip((function(e){return e.complete()}));function uv(e){return e<=0?function(){return av}:Gh((function(t,n){var o=0;t.subscribe(Hp(n,(function(t){++o<=e&&(n.next(t),e<=o&&n.complete())})))}))}function dv(e,t){return t?function(n){return cv(t.pipe(uv(1),Gh((function(e,t){e.subscribe(Hp(t,mp))}))),n.pipe(dv(e)))}:rv((function(t,n){return Pp(e(t,n)).pipe(uv(1),function(e){return iv((function(){return e}))}(t))}))}function fv(e,t){void 0===t&&(t=qp);var n=Gp(e,t);return dv((function(){return n}))}function hv(e,t){return e===t}function pv(e,t){return Gh((function(n,o){var i=0;n.subscribe(Hp(o,(function(n){return e.call(t,n,i++)&&o.next(n)})))}))}function vv(e){return Gh((function(t,n){var o=!1,i=Hp(n,(function(){null==i||i.unsubscribe(),o=!0}),mp);Pp(e).subscribe(i),t.subscribe(Hp(n,(function(e){return o&&n.next(e)})))}))}function gv(e){return Gh((function(t,n){var o=!1,i=0;t.subscribe(Hp(n,(function(t){return(o||(o=!e(t,i++)))&&n.next(t)})))}))}function mv(e,t){return Gh((function(n,o){var i=null,r=0,l=!1,s=function(){return l&&!i&&o.complete()};n.subscribe(Hp(o,(function(n){null==i||i.unsubscribe();var l=0,c=r++;Pp(e(n,c)).subscribe(i=Hp(o,(function(e){return o.next(t?t(n,e,c,l++):e)}),(function(){i=null,s()})))}),(function(){l=!0,s()})))}))}function yv(e){return Gh((function(t,n){Pp(e).subscribe(Hp(n,(function(){return n.complete()}),mp)),!n.closed&&t.subscribe(n)}))}function bv(e,t,n){void 0===t&&(t=qp);var o=Gp(e,t);return function(e,t){return Gh((function(n,o){var i=null!=t?t:{},r=i.leading,l=void 0===r||r,s=i.trailing,c=void 0!==s&&s,a=!1,u=null,d=null,f=!1,h=function(){null==d||d.unsubscribe(),d=null,c&&(g(),f&&o.complete())},p=function(){d=null,f&&o.complete()},v=function(t){return d=Pp(e(t)).subscribe(Hp(o,h,p))},g=function(){if(a){a=!1;var e=u;u=null,o.next(e),!f&&v(e)}};n.subscribe(Hp(o,(function(e){a=!0,u=e,(!d||d.closed)&&(l?g():v(e))}),(function(){f=!0,(!(c&&a&&d)||d.closed)&&o.complete()})))}))}((function(){return o}),n)}const Cv={cursor:"pointer",transition:"background-color 0.1s"},wv=Object.freeze({default:Af,hover:Mf,active:Of}),xv=Object.freeze({default:Bf,hover:"#1c3161",active:"#132652"}),Sv=Object.freeze({default:Rf,hover:Pf,active:Ff});function Ev(e){return bh(Kf?kv:Dv,{...e})}function kv(e){const t=_d(e),n=Z(Sv);"light"===e.type?n.current=wv:"theme"===e.type?n.current=xv:"background"===e.type&&(n.current=Sv),e.colors&&(n.current=e.colors);const[o,i]=$(n.current.default),r=Wd("touchstart");F((()=>{let e,o,l;const s=r.subscribe((t=>{const n=t.target;e=Nu(n,"touchmove"),o=Nu(n,"touchend"),l=Nu(n,"touchcancel")})),c=r.pipe(mv((n=>Tu(t.current.touchDelay??80).pipe(yv(e))))).subscribe((()=>{i(n.current.hover)})),a=r.pipe(mv((()=>{const n=t.current.touchDelay??80;return e.pipe(fv(n+10)).pipe(uv(1))}))).subscribe((()=>{i(n.current.default)})),u=r.pipe(mv((()=>Au(o,l).pipe(fv(160))))).subscribe((e=>{i(n.current.default)})),d=r.pipe(mv((()=>Au(o,l)))).subscribe((t=>{e=null,o=null,l=null}));return()=>{s.unsubscribe(),c.unsubscribe(),a.unsubscribe(),u.unsubscribe(),d.unsubscribe(),e=null,o=null,l=null}}),[t,r]);const l={...Cv};return l.backgroundColor=o,e.style&&Object.assign(l,e.style),bh(wh,{...e,style:l,...zd([r],e),children:e.children})}function Dv({colors:e,type:t,...n}){const o=Z(Sv);"light"===t?o.current=wv:"theme"===t?o.current=xv:"background"===t&&(o.current=Sv),e&&(o.current=e);const[i,r]=$(o.current.default),l=Wd("pointerup"),s=Wd("pointermove"),c=Wd("pointerdown"),a=Wd("pointermove"),u=Wd("pointerenter"),d=Wd("pointerleave");return F((()=>(window.addEventListener("pointerup",l.listener,!0),window.addEventListener("pointermove",s.listener,!0),()=>{window.removeEventListener("pointerup",l.listener,!0),window.removeEventListener("pointermove",s.listener,!0)})),[l,s]),F((()=>{const e=Au(u.pipe(mv((()=>d.pipe(yv(c))))),u.pipe(mv((()=>l.pipe(vv(d))))),c.pipe(mv((()=>d.pipe(vv(l))))),c.pipe(mv((()=>l.pipe(vv(d))))),s.pipe(Xp(100),(void 0===n&&(n=Dp),t=null!=t?t:hv,Gh((function(e,o){var i,r=!0;e.subscribe(Hp(o,(function(e){var l=n(e);!r&&t(i,l)||(r=!1,i=l,o.next(e))})))}))),mv((()=>s.pipe(yv(a)))))).subscribe((()=>{r(o.current.default)}));var t,n;return()=>e.unsubscribe()}),[l,s,u,c,d,a]),F((()=>{const e=Au(u,a,c.pipe(mv((()=>Ru(Tu(100),l).pipe(yv(d))))),c.pipe(mv((()=>l.pipe(vv(u)))))).subscribe((()=>{r(o.current.hover)}));return()=>e.unsubscribe()}),[u,c,a,l,d,s]),F((()=>{const e=Au(c,c.pipe(mv((()=>s.pipe(yv(l)))))).subscribe((()=>{r(o.current.active)}));return()=>e.unsubscribe()}),[c,s,l]),bh(wh,{...n,style:{...Cv,backgroundColor:i,...n.style},...zd([c,a,u,d],n),children:n.children})}function Iv({type:e,disabled:t,onClick:n,...o}){if("default"===e){const e={...Yh,...o.style};return t&&(e.opacity=.8,e.cursor="not-allowed",n=void 0),bh(Ev,{type:"background",onClick:n,...o,style:e})}const i={...qh,...o.style};return t&&(i.opacity=.8,i.cursor="not-allowed",n=void 0),bh(Ev,{type:"theme",onClick:n,...o,style:i})}function Nv(e,t){const n=Xd(e),o=n.toHsl(),i=n.toHsv(),r=n.toRgb(),l=n.toHex(),s=n.isValid(),c=n.getOriginalInput();0===o.s&&(o.h=t||0,i.h=t||0);return{hsl:o,hsv:i,rgb:r,hex:"000000"===l&&0===r.a?"transparent":`#${l}`,isValid:s,value:"string"==typeof c?c:`#${l}`}}function Lv(e){const t=Nv(e.value);return{sEdge:!1,hEdge:!1,color:t,left:100*t.hsl.s}}function Tv(e,t){switch(t.type){case"UPDATE_COLOR_STRING":{const n=e.color.hsl,o=Nv(t.color,n.h);return{...e,color:o}}case"UPDATE_COLOR_HSV":{const n=e.color.hsv,o=Nv({h:n.h,a:n.a,...t.color},n.h);return{...e,color:o}}case"UPDATE_COLOR_HSL":{const n=e.color.hsl,o=Nv({s:n.s,l:n.l,a:n.a,...t.color},t.color.h);return{...e,color:o}}case"UPDATE_S_EDGE":return{...e,sEdge:t.sEdge};case"UPDATE_H_EDGE":return{...e,hEdge:t.hEdge};case"UPDATE_LEFT":return{...e,left:t.left};default:return e}}const Bv={position:"absolute",top:0,left:0,right:0,bottom:0},Av={display:"flex",flexDirection:"column"},Mv={height:40,width:"100%",display:"flex",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAABlBMVEXMzMw46qqDAAAAIklEQVRIx2OAgf9QMCowKjAqMCpApMCA2z8qMCowKjBkBQAGkPwuVbwb1gAAAABJRU5ErkJggg==)",backgroundSize:8,position:"relative"},Ov={display:"flex",flex:1,justifyContent:"center",alignItems:"center",color:"#fff",cursor:"pointer"},Rv={display:"flex",height:200,boxSizing:"border-box",paddingTop:10},Pv={display:"flex",flex:1,position:"relative",overflow:"hidden"},Fv={width:40,height:"100%",marginLeft:10,position:"relative",overflow:"hidden"},Hv={...Bv,backgroundColor:"rgb(0, 109, 255)"},_v={...Bv,background:"linear-gradient(to right, rgb(255, 255, 255), rgba(255, 255, 255, 0))"},jv={...Bv,background:"linear-gradient(to top, rgb(0, 0, 0), rgba(0, 0, 0, 0))"},Wv={...Bv,background:"linear-gradient(\n    to bottom,\n    rgb(255, 0, 0) 0%,\n    rgb(255, 255, 0) 17%,\n    rgb(0, 255, 0) 33%,\n    rgb(0, 255, 255) 50%,\n    rgb(0, 0, 255) 67%,\n    rgb(255, 0, 255) 83%,\n    rgb(255, 0, 0) 100%\n  )"},zv={position:"absolute",width:10,height:10,borderRadius:"50%",border:"1px solid #fff",boxShadow:"0 0 1px 1px rgba(0, 0, 0, 0.1)",transform:"translate(-6px, -6px)"},Vv={position:"absolute",top:0,left:-2,right:-2,height:3,border:"2px solid rgba(255, 255, 255, 0.6)",boxShadow:"0 0 1px 1px rgba(0, 0, 0, 0.2)",transform:"translate(0, -3px)"},$v={border:0,padding:0,backgroundColor:"transparent",width:"100%",height:40,lineHeight:40,color:"#fff",textAlign:"center",fontSize:14};function Zv(e){const[t,n]=z(Tv,e,Lv),o=Z(null),i=Z(null),r=function(e,t,n,{saturation:o,hue:i}){const r=Wd("pointermove"),l=Wd("pointerup"),s=Wd("pointerdown"),c=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",r.listener),window.addEventListener("pointerup",l.listener),()=>{window.removeEventListener("pointermove",r.listener),window.removeEventListener("pointerup",l.listener)})),[r,l]),F((()=>{const e=Au(s,s.pipe(mv((()=>r.pipe(yv(l)))))).subscribe((e=>{const t=o.current;if(null===t)return;const i=t.clientWidth,r=t.clientHeight,l=t.getBoundingClientRect(),s=Math.max(Math.min(e.pageX-l.left,i),0),c=Math.max(Math.min(e.pageY-l.top,r),0);let a=100*s/i,u=-100*c/r+100;a>0&&a<1&&(a=1.0000001),u>0&&u<1&&(u=1.0000001),n({type:"UPDATE_S_EDGE",sEdge:c===r}),n(function(e){return{type:"UPDATE_LEFT",left:e}}(a)),n(function(e){return{type:"UPDATE_COLOR_HSV",color:e}}({s:a,v:u}))}));return()=>{e.unsubscribe()}}),[n,r,l,s,o]),F((()=>{const e=Au(c,c.pipe(mv((()=>r.pipe(yv(l)))))).subscribe((e=>{const t=i.current;if(null===t)return;const o=t.clientHeight,r=t.getBoundingClientRect(),l=Math.max(Math.min(e.pageY-r.top,o),0);let s=0;s=0===l?0:l===o?360:360*l/o,n({type:"UPDATE_H_EDGE",hEdge:l===o}),n(function(e){return{type:"UPDATE_COLOR_HSL",color:e}}({h:s}))}));return()=>{e.unsubscribe()}}),[n,r,l,c,i]),F((()=>{e.onChange?.(t.color.hex)})),{saturation:zd([s]),hue:zd([c])}}(e,t,n,{saturation:o,hue:i});return Ch("div",{style:{...Av,...e.style},children:[bh("div",{style:Mv,children:bh(Uh,{style:{flex:1},children:bh("div",{style:{...Ov,backgroundColor:t.color.hex},children:bh("input",{style:$v,type:"text",value:t.color.value,onKeyDown:e=>e.stopPropagation(),onInput:e=>function(e,t){t(function(e){return{type:"UPDATE_COLOR_STRING",color:e}}(e.target.value))}(e,n)})})})}),Ch("div",{style:Rv,children:[bh("div",{style:Pv,children:bh("div",{ref:o,...r.saturation,style:{...Hv,backgroundColor:`hsl(${t.color.hsl.h},100%, 50%)`},children:bh("div",{style:_v,children:bh("div",{style:jv,children:bh("div",{style:{...zv,top:`${t.sEdge?"100":-100*t.color.hsv.v+100}%`,left:`${t.left}%`}})})})})}),bh("div",{style:Fv,...r.hue,ref:i,children:bh("div",{style:Wv,children:bh("div",{style:{...Vv,top:`${t.hEdge?"100":100*t.color.hsl.h/360}%`}})})})]})]})}const Uv={padding:"15px 5px 5px 15px"},qv={display:"flex"},Yv={paddingBottom:10,marginRight:10},Kv={height:24,width:40,cursor:"pointer",position:"relative",outline:"none",marginBottom:1,display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",border:"1px solid transparent"},Gv={position:"absolute",top:0,left:0,bottom:0,right:0,border:"1px solid transparent",transform:"scale3d(1, 1, 1)",transition:"all 200ms"},Xv={border:"1px solid #fff",transform:"scale3d(0.98, 0.95, 1)"},Jv={border:`1px solid ${Ff}`,transform:"scale3d(0.98, 0.95, 1)"},Qv={borderRadius:"2px 2px 0px 0px"},eg={borderRadius:"0px 0px 2px 2px"},tg={position:"absolute",width:12,height:6,borderBottom:"2px solid #fff",borderLeft:"2px solid #fff",transform:"rotate(-45deg)",top:5},ng=[[["#ffffff","#D9D9D9","#969696","#525252","#333333"],["#cfd8dc","#90a4ae","#607d8b","#455a64","#263238"],["#d7ccc8","#a1887f","#795548","#5d4037","#3e2723"],["#ffcdd2","#e57373","#f44336","#d32f2f","#b71c1c"],["#ffe0b2","#ffb74d","#ff9800","#f57c00","#e65100"]],[["#fff9c4","#fff176","#ffeb3b","#fbc02d","#f57f17"],["#c8e6c9","#81c784","#4caf50","#388e3c","#1b5e20"],["#bbdefb","#64b5f6","#2196f3","#1976d2","#0d47a1"],["#c5cae9","#7986cb","#3f51b5","#303f9f","#1a237e"],["#e1bee7","#ba68c8","#9c27b0","#7b1fa2","#4a148c"]]];function og(e){return"#ffffff"===e}var ig=Object.freeze({__proto__:null,colors:ng,isWhite:og});function rg(e){const[t,n]=$({i1:-1,i2:-1,i3:-1});return bh("div",{style:Uv,children:(e.colors||ng).map(((o,i)=>bh("div",{style:qv,children:o.map(((o,r)=>bh("div",{style:Yv,children:o.map(((l,s)=>Ch(wh,{style:{...Kv,backgroundColor:l,...0===s?Qv:void 0,...s===o.length-1?eg:void 0},onPointerEnter:()=>((e,t,o)=>{n({i1:e,i2:t,i3:o})})(i,r,s),onPointerLeave:()=>{n({i1:-1,i2:-1,i3:-1})},onClick:()=>e.onChange?.(l),children:[bh("div",{style:{...Gv,...i===t.i1&&r===t.i2&&s===t.i3?og(l)?Jv:Xv:void 0}}),bh("div",{style:{...tg,borderColor:e.value===l?og(l)?Ff:"#fff":"transparent"}})]},s)))},r)))},i)))})}function lg(){return Ch("svg",{width:13,viewBox:"0 0 12 12",children:[bh("path",{fill:jf,d:"M0 6.00895C-2.43206e-09 6.12436 0.0227314 6.23864 0.0668964 6.34526C0.111061 6.45188 0.175795 6.54876 0.257401 6.63037C0.339008 6.71198 0.435888 6.77671 0.542512 6.82087C0.649136 6.86504 0.763414 6.88777 0.878823 6.88777C0.994232 6.88777 1.10851 6.86504 1.21513 6.82087C1.32176 6.77671 1.41864 6.71198 1.50024 6.63037C1.58185 6.54876 1.64658 6.45188 1.69075 6.34526C1.73491 6.23864 1.75765 6.12436 1.75765 6.00895C1.75765 5.89354 1.73491 5.77926 1.69075 5.67264C1.64658 5.56601 1.58185 5.46913 1.50024 5.38753C1.41864 5.30592 1.32176 5.24119 1.21513 5.19702C1.10851 5.15286 0.994232 5.13013 0.878823 5.13013C0.763414 5.13013 0.649136 5.15286 0.542512 5.19702C0.435888 5.24119 0.339008 5.30592 0.257401 5.38753C0.175795 5.46913 0.111061 5.56601 0.0668964 5.67264C0.0227314 5.77926 -2.43206e-09 5.89354 0 6.00895H0Z"}),bh("path",{fill:jf,d:"M4.24386 6.00898C4.24386 6.47514 4.42904 6.92221 4.75867 7.25184C5.0883 7.58147 5.53537 7.76665 6.00153 7.76665C6.4677 7.76665 6.91477 7.58147 7.24439 7.25184C7.57402 6.92221 7.7592 6.47514 7.7592 6.00898C7.7592 5.54282 7.57402 5.09575 7.24439 4.76612C6.91477 4.43649 6.4677 4.25131 6.00153 4.25131C5.53537 4.25131 5.0883 4.43649 4.75867 4.76612C4.42904 5.09575 4.24386 5.54282 4.24386 6.00898V6.00898Z"}),bh("path",{fill:jf,d:"M10.2454 6.00895C10.2454 6.24203 10.338 6.46556 10.5028 6.63037C10.6676 6.79518 10.8912 6.88777 11.1242 6.88777C11.3573 6.88777 11.5808 6.79518 11.7457 6.63037C11.9105 6.46556 12.0031 6.24203 12.0031 6.00895C12.0031 5.77587 11.9105 5.55234 11.7457 5.38753C11.5808 5.22272 11.3573 5.13013 11.1242 5.13013C10.8912 5.13013 10.6676 5.22272 10.5028 5.38753C10.338 5.55234 10.2454 5.77587 10.2454 6.00895Z"})]})}function sg(){return bh("svg",{width:6,viewBox:"0 0 6 12",children:bh("path",{d:"M0 1.5L4.5 6L0 10.5L0 12L6 6L0 -1.2666e-07L0 1.5Z",fill:"#aaa"})})}function cg(){return bh("svg",{width:12,viewBox:"0 0 12 9",children:bh("path",{fill:zf,d:"M4.29705 8.27557C4.13833 8.27557 3.9796 8.21528 3.85844 8.09482L0.215586 4.46985C-0.0267316 4.22872 -0.0267316 3.83788 0.215586 3.59685C0.457903 3.35571 0.85046 3.35581 1.09278 3.59675L4.29705 6.78527L10.8912 0.223574C11.1335 -0.0175584 11.526 -0.0175584 11.7683 0.223574C12.0107 0.46461 12.0107 0.85545 11.7683 1.09658L4.73565 8.09472C4.61448 8.21528 4.45576 8.27557 4.29705 8.27557Z"})})}const ag=Kf?44:30,ug={position:"relative",fontSize:12,boxSizing:"border-box",color:Hf,userSelect:"none",borderRadius:4,boxShadow:Wf},dg={padding:"6px 0",width:"100%"},fg={position:"relative",paddingTop:6,marginBottom:6,width:"88%",marginLeft:"6%"},hg={minHeight:ag,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:16,paddingRight:16,whiteSpace:"nowrap"},pg={display:"flex",height:Yf&&Qf?12:"auto"},vg={display:"flex",height:12},gg={color:jf,transform:"scale(0.93)",transformOrigin:"right"},mg={},yg={display:"flex",justifyContent:"center",alignItems:"center",marginRight:12,width:12,position:"relative",top:.5},bg={position:"relative",top:1},Cg={position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",width:13},wg={position:"absolute",left:"100%",top:0,zIndex:1},xg={position:"relative",padding:12},Sg={display:"flex",flexDirection:"column",backgroundColor:Tf,borderRadius:8,paddingTop:6,paddingBottom:6,paddingRight:12,paddingLeft:12,margin:"0 0 12px 0"},Eg={height:ag,display:"flex",alignItems:"center",userSelect:"none",fontSize:15,fontWeight:Vf,borderColor:"#d8d8d8",position:"relative"},kg={marginLeft:2,marginRight:10,width:18,display:"flex",alignItems:"center",justifyContent:"center"},Dg={},Ig={position:"absolute",right:5,display:"flex",alignItems:"center"},Ng={marginLeft:12,display:"flex"};function Lg(e){const[t,n]=$(-1),[o,i]=$({}),r=Z(null),l=Z({}),s=Z(null),c=(e,t)=>{(e.children?.length||e.inner)&&(r.current&&clearTimeout(r.current),n(t))},a=(e,t)=>{(e.children?.length||e.inner)&&(r.current=setTimeout((()=>{n(-1),i({})}),100))};H((()=>{if(-1!==t){const e=l.current[t];if(!e)return;const n=e.getBoundingClientRect(),o=document.body.clientHeight,r=n.top,s=o-r,c=n.height;i(c>s&&s<r?{transform:`translate(0, calc(-100% + ${ag+12}px))`}:{})}}),[t]),F((()=>()=>{r.current&&clearTimeout(r.current)}),[]);const u=e.options?.[t],d=function(e,t){let n=0;for(let o=0;o<t;o++){const t=e[o];t&&(t.separate?n+=12:n+=ag)}return n}(e.options??[],t)-(s.current?.scrollTop??0);return Ch(Dh,{style:{...ug,...e.style},children:[bh("div",{ref:s,style:{...dg,maxHeight:e.maxHeight,overflow:e.maxHeight?"auto":"unset"},children:e.options?.map(((n,o)=>!0===n.separate?bh(Uh,{type:"bottom",style:fg},o):bh(wh,{style:{position:"relative",color:n.disable?jf:"",backgroundColor:n.selected?Af:"",...n.style},onClick:()=>((n,o)=>{n.children?.length&&t||(n.action?.(n,o),e.onClick?.(n,o))})(n,o),onPointerEnter:()=>c(n,o),onPointerLeave:()=>a(n),children:Ch(Ev,{type:"background",style:{...hg,pointerEvents:n.disable?"none":"auto"},children:[Ch("div",{style:pg,children:[n.icon&&bh("span",{style:yg,children:bh("span",{style:Cg,children:n.icon})}),"string"==typeof n.name?bh("span",{style:bg,children:n.name}):n.name]}),Ch("div",{style:vg,children:[n.hotkey&&bh("span",{style:gg,children:n.hotkey}),(n.children||n.more)&&bh("span",{style:mg,children:bh(lg,{})})]})]})},o)))}),-1!==t&&u&&(u.children?.length||u.inner)&&bh("div",{style:{...wg,top:d,...o},ref:e=>((e,t)=>{l.current[t]=e})(e,t),onPointerEnter:()=>c(u,t),onPointerLeave:()=>a(u),children:u.children?.length?bh(Lg,{style:e.style,options:u.children,onClick:e.onClick}):u.inner})]})}function Tg(e){const t=e.options;return bh("div",{style:xg,children:t.map(((t,n)=>{if(0===t.length)return null;const o={...Sg,...e.style};return 1===t.length&&!1!==e.adaptive&&(o.paddingTop=4,o.paddingBottom=4),bh("div",{style:o,children:t.map(((t,n)=>{const o=`${t.value}-${n}`,i=0===n?"none":"top",r=t.iconStyle??e.iconStyle,l=t.contentStyle??e.contentStyle,s=[...t.rightIcons??[]];return t.rightIconType&&s.push(t.rightIconType),Ch(Uh,{onClick:()=>e.onClick?.(t),type:i,style:{...Eg,...t.style,opacity:t.disable?.6:1},children:[t.icon&&bh("div",{style:{...kg,...r},children:t.icon}),bh("div",{style:{...Dg,...l},children:t.name}),bh("div",{style:Ig,children:s.map(((e,t)=>("more"===e?e=bh(lg,{}):"arrow"===e?e=bh(sg,{}):"check"===e&&(e=bh(cg,{})),bh("div",{style:Ng,children:e},t))))})]},o)}))},n)}))})}const Bg={position:"relative",display:"flex",justifyContent:"center"},Ag={position:"absolute",zIndex:1},Mg={position:"relative"},Og={bottom:"calc(100% + 6px)"},Rg={top:"calc(100% + 6px)"},Pg={left:"calc(100% + 6px)"},Fg={right:"calc(100% + 6px)"},Hg={borderRadius:2,position:"relative",cursor:"pointer",width:"100%"};function _g({direction:e="bottom",align:t="center",...n}){const o=Z(null),[i,r]=$({}),l=_((()=>{const t=o.current?.getBoundingClientRect();void 0!==t&&("top"===e||"bottom"===e?t.left<12?r({left:Math.max(t.left,12)}):t.right>window.innerWidth-12&&r({left:window.innerWidth-t.right-12}):"left"!==e&&"right"!==e||(t.top<0?r({top:t.top}):t.bottom>window.innerHeight&&r({top:window.innerHeight-t.bottom})))}),[e]);H((()=>{!0===n.active&&l()}),[l,n.active]),F((()=>{if(!n.active)return;const e=()=>{l()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[l,n.active]);const s={...Ag};return"top"===e?Object.assign(s,Og):"bottom"===e?Object.assign(s,Rg):"right"===e?Object.assign(s,Pg):"left"===e&&Object.assign(s,Fg),Ch("div",{style:{...Bg,...n.style,justifyContent:t},children:[bh("div",{style:{...Hg,backgroundColor:n.active?Pf:""},children:n.children}),n.active?bh("div",{style:s,ref:o,children:bh("div",{style:{...Mg,...i},children:void 0===n.options?n.view:bh(Lg,{style:{width:n.width},options:n.options,onClick:n.onSelected})})}):null]})}const jg=U(null),Wg=U(null),zg=U(null),Vg=U(null),$g=U(null),Zg="-",Ug=`s${Zg}`;function qg(e){return 0===e.length?Ug:`${Ug}${e.join(Zg)}`}function Yg(e){return e!==Ug&&""!==e&&e.startsWith(Ug)?e.split(Zg).slice(1).map((e=>Number(e))):[]}function Kg(e,t){return`${e.replace(/-$/,"")}${Zg}${t}`}const Gg="\ufeff",Xg=/^[A-Za-z0-9']*$/,Jg="div",Qg="span",em="br",tm="pre",nm="code",om="meta-node",im="spies-node",rm="side-spies-node",lm="space-node",sm="tab-node",cm="loupe-node",am="inline-node",um="placeholder-node",dm="composition-node",fm="decorate-block-node",hm="decorate-inline-node",pm="reference-block-node",vm="reference-inline-node",gm="rgba(50, 124, 235, 0.4)",mm="rgba(50, 124, 235, 0.98)",ym="1s linear infinite breathing",bm=40,Cm=50,wm=8,xm=30,Sm=xm-6,Em=16,km=30,Dm={enter:{transform:"scale3d(1, 1, 1)",opacity:1,transition:"transform 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0), opacity 100ms cubic-bezier(0.4, 0.0, 0.0, 1.0)"},leave:{transform:"scale3d(0.96, 0.96, 1)",opacity:0,transition:"transform 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0), opacity 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0)"}};function Im(e){return Array.isArray(e?.children)}function Nm(e){return Im(e)&&(e.type===Qg||e.type===om||e.type===em||e.type===nm||e.type===hm||e.type===vm)}function Lm(e){return Im(e)&&(e.type===Jg||e.type===tm||e.type===fm||e.type===pm)}function Tm(e){return Lm(e)&&Lm(e.children[0])}function Bm(e){return Lm(e)&&!Lm(e.children[0])}function Am(e){return Array.isArray(e?.children)&&void 0!==e.key}function Mm(e){return Am(e)&&Nm(e)}function Om(e){return Am(e)&&Lm(e)}function Rm(e){return Om(e)&&Om(e.children[0])}function Pm(e,t){if(Cc(e))return""===e||e===Gg;if(!Im(e))return!0;if(Wm(e))return!1;let n=e.children.length;if(n>1&&!t)return!1;for(;n>0;){if(!Pm(e.children[n-1],t))return!1;n--}return!0}function Fm(e,t){return e===t||Am(e)&&Am(t)&&e.key===t.key}function Hm(e,t,n){if(Cc(e)&&Cc(t))return!0;if(Wm(e)||Wm(t))return!1;if(Jm(e)||Jm(t))return!1;if(Im(e)&&Im(t))return Fc(e.type,t.type)&&Fc(e.style,t.style)&&Fc(e.props,t.props)&&zc(e.children.find(Im))&&zc(t.children.find(Im));if(Cc(e)&&Im(t)&&t.type===Qg&&1===t.children.length&&Cc(t.children[0])){if(Pc(t.style))return!0;if(n){for(let e in t.style){if(t.style[e]!==n[e])return!1}return!0}}return!1}function _m(e,t){return e.type===t.type&&(!e.style?.display&&!t.style?.display&&(!(!Pc(e.props)||!Pc(t.props))&&(1===oy(e)&&1===oy(t))))}function jm(e,t){if(!Im(e)||!Im(t))return e===t;if(e.type!==t.type)return!1;if(e.children.length!==t.children.length)return!1;if(!Fc(e.props,t.props))return!1;let n=e.style,o=t.style;if(e.position&&(n=qC(n)),t.position&&(o=qC(o)),!Fc(n??{},o??{}))return!1;for(let n=0;n<e.children.length;n++)if(!jm(e.children[n],t.children[n]))return!1;return!0}function Wm(e){return!!Im(e)&&e.type===om}function zm(e){return $m(e)||Vm(e)}function Vm(e){return!!Im(e)&&e.type===fm}function $m(e){return!!Im(e)&&e.type===hm}function Zm(e){if(!Wm(e))return!1;const t=e.children[0];return!!Im(t)&&t.props?.type===lm}function Um(e){if(!Wm(e))return!1;const t=e.children[0];return!!Im(t)&&t.props?.type===sm}function qm(e){if(!Wm(e))return!1;const t=e.children[0];return!!Im(t)&&t?.type===em}function Ym(e){if(!Wm(e))return!1;const t=e.children[0];return!!Im(t)&&t.props?.type===um}function Km(e){return!!Im(e)&&e.props?.type===dm}function Gm(e){return!!Im(e)&&e.type===im}function Xm(e){return!!Im(e)&&e.type===rm}function Jm(e){return ey(e)||Qm(e)}function Qm(e){return!!Im(e)&&e.type===pm}function ey(e){return!!Im(e)&&e.type===vm}function ty(e,t){const n=[{node:e,path:[]}];for(;n.length>0;){const e=n.pop(),o=t(e.node,e.path);if(!0===o)return;if(!1!==o)for(let t=e.node.children.length-1;t>=0;t--){const o=e.node.children[t];Im(o)&&n.push({node:o,path:[...e.path,t]})}}}function ny(e,t=[]){const n={...e,critical:Bm(e),key:qg(t),children:e.children.map(((e,n)=>Im(e)?ny(e,t.concat(n)):e))};return n.style&&(n.style={...n.style}),n}function oy(e){return null===e?0:Cc(e)?e.length:e.children.length}function iy(e,t){let n=0;for(;n<t.length;){if(!Im(e))return null;e=e.children[t[n]],n++}return void 0===e?null:e}function ry(e,t){return Cc(e)?null:iy(e,fb(e,t))}function ly(e,t){const n=[];let o=0;for(;o<t.length;){if(!Im(e))return n;e=e.children[t[o]],n.push(e),o++}return n}function sy(e,t){const n=[];return Cc(e)?n:ly(e,fb(e,t))}function cy(e,t){const n=[];let o=e.children[0];if(t&&Om(o)&&!o.position)for(const t of e.children)if(o=t,Om(t)&&t.position)break;for(;Om(o)&&o.position;)if(n.push(o.position.top),t){const e=o.children.slice();for(const t of e)if(o=t,Om(t)&&t.position)break}else o=o.children[0];return n}function ay(e,t){const n=fb(e,t),o=[];let i=e.children,r=0;for(;r<n.length;){const e=i[n[r]];if(!Am(e))break;if(void 0!==e.position?.top)o.push(e.position.top);else{if(!(n[r]>0))break;{const e=i[n[r]-1];if(!Am(e)||void 0===e.position?.bottom)break;o.push(e.position.bottom)}}i=e.children,r++}return o}function uy(e,t){let n=e={...e},o=0;for(;o<t.length;){n.children=[...n.children];const i=n.children[t[o]];if(!Im(i))return e;n.children[t[o]]={...i},n=n.children[t[o]],o++}return e}function dy(e){let t=0;for(;Om(e)&&(e.position?.top&&(t+=e.position.top),Rm(e));)t+=$C(e.style),t-=parseFloat(String(e.style?.paddingTop||0)),e=e.children[0];const n=(e.position?.bottom||0)-(e.position?.top||0);return{top:t,size:n,edge:e.critical?n:ZC(e.style)}}function fy(e){let t=0;for(;Om(e)&&(e.position?.top&&(t+=e.position.top),Rm(e));)t+=$C(e.style),t-=parseFloat(String(e.style?.paddingTop||0)),e=e.children[e.children.length-1];const n=(e.position?.bottom||0)-(e.position?.top||0);return{top:t,size:n,edge:e.critical?n:$C(e.style)}}function hy(e){const t=dc(e.children);return Om(t)&&t.position?t.position.bottom:0}function py(e){const{node:t,scrollTop:n,scrollOffset:o,threshold:i}=e,{top:r,size:l,edge:s}=dy(t);return{diff:n-r-(l-s)-((o?.top??0)+(i??0)),size:s}}function vy(e){const{node:t,scrollTop:n,clientHeight:o,scrollOffset:i,threshold:r}=e,{top:l,edge:s}=fy(t);return{diff:l+s-n-o-((i?.bottom??0)+(r??0)),size:s}}function gy(e){const t={type:e.type,children:e.children.map((e=>Am(e)?gy(e):e))};e.props&&(t.props=ds(e.props));let n=e.style;return Lm(e)&&(n=qC(n)),Pc(n)||(t.style=n),t}function my(e,t){const n=Yg(t);return{...e,critical:Bm(e),key:t,children:e.children.map(((e,t)=>Im(e)?my(e,qg([...n,t])):e))}}function yy({...e}){return delete e.position,e.style=qC({...e.style}),{...e,children:e.children.map((e=>Lm(e)?yy(e):e))}}function by(e,t,n=0){if(0===t.length)return e;const o=e.children[0];if(Am(o)){const e=Yg(o.key);t=[t[0]-e[n],...t.slice(1)]}const i=e.children.slice(t[0]);let r=i[0];return Am(r)&&(r=by(r,t.slice(1),n+1)),{...e,children:[r,...i.slice(1)]}}function Cy(e,t,n){const o={type:Jg,children:e};return void 0!==t&&(o.style=t),void 0!==n&&(o.props=n),o}function wy(e,t,n){const o={type:Qg,children:e};return void 0!==t&&(o.style=t),void 0!==n&&(o.props=n),o}function xy(e,t){const n={type:om,children:e};return void 0!==t&&(n.style=t),n}function Sy(e){return xy([{type:Qg,props:{type:lm},style:{display:"inline-block",...e},children:[Gg]}])}function Ey(e){return xy([{type:Qg,props:{type:sm},style:{display:"inline-block",...e},children:[Gg]}])}function ky(){return xy([{type:em,children:[Gg]}])}function Dy(){return xy([{type:Qg,props:{type:um},style:{display:"inline-block",width:12},children:[Gg]}])}function Iy(e){return wy([e],{textDecoration:"underline"},{type:dm})}function Ny(){return{type:cm,children:[]}}function Ly(e,t=[],n="right"){const o={type:im,props:{origin:e},children:[]},i=[...t];return"right"===n?i.push(o):"left"===n&&i.unshift(o),{type:rm,children:i}}function Ty(e){return!!e&&By(e.anchor,e.focus)}function By(e,t){return e.offset===t.offset&&Oy(e.path,t.path)}function Ay(e,t){return 1===Fy(e,t)}function My(e,t){return-1===Fy(e,t)}function Oy(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function Ry(e,t){return 1===Hy(e,t)}function Py(e,t){return-1===Hy(e,t)}function Fy(e,t){const n=Hy(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n}function Hy(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){if(e[o]<t[o])return-1;if(e[o]>t[o])return 1}return 0}function _y(e,t){if(Am(t)){const n=ry(t,e);if(Lm(n)&&oy(n)>0)return!1}else if(Im(t)){const n=iy(t,e);if(Lm(n)&&oy(n)>0)return!1}return jy(e)}function jy(e){return e.filter((e=>0===e)).length===e.length}function Wy(e,t){const n=yb(e);if(null===ry(e,n))return!1;const{path:o,offset:i}=t.focus;return Ty(t)&&Oy(o,n)&&0===i}function zy(e,t){const n=bb(e),o=ry(e,n);if(null===o)return!1;const{path:i,offset:r}=t.focus;return Ty(t)&&Oy(i.slice(0,n.length),n)&&oy(o)===r}function Vy(e,t){const{anchor:n,focus:o}=ps(e),i=yb(t),r=bb(t);return!(!Ry(o.path,n.path)&&!Ry(n.path,i)&&null===ry(t,n.path))&&(!(!Ry(n.path,o.path)&&!Ry(o.path,i)&&null===ry(t,o.path))&&(!(!Py(o.path,n.path)&&!Py(n.path,r)&&null===ry(t,n.path))&&!(!Py(n.path,o.path)&&!Py(o.path,r)&&null===ry(t,o.path))))}function $y(e,t){if(zc(t))return!1;const{before:n}=qy(t),o=Cb(e),i=Hy(n.path,o);if(1===i)return!1;if(0===i&&n.path.length>o.length)return!jy(o);const r=Tb(e,n.path);if(Oy(r,o))return!1;if(!Ry(r,o))return!0;const l=ry(e,o);return!(!Om(l)||0!==l.children.length)}function Zy(e,t){if(zc(t))return!1;const{after:n}=qy(t),o=bb(e),i=Hy(n.path,o);if(-1===i)return!1;if(0===i&&n.path.length>o.length)return!0;const r=Tb(e,n.path);if(Oy(r,o))return!1;if(!Py(r,o))return!0;const l=ry(e,o);return!(!Om(l)||0!==l.children.length)}function Uy(e,t){if(void 0===t)return!1;if(!Ty(t)){return!Oy(Tb(e,t.focus.path),Tb(e,t.anchor.path))}const{before:{path:n,offset:o}}=qy(t,!1);if(0!==o)return!1;const i=Tb(e,n),r=n.slice(i.length);return r.filter((e=>0===e)).length===r.length}function qy(e,t=!0){let n=t?ps(e.anchor):e.anchor,o=t?ps(e.focus):e.focus;if(My(o,n)){let e=n;n=o,o=e}return{before:n,after:o}}function Yy(e,t){if(Ty(t))return t;let n=!1;const{before:o,after:i}=qy(t),r=ry(e,o.path);if(null!==r&&oy(r)===o.offset&&(o.path=xb(e,o.path),o.offset=0,n=!0),0===i.offset){const t=kb(e,i.path),o=ry(e,t);null!==o&&(i.path=t,i.offset=oy(o),n=!0)}return!1===n?t:My(t.anchor,t.focus)?{anchor:o,focus:i}:{anchor:i,focus:o}}function Ky(e,t){const{focus:n,anchor:o}=t;return{focus:{...n,path:fb(e,n.path)},anchor:{...o,path:fb(e,o.path)}}}function Gy(e,t){const n=e.selection;let o=e.node,i=o.style?.color||t?.color||Bf;if(!n||!Ty(n))return i;const r=fb(o,n.focus.path);for(let e=0;e<r.length;e++){const t=o.children[r[e]];if(!Am(t))break;o=t,i=o.style?.color||i}return i}function Xy(e,t){let n=e.selection;if(void 0===n)return;n=Yy(e.node,n);const o={},{before:i,after:r}=qy(n),l=fb(e.node,i.path);let s=0,c=e.node;do{if(Am(c)&&(Object.assign(o,c.style),c=c.children[l[s]],Wm(c)))break}while(s++<l.length);if(Ty(n)||(i.path=fb(e.node,i.path),r.path=fb(e.node,r.path),Jy(e.node,e.node.style||{},o,i,r)),t)for(let e in o){const n=e;void 0===t[n]&&delete o[n]}return{...t,...o}}function Jy(e,t,n,o,i){let r=0;for(;r<e.children.length;){const l=e.children[r];if((r===o.path[0]||r===i.path[0])&&i.path[0]>=0){if(Cc(l)||Wm(l)){Wm(l)&&l.style&&(t={...t,...l.style});for(let e in n){const o=n[e],i=t[e]??"";i!==o&&("textDecorationLine"===e?-1!==i.indexOf(o)?n[e]=o:-1!==o.indexOf(i)?n[e]=i:delete n[e]:delete n[e])}}else if(Am(l)&&l.children.length){const e={...o,path:fc(o.path)},s={...i,path:fc(i.path)};(Pc(e.path)||r!==o.path[0]&&r===i.path[0])&&(e.path=[0],e.offset=0),(Pc(s.path)||r===o.path[0]&&r!==i.path[0])&&(s.path=[l.children.length-1],s.offset=oy(l.children[l.children.length-1])),Jy(l,{...t,...l.style},n,e,s)}}else if(r>o.path[0]&&r<i.path[0])if(Cc(l)||Wm(l)){Wm(l)&&l.style&&(t={...t,...l.style});for(let e in n){const o=n[e],i=t[e]??"";i!==o&&("textDecorationLine"===e?-1!==i.indexOf(o)?n[e]=o:-1!==o.indexOf(i)?n[e]=i:delete n[e]:delete n[e])}}else if(Am(l)&&l.children.length){const e={path:[0],offset:0},o={path:[l.children.length-1],offset:oy(l.children[l.children.length-1])};Jy(l,{...t,...l.style},n,e,o)}r++}}function Qy(e){let t=e.selection;if(void 0===t)return;if(t=Yy(e.node,t),Ty(t)){const n={},o=t.focus.path,i=fb(e.node,o);let r=e.node,l=0;do{if(zm(r)){const e=r.props?.type;void 0!==e&&(n[e]=r.props?.subclass),Object.assign(n,r.props?.mergeclass)}const e=r.children[i[l]];if(!Am(e))break;r=e}while(l++<i.length);return n}let n=null;return tb(e.node,t,((t,o)=>{const i={},r=fb(e.node,o);let l=e.node,s=0;do{if(zm(l)){const e=l.props?.type;void 0!==e&&(i[e]=l.props?.subclass),Object.assign(i,l.props?.mergeclass)}const e=l.children[r[s]];if(!Am(e))break;l=e}while(s++<r.length);if(null!==n)for(const e in n)void 0===i[e]&&delete n[e];else n=i})),n??void 0}function eb(e){let t=0;const{scrollTop:n,scrollOffset:o,clientHeight:i,selectionLayout:r,selection:l}=e;if(!l||!r)return t;const s=o?.top??0,{top:c,height:a=0}=r;return n>c?t=c-n:c+s+a>n+i&&(t=c+s+a-n-i),t}function tb(e,t,n,o){const{before:i,after:r}=qy(t);let l=o?r.path:i.path;do{const t=ry(e,l);if(null===t)break;if(!1===n(t,l))break;if(o){if(l=kb(e,l),Py(l,i.path))break}else if(l=xb(e,l),Ry(l,r.path))break}while(l.length)}function nb(e,t,n,o){const{before:i,after:r}=qy(t),l=Tb(e,i.path),s=Tb(e,r.path);let c=o?s:l;do{const t=ry(e,c);if(!Om(t))break;if(!1===n(t,c))break;if(o){if(c=Db(e,c),Py(c,l))break}else if(c=Sb(e,c),Ry(c,s))break}while(c.length)}function ob(e){const{scrollTop:t,clientHeight:n,selectionLayout:o}=e;if(!o)return!1;const{top:i,height:r}=o;return t>i+(r??0)||i>t+n}function ib(e,t,n,o){const{clientX:i,clientY:r}=e,{node:l,scrollOffset:s,scrollHeight:c,scrollTop:a}=n,u=s?.top??0;let d=Nb(i-t.left,r-t.top-u+a,l,o);const f=ry(l,d);return Am(f)&&(d=Lb(i,r,f,o)),0===d.length&&(r>=c-a-u?d=wb(l):r<=u&&(d=Cb(l))),{path:d,offset:0,clientX:i,clientY:r}}function rb(e,t,n,o){const{clientX:i,clientY:r}=e,{node:l,scrollOffset:s,scrollHeight:c,scrollTop:a}=n,u=n.scrollOffset?.top??0;let d=Nb(i-t.left,r+a-t.top-u,l,o);const f=ry(l,d);if(Am(f)&&(d=Lb(i,r,f,o)),0===d.length){const e=s?.top??0;r>=c-a-e?d=wb(l):r<=e&&(d=Cb(l))}return{path:d,offset:0,clientX:i,clientY:r}}function lb(e,t){const{before:n,after:o}=qy(e,!1);return Hy(n.path,t)<=0&&Hy(o.path,t)>=0}function sb(e){const{focus:t,anchor:n}=e,o=[];for(let e=0;e<t.path.length&&t.path[e]===n.path[e];e++)o.push(t.path[e]);return o}function cb(e,t,n){const{selection:o,selectionLayout:i,node:r}=e;if(!o||zy(r,o))return null;const l=i?.point?.end;if(!l)return null;let{right:s,bottom:c}=l;const a=n.getBoundingClientRect();s+=a.left,c+=a.top;let u=s,d=c,f=d,h=u,p=hc(o.focus.path);for(;p.length>0;){const e=ry(r,p);if(Cc(e)){p=hc(p);continue}if(!Am(e)){p=xb(r,p);continue}const n=t.get(e.key);if(!n)continue;let o=!1;const i=n.getClientRects();for(let e=0;e<i.length;e++){const{right:t,bottom:n}=i[e];if(n>f){f=n,h=t,o=!0;break}}if(o)break;p=xb(r,p)}return d===f?u=h:d=f,{clientX:u,clientY:d}}function ab(e,t,n){const{selection:o,selectionLayout:i,node:r}=e;if(!o||Wy(r,o))return null;const l=i?.point?.start;if(!l)return null;let{left:s,top:c}=l;const a=n.getBoundingClientRect();c+=a.top,s+=a.left;let u=s,d=c,f=d,h=u,p=hc(o.focus.path);for(;p.length>0;){const e=ry(r,p);if(Cc(e)){p=hc(p);continue}if(!Am(e)){p=kb(r,p);continue}const n=t.get(e.key);if(!n)continue;let o=!1;const i=n.getClientRects();for(let e=i.length-1;e>=0;e--){const{left:t,top:n}=i[e];if(n<f){f=n,h=t,o=!0;break}}if(o)break;p=kb(r,p)}return d===f?u=h:d=f,{clientX:u,clientY:d}}function ub(e,t,n){return Oy(Tb(e,t),Tb(e,n))}function db(e,t){let n=t.length;for(;n>0;){if(Wm(ry(e,t.slice(0,n))))return!0;n--}return!1}function fb(e,t){return hb(t,yb(e))}function hb(e,t){const n=[];let o=!1;return e.forEach(((e,i)=>{const r=t[i]||0;!0===o?n.push(e):e%1==0?n.push(e-r):e%1!=0&&(e<0?n.push(e+r):n.push(e-r)),e!==r&&(o=!0)})),n}function pb(e,t){const n=[],o=yb(e);let i=!1;return t.forEach(((e,t)=>{const r=o[t]||0;!0===i?n.push(e):e%1==0?n.push(e+r):e%1!=0&&(e<0?n.push(e-r):n.push(e+r)),0!==e&&(i=!0)})),n}function vb(e){const t=[];for(;Im(e);){const n=e.children[0];if(void 0===n)break;if(t.push(0),Cc(n)||Wm(n))break;e=n}return t}function gb(e){const t=[];for(;Im(e);){const n=Math.max(e.children.length-1,0),o=e.children[n];if(void 0===e)break;if(t.push(n),Cc(o)||Wm(o))break;e=o}return t}function mb(e){const t=[];for(;Lm(e);){const n=e.children[0];if(void 0===n)break;if(Cc(n)||Wm(n)||Nm(n))break;t.push(0),e=n}return t}function yb(e,t){if(Wm(e))return Yg(e.key);for(;Am(pc(e.children))&&!Wm(pc(e.children)??null);)e=pc(e.children);let n=Yg(e.key);return t||e.children.length&&(n=[...n,0]),n}function bb(e,t){if(Wm(e))return Yg(e.key);for(;Am(dc(e.children))&&!Wm(dc(e.children)??null);)e=dc(e.children);let n=Yg(e.key);return t||e.children.length&&(n=[...n,e.children.length-1]),n}function Cb(e){for(;Rm(e);)e=e.children[0];return Yg(e.key)}function wb(e){for(;Rm(e);)e=e.children[e.children.length-1];return Yg(e.key)}function xb(e,t){let n=fb(e,t),o=ry(e,hc(t));for(;Am(o)&&dc(n)>=o.children.length-1;)t=hc(t),o=ry(e,hc(t)),n=hc(n);if(0===t.length)return t;const i=ry(e,t=Pb(t));return Am(i)?yb(i):t}function Sb(e,t){if(0===t.length)return t;let n=ry(e,t=Tb(e,t));if(Tm(n))return[...t,0];let o=fb(e,t);for(;t.length;){const i=dc(o)??0;if(t=hc(t),o=hc(o),n=ry(e,t),n.children.length-1>i){n=n.children[i+1],Om(n)&&(t=Yg(n.key));break}}return t}function Eb(e,t){if(0===t.length)return t;let n=iy(e,t=Tb(e,t));if(Tm(n))return[...t,0];for(;t.length;){const o=dc(t)??0;if(n=iy(e,t=hc(t)),n.children.length-1>o){n=n.children[o+1],Lm(n)&&(t=[...t,o+1]);break}}return t}function kb(e,t){for(;0===dc(t);)t=hc(t);if(0===t.length)return t;const n=ry(e,t=Rb(t));return Am(n)?bb(n):t}function Db(e,t){if(0===t.length)return t;let n=ry(e,t=Tb(e,t));if(Tm(n))return n=dc(n.children),Yg(n.key);for(;t.length;){const e=dc(t)??0;if(t=hc(t),e>0){t=[...t,e-1];break}}return t}function Ib(e,t){if(0===t.length)return t;let n=iy(e,t=Tb(e,t));if(Tm(n))return[...t,n.children.length-1];for(;t.length;){const e=dc(t)??0;if(t=hc(t),e>0){t=[...t,e-1];break}}return t}function Nb(e,t,n,o,i){if(n.position)e-=n.position.left,t-=n.position.top;else if(!i){i=o.get(n.key).getBoundingClientRect()}for(let r=0,l=n.children.length;r<l;r++){let l=n.children[r];if(Om(l)){let n,r=l.position;if(!r&&i){const{left:e,top:t}=i,s=o.get(l.key);if(void 0===s)continue;n=s.getBoundingClientRect(),r={left:n.left-e,top:n.top-t,bottom:n.bottom-t,right:n.right-e}}if(l={...l,position:r},l.position){const{left:i,top:r,bottom:s}=l.position,c=t-$C(l.style);if(e>=i&&c>=r&&c<=s)return Nb(e,c,l,o,n)}}}return Yg(n.key)}function Lb(e,t,n,o){let i=Yg(n.key),r=-1/0,l=1/0,s=-1/0,c=1/0;return ty(n,(n=>{if(Nm(n)){const a=o.get(n.key);if(!a)return;const u=a.getClientRects();for(let o=0;o<u.length;o++){let{left:a,right:d,top:f,bottom:h}=u[o];u[o-1]&&(f=u[o-1].bottom),u[o+1]&&(h=u[o+1].top),e>=a&&e<=d&&t>=f&&t<=h&&a>=r&&d<=l&&f>=s&&h<=c&&(r=a,l=d,s=f,c=h,i=Yg(n.key))}}})),i}function Tb(e,t){if(!Lm(e))return[];const n=t;let o=!1;Am(e)&&(o=!0,t=fb(e,t));let i=0;for(;i<t.length;){const n=e.children[t[i]];if(!Lm(n))break;i++,e=n}return o&&Am(e)?Yg(e.key):n.slice(0,i)}function Bb(e,t,n){let o=t.length;for(;o>=0;){let i;if(Am(e)?i=ry(e,t.slice(0,o)):Im(e)&&(i=iy(e,t.slice(0,o))),Im(i)&&zm(i)&&(void 0===n||n===i.props?.type))return t.slice(0,o);o--}}function Ab(e,t,n){let o,i=t.length;for(;i>=0;){let r;if(Am(e)?r=ry(e,t.slice(0,i)):Im(e)&&(r=iy(e,t.slice(0,i))),Im(r)&&Jm(r)&&(o=t.slice(0,i),!n))break;i--}return o}function Mb(e,t){let n=t.length;for(;n>0;){let o=null;if(Am(e)?o=ry(e,t.slice(0,n)):Im(e)&&(o=iy(e,t.slice(0,n))),Wm(o))return t.slice(0,n);n--}return[]}function Ob(e,t){let n=t.length;for(;n>0;){let o=null;if(Am(e)?o=ry(e,t.slice(0,n)):Im(e)&&(o=iy(e,t.slice(0,n))),Km(o))return t.slice(0,n);n--}return[]}function Rb(e){return 0===e.length||0===e[e.length-1]?e:[...e.slice(0,-1),e[e.length-1]-1]}function Pb(e){return 0===e.length?e:[...e.slice(0,-1),e[e.length-1]+1]}const Fb={position:"relative",width:"100%"},Hb={display:"flex",justifyContent:"center",position:"relative",overflow:"hidden",width:"100%"},_b={position:"relative",outline:"none",userSelect:"none",cursor:"text",display:"flex",width:"100%",alignItems:"flex-start"},jb={width:"100%"},Wb={position:"absolute",zIndex:1e4,pointerEvents:"none",width:2,borderRadius:1,left:-1,userSelect:"none"},zb={position:"absolute",zIndex:1e4,pointerEvents:"none",left:0,width:"100%",userSelect:"none"},Vb={position:"absolute",top:0,width:Em,height:Em,borderRadius:"50%",backgroundColor:"rgba(0, 0, 0, 0.3)",userSelect:"none",pointerEvents:"none"},$b={position:"absolute",left:0,width:"100%",height:"100%",userSelect:"none"},Zb={position:"absolute",zIndex:102,transition:"opacity 100ms"},Ub={position:"absolute",pointerEvents:"none",borderRadius:12,padding:8,zIndex:103,overflow:"hidden",backgroundColor:Tf,boxShadow:"inset 3px 3px 3px rgba(0, 0, 0, 0.1), inset -3px -3px 3px rgba(0, 0, 0, 0.1)"},qb={position:"absolute",left:0,top:0,display:"flex",justifyContent:"center"},Yb={position:"absolute",pointerEvents:"auto",display:"flex",justifyContent:"center",willChange:"left, top"},Kb={position:"absolute",display:"flex",backgroundColor:Tf,borderRadius:bm/2,boxShadow:Wf,userSelect:"none",overflow:"hidden"},Gb={display:"flex",width:Cm,height:bm-1,justifyContent:"center",alignItems:"center",fontSize:14,fontWeight:Vf,paddingTop:1},Xb={backgroundColor:mm,width:Sm,height:Sm,borderTopLeftRadius:Sm/2,borderBottomLeftRadius:Sm/2,borderBottomRightRadius:Sm/2,boxShadow:"-1px 1px 5px 1px rgba(0, 0, 0, 0.12)",transition:"opacity 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0)",userSelect:"none"},Jb={position:"absolute",paddingLeft:6,paddingBottom:6,userSelect:"none",pointerEvents:"auto"},Qb={backgroundColor:mm,width:Sm,height:Sm,borderTopRightRadius:Sm/2,borderBottomRightRadius:Sm/2,borderBottomLeftRadius:Sm/2,boxShadow:"1px 1px 5px 1px rgba(0, 0, 0, 0.12)",transition:"opacity 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0)",userSelect:"none"},eC={position:"absolute",paddingRight:6,paddingBottom:6,userSelect:"none",pointerEvents:"auto"},tC={copy:"copy",paste:"paste",cut:"cut",selectAll:"Select All"},nC={cn:{[tC.copy]:"",[tC.paste]:"",[tC.cut]:"",[tC.selectAll]:""},en:{[tC.copy]:"Copy",[tC.paste]:"Paste",[tC.cut]:"Cut",[tC.selectAll]:"Select All"}},oC={cut:Uf?"+X":"Ctrl+X",copy:Uf?"+C":"Ctrl+C",paste:Uf?"+V":"Ctrl+V",selectAll:Uf?"+A":"Ctrl+A",bold:Uf?"+B":"Ctrl+B",italic:Uf?"+I":"Ctrl+I",alignLeft:Uf?"++L":"Ctrl+Shift+L",alignCenter:Uf?"++C":"Ctrl+Shift+C",alignRight:Uf?"++R":"Ctrl+Shift+R",alignJustify:Uf?"++J":"Ctrl+Shift+J",space:"space",altSpace:Uf?"+space":"Alt+space",tab:"tab",shiftTab:Uf?"+tab":"Shift+tab",splitBlock:"enter",shiftSplitBlock:Uf?"+enter":"Shift+enter",moveBackward:"",moveForward:"",moveUp:"",moveDown:"",moveWordBackward:Uf?"+":"Ctrl+",moveWordForward:Uf?"+":"Ctrl+",moveLineBackward:Uf?"+":"Ctrl+",moveLineForward:Uf?"+":"Ctrl+",expandBackward:Uf?"+":"Shift+",expandForward:Uf?"+":"Shift+",expandLineBackward:Uf?"++":"Alt+Shift+",expandLineForward:Uf?"++":"Alt+Shift+",deleteBackward:"Ctrl?+Backspace",deleteForward:"Ctrl?+Del",deleteLineBackward:Uf?"+?+Backspace":"Ctrl+Shift+Backspace",deleteLineForward:Uf?"+?+Del":"Ctrl+Shift+Del",deleteWordBackward:Uf?"++Backspace":"Alt+Shift+Backspace",deleteWordForward:Uf?"++Del":"Alt+Shift+Del"},iC=Xs(hh)(oC.cut),rC=Xs(hh)(oC.copy),lC=Xs(ph)(oC.paste),sC=Xs(hh)(oC.selectAll),cC=Xs(hh)(oC.bold),aC=Xs(hh)(oC.italic),uC=Xs(hh)(oC.alignLeft),dC=Xs(hh)(oC.alignCenter),fC=Xs(hh)(oC.alignRight),hC=Xs(hh)(oC.alignJustify),pC=Xs(hh)(oC.space),vC=Xs(hh)(oC.altSpace),gC=Xs(hh)(oC.tab),mC=Xs(hh)(oC.shiftTab),yC=Xs(hh)(oC.splitBlock),bC=Xs(hh)(oC.shiftSplitBlock),CC=Xs(hh)(oC.moveBackward),wC=Xs(hh)(oC.moveForward),xC=Xs(hh)(oC.moveUp),SC=Xs(hh)(oC.moveDown),EC=Xs(hh)(oC.moveWordBackward),kC=Xs(hh)(oC.moveWordForward),DC=Xs(hh)(oC.moveLineBackward),IC=Xs(hh)(oC.moveLineForward),NC=Xs(hh)(oC.expandBackward),LC=Xs(hh)(oC.expandForward),TC=Xs(hh)(oC.expandLineBackward),BC=Xs(hh)(oC.expandLineForward),AC=Xs(hh)(oC.deleteBackward),MC=Xs(hh)(oC.deleteForward),OC=Xs(hh)(oC.deleteLineBackward),RC=Xs(hh)(oC.deleteLineForward),PC=Xs(hh)(oC.deleteWordBackward),FC=Xs(hh)(oC.deleteWordForward),HC=[{value:tC.cut,editable:!0,hotkey:oC.cut},{value:tC.copy,hotkey:oC.copy},{value:tC.paste,editable:!0,hotkey:oC.paste},{value:tC.selectAll,hotkey:oC.selectAll}];function _C(e){return HC.filter((t=>{if(!1===e.editable){if(t.value===tC.cut)return!1;if(t.value===tC.paste)return!1}return!0}))}const jC=e=>{if(!e.virtual)return{...Hb,...e.style};const{value:{clientHeight:t,scrollHeight:n},scroller:o}=e;return{...Hb,...e.style,height:t,overflow:"native"===o?"scroll":n>t?"hidden":"unset"}},WC=e=>{if(!e.virtual)return jb;const{value:{node:t,scrollTop:n,scrollHeight:o},scroller:i}=e;let r=o;if("native"!==i){const e=t.position?.top??0;r=(t.position?.bottom??0)-e}const l="native"===i?0:-n,s={...jb,height:r};return e.disableEvents&&(s.pointerEvents="none"),"native"!==i&&(s.transform=`translate(0, ${l}px)`),s},zC=e=>{if(!e.virtual){const t={..._b,...e.editStyle};return"native"===e.selecter&&(t.userSelect="auto"),t}const{value:{contentHeight:t,clientWidth:n},scroller:o,virtual:i}=e;let r=e.value.clientHeight;i&&"native"!==o||(r=t);const l={..._b,width:n,height:r,...e.editStyle};return"native"===e.selecter&&(l.userSelect="auto"),l};function VC(e){let t=0;return e?(t+=$C(e),t+=ZC(e),t):t}function $C(e){let t=0;if(!e)return t;if(e.marginTop){let n=parseFloat(String(e.marginTop));isNaN(n)&&(n=0),t+=n}if(e.borderTop){let n=parseFloat(String(e.borderTop));isNaN(n)&&(n=0),t+=n}if(e.paddingTop){let n=parseFloat(String(e.paddingTop));isNaN(n)&&(n=0),t+=n}return t}function ZC(e){let t=0;if(!e)return t;if(e.marginBottom){let n=parseFloat(String(e.marginBottom));isNaN(n)&&(n=0),t+=n}if(e.borderBottom){let n=parseFloat(String(e.borderBottom));isNaN(n)&&(n=0),t+=n}if(e.paddingBottom){let n=parseFloat(String(e.paddingBottom));isNaN(n)&&(n=0),t+=n}return t}function UC(e){let t=0;if(!e||"border-box"===e.boxSizing)return t;if(e.marginTop){let n=parseFloat(String(e.marginTop));isNaN(n)&&(n=0),t+=n}if(e.marginBottom){let n=parseFloat(String(e.marginBottom));isNaN(n)&&(n=0),t+=n}return t}function qC(e){return e?(delete(e={...e}).height,delete e.position,delete e.top,delete e.bottom,delete e.left,delete e.right,e):e}function YC(e){return e?(delete(e={...e}).margin,delete e.padding,delete e.marginTop,delete e.marginBottom,delete e.marginLeft,delete e.marginRight,delete e.paddingTop,delete e.paddingBottom,delete e.paddingLeft,delete e.paddingRight,e):e}function KC(e){const t={};return e?(e.marginTop&&(t.marginTop=e.marginTop),e.marginBottom&&(t.marginBottom=e.marginBottom),e.marginLeft&&(t.marginLeft=e.marginLeft),e.marginRight&&(t.marginRight=e.marginRight),e.paddingTop&&(t.paddingTop=e.paddingTop),e.paddingBottom&&(t.paddingBottom=e.paddingBottom),e.paddingLeft&&(t.paddingLeft=e.paddingLeft),e.paddingRight&&(t.paddingRight=e.paddingRight),t):t}function GC(e,t){return t?(e={...e},t.marginTop&&(e.marginTop=(e.marginTop??0)+t.marginTop),t.marginBottom&&(e.marginBottom=(e.marginBottom??0)+t.marginBottom),t.marginLeft&&(e.marginLeft=(e.marginLeft??0)+t.marginLeft),t.marginRight&&(e.marginRight=(e.marginRight??0)+t.marginRight),t.paddingTop&&(e.paddingTop=(e.paddingTop??0)+t.paddingTop),t.paddingBottom&&(e.paddingBottom=(e.paddingBottom??0)+t.paddingBottom),t.paddingLeft&&(e.paddingLeft=(e.paddingLeft??0)+t.paddingLeft),t.paddingRight&&(e.paddingRight=(e.paddingRight??0)+t.paddingRight),e):e}function XC(e,t,n){const o={},i=fb(e,t);let r=0,l=e;do{if(l.style)for(let e in l.style){const t=e;n?.[t]&&(o[t]=l.style[t])}const e=l.children[i[r++]];if(!Am(e))break;l=e}while(l&&r<i.length);const s={},c=[];let a=ry(e,t);for(;Am(a);){if(a.style)for(let e in a.style){const t=e;n?.[t]&&(void 0===s[t]?s[t]=a.style[t]:s[t]!==a.style[t]&&delete s[t])}for(let e=0;e<a.children.length;e++){const t=a.children[e];Am(t)&&c.push(t)}a=c.shift()||null}return{...n,...o,...s}}function JC(e){let t=parseFloat(String(e||0));return isNaN(t)&&(t=0),Math.ceil(t)}function QC(e,t,n){if(Kf){const{value:{scrollTop:o,selection:i,selectionLayout:r},contextMenu:l}=e;if(void 0===l?.visible)return void(n.current?.c&&(n.current.c=0));const s=e.value.clientWidth,c=_C(e).length,a=Cm*c+2*wm,u=r?.top??0,d=r?.left??0,f=r?.width??0,h=t.current?.getBoundingClientRect(),p=((h?.left??0)+(h?.right??0))/2,v=(e.portalOffset??p)-p;let g=-s/2+d+f/2;if(0===v){const e=(a-s)/2-8,t=(s-a)/2+8;g<e?g=e:g>t&&(g=t)}else if(e.portalWidth){const t=(a-e.portalWidth)/2+v-8,n=(e.portalWidth-a)/2+v+8;g<t?g=t:g>n&&(g=n)}let m=-o+u-bm-10;e.virtual&&(m=Math.max(3,m));const y=n.current?.x??g,b=n.current?.y??m;let C=n.current?.c??0;l?.visible?C++:C=0;let w=C>2?"100ms":"0ms";return l.visible?n.current={x:g,y:m,c:C}:n.current={x:y,y:b,c:C},i||(w="0ms",n.current=null),{enter:{transform:"scale3d(1, 1, 1)",left:g,top:m,opacity:1,transition:`transform 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0), opacity 100ms cubic-bezier(0.4, 0.0, 0.0, 1.0), left ${w} cubic-bezier(0.4, 0.0, 0.4, 1.0), top ${w} cubic-bezier(0.4, 0.0, 0.4, 1.0)`},leave:{transform:"scale3d(0.96, 0.96, 1)",left:y,top:b,opacity:0,transition:`transform 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0), opacity 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0), left ${w} cubic-bezier(0.4, 0.0, 0.4, 1.0), top ${w} cubic-bezier(0.4, 0.0, 0.4, 1.0)`}}}return{enter:{opacity:1},leave:{opacity:0}}}function ew(e,t){const{value:{scrollTop:n,selection:o},contextMenu:i}=e;if(Kf)return o?Yb:{...Yb,visibility:"hidden"};const r=t.current?.clientWidth??0,l=i?.rect?.left??0;return{...Zb,top:-n+(i?.rect?.top??0)+10,left:-r/2+l+10}}function tw(e,t,n){const o=function(e,t){const n=t.slice();let o=0;for(;o<n.length&&void 0!==e[o];){if(n[o]!==e[o]){n[o]=n[o]-e[o];break}n[o]=0,o++}return n}(t,n);return iy(e,o).children}function nw(e,t){const{path:n,offset:o}=t,i=pc(n);if(void 0===i)return;const r=e.children.slice(0,i),l=e.children[i];if(Im(l))if(n.length>1){const e=nw(l,{path:fc(n),offset:o});Im(e)&&!Pm(e)&&r.push(e)}else Pm(l)||r.push(l);else if(Cc(l))if(n.length<=1){const e=l.slice(0,o);""!==e&&r.push(e)}else r.push(l);return 0!==r.length?{...e,children:r}:void 0}function ow(e,t){const{path:n,offset:o}=t,i=pc(n);if(void 0===i)return;const r=e.children.slice(i+1),l=e.children[i];if(Im(l))if(n.length>1){const e=ow(l,{path:fc(n),offset:o});Im(e)&&!Pm(e)&&r.unshift(e)}else Pm(l)||r.unshift(l);else if(Cc(l))if(n.length<=1){const e=l.slice(o);""!==e&&r.unshift(e)}else r.unshift(l);return 0!==r.length?{...e,children:r}:void 0}const iw=12,rw={position:"absolute",left:0,right:0,bottom:0,height:7,userSelect:"none",transition:"opacity 0.3s",zIndex:101,cursor:"default"},lw={position:"absolute",top:0,bottom:0,right:0,left:0},sw={width:"100%",height:"100%",transition:"background-color 0.2s",transform:"translateX(0)",cursor:"default"},cw={position:"absolute",top:0,bottom:0,right:0,width:Kf?4:7,userSelect:"none",transition:"opacity 0.3s",zIndex:101},aw={position:"absolute",top:0,bottom:0,right:0,left:0},uw={width:"100%",height:"100%",transition:"background-color 0.2s "+(Kf?", transform 0.13s linear":""),transform:"translateY(0)",cursor:"default"},dw={position:"absolute",top:0,bottom:0,right:24,width:iw},fw={position:"absolute",top:0,bottom:0,right:iw,width:iw},hw={position:"absolute",left:0,right:0,height:iw,bottom:24},pw={position:"absolute",left:0,right:0,height:iw,bottom:iw},vw={position:"absolute",bottom:0,left:0,right:0,height:iw,backgroundColor:"#fff"},gw={width:0,height:0,top:3,left:0,position:"absolute",borderWidth:"3px 4px",borderStyle:"dashed solid dashed dashed",borderColor:`transparent ${jf} transparent transparent`},mw={width:0,height:0,top:3,left:4,position:"absolute",borderWidth:"3px 4px",borderStyle:"dashed dashed dashed solid",borderColor:`transparent transparent transparent ${jf}`},yw={width:0,height:0,top:0,left:3,position:"absolute",borderWidth:"4px 3px",borderStyle:"dashed dashed solid dashed",borderColor:`transparent transparent ${jf} transparent`},bw={width:0,height:0,top:4,left:3,position:"absolute",borderWidth:"4px 3px",borderStyle:"solid dashed dashed dashed",borderColor:`${jf} transparent transparent transparent`};function Cw(e,t){const n=_d(e),{track:o,thumb:i}=t,r=Wd("pointermove"),l=Wd("pointerup"),s=Wd("pointermove"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("pointerdown"),d=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",r.listener),window.addEventListener("pointerup",l.listener),()=>{window.removeEventListener("pointermove",r.listener),window.removeEventListener("pointerup",l.listener)})),[r,l]),F((()=>{const e=u.pipe(mv((()=>{let e=0;return n.current.onArrowStep?.(e-=1),Bu(0,Xa).pipe(yv(l)).pipe(iv((()=>e-=1)))}))).subscribe(n.current.onArrowStep);return()=>e.unsubscribe()}),[n,u,l]),F((()=>{const e=d.pipe(mv((()=>{let e=0;return n.current.onArrowStep?.(e+=1),Bu(0,Xa).pipe(yv(l)).pipe(iv((()=>e+=1)))}))).subscribe(n.current.onArrowStep);return()=>e.unsubscribe()}),[n,d,l]),F((()=>{const e=s.pipe(mv((()=>c.pipe(yv(a))))).subscribe((e=>{n.current.stopPropagation&&e.stopPropagation();const t=o.current,r=i.current;if(null===t||null===r)return;const l=t.getBoundingClientRect(),s=t.clientWidth-r.clientWidth,c=e.clientX-l.top-r.clientWidth/2,a=Math.min(1,Math.max(0,c/s));n.current.onChange(a)}));return()=>e.unsubscribe()}),[n,a,c,r,s,o,i]),F((()=>{const e=c.pipe(mv((e=>{n.current.stopPropagation&&e.stopPropagation();let t=-1,s=0;const{pageX:c}=e;return r.pipe(fv(0)).pipe(yv(l)).pipe(iv((e=>{const r=o.current,l=i.current;return null===r||null===l?0:(-1===t&&(t=n.current.value),0===s&&(s=r.clientWidth-l.clientWidth),(e.pageX-c)/s+t)})))}))),t=e.subscribe((e=>{n.current.onChange(Math.min(1,Math.max(0,e)))})),s=e.pipe(mv((e=>Bu(0,Xa).pipe(yv(l)).pipe(gv((()=>e<=1))).pipe(iv((()=>e)))))).subscribe((e=>{n.current.onChangeInterval?.(e)}));return()=>{t.unsubscribe(),s.unsubscribe()}}),[n,r,l,i,o,c]),{track:zd([c,s]),thumb:zd([a]),decrease:zd([u]),increase:zd([d])}}function ww(e,t){const n=_d(e),{track:o,thumb:i}=t,r=Wd("pointermove"),l=Wd("pointerup"),s=Wd("pointermove"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("pointerdown"),d=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",r.listener),window.addEventListener("pointerup",l.listener),()=>{window.removeEventListener("pointermove",r.listener),window.removeEventListener("pointerup",l.listener)})),[r,l]),F((()=>{const e=u.pipe(mv((()=>{let e=0;return n.current.onArrowStep?.(e-=1),Bu(0,Xa).pipe(yv(l)).pipe(iv((()=>e-=1)))}))).subscribe(n.current.onArrowStep);return()=>e.unsubscribe()}),[n,u,l]),F((()=>{const e=d.pipe(mv((()=>{let e=0;return n.current.onArrowStep?.(e+=1),Bu(0,Xa).pipe(yv(l)).pipe(iv((()=>e+=1)))}))).subscribe(n.current.onArrowStep);return()=>e.unsubscribe()}),[n,d,l]),F((()=>{const e=s.pipe(mv((()=>c.pipe(yv(a))))).subscribe((e=>{const t=o.current,r=i.current;if(null===t||null===r)return;const l=t.getBoundingClientRect(),s=t.clientHeight-r.clientHeight,c=e.clientY-l.top-r.clientHeight/2,a=Math.min(1,Math.max(0,c/s));n.current.onChange(a)}));return()=>e.unsubscribe()}),[n,a,c,r,s,o,i]),F((()=>{const e=c.pipe(mv((({pageY:e})=>{let t=-1,s=0;return r.pipe(fv(0)).pipe(yv(l)).pipe(iv((r=>{const l=o.current,c=i.current;return null===l||null===c?0:(-1===t&&(t=n.current.value),0===s&&(s=l.clientHeight-c.clientHeight),(r.pageY-e)/s+t)})))}))),t=e.subscribe((e=>{n.current.onChange(Math.min(1,Math.max(0,e)))})),s=e.pipe(mv((e=>Bu(0,Xa).pipe(yv(l)).pipe(gv((()=>e<=1&&e>=0))).pipe(iv((()=>e)))))).subscribe((e=>{n.current.onChangeInterval?.(e)}));return()=>{t.unsubscribe(),s.unsubscribe()}}),[n,r,l,i,o,c]),{track:zd([c,s]),thumb:zd([a]),decrease:zd([u]),increase:zd([d])}}function xw(e){return{track:Z(null),thumb:Z(null)}}function Sw(e,t){return((t.track.current?.clientHeight??0)-e.thumb)*Math.min(1,e.value)}function Ew(e,t){return((t.track.current?.clientWidth??0)-e.thumb)*Math.min(1,e.value)}function kw(e){return{onPointerEnter:e.onPointerEnter,onPointerLeave:e.onPointerLeave,onPointerDown:e.onPointerDown,onPointerUp:e.onPointerUp,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp}}const Dw=27,Iw={default:Mf,hover:Of,active:"#c1c3c4"};function Nw({type:e=0,...t}){return bh(1===e?Tw:Lw,{...t})}function Lw(e){const t=xw(),n=Cw(e,t);return bh("div",{style:{...rw,...e.style,margin:"0 1px 1px 1px",opacity:e.visible?1:0},className:e.className,...kw(e),children:bh("div",{ref:t.track,style:lw,...n.track,children:bh(Ev,{type:"light",ref:t.thumb,colors:Iw,style:{...sw,borderRadius:4,width:e.thumb,transform:`translateX(${Ew(e,t)}px)`},...n.thumb})})})}function Tw(e){const t=xw(),n=Cw(e,t);return Ch(Uh,{type:"top",style:{...rw,...e.style,width:12,opacity:e.visible?1:0},children:[bh("div",{ref:t.track,style:{...lw,bottom:36},...n.track,children:bh(Ev,{type:"light",ref:t.thumb,colors:Iw,style:{...sw,height:e.thumb,transform:`translateX(${Ew(e,t)}px)`},...n.thumb})}),bh(Ev,{type:"light",style:dw,...n.decrease,children:bh("div",{style:gw})}),bh(Ev,{type:"light",style:fw,...n.increase,children:bh("div",{style:mw})}),bh(Uh,{type:"right",style:vw})]})}function Bw({type:e=0,...t}){return bh(1===e?Mw:Aw,{...t})}function Aw(e){const t=xw(),n=ww(e,t);return bh("div",{style:{...cw,...e.style,margin:"1px 2px 1px 0",opacity:e.visible?1:0},className:e.className,...kw(e),children:bh("div",{ref:t.track,style:aw,...n.track,children:bh(Ev,{type:"light",ref:t.thumb,colors:Iw,style:{...uw,borderRadius:4,height:e.thumb,transform:`translateY(${Sw(e,t)}px)`},...n.thumb})})})}function Mw(e){const t=xw(),n=ww(e,t);return Ch(Uh,{type:"left",style:{...cw,...e.style,width:12,opacity:e.visible?1:0},children:[bh("div",{ref:t.track,style:{...aw,bottom:36},...n.track,children:bh(Ev,{type:"light",ref:t.thumb,colors:Iw,style:{...uw,height:e.thumb,transform:`translateY(${Sw(e,t)}px)`},...n.thumb})}),bh(Ev,{type:"light",style:hw,...n.decrease,children:bh("div",{style:yw})}),bh(Ev,{type:"light",style:pw,...n.increase,children:bh("div",{style:bw})}),bh(Uh,{type:"top",style:vw})]})}var Ow,Rw;!function(e){e[e.prev=-1]="prev",e[e.next=1]="next"}(Ow||(Ow={})),function(e){e.STATIC="STATIC",e.MOVE_UP="MOVE_UP",e.MOVE_DOWN="MOVE_DOWN",e.COLLAPSED_SELECTION="COLLAPSED_SELECTION",e.WORD_SELECTION="WORD_SELECTION",e.EXPAND_SELECTION="EXPAND_SELECTION",e.COLLAPSED_REFLOW="COLLAPSED_REFLOW",e.SELECTION_REFLOW="SELECTION_REFLOW",e.EXTEND_LINE_BACKWARD="EXTEND_LINE_BACKWARD",e.EXTEND_LINE_FORWARD="EXTEND_LINE_FORWARD",e.DELETE_LINE_BACKWARD_SELECTION="DELETE_LINE_BACKWARD_SELECTION",e.DELETE_LINE_FORWARD_SELECTION="DELETE_LINE_FORWARD_SELECTION",e.DELETE_LINE_BACKWARD_ACTION="DELETE_LINE_BACKWARD_ACTION",e.DELETE_LINE_FORWARD_ACTION="DELETE_LINE_FORWARD_ACTION"}(Rw||(Rw={}));const Pw=()=>e=>(e.location=void 0,e),Fw=(e,t,n)=>o=>{const i=o.location;if(!i)return o;const{node:r,clientHeight:l,scrollHeight:s}=o,c=Yg(i),a=Tb(r,c),u=Fc(a,c),d=u?t.get(i):n.get(i),f=t.get(qg(a));if(!d||!f)return o;const h=ay(r,a),p=f.getBoundingClientRect(),v=d.getBoundingClientRect().top-p.top,g=Qc(h)+v;let m=g-(o.scrollTop+80);return u||(m=g-(o.scrollTop+1*l/3)),o=bx(a,Ow.next)(o),o=Vx(e,m,!0)(o)},Hw=e=>t=>{if(t.detect.flag!==Rw.STATIC)return t;const n={};if(e.selection){const{anchor:o,focus:i}=e.selection;Object.assign(n,zE(t.node,o.path)),Oy(o.path,i.path)||Object.assign(n,zE(t.node,i.path))}if(t.selection){const{anchor:e,focus:o}=t.selection;Object.assign(n,zE(t.node,e.path)),Oy(e.path,o.path)||Object.assign(n,zE(t.node,o.path))}return Pc(n)||(t.node=_w(t.node,n)),t};function _w(e,t){if(void 0===t)return e;if(Am(e)){if(Jm(e)){const n=e.props?.uid;if(t[n]){const o={...t[n].props,uid:n};e=my(e={...t[n],props:o},e.key)}}e.children=e.children.map((e=>Am(e)?_w(e,t):e))}return e}const jw=e=>t=>{if(t.detect.flag!==Rw.STATIC)return t;let n=e.current.extractReference;return n||(n=VE),t.ureference=n(t.node),t},Ww=e=>t=>(t.reload=e,t),zw=e=>t=>{const n=wb(t.node),o=ry(t.node,n);if(Lm(o)&&void 0===o.position)return t;const{diff:i}=vy(t);return i<0&&(t=Lx(e)(t)),t=Uw()(t),t=$w(e)(t),t=Zw()(t)},Vw=(e,t,n,o)=>o=>{const{record:i}=n,r=o.reflowStart?.path.slice(),l=o.reflowStart?.offsets.slice(),s=Sx(o.node,t,i,r,l);return o.node.position={top:0,left:0,right:0,bottom:s+VC(o.node.style)},Ex(o.node,t,i),o=zw(e)(o)},$w=e=>t=>{const{requestEditNode:n}=e.current;if(!t.node.position)return t;const o=gE(t.scrollTouch),i=Math.max(o,t.clientHeight);return n?.("next")?i>t.scrollHeight&&(t.scrollHeight=i):t.scrollHeight=i,t},Zw=e=>e=>{if(!e.node.position)return e;const t=gE(e.scrollTouch);return e=qw(t)(e)},Uw=e=>e=>{const{scrollTop:t,scrollTouch:n=[0,0],node:o}=e;t<n[0]&&(n[0]=t);const i=o.position?.bottom??0;return i>n[1]&&(n[1]=i),e.scrollTouch=n,e},qw=e=>t=>(t.contentHeight=e,t),Yw=e=>t=>(t.resizeWidth=e,t),Kw=e=>t=>(t.resizeHeight=e,t),Gw=e=>t=>(t.isSelectPending=e||void 0,t);function Xw(e,t){if(!e.current)return;const n=e.current.get(t),o=n?.ele;if(void 0!==o)if(n?.rects){const i=[...o.getClientRects()],r=qg(hc(Yg(t)));for(let t=0;t<i.length;t++){const{top:o,right:l,bottom:s,left:c}=i[t];e.current.set(Kg(r,t),{...n,top:o,right:l,bottom:s,left:c})}}else{const{top:i,right:r,bottom:l,left:s}=o.getBoundingClientRect();e.current.set(t,{...n,top:i,right:r,bottom:l,left:s})}}const Jw=e=>t=>(Fc(e,t.selection)||(t.selection=ps(e)),t),Qw=e=>t=>(t.selectionFrozen=e,t),ex=e=>t=>(t.selectionReflow=e,t),tx=e=>t=>(t.selectionLayout=e,t),nx=e=>t=>(t.selectionPath=e,t),ox=()=>e=>{if(void 0===e.selection)return e;if(e.detect.flag!==Rw.STATIC)return e;const{focus:t,anchor:n}=ps(e.selection),o=ry(e.node,t.path);Wm(o)||Cc(o)||Am(o)&&(t.path=yb(o),t.offset=0);const i=ry(e.node,n.path);return Wm(i)||Cc(i)||Am(i)&&(n.path=yb(i),n.offset=0),e.selection={focus:t,anchor:n},e},ix=e=>t=>{if(t.detect.flag!==Rw.STATIC)return t;const n=Xy(t,e);return Pc(n)?t.selectionStyle=void 0:t.selectionStyle=n,t},rx=()=>e=>{if(e.detect.flag!==Rw.STATIC)return e;const t=Qy(e);return Pc(t)?e.selectionDecorate=void 0:e.selectionDecorate=t,e},lx=(e,t)=>n=>{const o=n.selection;if(void 0===o)return n;if(e>0){const e=Nb(1/0,n.clientHeight+n.scrollTop,n.node,t),i=ry(n.node,e);if(!Am(i))return n;const r=bb(i),l=ry(n.node,r);if(null===l)return n;const s={path:r,offset:oy(l)};Fc(o.focus,s)||(o.focus=s)}else if(e<0){const e=Nb(1/0,n.scrollTop,n.node,t),i=ry(n.node,e);if(!Am(i))return n;const r=yb(i);if(null===ry(n.node,r))return n;const l={path:r,offset:0};Fc(o.focus,l)||(o.focus=l)}return n},sx=(e,t,n)=>o=>{if(!o.selection)return o;const i=o.selection[t].path;if(Ry(i,e)){const t=hc(e);if(i.length>=t.length&&0===Hy(i,t)){const e=t.length;i[e]>0&&i[e]--}return o}if(Fc(i.slice(0,e.length),e)){let i=[],r=null;for(let l=e.length-1;l>=0;l--){if(e[l]>0){i=[...hc(e,e.length-l),e[l]-1],r=ry(o.node,i),Am(r)&&(i=bb(r),r=ry(o.node,i)),null!==r&&(o.selection[t].path=i,!0===n?o.selection[t].offset=oy(r):o.selection[t].offset+=oy(r));break}if(0===e[l]){if(i=[...hc(e,e.length-l)],r=ry(o.node,i),null===r)continue;if(n&&Am(r)&&(r=ny(r,i)),Am(r)&&(i=yb(r),r=ry(o.node,i)),null!==r){o.selection[t].path=i;const e=oy(r),{offset:n}=o.selection[t];n>e&&(o.selection[t].offset=0)}break}}}return o},cx=()=>e=>(e.selection=void 0,e.selectionStyle=void 0,e.selectionDecorate=void 0,e.selectionLayout=void 0,e.selectionPath=void 0,e.selectionBackground=void 0,e),ax=(e,t)=>n=>{if(void 0===t)return n;const{requestEditNode:o}=e.current,i=ps(n.reflowStart);let r=!1,l=!1;if($y(n.node,t)&&o?.("prev")&&(r=!0,n=Nx(e)(n)),Zy(n.node,t)&&o?.("next")&&(l=!0,n=Lx(e)(n)),r||l){const o=n.reflowStart?.path;o?.length?i&&-1===Hy(i.path,o)&&(n.reflowStart=i):l&&(n.reflowStart=i),n=ax(e,t)(n)}return n},ux=e=>t=>(t.composing=e,t),dx=e=>t=>(t.composition=e,t),fx=(e,t,n,o)=>i=>{const r=ry(i.node,e.path);if(!Am(r))return i;if(!t.get(r.key))return i;const l=SE(r,t),s=yE(e,l);if(!s?.origin)return i;const c={anchor:ps(s.origin),focus:ps(s.origin)},{top:a,left:u}=n.getBoundingClientRect(),d={top:s.top-a,height:s.bottom-s.top,left:s.left-u-1},f={start:{bottom:s.bottom-a,top:s.top-a,left:s.left-u},end:{bottom:s.bottom-a,top:s.top-a,right:s.left-u}};return d.point=f,i=Jw(c)(i),i=tx(d)(i),i=Gw(!0)(i),i=ix(o)(i),i=rx()(i)},hx=(e,t,n,o)=>i=>{const r=ry(i.node,e.path);if(!Am(r))return i;if(!t.get(r.key))return i;const l=SE(r,t),s=yE(e,l);if(!s?.origin)return i;const c=ps({anchor:s.origin,...i.selection,focus:s.origin});return i=Jw(c)(i),i=gx(t,n)(i),i=Gw(!0)(i),i=ix(o)(i),i=rx()(i)},px=(e,t,n,o)=>i=>{const r=ry(i.node,e.path);if(!Am(r))return i;if(!t.get(r.key))return i;const l=SE(r,t),s=yE(e,l);if(!s?.origin)return i;const{before:c,after:a}=qy({anchor:s.origin,focus:s.origin}),u=ry(i.node,c.path);if(Cc(u)){const e=_E(u,c.offset);if(e===c.offset){const e=jE(u,a.offset);a.offset=e}else c.offset=e,a.offset+=1;a.offset=Math.min(u.length,a.offset)}return i=Jw({anchor:c,focus:a})(i),i=gx(t,n)(i),i=Gw(!0)(i),i=ix(o)(i),i=rx()(i)},vx=(e,t,n,o)=>e=>{const i=e.selection?.focus;if(void 0===i)return e;const r=Tb(e.node,i.path),l=ry(e.node,r);if(!Lm(l))return e;const s=yb(l),c=bb(l),a=ry(e.node,c);if(null===a)return e;const u={anchor:{path:s,offset:0},focus:{path:c,offset:oy(a)}};return e=Jw(u)(e),e=gx(t,n)(e),e=Gw(!0)(e),e=ix(o)(e),e=rx()(e)},gx=(e,t)=>n=>{const{selection:o,node:i}=n;if(!o)return n;if(Ty(o)){const{path:r,offset:l}=o.focus,s=ry(i,r),c=document.createRange();let a=null,u=0,d=0,f=!1;try{if(Cc(s)){const t=oy(s)||1,n=qg(hc(r)),o=dc(r)??0;a=e.get(n),a=kE(a.childNodes[o],s),u=l,d=u+1,d>t&&(u=t-1,d=t,f=!0)}else if(Wm(s)){const t=qg(hc(r)),n=dc(r)??0;a=e.get(t),u=n,d=u+1,l>0&&(f=!0)}else if(s){const t=qg(r);a=e.get(t),s.children.length||(a=kE(a,"")),u=l,d=u+1}}catch(e){}if(!a)return n;c.setStart(a,u),c.setEnd(a,d);const h=c.getBoundingClientRect(),{top:p,left:v}=t.getBoundingClientRect(),g=f?h.right:h.left,m={top:h.top-p,height:h.bottom-h.top,left:g-v-1},y={start:{bottom:h.bottom-p,top:h.top-p,left:g-v},end:{bottom:h.bottom-p,top:h.top-p,right:g-v}};return m.point=y,n=tx(m)(n)}const{before:r,after:l}=qy(o);r.path=fb(n.node,r.path),l.path=fb(n.node,l.path);const s=EE(n.node,e,r,l),c=t.getBoundingClientRect(),a=CE(s),u={height:a.bottom-a.top,width:a.right-a.left,top:a.top-c.top,left:a.left-c.left},{start:d,end:f}=a.point,h={start:{bottom:d.bottom-c.top,top:d.top-c.top,left:d.left-c.left},end:{bottom:f.bottom-c.top,top:f.top-c.top,right:f.right-c.left}};u.point=h;const p=bE(c,u,s);return n=tx(u)(n),n=nx(p)(n)},mx=(e,t,n,o,i,r)=>l=>{const{requestEditNode:s,responseEditNode:c,extractReference:a}=e.current,{record:u}=o;"native"===e.current.scroller&&(l=Cx(i)(l));const d=Sx(l.node,n,u,l.reflowStart?.path.slice(),l.reflowStart?.offsets.slice());if(l.node.position?l.node.position.bottom=d+VC(l.node.style):l.node.position={top:0,left:0,right:0,bottom:d+VC(l.node.style)},Ex(l.node,n,u),l=Uw()(l),l=$w(e)(l),l=Zw()(l),(l=bx(wb(l.node),Ow.next)(l)).cwnd){const{diff:t}=vy(l);if(t<0){let n=l.clientHeight/(t+l.clientHeight);n=Math.max(1,Math.min(2,Math.ceil(n)));const o=s?.("cwnd",l.cwnd*n);if(o){const e={path:wb(o),node:o,push:o};return c?.("push-next",e),Ax(l.node,o),l.cwnd=l.cwnd*n,l=Px(o,a)(l)}{const{node:t,clientHeight:n}=l,o=t.position?.top??0;if((t.position?.bottom??0)-o<n&&s?.("prev"))return l=Nx(e)(l)}}const n=Cb(l.node);(l=bx(n,Ow.next)(l)).cwnd=void 0}if(void 0===l.cwnd){l.location&&r&&(l=(e=>(e.location=void 0,e))(l=Fw(e,n,r)(l)));const i=o.ele.current;l=gx(t,i)(l),l=ix(e.current.editStyle)(l),l=rx()(l)}return l},yx=(e,t,n,o)=>i=>{if(!i.node.position)return i=Ww(!0)(i);i.reflowStart||(i.reflowStart={path:[],offsets:[],flag:Ow.next});const{record:r}=n,{requestEditNode:l}=e.current,s=ps(i.reflowStart);if(s.flag===Ow.prev){const n={scroller:e.current.scroller,scroll:o,value:i};xx(i.node,t,r,s?.path,n);const{diff:c}=py(i);if(c<0)null!==l?.("prev")&&(i=Ux(!0)(i)),i=Nx(e)(i);else{const e=Cb(i.node);i=bx(e,Ow.next)(i)}}else if(s.flag===Ow.next){const n=Sx(i.node,t,r,s.path,s.offsets);i.node.position&&(i.node.position.bottom=n+VC(i.node.style)),Ex(i.node,t,r);const{diff:o}=vy(i);if(o<0)null!==l?.("next")&&(i=Ux(!0)(i)),i=Lx(e)(i);else{const e=Cb(i.node);i=bx(e,Ow.next)(i)}}return i=Uw()(i),i=$w(e)(i),i=Zw()(i)},bx=(e,t)=>n=>{const o=ay(n.node,e);return e=e.slice(0,o.length),n.reflowStart?(Oy(n.reflowStart.path,e)||(n.reflowStart.path=e),Oy(n.reflowStart.offsets,o)||(n.reflowStart.offsets=o),n.reflowStart.flag=t,n):(n.reflowStart={path:e,flag:t,offsets:o},n)},Cx=e=>t=>{const n=t.reflowStart?.offsets;if(!n)return t;const o=Qc(n);return o>=0||(t.reflowStart.offsets=n.map((()=>0)),t.scrollTop-=o,e.current?.scrollTo({top:t.scrollTop})),t},wx=e=>t=>{if(!e)return t;const n=by(t.node,e.path);if(e.offsets.length>0){const o=Qc(cy(n))-Qc(e.offsets),i=t.scrollHeight-t.clientHeight,r=t.scrollTop+o;t.scrollTop=Math.min(i,r)}let o=Cb(n),i=ay(t.node,o);for(;Qc(i)>t.scrollTop&&!jy(o);)o=Db(t.node,o),i=ay(t.node,o);const r=wb(t.node);return t=bx(o,e.flag)(t),t=Mx(o,r)(t)};function xx(e,t,n,o=[],i){let r=0,l=[];const s=ry(e,o);if(!Am(s))return;if(!s.position)return;if(_y(o,e))return;let c=!1;if(Rm(s)){if(1===s.children.length){r=s.position.bottom-s.position.top-ZC(s.style);l=Yg(s.children[0].key)}else if(s.children.length>1){const o=s.children.length;let a=0,u=null;for(;a<o;){const e=s.children[a];if(Om(e)&&e.position){if(0===a){a++;continue}u=e;l=Yg(s.children[a-1].key);break}a++}if(null===u)return;if(a>1&&(c=!0),u.position){r+=u.position.top;let e=u.children[0],t=fc(mb(u)),n=parseFloat(String(u.style?.paddingTop??0)),o=parseFloat(String(u.style?.marginTop??0));for(;Om(e)&&e.position;){r+=e.position.top-n-o;const i=e.style?.paddingTop;n=i?parseFloat(String(i)):0;const l=e.style?.marginTop;o=l?parseFloat(String(l)):0,e=e.children[0],t=fc(t)}}if(Rm(u)){if(!u.children[0].position){xx(e,t,n,Yg(u.key),i)}}}}else if(o[o.length-1]>0)r=s.position?.top||0,l=Rb(o);else{for(;0===o[o.length-1];)o=o.slice(0,-1);if(!o.length)return;const t=ry(e,o);if(!t.position)return;r=t.position.top,l=Rb(o)}const a=ry(e,l);if(!Am(a))return;let u=0;if(Rm(a)){u=r-Sx(a,t,n)-VC(a.style)}else if(!Jm(a)){const e=t.get(a.key);if(!e)return;u=r-e.offsetHeight-UC(a.style)}const d=ry(e,l.slice(0,-1)),f=JC(d.style?.paddingLeft),h=JC(d.style?.paddingRight);a.position={left:f,right:h,top:u,bottom:r},Ex(a,t,n);const p=i?.scroller;if(u<0&&"native"===p){const e=d.children.length,o=-u;for(let i=0;i<e;i++){const e=d.children[i];if(!Lm(e)||!e.position)break;const{top:r,bottom:l}=e.position;e.position={left:f,right:h,top:r+o,bottom:l+o},Ex(e,t,n)}if(d.position){const{bottom:e}=d.position;d.position.bottom=e+o,Ex(d,t,n)}const{value:r,scroll:l}=i;r&&(r.scrollTop+=o,l.current?.scrollTo({top:r.scrollTop}))}if(c)xx(e,t,n,o,i);else{Ry(o,Cb(e))&&xx(e,t,n,hc(o),i)}}function Sx(e,t,n,o=[],i=[]){const r=e.children;let l=0;Am(r[0])&&o.length&&(l=o.shift()-dc(Yg(r[0].key)),!r[0].position&&l>0&&xx(e,t,n));let s=!1,c=i.shift();if(zc(c))if(l>0){const e=r[l-1];Om(e)?(c=e.position?.bottom||0,s=!0):c=0}else{Om(r[l])?(c=JC(e.style?.paddingTop),s=!0):c=0}for(;l<r.length;){const a=r[l];if(!Om(a)){e.position&&e.style?.height&&(c+=e.style.height);break}s=!0;let u=0;if(u=Pc(a.children)&&a.style?.height?JC(a.style.height):Sx(a,t,n,o,i),0===u){const e=t.get(a.key);e&&(u=e.offsetHeight)}if(a.position?.bottom)a.position.top=c,c+=u+VC(a.style),a.position.bottom=c,Ex(a,t,n),l++;else{if(Rm(a)){const t=hy(a)+VC(a.style)-JC(a.style?.paddingTop);a.position={top:c,bottom:c+=t,left:JC(e.style?.paddingLeft),right:JC(e.style?.paddingRight)}}else if(!Jm(a)){const n=t.get(a.key);if(void 0===n){l++;continue}const o=n.offsetHeight;a.position={top:c,bottom:c+=JC(o)+UC(a.style),left:JC(e.style?.paddingLeft),right:JC(e.style?.paddingRight)}}l++,Ex(a,t,n)}}return s?c-JC(e.style?.paddingTop):c}function Ex(e,t,n){if(!e.position)return;e.style||(e.style={});const{top:o,bottom:i,left:r,right:l}=e.position,s=i-o-VC(e.style);let c=!1;const a=t.get(e.key);if(void 0!==a&&("absolute"!==e.style.position&&a.style.setProperty("position","absolute"),e.style.height!==s&&(c=!0,a.style.setProperty("height",`${s}px`)),e.style.top!==o&&(c=!0,a.style.setProperty("top",`${o}px`)),e.style.left!==r&&(c=!0,a.style.setProperty("left",`${r}px`)),e.style.right!==l&&(c=!0,a.style.setProperty("right",`${l}px`))),c&&n.current){const t=n.current.keys(),o=[];for(const i of t)if(i.startsWith(e.key)){const e=n.current.get(i)?.ele;if(void 0===e)continue;o.includes(e)||(o.push(e),Xw(n,i))}}Object.assign(e.style,{position:"absolute",height:s,top:o,left:r,right:l})}const kx=e=>t=>(t.isEditPending=e||void 0,t),Dx=(e,t)=>n=>{const o=fb(n.node,t);let i=0,r=n.node;for(;i<o.length-1;){o[i]>r.children.length-1&&(o[i]=r.children.length-1);const e=r.children[o[i]];if(!Om(e))return console.error("Can not search targtPath in originNode"),n;r=e,i++}let l=!1;if(o[i]>r.children.length-1&&(o[i]=r.children.length-1,l=!0),r.children.splice(o[i]+1,0,e),l){const t=Pb(pb(n.node,o)),i=qg(t);Fc(i,e.key)||(e.key=i,n=Rx(t)(n))}return n},Ix=e=>t=>{const n=fb(t.node,e);let o=0,i=t.node;for(;o<n.length-1;){n[o]>i.children.length-1&&(n[o]=i.children.length-1);const e=i.children[n[o]];if(!Om(e))return console.error("Can not search targtPath in originNode"),t;i=e,o++}return i.children.splice(n[o],1),t},Nx=e=>t=>{const{requestEditNode:n,responseEditNode:o,extractReference:i}=e.current,r=n?.("prev");if(!r){const n=pc(t.node.children);if(!Om(n))return t;const o=n.position?.top??0;t.scrollTouch&&(t.scrollTouch[0]=o);const i=o-t.scrollTop;return i>0&&(t=Vx(e,i)(t)),t}const l={path:Cb(r),node:r,push:r};o?.("push-prev",l);const s=Yg(r.key),c=Cb((t=Dx(r,s)(t)).node);return t=bx(c,Ow.prev)(t),t=Px(r,i)(t)},Lx=e=>t=>{const{requestEditNode:n,responseEditNode:o,extractReference:i}=e.current,r=n?.("next");if(!r){if(t.node.position){const{bottom:n}=t.node.position;t.scrollTouch&&(t.scrollTouch[1]=n);const o=gE(t.scrollTouch),i=Math.max(o-t.clientHeight,0),r=Math.min(i,t.scrollTop)-t.scrollTop;t=Vx(e,r)(t)}return t}const l={path:wb(r),node:r,push:r};o?.("push-next",l);const s=wb(t.node),c=Yg(r.key),a=Hy(c,s);return(-1===a||0===a&&c.length<=s.length)&&c[0]++,t=bx(s,Ow.next)(t),t=Dx(r,c)(t),t=Px(r,i)(t)},Tx=e=>t=>{const{requestEditNode:n,responseEditNode:o,extractReference:i}=e.current;let r=Cb(t.node);if(0===r.length)return t;const l=ry(t.node,r);if(!Om(l))return t;const s=wb((t=Ix(r)(t)).node);r=Cb((t=bx(s,Ow.next)(t)).node);const c={path:r,node:ry(t.node,r),pop:l};o?.("pop-prev",c);const a=py(t);return a.diff>a.size&&(t=Tx(e)(t)),t=Fx(l,i)(t)},Bx=e=>t=>{const{requestEditNode:n,responseEditNode:o,extractReference:i}=e.current;let r=wb(t.node);if(0===r.length)return t;const l=ry(t.node,r);if(!Om(l))return t;r=wb((t=Ix(r)(t)).node);const s={path:r,node:ry((t=bx(r,Ow.next)(t)).node,r),pop:l};o?.("pop-next",s);const c=vy(t);return c.diff>c.size&&(t=Bx(e)(t)),t=Fx(l,i)(t)};function Ax(e,t){const n=e.children[e.children.length-1];if(!Am(n)){e.children.splice(0,e.children.length);for(let n=0;n<t.children.length;n++)e.children.push(t.children[n]);return}const o=t.children[0];if(Am(o))if(Fm(n,o)){Ax(n,o);for(let n=1;n<t.children.length;n++)e.children.push(t.children[n])}else for(let n=0;n<t.children.length;n++)e.children.push(t.children[n])}const Mx=(e,t)=>n=>(function e(t,n,o){if(Pc(n)||Pc(o)||Pc(t.children)){const e=t.children;return void(Pc(n)?Pc(o)||(t.children=e.slice(0,o[0]+1)):t.children=e.slice(n[0]))}if(n[0]===o[0]){const i=t.children[n[0]];return Am(i)&&e(i,n.slice(1),o.slice(1)),void(t.children=[i])}const i=t.children.slice(n[0]+1,o[0]),r=t.children[n[0]];Am(r)&&e(r,n.slice(1),[r.children.length-1]);const l=t.children[o[0]];Am(l)&&e(l,[0],o.slice(1)),t.children=[r,...i,l]}(n.node,e,t),n),Ox=(e,t)=>n=>{const o=ry(n.node,e);return Am(o)?(et(t)&&t.length?t.forEach((e=>delete o.position?.[e])):delete o.position,delete o.style?.height,n):n},Rx=(e,t=0)=>n=>{if(void 0===e||0===e.length)return e=yb(n.node),Hx(n.node,e),n;const o=ry(n.node,hc(e));if(!Am(o))return n;const i=dc(fb(n.node,e))??0,r=dc(e)??0;for(let n=0;n<=t;n++){const t=o.children[i+n];if(Im(t)){const o=[...e.slice(0,-1),r+n];t.key=qg(o);Hx(t,fc(yb(t),e.length))}}return n},Px=(e,t)=>n=>{const o=t?.(e);return Pc(o)||(void 0===n.ureference?n.ureference=o:Object.assign(n.ureference,o)),n},Fx=(e,t)=>n=>{if(Pc(n.ureference))return n;const o=t?.(e);for(const e in o)delete n.ureference[e];return n};function Hx(e,t){const n=Yg(e.key),o=t?.shift()??0;let i=0;for(;i<e.children.length;){const r=e.children[i];Im(r)&&(r.key=qg([...n,o+i]),Hx(r,t)),i++}}const _x=(e,t)=>n=>{const o=Tb(n.node,e);if(t){const e=n.reflowStart?.path;if(e?.length){const t=Hy(o,e);(-1===t||0===t&&o.length<=e.length)&&(n=bx(o,Ow.next)(n))}else n=bx(o,Ow.next)(n)}else n=bx(o,Ow.next)(n);if(n=Ox(o,["bottom"])(n),_y(e,n.node)){const o=Cb(n.node);n=Ox(o)(n);const i=hc(o);Fc(e,i)||(n=_x(i,t)(n))}return n},jx=e=>t=>t.selection?(nb(t.node,t.selection,((n,o)=>{t=_x(o,e)(t)}),!0),t):t,Wx=e=>t=>{let n=t.node;const o=yb(n),i=bb(n),r=t.ureference??{},l={},s={};zx(n,{},o,((e,n)=>{if(Fc(i,e))return!1;if(zc(t.selection))return!0;if(Ty(t.selection)){if(Oy(t.selection.focus.path,e)){if(Cc(n)&&0===n.length)return!1;if(Am(n)&&0===n.children.length)return!1}}if(Lm(n)&&!t.reduceBlock){const n=Rb(e);t=_x(n)(t),t=kx(!0)(t)}return t=sx(e,"anchor",!1)(t),t=sx(e,"focus",!1)(t),!0}),((e,n)=>{t=sx(e,"anchor",!0)(t),t=sx(e,"focus",!0)(t)}),((n,o)=>{if(!Cc(o)){if(Jm(o)){const e=o.props?.id,i=o.props?.uid;if(i&&e){if(s[i])return;s[i]=o,jm(r[i],s[i])?l[e]&&(t=_x(n,!0)(t)):(l[e]=gy(o),t=_x(n,!0)(t))}}if(Wm(o)||zm(o)){let n=e.current.extractReference;n||(n=VE);const i=n(o);for(const e in i){if(s[e])continue;s[e]=i[e];const n=i[e].props?.id;if(jm(r[e],s[e])){if(l[n]){const n=Yg(i[e].key);t=_x(n,!0)(t)}}else{l[n]=gy(i[e]);const o=Yg(i[e].key);t=_x(o,!0)(t)}}}}}),t.reduceBlock);for(const e in s){const t=s[e],n=t.props?.id,o=l[n];if(Im(o)&&t.props){const e=t.props.uid,n=o.props?.uid;if(e===n)continue;const i=my(o,t.key);i.props={...i.props},Object.assign(t,i),t.props.uid=e}}return t.ureference=s,delete t.reduceBlock,t};function zx(e,t,n,o,i,r,l){const s=Yg(e.key),c=n.shift()||0;let a=0;for(;a<e.children.length;){const u=e.children[a];if(Gm(u)||Xm(u)){e.children[a]=u.children[0];continue}const d=[...s,c+a],f={...t,...e.style};if(Am(u)?(u.key=qg(d),r(d,u),zx(u,f,n,o,i,r,l)):r(d,u),(Cc(u)||Nm(u)||Wm(u)||Wc(u)||l&&Lm(u))&&0===oy(u)){if(Jm(u)){a++;continue}if(Lm(e)&&!l&&1===oy(e)){a++;continue}o(d,u)?e.children.splice(a,1):a++;continue}const h=e.children[a-1];void 0===h||Lm(u)||!Hm(h,u,f)?Nm(u)&&_m(e,u)?(e.children=u.children,u.style&&(e.style||(e.style={}),Object.assign(e.style,u.style)),Hx(e),i(d,u),a++):a++:o(d,u)?(Cc(h)&&Cc(u)?e.children[a-1]=h+u:Am(h)&&Am(u)?(h.children.push(...u.children),h.children=[h.children.join("")]):Cc(h)&&Am(u)&&(e.children[a-1]=h+u.children[0]),e.children.splice(a,1)):a++}}const Vx=(e,t,n=!0)=>o=>{if(o.cwnd||0===t)return o;o.scrollTop+=t,o=Zx(!0)(o),OE(e,!1),o.scrollHeight<o.clientHeight&&(o.scrollHeight=o.clientHeight);let i=!1;if(o.scrollTop<0&&!e.current.requestEditNode?.("prev")){let e=o.scrollTop,n=o.node,r=0,l=0;for(;Om(n)&&n.position;){e-=n.position.top-r-l;const t=n.style?.paddingTop;r=t?parseFloat(String(t)):0;const o=n.style?.marginTop;l=o?parseFloat(String(o)):0,n=n.children[0]}e<0&&(t-=e,o.scrollTop-=e,o.scrollTouch&&(o.scrollTouch[0]=o.scrollTop),i=!0)}const{scrollTouch:r,scrollHeight:l,clientHeight:s}=o,c=o.scrollTop-(r?.[0]??0)-(l-s);if(!i&&c>0&&!e.current.requestEditNode?.("next")&&(t-=c,o.scrollTop-=c,o.scrollTouch)){const e=o.node.position;e&&(o.scrollTouch[1]=e.bottom)}const a=py(o),u=vy(o);return t>0?(a.diff>a.size&&n&&(o=Tx(e)(o),o=Ux(!0)(o)),u.diff<0&&(o=Lx(e)(o),o=Ux(!0)(o))):t<0&&(u.diff>u.size&&n&&(o=Bx(e)(o),o=Ux(!0)(o)),a.diff<0&&(o=Nx(e)(o),o=Ux(!0)(o))),o=Uw()(o),o=$w(e)(o),o=Zw()(o)},$x=(e,t)=>n=>{const o=eb(n);return 0===o||fE(e,o,!0,t),n},Zx=e=>t=>(t.isScrolling=e||void 0,t),Ux=e=>t=>(t.isScrollPending=e||void 0,t),qx=(e,t)=>n=>{if(!n.selection||Wy(n.node,n.selection))return n;if(!Ty(n.selection))return Xx(e,t)(n);const{path:o,offset:i}=n.selection.focus;if(i>0)return n.selection.anchor.offset--,n.selection.focus.offset--,e&&t&&(n=gx(e,t)(n)),n;let r=0;const l=kb(n.node,o),s=ry(n.node,l);return Cc(s)?(r=s.length,ub(n.node,o,l)&&(r=Math.max(r-1,0))):Am(s)&&(r=0),n.selection.anchor.offset=r,n.selection.focus.offset=r,n.selection.anchor.path=[...l],n.selection.focus.path=[...l],e&&t&&(n=gx(e,t)(n)),n},Yx=(e,t)=>n=>{if(!n.selection||zy(n.node,n.selection))return n;if(!Ty(n.selection))return Jx(e,t)(n);const{path:o,offset:i}=n.selection.focus,r=ry(n.node,o);if(Wc(r))return n;if(i<oy(r))return n.selection.anchor.offset++,n.selection.focus.offset++,e&&t&&(n=gx(e,t)(n)),n;let l=0;const s=xb(n.node,o),c=ry(n.node,s);if(Cc(c)){l=0,ub(n.node,o,s)&&(l=1);const e=c.length;l>e&&(l=e)}else Am(c)&&(l=oy(c));return n.selection.anchor.offset=l,n.selection.focus.offset=l,n.selection.anchor.path=[...s],n.selection.focus.path=[...s],e&&t&&(n=gx(e,t)(n)),n},Kx=(e,t,n,o)=>i=>{if(!i.selection||zy(i.node,i.selection))return i;if(!Ty(i.selection))return Qx(e,t,n,o)(i);const r=cb(i,e,t);if(!r)return i;const l=ib(r,n.getBoundingClientRect(),i,e);if(!l.path.length){const e=i.selection.focus.path,t=Tb(i.node,e),n=ry(i.node,t);if(Im(n)){const e=bb(n),t=ry(i.node,e);if(null!==t){const n=oy(t),o={focus:{path:[...e],offset:n},anchor:{path:[...e],offset:n}};return i=Jw(o)(i),i=Qw(!1)(i),i=ex(!0)(i)}}}return i=fx(l,e,t,o)(i)},Gx=(e,t,n,o)=>i=>{if(!i.selection||Wy(i.node,i.selection))return i;if(!Ty(i.selection))return eS(e,t,n,o)(i);const r=ab(i,e,t);if(!r)return i;const l=ib(r,n.getBoundingClientRect(),i,e);if(!l.path.length){const e=i.selection.focus.path,t=Tb(i.node,e),n=ry(i.node,t);if(Im(n)){const e=yb(n),t={focus:{path:[...e],offset:0},anchor:{path:[...e],offset:0}};return i=Jw(t)(i),i=Qw(!1)(i),i=ex(!0)(i)}}return i=fx(l,e,t,o)(i)},Xx=(e,t)=>n=>{if(!n.selection)return n;let{before:{path:o,offset:i}}=qy(n.selection),r=ry(n.node,o);for(;null===r&&o.length>0;)0===dc(o)?(o=hc(o),r=ry(n.node,o),i=0):(o=kb(n.node,o),r=ry(n.node,o),i=r?oy(r):0);return n.selection.anchor.path=[...o],n.selection.anchor.offset=i,n.selection.focus.path=[...o],n.selection.focus.offset=i,e&&t&&(n=gx(e,t)(n)),n},Jx=(e,t)=>n=>{if(!n.selection)return n;const o=Ay(n.selection.anchor,n.selection.focus),{path:i,offset:r}=o?n.selection.anchor:n.selection.focus;return n.selection.anchor.path=[...i],n.selection.anchor.offset=r,n.selection.focus.path=[...i],n.selection.focus.offset=r,e&&t&&(n=gx(e,t)(n)),n},Qx=(e,t,n,o)=>i=>(i=Jx(e,t)(i),i=Kx(e,t,n,o)(i)),eS=(e,t,n,o)=>i=>(i=Xx(e,t)(i),i=Gx(e,t,n,o)(i)),tS=(e,t)=>n=>{if(!n.selection)return n;const{path:o,offset:i}=n.selection.focus;if(i>0)return n.selection.focus.offset=i-1,e&&t&&(n=gx(e,t)(n)),n;let r=0;const l=kb(n.node,o),s=ry(n.node,l);return Cc(s)?r=Math.max(s.length-1,0):Am(s)&&(r=0),n.selection.focus.offset=r,n.selection.focus.path=[...l],e&&t&&(n=gx(e,t)(n)),n},nS=(e,t)=>n=>{if(!n.selection)return n;const{path:o,offset:i}=n.selection.focus,r=ry(n.node,o);if(Wc(r))return n;if(i<oy(r))return n.selection.focus.offset++,e&&t&&(n=gx(e,t)(n)),n;let l=0;const s=xb(n.node,o),c=ry(n.node,s);return Cc(c)?l=Math.min(c.length,1):Am(c)&&(l=oy(c)),n.selection.focus.offset=l,n.selection.focus.path=[...s],e&&t&&(n=gx(e,t)(n)),n},oS=(e,t,n,o)=>i=>{if(!i.selection||Wy(i.node,i.selection))return i;const r=ab(i,e,t);if(!r)return i;const l=rb(r,n.getBoundingClientRect(),i,e);if(!l.path.length){const{before:e,after:t}=qy(i.selection),n=Tb(i.node,e.path),o=ry(i.node,n);if(Im(o)){const e={focus:{path:[...yb(o)],offset:0},anchor:ps(t)};return i=Jw(e)(i),i=Qw(!1)(i),i=ex(!0)(i)}}return i=hx(l,e,t,o)(i)},iS=(e,t,n,o)=>i=>{if(!i.selection||zy(i.node,i.selection))return i;const r=cb(i,e,t);if(!r)return i;const l=rb(r,n.getBoundingClientRect(),i,e);if(!l.path.length){const{before:e,after:t}=qy(i.selection),n=Tb(i.node,t.path),o=ry(i.node,n);if(Im(o)){const t=bb(o),n=ry(i.node,t);if(null!==n){const o=oy(n),r={anchor:ps(e),focus:{path:[...t],offset:o}};return i=Jw(r)(i),i=Qw(!1)(i),i=ex(!0)(i)}}}return i=hx(l,e,t,o)(i)},rS=(e,t)=>n=>{if(!n.selection||Wy(n.node,n.selection))return n;const{path:o,offset:i}=n.selection.focus,r=Tb(n.node,o);let l=yb(ry(n.node,r));if(Fc(o,l)&&0===i){const e=kb(n.node,o),t=Tb(n.node,e);l=yb(ry(n.node,t))}return n.selection.anchor.offset=0,n.selection.focus.offset=0,n.selection.anchor.path=[...l],n.selection.focus.path=[...l],e&&t&&(n=gx(e,t)(n)),n},lS=(e,t)=>n=>{if(!n.selection||zy(n.node,n.selection))return n;const{path:o,offset:i}=n.selection.focus,r=Tb(n.node,o);let l=bb(ry(n.node,r)),s=ry(n.node,l);if(s&&Fc(o,l)&&i===oy(s)){const e=xb(n.node,o),t=Tb(n.node,e);l=bb(ry(n.node,t)),s=ry(n.node,l)}let c=0;return null!==s&&(c=oy(s)),n.selection.anchor.offset=c,n.selection.focus.offset=c,n.selection.anchor.path=[...l],n.selection.focus.path=[...l],e&&t&&(n=gx(e,t)(n)),n},sS=(e,t)=>n=>{let o=!0;if(!n.selection)return n;let{before:{path:i,offset:r}}=qy(n.selection),l=ry(n.node,i);if(null===l)return n;const s=()=>{if(null===l)return!1;for(;r<=0;){const e=kb(n.node,i),t=ry(n.node,e);if(null===t)return!1;if(!ub(n.node,i,e))return!1;r=oy(t),l=t,i=e}return!0};for(;s()&&(Zm(l)||Um(l));){if(o=!1,!(n=qx(e,t)(n)).selection)return n;const{before:i}=qy(n.selection);l=ry(n.node,i.path),r=i.offset}for(;s()&&Cc(l)&&l[r-1]?.match(Xg);){if(o=!1,!(n=qx(e,t)(n)).selection)return n;const{before:i}=qy(n.selection);if(l=ry(n.node,i.path),r=i.offset,null===l)return n}return o&&(n=qx(e,t)(n)),n},cS=(e,t)=>n=>{let o=!0;if(!n.selection)return n;let{after:{path:i,offset:r}}=qy(n.selection),l=ry(n.node,i);if(null===l)return n;const s=()=>{if(null===l)return!1;for(;r>=oy(l);){const e=xb(n.node,i),t=ry(n.node,e);if(null===t)return!1;if(!ub(n.node,i,e))return!1;r=0,l=t,i=e}return!0};for(;s()&&(Zm(l)||Um(l));){if(o=!1,!(n=Yx(e,t)(n)).selection)return n;const{after:i}=qy(n.selection);l=ry(n.node,i.path),r=i.offset}for(;s()&&Cc(l)&&l[r]?.match(Xg);){if(o=!1,!(n=Yx(e,t)(n)).selection)return n;const{after:i}=qy(n.selection);if(l=ry(n.node,i.path),r=i.offset,null===l)return n}return o&&(n=Yx(e,t)(n)),n},aS=()=>e=>{if(!e.selection||!Ty(e.selection))return e;const{node:t,selection:{focus:{path:n,offset:o}}}=e,i=ry(t,Ob(t,n));if(!Km(i))return e;const r=i.children[0];if(e.composition&&e.composition>0)return e.composition--,e;let l=o-1;if(o<=r.length)for(;l>0&&"'"!==r[l];)l--;return l<0&&(l=r.length),e.selection.anchor.offset=l,e.selection.focus.offset=l,e},uS=()=>e=>{if(!e.selection||!Ty(e.selection))return e;const{node:t,selection:{focus:{path:n,offset:o}}}=e,i=ry(t,Ob(t,n));if(!Km(i))return e;const r=i.children[0];let l=o;return l>=r.length?(void 0===e.composition&&(e.composition=0),e.composition++,e):("'"===r[l]&&l++,l++,e.selection.anchor.offset=l,e.selection.focus.offset=l,e)},dS=()=>e=>{if(!e.selection||!Ty(e.selection))return e;const{node:t,selection:{focus:{path:n}}}=e;return Km(ry(t,Ob(t,n)))&&e.composition&&e.composition>0?(e.composition--,e):e},fS=()=>e=>{if(!e.selection||!Ty(e.selection))return e;const{node:t,selection:{focus:{path:n}}}=e;return Km(ry(t,Ob(t,n)))?(void 0===e.composition&&(e.composition=0),e.composition++,e):e},hS=(e,t)=>n=>{if(!n.selection)return n;if(Ty(n.selection))return NS(e,t)(n);const o=SS(e,n.node.style,t),{before:i,after:r}=qy(n.selection,!1),l={offset:i.offset,path:fb(n.node,i.path)},s={offset:r.offset,path:fb(n.node,r.path)};return pS(n.node,l,s,o,[n.selection]),n};function pS(e,t,n,o,i,r){let l=0;for(;l<e.children.length;){const r=e.children[l];if(Mm(r)&&(r.key=qg(Yg(e.key).concat(l))),(l===t.path[0]||l===n.path[0])&&n.path[0]>=0){if(Wm(r)){vS(r,o);const e=r.children[0];Am(e)&&vS(e,o),l++;continue}if(Gm(r)){l++;continue}if(Am(r)){const e={...t,path:fc(t.path)},s={...n,path:fc(n.path)};if((Pc(e.path)||l!==t.path[0]&&l===n.path[0])&&(e.path=[0],e.offset=0),Pc(s.path)||l===t.path[0]&&l!==n.path[0]){s.path=[r.children.length-1];const e=dc(r.children);s.offset=void 0!==e?oy(e):0}pS(r,e,s,o,i),l++;continue}let s=t.offset,c=n.offset;if(n.path[0]-t.path[0]>0&&(l===t.path[0]?c=r.length:l===n.path[0]&&(s=0)),1===e.children.length&&0===s&&c===r.length){vS(e,o),l++;continue}if(r.length<=s){l++;continue}if(s!==c){if(e.children.splice(l--,1),n.path[0]--,s>0&&(e.children.splice(++l,0,r.slice(0,s)),n.path[0]++),s<c){const t=my(wy([r.slice(s,c)]),Kg(e.key,l+1));if(vS(t,o),i){const n=Yg(e.key);for(let e=0;e<i?.length;e++){const{before:o,after:r}=qy(i[e],!1);let a=Fc(o.path,r.path);Fc(o.path.slice(0,n.length),n)&&(o.path.length===n.length+1&&dc(o.path)===l?o.offset>=s&&o.offset<=c?(o.path=[...Yg(t.key),0],o.offset-=s):o.offset>c&&(o.path[n.length]++,o.offset-=c):s>0&&o.path[n.length]++),Fc(r.path.slice(0,n.length),n)&&(r.path.length!==n.length+1||dc(r.path)!==l+1&&!a?s>0&&r.path[n.length]++:r.offset>=s&&r.offset<=c?(r.path=[...Yg(t.key),0],r.offset-=s):r.offset>c&&(r.path[n.length]++,r.offset-=c))}}e.children.splice(++l,0,t),n.path[0]++}c<r.length&&(e.children.splice(++l,0,r.slice(c)),n.path[0]++),Hx(e)}l++}else{if(l>t.path[0]&&l<n.path[0]){if(Om(r)){pS(r,{path:[0],offset:0},{path:[r.children.length-1],offset:oy(r.children[r.children.length-1])},o,i),l++;continue}if(Am(r)){vS(r,o),l++;continue}const t=my(wy([r]),Kg(e.key,l));if(vS(t,o),e.children[l]=t,i){const e=Yg(t.key);for(let t=0;t<i?.length;t++){const{anchor:n,focus:o}=i[t];Fc(n.path.slice(0,e.length),e)&&n.path.push(0),Fc(o.path.slice(0,e.length),e)&&o.path.push(0)}}}l++}}}function vS(e,t,n){!function e(t,n,o){if(t.style)for(let e in n)delete t.style[e];Pc(t.style)&&delete t.style,t.children.forEach((t=>{(o?Om(t):Am(t))&&e(t,n,o)}))}(e,t,n),void 0===e.style&&(e.style={}),Object.assign(e.style,t)}const gS=(e,t,n)=>o=>{if(!o.selection)return o;if(Ty(o.selection)){const{path:i,offset:r}=o.selection.focus,l=fb(o.node,i),s=ry(o.node,i);if(Am(s))return NS(t(e),n,e)(o);if(Cc(s)){const c=ry(o.node,hc(i)),a=yS(c,e,t);if(Pc(a))return NS(t(e),n,e)(o);if(""===s)return CS(c,bS(a,e),t),o;const u=[];r>0&&u.push(wy([s.slice(0,r)],t(a),{...a}));let d=wy([""]);if(CS(d,bS(a,e),t),u.push(d),r<s.length&&u.push(wy([s.slice(r)],t(a),{...a})),i.length>2&&Nm(c)){const e=ry(o.node,hc(i,2)),t=e.children.indexOf(c);if(-1!==t){let n=t;e.children.splice(t,1,...u.map(((e,t)=>(Im(e)&&(c.style&&(e.style={...c.style,...e.style}),c.props&&(e.props={...c.props,...e.props})),d===e&&(n+=t),e)))),Hx(e),d=e.children[n]}}else{const e=dc(l)??0;let t=e;c.children.splice(e,1,...u.map(((e,n)=>(d===e&&(t+=n),e)))),Hx(c),d=c.children[t]}const f=Yg(d.key).concat(0);o.selection.anchor.path=[...f],o.selection.focus.path=[...f],o.selection.anchor.offset=0,o.selection.focus.offset=0}return o}const{before:i,after:r}=qy(o.selection,!1),l={offset:i.offset,path:fb(o.node,i.path)},s={offset:r.offset,path:fb(o.node,r.path)},c=[];mS(o.node,l,s,c,e,t);const a=yb(c[0]);null!==ry(o.node,a)&&(i.path=[...a],i.offset=0);const u=bb(c[1]??c[0]),d=ry(o.node,u);return null!==d&&(r.path=[...u],r.offset=oy(d)),o};function mS(e,t,n,o,i,r){let l=0;const s=yS(e,i,r);for(;l<e.children.length;){const c=e.children[l];if(Mm(c)&&(c.key=qg(Yg(e.key).concat(l))),(l===t.path[0]||l===n.path[0])&&n.path[0]>=0){if(Wm(c)){const e=bS(s,i);CS(c,e,r);const t=c.children[0];Am(t)&&CS(t,e,r),l++;continue}if(Am(c)){const e={...t,path:fc(t.path)},s={...n,path:fc(n.path)};(Pc(e.path)||l!==t.path[0]&&l===n.path[0])&&(e.path=[0],e.offset=0),(Pc(s.path)||l===t.path[0]&&l!==n.path[0])&&(s.path=[c.children.length-1],s.offset=oy(c.children[c.children.length-1])),mS(c,e,s,o,i,r),l++;continue}let a=t.offset,u=n.offset;if(n.path[0]-t.path[0]>0&&(l===t.path[0]?u=c.length:l===n.path[0]&&(a=0)),1===e.children.length&&0===a&&u===c.length){CS(e,bS(s,i),r),0===o.length?o.push(e):o[1]=e,l++;continue}if(a!==u){if(e.children.splice(l--,1),n.path[0]--,a>0){const t=my(wy([c.slice(0,a)],r(s),{...s}),Kg(e.key,l+1));e.children.splice(++l,0,t),n.path[0]++}if(a<u){const t=my(wy([c.slice(a,u)]),Kg(e.key,l+1));CS(t,bS(s,i),r),e.children.splice(++l,0,t),n.path[0]++,0===o.length?o.push(t):o[1]=t}if(u<c.length){const t=my(wy([c.slice(u)],r(s),{...s}),Kg(e.key,l+1));e.children.splice(++l,0,t),n.path[0]++}Hx(e)}l++}else{if(l>t.path[0]&&l<n.path[0]){if(Am(c)){mS(c,{path:[0],offset:0},{path:[c.children.length-1],offset:oy(c.children[c.children.length-1])},o,i,r),l++;continue}const t=my(wy([c],r(s)),Kg(e.key,l));CS(t,bS(s,i),r),e.children[l]=t}if(!Pc(s))if(Am(c))CS(c,bS(s,i),r);else if(Cc(c)){const t=my(wy([c],r(s)),Kg(e.key,l));CS(t,bS(s,i),r),e.children[l]=t}l++}}}function yS(e,t,n){const o={};for(let n in t)void 0!==e.props?.[n]&&(o[n]=e.props[n],delete e.props[n]);const i=n(t);for(let t in i){const n=t;void 0!==e.style?.[n]&&delete e.style[n]}return o}function bS(e,t){const n={};for(let t in e)null!==e[t]&&(n[t]=e[t]);for(let e in t)null!==t[e]&&(n[e]=t[e]);return n}function CS(e,t,n){e.props={...e.props,...t},e.style={...e.style,...n(t)}}const wS=(e,t)=>n=>{if(!n.selection)return n;if(Ty(n.selection)){const o=Tb(n.node,n.selection.focus.path),i=ry(n.node,o);if(Om(i)){const r=xS(n.node,o,t);vS(i,SS(e,r,t))}return n}return nb(n.node,n.selection,((o,i)=>{const r=xS(n.node,i,t);vS(o,SS(e,r,t),!0)})),n};function xS(e,t,n){const o={},i=fb(e,t);let r=0;do{if(e.style)for(let t in e.style){const i=t;n?.[i]&&(o[i]=e.style[i])}const t=e.children[i[r++]];if(!Am(t))break;e=t}while(e&&r<i.length);return o}function SS(e,t,n){const o={};for(let i in e){const r=i;e[r]!==t?.[r]&&(n&&void 0===n[r]||(o[r]=e[r]))}return o}function ES(e){e.style=e.style??{},e.style.paddingBottom=3,e.style.paddingTop=3}const kS=e=>t=>{if(!t.selection||!Ty(t.selection))return t;const{path:n,offset:o}=t.selection.focus,i=fb(t.node,n),r=ry(t.node,hc(n));let l=ry(t.node,n);if(null===l){const e=qg(n);l=my(wy([]),e);const o=dc(n);if(void 0===o)return t;r.children[o]=l}const s=NE(e)?-1:0;if(Cc(l))r.children[dc(i)??0]=l.slice(0,o)+e+l.slice(o),t.selection.anchor.offset+=e.length+s,t.selection.focus.offset+=e.length+s;else if(Wm(l)){if(r.children.splice((dc(i)??0)+o,0,e),t.selection.anchor.offset=e.length+s,t.selection.focus.offset=e.length+s,o>0){const e=Pb(n);t.selection.anchor.path=[...e],t.selection.focus.path=[...e]}}else if(Am(l)){l.children.splice(o,0,e),t.selection.anchor.offset=e.length+s,t.selection.focus.offset=e.length+s;const i=[...n,o];t.selection.anchor.path=[...i],t.selection.focus.path=[...i]}return t=jx()(t)},DS=e=>t=>{if(Ty(t.selection)||(t=AS()(t)),!t.selection)return t;for(;e.type===Jg&&e.children.length<=1;){const t=e.children[0];Cc(t)?e=wy([t],e.style):(e.style&&(t.style={...YC(e.style),...t.style}),e=t)}e=function e(t){return Wm(t)?t:{...t,children:t.children.filter((e=>!(!Cc(e)&&!Im(e))&&((!Wm(e)||0!==e.children.length)&&("string"!=typeof e&&e.type!==Qg||!Pm(e)||!Pc(e.props))))).map((t=>Im(t)&&!Wm(t)?e(t):t))}}(e),Bm(e)&&(e=wy(e.children,YC(e.style)));let n=null,o=null,i=null;const{path:r,offset:l}=t.selection.focus,s=Tb(t.node,r),c=ry(t.node,s),a=yb(c),u=bb(c),d=fb(t.node,r),f=ry(t.node,hc(r)),h=ry(t.node,hc(r,2));let p=ry(t.node,r);if(null===p){const e=qg(r);p=my(wy([]),e);const n=dc(r);if(void 0===n)return t;f.children[n]=p}let v=!1;0===Hy(a,r)&&0===l&&(v=!0);let g=!1;0===Hy(u,r)&&oy(p)===l&&(g=!0);const m=v&&g;if(Tm(e)){let r=!1;if(t.selection){const e=t.selection.focus.path,n=Tb(t.node,e),o=ry(t.node,n);Pm(o,!0)&&!Vm(o)&&(r=!0)}let l=vb(e);if(!r&&!v){const t=Ab(e,l);t&&(l=t);let o=Bb(e,l);o&&(l=o);const i=Tb(e,l);o=Bb(e,i),o&&(l=o);for(let t=l.length-1;t>=0;t--){const o=iy(e,l.slice(0,t));if(Bm(o)&&(n=wy([...o.children]),o.children.length=0),Tm(o)){Pm(o.children[0],!0)&&o.children.shift()}}}if(!r&&!Pm(e,!0)&&!g){let t=gb(e);const n=Ab(e,t);n&&(t=n);let o=Bb(e,t);o&&(t=o);const r=Tb(e,t);o=Bb(e,r),o&&(t=o);for(let n=t.length-1;n>=0;n--){const o=iy(e,t.slice(0,n));if(Bm(o)&&(i=wy([...o.children]),o.children.length=0),Tm(o)){Pm(o.children[o.children.length-1],!0)&&o.children.pop()}}}Pm(e,!0)||(o=e)}if(n||o||i)return n?t=DS(n)(t):o&&(m||(t=zS()(t),g||(t=qx()(t)))),o&&(t=IS(o)(t)),i&&(t=o?Yx()(t):zS()(t),t=DS(i)(t)),t;let y=r,b=p;if(Cc(p))if(""===p)b=my(e,qg(y)),f.children[dc(d)??0]=b;else if(0===l&&r.length>=2&&Nm(f)&&oy(f)<=1){const t=h.children.indexOf(f);if(-1!==t){const n={...f.style,...e.style};y=hc(r),b=my({...e,style:n},qg(y)),h.children.splice(t,0,b)}}else if(l===p.length&&r.length>=2&&Nm(f)&&oy(f)<=1){const t=h.children.indexOf(f);if(-1!==t){const n={...f.style,...e.style};y=Pb(hc(r)),b=my({...e,style:n},qg(y)),h.children.splice(t+1,0,b)}}else y=Pb(r),b=my(e,qg(y)),f.children.splice(dc(d)??0,1,p.slice(0,l),b,p.slice(l));else Wm(p)?(y=l>0?Pb(r):r,b=my(e,qg(y)),f.children.splice((dc(d)??0)+l,0,b)):Am(p)&&(y=[...r,l],Tm(p)&&ES(e=Cy([e])),b=my(e,qg(y)),p.children.splice(l,0,b));if(Am(b)){let e=bb(b),n=ry(t.node,e);if(Ym(n)&&(e=kb(t.node,e),n=ry(t.node,e)),null===n)return t;t.selection.anchor.offset=oy(n),t.selection.focus.offset=oy(n),t.selection.anchor.path=[...e],t.selection.focus.path=[...e]}function C(e){if("toggle-list"!==e.props?.type&&zm(e)&&oy(e)>1){const n=Yg(e.key);if(Tm(e)?e.children=[my(Cy(e.children),qg([...n,0]))]:e.children=[my(wy(e.children),qg([...n,0]))],!t.selection)return;const o=t.selection.focus.path;0===Hy(n,o)&&o.length>n.length&&o.splice(n.length,0,0);const i=t.selection.anchor.path;0===Hy(n,i)&&i.length>n.length&&i.splice(n.length,0,0)}}return C(f),C(h),t=jx(!0)(t)},IS=e=>t=>{if(Ty(t.selection)||(t=AS()(t)),!t.selection)return t;const{path:n}=t.selection.focus,o=Tb(t.node,n),i=ry(t.node,o);if(Pm(i,!0)){const n=qg(o),r=my(e,n);Object.assign(i,r,{position:i.position});const l=bb(i),s=ry(t.node,l);if(null!==s){const e=oy(s);t.selection={focus:{path:[...l],offset:e},anchor:{path:[...l],offset:e}}}return t=_x(o)(t)}const r=Pb(o),l=qg(r),s=my(e,l);t=Dx(s,o)(t);const c=ry((t=Rx(hc(o))(t)).node,r);if(!Lm(c))return t=(e=>(e.selection=void 0,e.selectionStyle=void 0,e.selectionDecorate=void 0,e.selectionLayout=void 0,e.selectionPath=void 0,e.selectionBackground=void 0,e))(t);let a=bb(c),u=ry(t.node,a);if(Ym(u)&&(a=kb(t.node,a),u=ry(t.node,a)),null===u)return t=(e=>(e.selection=void 0,e.selectionStyle=void 0,e.selectionDecorate=void 0,e.selectionLayout=void 0,e.selectionPath=void 0,e.selectionBackground=void 0,e))(t);if(!t.selection)return t;const d=oy(u);return t.selection.anchor.offset=d,t.selection.focus.offset=d,t.selection.anchor.path=[...a],t.selection.focus.path=[...a],t=jx(!0)(t)},NS=(e,t,n)=>o=>{if(!o.selection||!Ty(o.selection))return o;const i={...e},r=o.selectionStyle;if(r)for(let e in i){const t=e;i[t]===r[t]&&delete i[t]}if(Pc(i))return o;let{path:l,offset:s}=o.selection.focus,c=ry(o.node,l);if(""===c||c===Gg){const e=ry(o.node,hc(l));if(Nm(e)&&oy(e)<=1)e.style={...e.style,...i},n&&(e.props={...e.props,...n});else if(Im(e)){const t=dc(l)??0,r=my(wy([c],i,n),qg(l));e.children[t]=r,o.selection.anchor.offset=0,o.selection.focus.offset=0,o.selection.anchor.path=[...l,0],o.selection.focus.path=[...l,0]}return o}if(null!==c&&s===oy(c)){const i=xb(o.node,l);if(ub(o.node,l,i)){o.selection.anchor.offset=0,o.selection.focus.offset=0,o.selection.anchor.path=[...i],o.selection.focus.path=[...i];const r={...o.selectionStyle,...e};return o=ix(t)(o),NS(r,t,n)(o)}}const a=wy([""],i,n);return DS(a)(o)},LS=(e,t)=>n=>{if(!n.selection||!Ty(n.selection))return n;const{node:o,selection:{focus:{path:i,offset:r}}}=n,l=Ob(o,i);if(0===l.length){const o=Iy(e);return t&&o.children.push(Dy()),n=DS(o)(n)}const s=ry(o,l);if(!Km(s))return n;const c=s.children[0];if(c===e)return n;s.children[0]=e;const a=r+(e.length-c.length);return n.selection.focus.offset=a,n.selection.anchor.offset=a,n=jx(!0)(n)},TS=(e,t)=>n=>{if(!n.selection)return n;const{focus:o,anchor:i}=ps(n.selection);let r=ry(n.node,hc(o.path)),l=ry(n.node,hc(i.path));function s(s,c){if(!e)return;let a=ps(e);if(t){if(oy(s)>1)Tm(s)?s.children=[Cy(s.children)]:s.children=[wy(s.children)],Hx(s),r===s&&(r=s.children[0]),l===s&&(l=s.children[0]);else if(0===oy(s)){const e=Kg(s.key,0),t=my(wy([""]),e);r=t,l=t,s.children.push(t),o.path.length=0,i.path.length=0}return void Object.assign(s,$c(s,a))}const u=hc(c),d=ry(n.node,u);if(!Am(d))return;const f=d.children.indexOf(s);if(-1===f)return;let h=a;for(;Tm(h)&&1===h.children.length;)h=h.children[0];const p=Math.max(0,(dc(c)??0)-1);let v=[...u,p];Pc(KC(s.style))?h.children.push(s):(h.children.push({...s,style:YC(s.style)}),a={...s,children:[h]},v=[...u,0,p]),d.children[f]=a,n=Rx(u)(n),n=_x(v)(n)}function c(e){const t=Bb(n.node,e);if(!t)return;const o=ry(n.node,t);if(!Am(o))return;if(!Tm(o))return o.type=Jg,void delete o.props;const i=hc(t),r=ry(n.node,i);if(!Am(r))return;const l=r.children.indexOf(o);if(-1===l)return;const s=o.children.map((e=>(Lm(e)&&(e.style=qC(e.style),delete e.position),e)));r.children.splice(l,1,...s),n=Rx(i)(n),n=_x([...i,l])(n)}function a(){if(!Am(r)||!Am(l))return;const e=[...Yg(r.key),dc(o.path)??0],t=[...Yg(l.key),dc(i.path)??0];n.selection={focus:{path:e,offset:o.offset},anchor:{path:t,offset:i.offset}}}if(Ty(n.selection)){const t=Tb(n.node,o.path),i=ry(n.node,t);return e?s(i,t):c(t),a(),n}const u=[];return nb(n.node,n.selection,((t,n)=>{for(const e of u)if(0===Hy(e,n))return;return u.push(n),e?s(t,n):c(n)}),!0),a(),n};function BS(e,t){const{before:n,after:o}=qy(t);if(n.path[0]===o.path[0]){const t=e.children[n.path[0]];if(Wm(t))return e.children.splice(n.path[0],1,""),gy({...e,children:[t]});if(Am(t))return{...gy({...e,children:[]}),children:[BS(t,{anchor:{path:n.path.slice(1),offset:n.offset},focus:{path:o.path.slice(1),offset:o.offset}})]};if(Cc(t)){const i=t.slice(0,n.offset),r=t.slice(o.offset);e.children.splice(n.path[0],1,i,r);const l=t.slice(n.offset,o.offset);return{...gy({...e,children:[]}),children:[l]}}}const i=e.children[n.path[0]],r=e.children[o.path[0]],l=[];if(Wm(r))1===o.offset&&(l.unshift(gy(r)),e.children.splice(o.path[0],1,""));else if(Am(r)){const e=o.path.length>1?o.path.slice(1):[0];l.unshift(BS(r,{anchor:{path:[0],offset:0},focus:{path:e,offset:o.offset}}))}else if(Cc(r)){const t=r.slice(o.offset);e.children[o.path[0]]=t;const n=r.slice(0,o.offset);n&&l.unshift(n)}const s=n.path[0]+1,c=o.path[0]-s;if(c>0&&l.splice(0,0,...e.children.splice(s,c).map(((e,t)=>Am(e)?gy(e):e))),Wm(i))0===n.offset&&(l.unshift(gy(i)),e.children.splice(n.path[0],1,""));else if(Am(i)){const e=Math.max(0,oy(i)-1),t=i.children[e],o=n.path.length>1?n.path.slice(1):[0];l.unshift(BS(i,{anchor:{path:o,offset:n.offset},focus:{path:[e],offset:oy(t)}}))}else if(Cc(i)){const t=i.slice(0,n.offset);e.children[n.path[0]]=t;const o=i.slice(n.offset);o&&l.unshift(o)}return{...gy({...e,children:[]}),children:l}}const AS=()=>e=>{const t=e.selection;if(!t||Ty(t))return e;const{before:n,after:o}=qy(t),i=ry(e.node,Tb(e.node,n.path)),r=ry(e.node,Tb(e.node,o.path));if(Rm(r)||Rm(i))return e;if(!Om(r)||!Om(i))return e;n.path=fb(e.node,n.path),o.path=fb(e.node,o.path);return MS(e.node,n,o,r,i,(()=>{e.reduceBlock=!0})),e=Xx()(e),e=jx(!0)(e)};function MS(e,t,n,o,i,r){let l=0;for(;l<e.children.length;){const s=e.children[l];if((l===t.path[0]||l===n.path[0])&&n.path[0]>=0){if(Am(s)){if(0===s.children.length){e.children.splice(l,1),n.path[0]--;continue}const c={...t,path:fc(t.path)},a={...n,path:fc(n.path)};if((Pc(c.path)||l!==t.path[0]&&l===n.path[0])&&(c.path=[0],c.offset=0),(Pc(a.path)||l===t.path[0]&&l!==n.path[0])&&(a.path=[s.children.length-1],a.offset=oy(s.children[s.children.length-1])),MS(s,c,a,o,i,r),s===o&&i!==o){for(;o.children.length;){const e=o.children.shift();if(Cc(e)&&0===e.length)continue;const t=i.children[i.children.length-1];Hm(t,e)?Cc(t)&&Cc(e)?i.children[i.children.length-1]=t+e:Am(t)&&Am(e)?t.children=[...t.children,...e.children]:Cc(t)&&Am(e)&&(i.children[i.children.length-1]=t+e.children[0]):i.children.push(e)}e.children.splice(l,1),n.path[0]--;continue}if(0===s.children.length&&s!==i){e.children.splice(l,1),n.path[0]--;continue}l++;continue}let c=t.offset,a=n.offset;if(n.path[0]-t.path[0]>0&&(l===t.path[0]?a=s.length:l===n.path[0]&&(c=0)),c!==a){const t=`${s.slice(0,c)}${s.slice(a)}`;""===t&&r(),e.children.splice(l,1,t??null)}l++}else l>t.path[0]&&l<n.path[0]?(e.children.splice(l,1),n.path[0]--):l++}}const OS=e=>t=>{if(!t.selection)return t;if(!Ty(t.selection))return AS()(t);let{path:n,offset:o}=t.selection.focus;const i=fb(t.node,n);if(o>0){const r=ry(t.node,n),l=ry(t.node,hc(n));if(Cc(r)){let e=0;IE[r[o-1]]===r[o]&&(e=1),l.children[dc(i)??0]=r.slice(0,o-1)+r.slice(o+e)}else Wm(r)&&l.children.splice(dc(i)??0,1,"");if(o--,t.selection.anchor.offset=o,t.selection.focus.offset=o,0===o&&1===oy(l)&&""===l.children[0])for(const t in e)delete l.style?.[t];return t=jx(!0)(t)}const r=Wy(t.node,t.selection);if(Uy(t.node,t.selection)){let e=Tb(t.node,n),o=ry(t.node,e);const i=Bb(t.node,e);if(Om(o)){let l=!1;const s=Bb(t.node,hc(i));if(s?.length&&(l=!0),i&&(!r||l)&&jy(e.slice(i.length)))return t=TS()(t);if(r)for(;!o.style?.marginLeft;){const n=hc(e);if(n.length<=0)break;const i=ry(t.node,n);if(!Om(i))break;e=n,o=i}if(o.style){let e=!1;const{margin:n,marginLeft:i,padding:r,paddingLeft:l}=o.style;if(void 0!==r&&0!==r&&"0px"!==r&&(delete o.style.padding,e=!0),void 0!==l&&0!==l&&"0px"!==l&&(delete o.style.paddingLeft,e=!0),e)return t;if(void 0!==n&&0!==n&&"0px"!==n&&(delete o.style.margin,e=!0),void 0!==i&&0!==i&&"0px"!==i&&(delete o.style.marginLeft,e=!0),e)return t}const c=ry(t.node,n);if(Am(c)){const e=qC(c.style);if(delete e?.paddingTop,delete e?.paddingBottom,!Pc(e))return delete c.style,t}}}if(r)return t;let l=kb(t.node,n);db(t.node,l)&&(l=Mb(t.node,l));const s=ry(t.node,l);if(null!==s){const e=oy(s);t.selection.anchor.path=[...l],t.selection.focus.path=[...l],t.selection.anchor.offset=e,t.selection.focus.offset=e}else console.error("preNode should not be null");return ub(t.node,n,l)?OS(e)(t):(t=PS(n,l)(t),t=jx(!0)(t))},RS=()=>e=>{if(!e.selection||zy(e.node,e.selection))return e;if(!Ty(e.selection))return AS()(e);const{path:t,offset:n}=e.selection.focus,o=fb(e.node,t),i=ry(e.node,t);if(null===i)return e;if(n<oy(i)){const r=ry(e.node,hc(t));return Cc(i)?r.children[dc(o)??0]=i.slice(0,n)+i.slice(n+1):Wm(i)&&r.children.splice(dc(o)??0,1,""),e}let r=xb(e.node,t);db(e.node,r)&&(r=Mb(e.node,r));const l=ry(e.node,r);return ub(e.node,t,r)?null!==l?(e.selection.anchor.path=[...r],e.selection.focus.path=[...r],e.selection.anchor.offset=0,e.selection.focus.offset=0,RS()(e)):e:(e=PS(r,t)(e),e=jx(!0)(e))},PS=(e,t)=>n=>{const o=Tb(n.node,e),i=Tb(n.node,t),r=ry(n.node,o),l=ry(n.node,i);if(Rm(r)||Rm(l))return n;if(!Om(r)||!Om(l))return n;const s=l.children;for(;r.children.length;){const e=r.children.shift();if(Cc(e)&&0===e.length)continue;const t=s[s.length-1];Hm(t,e)?Cc(t)&&Cc(e)?s[s.length-1]=t+e:Am(t)&&Am(e)?t.children=[...t.children,...e.children]:Cc(t)&&Am(e)&&(s[s.length-1]=t+e.children[0]):s.push(e)}let c=hc(o),a=r,u=ry(n.node,c);do{const e=u.children.indexOf(a);if(-1===e)break;u.children.splice(e,1),c=hc(c),a=u,u=ry(n.node,c)}while(0===a.children.length);return n},FS=e=>t=>{if(!t.selection||Wy(t.node,t.selection))return t;const{before:n,after:o}=qy(t.selection,!0);let i=n;if(0===i.offset){const e=kb(t.node,i.path),n=ry(t.node,i.path);if(null===n)return t;i.path=e,i.offset=oy(n)}else i.offset--;const r=Tb(t.node,i.path),l=ry(t.node,r);if(!Om(l))return t;i=wE(i,SE(l,e));const s={anchor:o,focus:{path:i.path,offset:i.offset}};return t=Jw(s)(t),t=AS()(t),t=kx(!0)(t)},HS=e=>t=>{if(!t.selection||zy(t.node,t.selection))return t;const{before:n,after:o}=qy(t.selection,!0);let i=o;const r=ry(t.node,i.path);if(null===r)return t;if(i.offset===oy(r)){const e=xb(t.node,i.path);if(null===ry(t.node,i.path))return t;i.path=e,i.offset=0}else i.offset++;const l=Tb(t.node,i.path),s=ry(t.node,l);if(!Om(s))return t;i=xE(i,SE(s,e));const c={anchor:n,focus:{path:i.path,offset:i.offset}};return t=Jw(c)(t),t=AS()(t),t=kx(!0)(t)},_S=()=>e=>{if(!e.selection)return e;const{before:t}=qy(e.selection);if(!(e=sS()(e)).selection)return e;const{before:n}=qy(e.selection);return e=Jw({focus:n,anchor:t})(e),e=AS()(e),e=jx(!0)(e)},jS=()=>e=>{if(!e.selection)return e;const{after:t}=qy(e.selection);if(!(e=cS()(e)).selection)return e;const{after:n}=qy(e.selection);return e=Jw({focus:t,anchor:n})(e),e=AS()(e),e=jx(!0)(e)},WS=e=>t=>{if(void 0===t.selection)return t;const n=t.selection.focus.path,o=Ob(t.node,n);if(o.length){const n=ry(t.node,o);if(Km(n)){const i=hc(o),r=ry(t.node,i);if(Im(r)){const o=r.children.indexOf(n);if(-1===o)return t;if(r.children.splice(o,1),o>=1){const n=r.children[o-1];if(Cc(n)){const l=`${n}${e}`;r.children[o-1]=l;const s=[...i,o-1];t.selection={anchor:{path:[...s],offset:l.length},focus:{path:[...s],offset:l.length}}}else if(Wm(n)){r.children.splice(o,0,e);const n=[...i,o];t.selection={anchor:{path:[...n],offset:e.length},focus:{path:[...n],offset:e.length}}}else if(Cc(dc(n.children))){const o=n.children.length-1,i=`${dc(n.children)}${e}`;n.children[o]=i;const r=[...Yg(n.key),o];t.selection={anchor:{path:[...r],offset:i.length},focus:{path:[...r],offset:i.length}}}else{n.children.push(e);const o=n.children.length-1,i=[...Yg(n.key),o];t.selection={anchor:{path:[...i],offset:e.length},focus:{path:[...i],offset:e.length}}}}else{r.children.unshift(e);const n=[...Yg(r.key),0];t.selection={anchor:{path:[...n],offset:e.length},focus:{path:[...n],offset:e.length}}}}}}else t=kS(e)(t);return t},zS=()=>e=>{if(e.selection&&!Ty(e.selection)&&(e=AS()(e)),!(e=jx(!0)(e)).selection)return e;const{path:t,offset:n}=e.selection.focus,o=fb(e.node,t),i=Tb(e.node,t);let r=ry(e.node,i);if(0===n){const n=Bb(e.node,t);if(n){const t=ry(e.node,n);if(zm(t)&&Pm(t))return OS()(e)}}const l=ry(e.node,hc(i)),s=Yg(l.key);if(Pm(r)&&dc(l.children)===r){if(r.style?.marginLeft)return delete r.style.marginLeft,e;const n=hc(i,2),o=ry(e.node,n);if(o!==l){l.children.pop(),Pm(l)&&(l.style=GC(l.style,r.style)),e=_x(s,!0)(e);const n=o.children.indexOf(l),c=Pb(hc(i)),a=my(gy(r),qg(c));if(o.children.splice(n+1,0,a),(e=Rx(hc(t,2))(e)).selection){const t=yb(a);e.selection.anchor.path=[...t],e.selection.focus.path=[...t],e.selection.anchor.offset=0,e.selection.focus.offset=0,e=Rx(s)(e),e=jx(!0)(e)}return e}}const c=fc(o,i.length),a=ps({...gy(r),children:[]}),u=r.children[0];let d=a;for(;c.length;){const e=c.shift();if(void 0===e)break;const t=r.children.splice(e+1,oy(r));t.length&&(d.children=[...d.children,...t]);const o=r.children[e];if(Cc(o)){o.length>n&&(r.children[e]=o.slice(0,n),d.children.unshift(o.slice(n)));break}if(Wm(o)){0===n&&(r.children.splice(e,1),d.children.unshift(o));break}if(Am(o)&&oy(o)){const e=ps({...o,children:[]});d.children.unshift(e),r=o,d=e}}let f=!1;Uy(e.node,e.selection)||Um(u)&&(f=!0,a.children.unshift(ps(u)));const h=my(a,qg(Pb(i))),p=fb(e.node,i);if(0===oy(h)&&h.children.push(""),ES(h),l.children.splice((dc(p)??0)+1,0,h),e.selection){const t=yb(h),n=f?1:0;e.selection.anchor.path=[...t],e.selection.focus.path=[...t],e.selection.anchor.offset=n,e.selection.focus.offset=n}return e=Rx(s)(e),e=jx(!0)(e)},VS=()=>e=>{e.selection&&!Ty(e.selection)&&(e=AS()(e));const t=ky();e=DS(t)(e);const n=e.selection?.focus.path;if(!n?.length)return e;const o=xb(e.node,n);return null!==ry(e.node,o)&&(e.selection={focus:{path:[...o],offset:0},anchor:{path:[...o],offset:0}}),e},$S=e=>t=>{if(void 0===t.selection)return t;if(!Ty(t.selection)){const n=[];return nb(t.node,t.selection,((o,i)=>{for(const e of n)if(0===Hy(e,i))return;n.push(i);const r=sy(t.node,i);for(;r.length;){const e=r.pop();if(Im(e)&&zm(e)){o=e,i=Yg(e.key);break}}const l=XC(t.node,i,e),s=2*parseFloat(String(l.fontSize)),c=parseInt(String(o.style?.marginLeft??0));o.style={...o.style,marginLeft:c+s},t=jx(!0)(t)})),t}const{path:n,offset:o}=t.selection.focus,i=ry(t.node,n),r=XC(t.node,n,e),l=2*parseFloat(String(r.fontSize)),s=Tb(t.node,n),c=ry(t.node,s);if(!Lm(c))return t;const a=yb(c),u=ry(t.node,a),d=kb(t.node,n),f=ry(t.node,d),h=sy(t.node,n);let p=h.length-1,v=null;for(;p>=0;){const e=h[p];if(Vm(e)){v=e;if(0===dc(Yg(e.key))){p--;continue}break}p--}if((()=>{if(Um(u)){if(u===i)return!0;if(u===f&&0===o)return!0}return!1})()){const e=parseInt(String(c.style?.marginLeft??0));return c.style={...c.style,marginLeft:e+l},t=jx(!0)(t)}if((v===c||0===dc(s))&&(Vm(v)&&0===Hy(n,a)&&0===o)&&v){const e=parseInt(String(v.style?.marginLeft??0));return v.style={...v.style,marginLeft:e+l},t=jx(!0)(t)}const g=Ey({width:l});return DS(g)(t)},ZS=e=>t=>{if(void 0===t.selection)return t;if(!Ty(t.selection)){const n=[];return nb(t.node,t.selection,((o,i)=>{for(const e of n)if(0===Hy(e,i))return;n.push(i);const r=sy(t.node,i);for(;r.length;){const e=r.pop();if(Im(e)&&zm(e)){o=e,i=Yg(e.key);break}}const l=XC(t.node,i,e),s=2*parseFloat(String(l.fontSize)),c=parseInt(String(o.style?.marginLeft??0));o.style={...o.style,marginLeft:Math.max(0,c-s)},t=jx(!0)(t)})),t}const{path:n,offset:o}=t.selection.focus,i=ry(t.node,n),r=XC(t.node,n,e),l=2*parseFloat(String(r.fontSize)),s=Tb(t.node,n),c=ry(t.node,s);if(!Lm(c))return t;const a=yb(c),u=ry(t.node,a),d=kb(t.node,n),f=ry(t.node,d),h=sy(t.node,n);let p=h.length-1,v=null;for(;p>=0;){const e=h[p];if(Vm(e)){v=e;if(0===dc(Yg(e.key))){p--;continue}break}p--}if((()=>{if(Um(u)){if(u===i)return!0;if(u===f&&0===o)return!0}return!1})()){const n=parseInt(String(c.style?.marginLeft??0));return n>0?c.style={...c.style,marginLeft:Math.max(0,n-l)}:t=OS(e)(t),t=jx(!0)(t)}if((v===c||0===dc(s))&&(Vm(v)&&0===Hy(n,a)&&0===o)&&v){const e=parseInt(String(v.style?.marginLeft??0));return v.style={...v.style,marginLeft:Math.max(0,e-l)},t=jx(!0)(t)}return t},US=()=>e=>{e.selection&&!Ty(e.selection)&&(e=AS()(e));const t=Sy({width:ch(6)});return DS(t)(e)},qS=e=>t=>{const n=py(t),o=vy(t);return n.diff>n.size&&(t=Tx(e)(t)),o.diff>o.size&&(t=Bx(e)(t)),t=YS(!0)(t)},YS=e=>t=>(t.slicer=e,t),KS=e=>t=>(void 0===t.contextMenu&&(t.contextMenu={}),t.contextMenu.visible=e,t),GS=e=>t=>(void 0===t.contextMenu&&(t.contextMenu={}),t.contextMenu.rect=e,t),XS=e=>t=>(void 0===t.contextMenu&&(t.contextMenu={}),t.contextMenu.scrolling=e,t),JS=()=>e=>(e.highlights=void 0,e),QS=e=>t=>{const n={fontWeight:"bolder"};return"bolder"===t.selectionStyle?.fontWeight&&(n.fontWeight="normal"),t=hS(n,e)(t),t=ix(e)(t),t=jx(!0)(t)},eE=e=>t=>{const n={fontStyle:"italic"};return"italic"===t.selectionStyle?.fontStyle&&(n.fontStyle="normal"),t=hS(n,e)(t),t=ix(e)(t),t=jx(!0)(t)},tE=(e,t)=>n=>(n=wS({textAlign:e},t)(n),n=ix(t)(n),n=jx(!0)(n)),nE=e=>t=>(t.scrollBar||(t.scrollBar={}),t.scrollBar.visible=e,t),oE=e=>t=>(t.loupe||(t.loupe={}),t.loupe.visible=e,t),iE=e=>t=>(t.loupe||(t.loupe={}),t.loupe.onlyDot=e,t),rE=e=>t=>(void 0===t.loupe&&(t.loupe={}),t.loupe.rect=e,t),lE=e=>t=>(t.touch||(t.touch={}),t.touch.expandSelection=e,t),sE=e=>t=>(t.touch||(t.touch={}),t.touch.indicatorSelection=e,t),cE=e=>t=>(t.touch||(t.touch={}),t.touch.indicatorVisible=e,t),aE=()=>e=>{const{loupe:t,touch:n,contextMenu:o}=e;return t?.visible&&(e=oE(!1)(e)),t?.onlyDot&&(e=iE(!1)(e)),n?.expandSelection&&(e=lE(!1)(e)),n?.indicatorSelection&&(e=sE(!1)(e)),n?.indicatorVisible&&(e=cE(!1)(e)),o?.visible&&(e=KS(!1)(e)),e},uE=()=>e=>{const{loupe:t,touch:n}=e;return t?.visible&&(e=oE(!1)(e)),t?.onlyDot&&(e=iE(!1)(e)),n?.expandSelection&&(e=lE(!1)(e)),n?.indicatorSelection&&(e=sE(!1)(e)),e};function dE(e,t,n,o=!0){const i=e.current,r=i.value.clientHeight;if(t>0){const l=Math.min(t,r),s=Ud(Vx(e,l,o))(i.value);i.onChange(s),(t-=r)>0&&(n.current=requestAnimationFrame((()=>{dE(e,t,n,o)})))}else if(t<0){const l=Math.max(t,-r),s=Ud(Vx(e,l,o))(i.value);i.onChange(s),(t+=r)<0&&(n.current=requestAnimationFrame((()=>{dE(e,t,n,o)})))}}function fE(e,t,n=!0,o,i){if(0===t)return;let r=!1;const l=Date.now(),s=100;let c=0;requestAnimationFrame((function a(){r?i?.():(!function(){const o=Date.now(),i=Math.min(s,o-l);i>=s&&(r=!0);let a=i/s*t;a>0?a=Math.floor(a):a<0&&(a=Math.ceil(a));const u=a-c;c=a;const{onChange:d,value:f}=e.current;d(Ud(Vx(e,u,n))(f))}(),o.current=requestAnimationFrame(a))}))}function hE(e,t,n,o=50,i){if(0===t)return;let r=!1;const l=Date.now();let s=0;requestAnimationFrame((function c(){r?i?.():(!function(){const n=Date.now(),i=Math.min(o,n-l);i>=o&&(r=!0);let c=i/o*t;c>0?c=Math.floor(c):c<0&&(c=Math.ceil(c));const a=c-s;s=c;const u=e.scrollTop+a;e.scrollTo({top:u})}(),n.current=requestAnimationFrame(c))}))}function pE(e){const{value:{scrollTop:t,scrollHeight:n,clientHeight:o,scrollTouch:i},scroller:r}=e;let l=t;"native"!==r&&(l-=i?.[0]??0);const s=l/(n-o);return isNaN(s)?1:Math.min(1,s)}function vE(e){const{scrollHeight:t,clientHeight:n}=e.value,o=Math.max(1,t/n);return Math.max(n/o,Dw)}function gE(e=[0,0]){return(e[1]??0)-(e[0]??0)}function mE(e){return!!(e&&e.origin&&e.next&&e.next.offset-e.origin.offset>1)}function yE(e,t){let n,o=null,i=[];i=t instanceof Map?Array.from(t.values()):Object.values(t),i=i.filter((e=>!mE(e)));for(let t of i){if(t.left<=e.clientX&&t.right>=e.clientX&&t.top<=e.clientY&&t.bottom>=e.clientY){n=t;break}const i=Math.sqrt(Math.pow(t.left-e.clientX,2)+Math.pow((t.top+t.bottom)/2-e.clientY,2));t.origin&&(null===o||o>=i)&&(o=i,n=t)}if(n){const t=e.clientY;if(t>n.bottom){const e=i[i.length-1];t>=e.top&&(n=e)}if(t<n.top){const e=i[0];if(t<=e.bottom)return n=e,n}}if(n){if(Math.abs(n.left-e.clientX)>Math.abs(n.right-e.clientX))return{...n,left:n.right,origin:n.next}}return n}function bE(e,t,n){let o="",i=[];i=n instanceof Map?Array.from(n.values()):Object.values(n);for(const n of i){const i=Math.floor(n.left-e.left),r=Math.floor(n.right-e.left),l=Math.floor(n.top-e.top-t.top),s=Math.floor(n.bottom-e.top-t.top);o+=`M ${i} ${l} L ${r} ${l} L ${r} ${s} L ${i} ${s} L ${i} ${l}`}return o}function CE(e){let t=0,n=0,o=0,i=0,r=!1,l=null,s=null,c=[];c=e instanceof Map?Array.from(e.values()):Object.values(e);for(const e of c)!1!==r?(e.top<t&&(t=e.top),e.bottom>n&&(n=e.bottom),e.left<o&&(o=e.left),e.right>i&&(i=e.right),s=e):(t=e.top,n=e.bottom,o=e.left,i=e.right,l=e,s=e,r=!0);return{top:t,bottom:n,left:o,right:i,point:{start:{bottom:l?.bottom??0,top:l?.top??0,left:l?.left??0},end:{bottom:s?.bottom??0,top:s?.top??0,right:s?.right??0}}}}function wE(e,t){let n=[];n=t instanceof Map?Array.from(t.values()):Object.values(t);let o=n.find((t=>Fc(t.origin,e)));if(void 0===o&&(o=n.find((t=>Fc(t.next,e)))),void 0===o)return e;let i=o,r=n.indexOf(o)-1;for(;r>=0;)if(mE(n[r]))r--;else{if(i=n[r],(i.bottom+i.top)/2<=o.top)return i.next||e;r--}return i.origin||e}function xE(e,t){let n=[];n=t instanceof Map?Array.from(t.values()):Object.values(t);let o=n.find((t=>Fc(t.origin,e)));if(void 0===o&&(o=n.find((t=>Fc(t.next,e)))),void 0===o)return e;let i=o,r=n.indexOf(o)+1;for(;r<n.length;)if(mE(n[r]))r++;else{if(i=n[r],(i.bottom+i.top)/2>=o.bottom)return i.next||e;r++}return i.next||e}function SE(e,t,n=!0){const o={},i=t.get(e.key);if(!i)return o;const r=document.createRange();if(Wm(e)){const n=Yg(e.key),i=qg(hc(n)),r=dc(n)??0;return l(t.get(i),i,r),o}if(!e.children.length){return l(kE(i,""),e.key,0),o}for(let r=0;r<e.children.length;r++){const c=e.children[r];if(Cc(c)){const t=kE(i.childNodes[r],c),n=c.length||1;for(let o=0;o<n;o++)s(t,Kg(e.key,r),o,o+1)}else if(Am(c)){if(n&&!Wm(c)){Object.assign(o,SE(c,t));continue}l(i,e.key,r)}}function l(e,t,n){r.setStart(e,n),r.setEnd(e,n+1);const i=Yg(t),l=DE(r),s={path:[...i,n],offset:0},c={path:[...i,n],offset:1};o[Kg(t,n)]={top:l.top,right:l.right,bottom:l.bottom,left:l.left,origin:s,next:c}}function s(e,t,n,i){r.setStart(e,n),r.setEnd(e,i);const l=Yg(t),s=DE(r),c={path:[...l],offset:n},a={path:[...l],offset:i};o[Kg(t,n)]={top:s.top,right:s.right,bottom:s.bottom,left:s.left,origin:c,next:a}}return o}function EE(e,t,n,o){const i={},r=document.createRange();let l=0;const s=t.get(e.key);if(!s)return i;for(;l<e.children.length;){const r=e.children[l];if(""!==r){if((l===n.path[0]||l===o.path[0])&&o.path[0]>=0){if(Wm(r)){c(s,e.key,l),l++;continue}if(Am(r)){if(0===r.children.length){c(s,e.key,l),l++;continue}const a={...n,path:fc(n.path)},u={...o,path:fc(o.path)};(Pc(a.path)||l!==n.path[0]&&l===o.path[0])&&(a.path=[0],a.offset=0),(Pc(u.path)||l===n.path[0]&&l!==o.path[0])&&(u.path=[r.children.length-1],u.offset=oy(r.children[r.children.length-1])),Object.assign(i,EE(r,t,a,u)),l++;continue}let u=n.offset,d=o.offset;o.path[0]-n.path[0]>0&&(l===n.path[0]?d=r.length:l===o.path[0]&&(u=0));const f=kE(s.childNodes[l],r),h=Kg(e.key,l);for(;u<d;)a(f,h,u,Math.min(r.length,u+1)),u++}else if(l>n.path[0]&&l<o.path[0]){if(Wm(r)){c(s,e.key,l),l++;continue}if(Am(r)){if(0===r.children.length){c(s,e.key,l),l++;continue}const n={path:[0],offset:0},o={path:[r.children.length-1],offset:oy(r.children[r.children.length-1])};Object.assign(i,EE(r,t,n,o)),l++;continue}a(kE(s.childNodes[l],r),Kg(e.key,l),0,r.length),l++;continue}l++}else l++}function c(e,t,n){r.setStart(e,n),r.setEnd(e,n+1);const o=Yg(t),l=DE(r),s={path:[...o,n],offset:0},c={path:[...o,n],offset:1};i[Kg(t,n)]={top:l.top,right:l.right,bottom:l.bottom,left:l.left,origin:s,next:c}}function a(e,t,n,o){r.setStart(e,n),r.setEnd(e,o);const l=Yg(t),s=DE(r),c={path:[...l],offset:n},a={path:[...l],offset:o};i[Kg(t,n)]={top:s.top,right:s.right,bottom:s.bottom,left:s.left,origin:c,next:a}}return i}function kE(e,t){if(e.nodeType!==Node.TEXT_NODE){const n=e.querySelectorAll("*");for(const o of n)for(const n of o.childNodes)if(n.nodeType===Node.TEXT_NODE){if(n.textContent===t)return e=n;if(""===t&&n.textContent===Gg)return e=n}}return e}function DE(e){return Jf?dc(e.getClientRects())??e.getBoundingClientRect():e.getBoundingClientRect()}const IE={"[":"]","":"","{":"}","":"","":"","'":"'","":"",'"':'"',"":"","`":"`","(":")","":"","<":">","":""};function NE(e){return 2===e.length&&IE[e[0]]===e[1]}function LE(){let e=!1;const t=[];return(n,o,i,r)=>{t.push([o,i]),!1===e&&(e=!0,Promise.resolve().then((()=>{let o;const i=[];for(let e=0;e<t.length;e++){const n=t[e];if(et(n[0])?i.push(...n[0]):i.push(n[0]),n[1]){const{before:e,after:t}=qy(n[1],!1);if(void 0===o){o={anchor:e,focus:t};continue}My(e,o.anchor)&&(o.anchor=e),Ay(t,o.focus)&&(o.focus=t)}}e=!1,t.length=0,n(i,o,r)})))}}var TE;function BE(e){return{onPointerDown:e.onPointerDown,onPointerMove:e.onPointerMove,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,onClick:e.onClick}}function AE(e,t,n,o){const i=new MouseEvent(t,{view:window,bubbles:!0,cancelable:!0,clientX:n,clientY:o});e.dispatchEvent(i)}!function(e){e.WindowMouseMove="WindowMouseMove",e.WindowMouseUp="WindowMouseUp",e.RootWheel="RootWheel",e.RootMouseDown="RootMouseDown",e.RootMouseEnter="RootMouseEnter",e.RootMouseLeave="RootMouseLeave",e.EditMouseDown="EditMouseDown",e.EditMouseEnter="EditMouseEnter",e.EditMouseLeave="EditMouseLeave",e.EditFocus="EditFocus",e.EditBlur="EditBlur",e.EditClick="EditClick",e.EditCompositionStart="EditCompositionStart",e.EditCompositionEnd="EditCompositionEnd",e.EditBeforeInput="EditBeforeInput",e.EditKeyDown="EditKeyDown",e.EditCopy="EditCopy",e.EditCut="EditCut",e.EditPaste="EditPaste",e.EditDragOver="EditDragOver",e.EditDragStart="EditDragStart",e.EditDrop="EditDrop"}(TE||(TE={}));const ME=nc((e=>{const{value:t,onChange:n}=e.current;t.cwnd||t.detect.flag!==Rw.STATIC||n(Ud(Ux(!0),zw(e))(t))}),300),OE=nc(((e,t)=>{const{value:n,onChange:o}=e.current;o(Ud(kx(!1),Zx(t))(n))}),32),RE=nc(((e,t)=>{e(XS(t))}),150);function PE(e,t,n){const o=[];let i=n.length-1;for(;i>=0;){const{selection:r,style:l}=n[i--];if(!lb(r,t))break;const{before:s,after:c}=qy(r,!1),a=Oy(s.path,t),u=Oy(c.path,t);if(a&&u){const t=e.slice(0,s.offset);t&&o.push(t);const n=e.slice(s.offset,c.offset);n&&o.push(wy([n],l));const i=e.slice(c.offset);i&&o.push(i)}else if(a&&!u){const t=e.slice(0,s.offset);t&&o.push(t);const n=e.slice(s.offset);n&&o.push(wy([n],l))}else if(!a&&u){const t=e.slice(0,c.offset);t&&o.push(wy([t],l));const n=e.slice(c.offset);n&&o.push(n)}else a||u||o.push(wy([e],l))}return 0===o.length&&o.push(e),o}function FE(e){if("undefined"==typeof Intl||void 0===Intl.Segmenter)return e=>[];const t=new Intl.Segmenter(e,{granularity:"word"});return e=>[...t.segment(e)]}const HE=FE(["cn","en"]);function _E(e,t){let n=Math.max(0,t-1);for(;n>=0;){const o=e.slice(n,t+1),i=HE(o);if(0===i.length)return Math.max(0,t-1);if(1!==i.length)return n+1;n--}return n+1}function jE(e,t){let n=t+1;for(;n<=e.length;){const o=e.slice(Math.max(0,t),n+1);if(1!==HE(o).length)return n;n++}return n-1}function WE(e){return/^[\u4e00-\u9fa5]+$/.test(e)}function zE(e,t){const n={},o=fb(e,t);let i=e;const r=o.length;let l=0;for(;l<r;){const e=i.children[o[l++]];if(!Am(e))break;if(i=e,Jm(i)){const e=i.props?.uid;e&&(n[e]=i)}}return n}function VE(e){const t={};return ty(e,(e=>{if(Jm(e)){const n=e.props?.uid;n&&(t[n]=e)}else;})),t}function $E(e,t,n){const o={...e,children:[]};for(let i=0;i<e.children.length;i++){const r=e.children[i];if(!Lm(r)||!r.position){o.children.push(r);continue}const l=r.position?.top??0,s=r.position?.bottom??0;t<s&&t>l?o.children.push($E(r,t-l,s)):t<=l&&n>=s?o.children.push(r):n>l&&n<s&&o.children.push($E(r,0,n-l))}return o}function ZE(e){const{node:t,highlights:n,renderElement:o}=e,i=R(Wg),r=t.key??Ug,l=[];let s=0,c=t.children.length;for(;s<c;){const e=t.children[s++];if(Cc(e)){if(""===e){l.push(Gg);continue}if(n){const t=[...Yg(r),s-1],o=PE(e,t,n);l.push(...o.map((e=>{if(Im(e)){const n=qg(t);return bh("span",{style:e.style,children:e.children},n)}return e})));continue}l.push(e)}else Im(e)&&(e.key||(e.key=Kg(r,s-1)),l.push(bh(ZE,{node:e,highlights:n,renderElement:o},e.key)))}return 0===s&&(t.props?.empty||l.push(Gg)),t.type===Qg||t.type===om?bh("span",{style:t.style,ref:i?.inline.set.bind(i?.inline,r),children:l}):t.type===Jg?bh("div",{style:t.style,ref:i?.block.set.bind(i?.block,r),children:l}):t.type===fm?bh("div",{style:t.style,ref:i?.block.set.bind(i?.block,r),children:o?.(t,l)}):t.type===hm?bh("span",{style:t.style,ref:i?.inline.set.bind(i?.inline,r),children:o?.(t,l)}):t.type===pm?bh("div",{style:t.style,ref:i?.block.set.bind(i?.block,r),children:l}):t.type===vm?bh("span",{style:t.style,ref:i?.inline.set.bind(i?.inline,r),children:l}):t.type===em?bh("br",{}):t.type===tm?bh("pre",{style:t.style,ref:i?.block.set.bind(i?.block,r),children:l}):t.type===nm?bh("code",{style:t.style,ref:i?.inline.set.bind(i?.inline,r),children:l}):o?.(t,l)??null}function UE(e){const t=W((()=>{let e={};return{all:()=>e,clear:()=>e={},get:t=>e[t],set:(t,n)=>{n&&(e[t]=n)}}}),[]),n=W((()=>{let e={};return{all:()=>e,clear:()=>e={},get:t=>e[t],set:(n,o)=>{t.set(n,o),o&&(e[n]=o)}}}),[t]),o=e?.value.location,i=W((()=>{let e={};return{all:()=>e,clear:()=>e={},get:t=>e[t],set:(n,i)=>{t.set(n,i),o===n&&i&&(e[n]=i)}}}),[o,t]);return{block:n,inline:i,survey:t}}function qE(e){return{element:UE(e),main:Z(null),edittimer:Z(-1),scrolltimer:Z(-1),scrollbartimer:Z(-1),transition:Z(null)}}function YE(e){return{selection:Z(null),left:Z(null),right:Z(null),scrolltimer:Z(-1)}}function KE(e){const t=e.refref,n=Z(-1);return{ele:t,record:Z(null),timer:n}}function GE(e,t,n){const o=_d(e),i=Wd("keydown"),r=_(((e,t)=>{const{value:n,onChange:i,requestEditNode:l}=o.current;if(!0===n.composing)return;if(!1===o.current.virtual)return void e();const s=[];let c=!1;if((Zy(n.node,t)&&l?.("next")||$y(n.node,t)&&l?.("prev"))&&(c=!0),c&&s.push(Ux(!0),ax(o,t)),0===s.length)return e();i(Ud(...s)(n)),requestAnimationFrame((()=>{r(e,t)}))}),[o]),l=_(((e,t)=>{let{value:n,requestEditNode:i}=o.current;if(!0===n.composing)return;if(!1===o.current.virtual)return void e();let r=!1;do{r=!(!Zy(n.node,t)||!i?.("next"))||!(!$y(n.node,t)||!i?.("prev")),r&&(n=Ud(ax(o,t))(n))}while(r);e({...o.current,value:n})}),[o]),s=_(((e,t,n)=>{function i(t){t||(t=o.current);const{value:n,onChange:i,editStyle:r}=t;i(Ud(kx(!0),...e,ix(r),rx(),Hw(n),Wx(o),ox())(n))}Et(e)&&(e=[e]),t||(t=o.current.value.selection),n?l(i,t):r(i,t)}),[o,r,l]),c=_(((e,t,n)=>{function i(t){t||(t=o.current);const{value:n,onChange:i,editStyle:r}=t;i(Ud(...e,ix(r),rx(),Wx(o),ox())(n))}Et(e)&&(e=[e]),t||(t=o.current.value.selection),n?l(i,t):r(i,t)}),[o,r,l]),a=W(LE,[]);return j(e.ref,(()=>({commit(e,t,n){a(s,e,t,n)},dispatch(e){e(t,n.element.block)},slice(){const{onChange:e,value:t}=o.current;e(Ud(qS(o))(t))},scrollTo(e){const t=n.main.current;t?.scrollTo(e)},ele:e=>n.element.survey.get(e),setStyle(e,t,n){Ac(t)&&(n=t,t=void 0);const i=o.current.editStyle;let r=hS(e,i);n&&(r=wS(e,i));const l=[r,ix(i),jx(!0)];a(s,l,t)},setProps(e,t,n,i){Ac(n)&&(n=void 0);const r=o.current.editStyle,l=[jx(!0),ix(r),gS(e,t,r)];a(s,l,n)},input:{getBoundingClientRect(){const{selref:e}=o.current,t=e.current;return t?t.getBoundingClientRect():null},onText(e){const{onChange:t,value:n}=o.current;if(" "===e)return void s(US());IE[e]&&(e+=IE[e]);const i=[AS(),kS(e),kx(!0),Hw(n),Wx(o),ux(!1),dx(0)];Ty(n.selection)||i.push(YS(!0)),t(Ud(...i)(n))},onInput(e){const{editable:t}=o.current;if(!t||!e.target)return;const n=e.target.value.trim();this.onText(n)},onBlur(e){const{onChange:t,value:n,editable:i}=o.current;if(!i||!n.composing||!e.target)return;const r=e.target.value.trim();t(Ud(...[WS(r),kx(!0),Hw(n),Wx(o),ux(!1),dx(0)])(n))},onCompositionStart(e){const{onChange:t,value:n,editable:i}=o.current;if(!i)return;t(Ud(...[ux(!0),dx(0)])(n))},onCompositionUpdate(e){const{onChange:t,value:n,editable:i,placeholder:r}=o.current;if(!i)return;const l=e.data.trim();if(WE(l))return;t(Ud(...[AS(),LS(l,r),kx(!0),Hw(n),Wx(o),ux(!0)])(n))},onCompositionEnd(e){const{onChange:t,value:n,editable:i}=o.current;if(!i)return;const r=e.data.trim();t(Ud(...[WS(r),kx(!0),Hw(n),Wx(o),ux(!1),dx(0)])(n))},onPaste(e){const{value:t}=o.current;o.current.onPaste?.(t)}},selection:()=>o.current.selref.current,clearVisibleState(){t(aE())}})),[o,t,s,a,n.main,n.element.block,n.element.survey]),F((()=>{const e=async e=>{const{editable:t,value:n,preprocessKeyDown:r}=o.current;(t||n.selection&&!Ty(n.selection))&&(r&&await r(e,n),$d(i.listener,o.current.onKeyDown)(e))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t,o,i]),F((()=>{const e=i.subscribe((e=>{const t=o.current,{value:{selection:i,composing:r},editStyle:l,editable:a,refref:u}=t;if(!i)return;const d=n.main.current;if(!d)return;const f=n.element.survey,h=u.current;if(r)return e.stopPropagation(),void(CC(e)?c(aS()):wC(e)?c(uS()):xC(e)?c(dS()):SC(e)&&c(fS()));rC(e)?t.onCopy?.(t.value):sC(e)?t.onSelectAll?.(t.value):NC(e)?c([tS(f,h),$x(o,n.edittimer)]):LC(e)?c([nS(f,h),$x(o,n.edittimer)]):TC(e)?c([oS(f,h,d,l),$x(o,n.edittimer)]):BC(e)&&c([iS(f,h,d,l),$x(o,n.edittimer)]),a&&(e.stopPropagation(),iC(e)?(t.onCut?.(t.value),s(OS())):xC(e)?c([Gx(f,h,d,l),$x(o,n.edittimer)]):SC(e)?c([Kx(f,h,d,l),$x(o,n.edittimer)]):CC(e)?c([qx(f,h),$x(o,n.edittimer)]):wC(e)?c([Yx(f,h),$x(o,n.edittimer)]):DC(e)?c([rS(f,h),$x(o,n.edittimer)]):IC(e)?c([lS(f,h),$x(o,n.edittimer)]):EC(e)?c([sS(f,h),$x(o,n.edittimer)]):kC(e)?c([cS(f,h),$x(o,n.edittimer)]):AC(e)?s(OS(l)):MC(e)?s(RS()):OC(e)?s(FS(f)):RC(e)?s(HS(f)):PC(e)?s(_S()):FC(e)?s(jS()):yC(e)?s(zS()):bC(e)?s(VS()):pC(e)||vC(e)?s(US()):gC(e)?s($S(l)):mC(e)?s(ZS(l)):cC(e)?s(QS(l)):aC(e)?s(eE(l)):uC(e)?s(tE("left",l)):fC(e)?s(tE("right",l)):dC(e)?s(tE("center",l)):hC(e)&&s(tE("justify",l)))}));return()=>e.unsubscribe()}),[o,i,s,c,n.main,n.element.survey,n.edittimer]),{reflow:s}}function XE(e,t,n){const o=_d(e),{reflow:i}=GE(e,t,n),r=Wd("mousedown"),l=Wd("mouseup"),s=Wd("mousemove"),c=Wd("click"),a=Wd("wheel"),u=Wd("contextmenu"),d=Wd("mousedown"),f=Wd("mouseleave"),h=Wd("mouseenter"),p=Wd("mouseenter"),v=Wd("mouseleave"),g=Wd("mousedown");F((()=>(window.addEventListener("mousedown",r.listener),window.addEventListener("mouseup",l.listener),window.addEventListener("mousemove",s.listener),()=>{window.removeEventListener("mousedown",r.listener),window.removeEventListener("mouseup",l.listener),window.removeEventListener("mousemove",s.listener)})),[t,o,r,l,s]),F((()=>{const e=a.subscribe((e=>{const{value:t,performance:i,onChange:r,virtual:l,scrollPropagation:s}=o.current;if(!l)return;s||e.stopPropagation();const{clientHeight:c}=t,a=Math.max(-c,Math.min(c,e.deltaY));Uf||Math.abs(a)<100?r(Ud(Vx(o,a,i))(t)):fE(o,a,!0,n.edittimer)}));return()=>{e.unsubscribe()}}),[o,a,n.edittimer]),F((()=>{const e=Au(a,p,g).subscribe((()=>{o.current.scrollBar?.visible||t(nE(!0))}));return()=>e.unsubscribe()}),[o,t,a,d,h,f,g,p]),F((()=>{let e=!1;const n=Au(p.pipe(mv((()=>v.pipe(pv((()=>!e)))))),a.pipe(mv((()=>a.pipe(sv(1e3)).pipe(yv(p))))),Au(d,g).pipe(mv((()=>l.pipe(vv(v)))))).subscribe((()=>{o.current.scrollBar?.visible&&t(nE(!1))})),i=Au(d,g).subscribe((()=>{e=!0})),r=Au(l).subscribe((()=>{e=!1}));return()=>{n.unsubscribe(),i.unsubscribe(),r.unsubscribe()}}),[o,t,a,d,f,p,v,g,l]);const m=_((e=>{const t=n.main.current?.getBoundingClientRect();let{clientX:o,clientY:i}=e;return void 0!==t&&(o-=t.left,i-=t.top),{clientX:o,clientY:i}}),[n.main]);return F((()=>{const e=u.subscribe((e=>{const{contextmenu:n,value:{scrollTop:i}}=o.current;if(!1===n)return;e.preventDefault(),e.stopPropagation();const{clientX:r,clientY:l}=m(e);t(GS({left:r,top:l+i}),KS(!0))}));return()=>e.unsubscribe()}),[o,t,m,u]),F((()=>{const e=r.subscribe((e=>{const{contextMenu:n,contextmenu:i}=o.current;!1!==i&&n?.visible&&t(KS(!1))}));return()=>e.unsubscribe()}),[o,t,r,d]),F((()=>{const e=d.subscribe((e=>{cancelAnimationFrame(n.scrollbartimer.current);const{value:i,refref:r,editStyle:l,isRightClickFocused:s,onChange:c,contextMenu:a,contextmenu:u}=o.current;if(!1!==u&&a?.visible&&t(KS(!1),cE(!1),sE(!1)),0!==e.button&&i.selection&&!Ty(i.selection))return!1;if(0!==e.button&&!1===s)return!1;const d=n.main.current;if(null===d)return;const f=d.getBoundingClientRect(),h=n.element.survey,p=r.current,v=ib(e,f,i,h),g=[Qw(!1),fx(v,h,p,l)];i.composing&&g.unshift(WS(""),kx(!0),Hw(i),Wx(o),ux(!1),dx(0)),c(Ud(...g)(i))}));return()=>e.unsubscribe()}),[n.main,n.element.survey,n.scrollbartimer,o,t,d,c]),F((()=>{const e=Au(d.pipe(pv((e=>0===e.button))).pipe(mv((e=>s.pipe(pv((t=>{const n=e.clientX-t.clientX,o=e.clientY-t.clientY;return!!(Math.abs(n)>3||Math.abs(o))}))).pipe(yv(l)).pipe(bv(0))))),d.pipe(pv((e=>0===e.button))).pipe(mv((()=>l.pipe(vv(f)).pipe(yv(l)).pipe(uv(1)))))).subscribe((e=>{const{refref:t,selecter:i,editStyle:r,value:l,onChange:s}=o.current,c=n.main.current;if(null===c||l.selectionFrozen)return;if("native"===i)return;const a=n.element.survey,u=rb(e,c.getBoundingClientRect(),l,a);if(0===u.path.length)return;const d=t.current;s(Ud(hx(u,a,d,r))(l))}));return()=>e.unsubscribe()}),[o,s,l,d,f,n.element.survey,n.main]),F((()=>{const e=d.pipe(mv((()=>s.pipe(vv(f)).pipe(yv(l))))).pipe(mv((e=>{const t=o.current,i=n.main.current,{clientHeight:r,scrollHeight:s}=t.value;let c=0;if(i&&s>r){const t=i.getBoundingClientRect(),n=e.clientY-t.top;n<0?c=Math.max(n,-r):n>r&&(c=Math.min(n-r,r))}return 0===c?Ja:Bu(0).pipe(gv((()=>0===c))).pipe(yv(l)).pipe(iv((()=>({e:e,deltaY:c}))))}))).subscribe((({e:e,deltaY:t})=>{const{value:i,onChange:r,refref:l}=o.current;if(null===n.main.current)return;if(i.isScrolling)return;const{survey:s,block:c}=n.element,a=l.current;r(Ud(Vx(o,t,!1),lx(t,c),gx(s,a))(i))}));return()=>e.unsubscribe()}),[o,s,l,d,f,n.element,n.main]),F((()=>{const e=Au(c.pipe(Jp(2,1),pv((e=>{const t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return!(Math.abs(t)>3||Math.abs(n))&&e[0].timeStamp>e[1].timeStamp-400}))),c.pipe(Jp(3,1),pv((e=>{const t=e[0].clientX-e[2].clientX,n=e[0].clientY-e[2].clientY;return!(Math.abs(t)>3||Math.abs(n))&&e[0].timeStamp>e[2].timeStamp-600})))).subscribe((e=>{const t=o.current,{refref:i,value:r,selecter:l,editStyle:s,value:{selectionFrozen:c},onMultipleClick:a,onSelectPhrase:u,onSelectParagraph:d,onChange:f}=t;if(a?.(e.length)||c)return;if("native"===l)return;const h=n.main.current;if(null===h)return;const p=h.getBoundingClientRect(),v=n.element.survey,g=i.current,m=ib(e[0],p,r,v);m.path.length&&(2===e.length?(u?.(),f(Ud(px(m,v,g,s))(r))):3===e.length&&(d?.(),f(Ud(vx(m,v,g,s))(t.value))))}));return()=>e.unsubscribe()}),[c,o,n.main,n.element.survey]),{main:Vd(zd([c,u,a,d,h,f]),BE(e)),scrollBar:zd([p,v,g]),reflow:i}}function JE(e,t,n){const o=_d(e),{reflow:i}=GE(e,t,n),r=Wd("click"),l=Wd("scroll"),s=Wd("touchstart");return F((()=>{const e=()=>{o.current.contextMenu?.visible&&(o.current.contextMenu.scrolling||t(XS(!0)),RE(t,!1))};return window.addEventListener("scroll",e,!0),()=>{window.addEventListener("scroll",e,!0)}}),[t,o]),F((()=>{const e=l.subscribe((e=>{const{value:t,performance:n,onChange:i,virtual:r,scroller:l,scrollPropagation:s}=o.current;if("native"!==l)return;if(!r)return;s||e.stopPropagation();const c=e.target.scrollTop-t.scrollTop;i(Ud(Vx(o,c,n))(t))}));return()=>{e.unsubscribe()}}),[o,l,n.edittimer]),F((()=>{const e=r.pipe(pv((()=>{const e=o.current.touch;return!e?.indicatorSelection}))).subscribe((e=>{cancelAnimationFrame(n.scrollbartimer.current);const{value:i,refref:r,editStyle:l,isRightClickFocused:s,onChange:c,contextMenu:a}=o.current;if(a?.visible&&t(aE()),0!==e.button&&i.selection&&!Ty(i.selection))return!1;if(0!==e.button&&!1===s)return!1;const u=n.main.current;if(null===u)return;if(i.highlights)return c(Ud(JS(),kx(!0))(i)),void requestAnimationFrame((()=>{AE(u,"click",e.clientX,e.clientY)}));const d=u.getBoundingClientRect(),f=n.element.survey,h=ib(e,d,i,f),p=r.current;c(Ud(fx(h,f,p,l))(i))}));return()=>e.unsubscribe()}),[n.main,n.element.survey,n.scrollbartimer,o,t,r]),F((()=>{let e,i,l,c=-1,a=-1,u=!1,d=!1;const f=s.pipe(pv((()=>{const e=o.current.touch;return!e?.indicatorSelection}))).subscribe((t=>{const{clientX:n,clientY:o}=t.touches[0];c=n,a=o,u=!0,d=!1;const r=t.target;e=Nu(r,"touchmove"),i=Nu(r,"touchend"),l=Nu(r,"touchcancel")})),h=s.pipe(mv((t=>e))).pipe(pv((()=>{const{touch:e,value:t}=o.current;return!e?.indicatorVisible&&!e?.expandSelection&&!!t.selection}))).subscribe((e=>{const{refref:i,value:r,onChange:l,editStyle:s}=o.current;if(!r.selection)return;if(r.highlights)return void l(Ud(JS(),kx(!0))(r));const f=e.touches[0],h=n.main.current;if(null===h)return;const p=h.getBoundingClientRect();if(u){u=!1;const{clientX:e,clientY:t}=f;if(Math.abs(e-c)<=Math.abs(t-a))return;d=!0,h.style.setProperty("overflow","hidden")}if(!d)return;const{clientX:v,clientY:g}=f;t(oE(!0),rE({left:v-p.left,top:g-p.top})),e.preventDefault();const m=n.element.survey,y=ib(f,p,r,m);if(!y.path.length)return;const b=i.current;l(Ud(fx(y,m,b,s))(r))})),p=s.pipe(mv((e=>Au(i,l)))).subscribe((e=>{c=-1,a=-1,u=!0,d=!1;const o=n.main.current;null!==o&&("scroll"!==o.style.getPropertyValue("overflow")&&o.style.setProperty("overflow","scroll"),t(uE()))})),v=s.pipe(mv((t=>Tu(382).pipe(yv(e)).pipe(yv(i)).pipe(yv(r)).pipe(yv(l)).pipe(iv((()=>t)))))).pipe(pv((()=>{const{touch:e}=o.current;return!e?.indicatorSelection}))).subscribe((e=>{const{refref:i,value:r,editStyle:l,onChange:s,onSelectPhrase:c}=o.current,a=e.touches[0],u=n.main.current;if(null===u)return;if(u.style.setProperty("overflow","hidden"),r.highlights)return void s(Ud(JS(),kx(!0))(r));const d=u.getBoundingClientRect(),f=n.element.survey,h=i.current,p=ib(a,d,r,f);p.path.length&&(c?.(),s(Ud(px(p,f,h,l))(r)),t(KS(!0),lE(!0),cE(!0)))})),g=s.pipe(mv((t=>e))).pipe(pv((()=>{const{touch:e,value:t}=o.current;return!!e?.expandSelection&&!e.indicatorSelection&&!!t.selection}))).subscribe((e=>{const{refref:i,editStyle:r,value:l,onChange:s,showExpandSelectionLoupe:c}=o.current,a=n.main.current;if(null===a)return;const u=e.touches[0],d=a.getBoundingClientRect(),f=n.element.survey;if(c){const{clientX:e,clientY:n}=u;t(oE(!0),rE({left:e-d.left,top:n-d.top}))}const h=rb(u,d,l,f);if(0===h.path.length)return;const p=i.current;s(Ud(hx(h,f,p,r))(l))})),m=s.pipe(mv((t=>e))).pipe(pv((()=>{const{virtual:e,loupe:t,value:n}=o.current;return!!t?.visible&&!!n.selection&&!!e}))).pipe(iv((e=>{const t=n.main.current;if(null===t)return{e:e,deltaY:0};const{keyboardHeight:i=0}=o.current,r=t.getBoundingClientRect(),l=e.touches[0];let s=l.clientY+km-r.bottom;return i&&(s=s+i-km),s=Math.min(km,s),s>0?{e:e,deltaY:s}:(s=l.clientY-r.top-km,s<0?{e:e,deltaY:s}:{e:e,deltaY:0})}))).pipe(mv((({e:e,deltaY:t})=>Bu(0).pipe(gv((()=>0===t))).pipe(yv(i)).pipe(yv(l)).pipe(iv((()=>({e:e,deltaY:t}))))))).subscribe((({e:e,deltaY:t})=>{const i=n.main.current;if(null===i)return 0;const{value:r,onChange:l,refref:s,editStyle:c,touch:a}=o.current;i.style.setProperty("overflow","scroll"),cancelAnimationFrame(n.scrolltimer.current),hE(i,6*t,n.scrolltimer,300);const u=e.touches[0],d=i.getBoundingClientRect(),f=n.element.survey,h=s.current;if(a?.expandSelection){const e=rb(u,d,r,f);if(0===e.path.length)return;l(Ud(hx(e,f,h,c))(r))}else{const e=ib(u,d,r,f);if(!e.path.length)return;l(Ud(fx(e,f,h,c))(r))}}));return()=>{f.unsubscribe(),h.unsubscribe(),p.unsubscribe(),v.unsubscribe(),g.unsubscribe(),m.unsubscribe()}}),[t,n.main,n.element.survey,n.scrolltimer,n.scrollbartimer,o,r,s]),{main:Vd(zd([r,l,s]),BE(e)),reflow:i}}function QE(e,t){const n=_d(e),o=R(Wg),i=R(zg),r=R(jg),l=Wd("touchstart"),s=Wd("touchstart");return F((()=>{let e,c,a,u,d,f,h=0,p=0,v=!0;function g(t){const n=t.target;e=Nu(n,"touchmove"),c=Nu(n,"touchend"),a=Nu(n,"touchcancel"),u=Nu(n,"touchmove"),d=Nu(n,"touchend"),f=Nu(n,"touchcancel")}const m=l.subscribe((e=>{e.stopPropagation(),g(e);const{clientX:o,clientY:i}=e.touches[0],l=t.left.current;if(!l)return;const s=l.getBoundingClientRect();h=o-s.right,p=i-s.top+s.height/2,r(sE(!0));const{value:c,onChange:a}=n.current;if(c.selection){const{anchor:e,focus:t}=c.selection,{before:n}=qy(c.selection);By(t,n)||a(Ud(Jw({focus:e,anchor:t}))(c))}})),y=s.subscribe((e=>{e.stopPropagation(),g(e);const{clientX:o,clientY:i}=e.touches[0],l=t.right.current;if(!l)return;const s=l.getBoundingClientRect();h=o-s.left,p=i-s.top+s.height/2,r(sE(!0));const{value:c,onChange:a}=n.current;if(c.selection){const{anchor:e,focus:t}=c.selection,{before:n}=qy(c.selection);By(e,n)||a(Ud(Jw({focus:e,anchor:t}))(c))}})),b=Au(l.pipe(ju((t=>e))),s.pipe(ju((e=>u)))).subscribe((e=>{e.preventDefault(),e.stopPropagation();const t=i.current;if(!t)return;const{clientX:l,clientY:s}=e.touches[0],c=t.getBoundingClientRect(),a=o.survey,{value:u,onChange:d,onSelectExpand:f,refref:g,editStyle:m}=n.current,y={clientX:l-h,clientY:s-p};r(iE(!0),rE({left:y.clientX-c.left,top:y.clientY-c.top}),sE(!0)),v&&(f?.(),v=!1);const b=rb(y,c,u,a);if(0===b.path.length)return;const C=g.current;d(Ud(hx(b,a,C,m))(u))})),C=Au(l.pipe(ju((e=>Au(c,a)))),s.pipe(ju((e=>Au(d,f))))).subscribe((e=>{e.stopPropagation(),h=0,p=0,r(iE(!1),sE(!1)),v=!0})),w=Au(l.pipe(ju((t=>e))),s.pipe(ju((e=>u)))).pipe(bu((e=>{const t=i.current;if(null===t)return{e:e,deltaY:0};const{keyboardHeight:o=0}=n.current,r=t.getBoundingClientRect(),l=e.touches[0];let s=l.clientY+km-r.bottom;return o&&(s=s+o-km),s=Math.min(km,s),s>0?{e:e,deltaY:s}:(s=l.clientY-r.top-km,s<0?{e:e,deltaY:s}:{e:e,deltaY:0})}))).pipe(ju((({e:e,deltaY:t})=>{return Bu(0,Xa).pipe((n=()=>0===t,Ha((function(e,t){var o=!1,i=0;e.subscribe(_a(t,(function(e){return(o||(o=!n(e,i++)))&&t.next(e)})))})))).pipe(Wu(d)).pipe(Wu(c)).pipe(Wu(f)).pipe(Wu(a)).pipe(bu((()=>({e:e,deltaY:t}))));var n}))).subscribe((({e:e,deltaY:r})=>{const l=i.current;if(null===l)return 0;const{value:s,onChange:c,refref:a,editStyle:u}=n.current;l.style.setProperty("overflow","scroll"),cancelAnimationFrame(t.scrolltimer.current),hE(l,6*r,t.scrolltimer,300);const{clientX:d,clientY:f}=e.touches[0],v={clientX:d-h,clientY:f-p},g=l.getBoundingClientRect(),m=o.survey,y=rb(v,g,s,m);if(0===y.path.length)return;const b=a.current;c(Ud(hx(y,m,b,u))(s))}));return()=>{m.unsubscribe(),y.unsubscribe(),b.unsubscribe(),C.unsubscribe(),w.unsubscribe()}}),[n,r,i,t.right,t.left,t.scrolltimer,o.survey,s,l]),{left:zd([l]),right:zd([s])}}function ek(e){const t=_d(e),n=e.timer,o=_((e=>{cancelAnimationFrame(n.current);const o=t.current,i=o.onScrollBar?.(e);if(i)return;const r=(e-pE(o))*(o.value.scrollHeight-o.value.clientHeight);!i&&dE(t,r,n)}),[t,n]),i=_((e=>{cancelAnimationFrame(n.current);const o=t.current,i=o.onScrollBar?.(e);if(i)return;let r=0;e>1?r=o.value.clientHeight*(e-1):e<0&&(r=o.value.clientHeight*e),0!==r&&dE(t,r,n)}),[t,n]),r=_((e=>{cancelAnimationFrame(n.current),dE(t,e,n)}),[t,n]),{clientHeight:l,scrollHeight:s}=e.value;return s>l?bh(Bw,{style:{zIndex:1e6},visible:e.scrollBar?.visible??!1,thumb:vE(e),value:pE(e),onChange:o,onChangeInterval:i,onArrowStep:r,...kw(e)}):null}const tk=Uf?170:200;function nk(e){const t=R(jg),{value:{selection:n}}=e,o=Ty(n),i=o=>{if(void 0===n)return;const i=[];if(o.value===tC.copy)e.onCopy?.(Ud(...i)(e.value)),rh||t(aE());else if(o.value===tC.paste)e.onPaste?.(Ud(...i)(e.value)),t(aE());else{if(o.value===tC.cut)return e.onCut?.(Ud(...i)(e.value)),i.push(OS()),e.reflow(i),void t(aE());o.value===tC.selectAll&&e.onSelectAll?.(Ud(...i)(e.value))}i.length&&e.onChange(Ud(...i)(e.value))};return Kf?bh(ok,{...e,onClick:i}):bh("div",{onPointerDown:e=>e.stopPropagation(),children:bh(Lg,{style:{width:tk},options:HC.filter((t=>!0!==t.editable||!1!==e.editable)).map((t=>({...t,name:nC[e?.lang??"cn"][t.value],disable:o&&(t.value===tC.copy||t.value===tC.cut)}))),onClick:i})})}function ok(e){const t=_C(e);return bh(wh,{style:Kb,onClick:e=>e.stopPropagation(),children:t.map(((n,o)=>{const i={...Gb};return 0===o&&(i.paddingLeft=wm),o===t.length-1&&(i.paddingRight=wm),bh(Ev,{style:i,onClick:()=>e.onClick(n),children:nC[e?.lang??"cn"][n.value]},o)}))})}function ik(e){const t=UE(e),{loupe:n,value:o,virtual:i,keyboardHeight:r,renderElement:l,onLoupeMounted:s}=e,{node:c,contentHeight:a,clientHeight:u,clientWidth:d,scrollTop:f}=o,h=Math.min(80,a),p=n?.rect?.top??110,v=n?.rect?.left??0;let g=p-h-40;i&&(g=Math.max(0,g)),r&&(g=Math.min(u-r-h-20,g));let m=f+p-h/2;i&&(m=Math.max(0,m));const y={...Ub,...e.editStyle,width:d,height:h,transform:`translateY(${g}px)`};"transparent"===y.backgroundColor&&(y.backgroundColor=Tf);const b={...Vb,transform:`translate3d(${v-Em/2-(i?18:0)}px, ${p+f-Em/2}px, 0)`},C=$E(c,m,m+80);return F((()=>{s?.()}),[s]),bh(Wg,{value:t,children:bh("div",{style:y,children:Ch("div",{style:{transform:`translateY(${-m}px)`},children:[bh(ZE,{node:C,renderElement:l}),bh(rk,{...e}),bh("div",{style:b})]})})})}function rk(e){const{value:t,editStyle:n,touch:o}=e,{selection:i,selectionLayout:r,selectionBackground:l,selectionPath:s}=t,c=r?.top??0,a=r?.left??0;if(Ty(i))return bh("div",{style:{...Wb,...r,top:0,left:0,transform:`translate3d(${a}px, ${c}px, 0)`,transition:o?.indicatorVisible?"none":"transform 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0)",backgroundColor:Gy(t,n)}});const u=l??gm;return bh("div",{style:{...zb,...r,left:0,width:"100%"},children:bh("svg",{style:$b,children:bh("path",{d:s,fill:u})})})}function lk(e){const[t,n]=$((()=>e.visible)),o=Z(!1),i=Z(),r=Z(null);if(F((()=>(e.visible&&!t?i.current=setTimeout((()=>{n(!0)})):!e.visible&&t&&(o.current||(i.current=setTimeout((()=>{n(!1)})))),()=>{clearTimeout(i.current)}))),!e.visible&&!t)return null;const l={transition:"all 100ms cubic-bezier(0.4, 0.0, 0.4, 1.0)",...e.style},{enter:s,leave:c}=e.transition??{};e.visible&&t?Object.assign(l,s??{opacity:1}):Object.assign(l,c??{opacity:0});return bh(wh,{ref:r,style:l,className:e.className,onClick:e.onClick,onTransitionEnd:i=>{i.target===r.current&&(!e.visible&&t?(o.current=!1,n(!1)):e.visible&&t&&(o.current=!0))},children:e.children})}function sk(e){const t=qE(e);t.element.block.clear(),t.element.inline.clear(),t.element.survey.clear();const n=e.ScrollView??"div";return bh(Wg,{value:t.element,children:bh(zg,{value:t.main,children:bh("div",{style:Fb,children:bh(n,{className:"no-scrollbar",style:jC(e),ref:t.main,children:e.children})})})})}function ck(e){const t=R(jg),n=qE(e),{contextMenu:o}=e,{main:i,scrollBar:r,reflow:l}=XE(e,t,n);n.element.block.clear(),n.element.inline.clear(),n.element.survey.clear();const s=e.ScrollView??"div",c="native"===e.scroller;return bh(Wg,{value:n.element,children:bh(zg,{value:n.main,children:Ch("div",{style:Fb,children:[Ch(s,{className:"no-scrollbar",style:jC(e),ref:n.main,...i,children:[e.children,e.portal?.(bh(lk,{visible:o?.visible,style:ew(e,n.main),transition:QC(e,n.main,n.transition),children:bh(nk,{...e,ref:void 0,reflow:l})}),n.main)]}),c?null:bh("div",{onPointerDown:e=>e.stopPropagation(),children:bh(ek,{...e,...r,timer:n.scrollbartimer})})]})})})}function ak(e){const t=R(jg),n=qE(e),{contextMenu:o,loupe:i}=e,{main:r,reflow:l}=JE(e,t,n);n.element.block.clear(),n.element.inline.clear(),n.element.survey.clear();const s=e.ScrollView??"div";return bh(Wg,{value:n.element,children:bh(zg,{value:n.main,children:bh("div",{style:Fb,children:Ch(s,{className:"no-scrollbar",style:jC(e),ref:n.main,...r,children:[e.children,e.portal?.(bh(lk,{visible:o?.visible&&!o.scrolling&&!i?.visible,style:ew(e,n.main),transition:QC(e,n.main,n.transition),children:bh(nk,{...e,ref:void 0,reflow:l})}),n.main,1e3),e.portal?.(bh(lk,{visible:i?.visible,style:qb,transition:Dm,children:bh(ik,{...e,ref:void 0})}),n.main,1e4)]})})})})}function uk(e){const t=_d(e),n=KE(e),{block:o,inline:i,survey:r}=R(Wg),l=R(zg),s=Z(!0);return s.current=!0,H((()=>{const{value:c,onChange:a,virtual:u}=e,{cwnd:d,slicer:f,isScrollPending:h,isSelectPending:p,isEditPending:v}=c;if(d&&u)return a(Ud(mx(t,r,o,n,l,i))(c)),void(s.current=!1);if(v){const e=[kx(!1)];if(f&&e.push(YS(!1)),u)e.push(yx(t,o,n,l));else{const t=n.ele.current?.clientHeight;t!==c.contentHeight&&e.push(qw(t))}const i=n.ele.current;return e.push(gx(r,i),ex(!1)),a(Ud(...e)(c)),void(s.current=!1)}if(!v&&c.resizeHeight&&u)return a(Ud(Kw(!1),Ux(!0),zw(t))(c)),void(s.current=!1);if(!v&&c.resizeWidth){const e=n.ele.current,i=[];if(u)i.push(Ux(!0),Vw(t,o,n));else{const t=e?.clientHeight;t!==c.contentHeight&&i.push(qw(t))}if(i.push(Yw(!1),gx(r,e)),i.length)return a(Ud(...i)(c)),void(s.current=!1)}if(h&&u){return a(Ud(...[Ux(!1),yx(t,o,n,l)])(c)),void(s.current=!1)}return p?(a(Ud(Gw(!1))(c)),void(s.current=!1)):void 0})),H((()=>{if(!s.current)return;const{value:t,onChange:o}=e,{detect:i,selection:l,selectionReflow:c,isEditPending:a,isScrollPending:u,cwnd:d}=t;if(a||u)return;if(!l||!c)return;const f=i.flag===Rw.STATIC,h=n.ele.current;!d&&f&&h&&(o(Ud(gx(r,h),Gw(!0),ex(!1))(t)),s.current=!1)})),H((()=>{if(!s.current)return;const{value:e,onChange:n,virtual:o}=t.current,{cwnd:i,isEditPending:r}=e;i||r||e.resizeHeight||o&&n(Ud(Ux(!0),zw(t))(e))}),[e.value.clientHeight]),H((()=>{if(!s.current)return;const{value:e,onChange:i,virtual:l}=t.current,{cwnd:c,isEditPending:a,selectionReflow:u}=e;if(c||a||u)return;if(e.resizeWidth)return;const d=n.ele.current,f=[];if(l)f.push(Ux(!0),Vw(t,o,n));else{const t=d.clientHeight;t!==e.contentHeight&&f.push(qw(t))}f.push(gx(r,d)),f.length&&i(Ud(...f)(e))}),[e.value.clientWidth]),H((()=>{if(!s.current)return;const{value:t,onChange:n}=e,{reload:o,slicer:i}=t;return i?(n(Ud(YS(!1))(t)),void(s.current=!1)):o?(n(Ud(Ww(!1))(t)),void(s.current=!1)):void 0})),bh($g,{value:n,children:bh("div",{ref:n.ele,style:WC(e),children:e.children})})}function dk(e){const{value:t,selecter:n,editable:o,editStyle:i}=e,{cursorStyle:r,selection:l,selectionLayout:s,selectionBackground:c,selectionPath:a}=t,[u,d]=$({selection:l,name:ym}),f=R(jg);if(H((()=>{Fc(u.selection,l)||(d({selection:l,name:"none"}),requestAnimationFrame((()=>{d({selection:l,name:ym})}))),Kf&&(l?Ty(l)||f(KS(!0)):f(aE()))})),!l)return null;if("native"===n)return null;if(Kf)return bh(fk,{...e,animation:u});if(ob(t))return null;const h="native"===e.scroller?0:-e.value.scrollTop;if(Ty(l))return o?bh("div",{ref:e.ref,style:{...Wb,...s,backgroundColor:Gy(t,i),transform:`translateY(${h}px)`,animation:u.name,...r}}):null;const p=c??gm;return bh("div",{style:{...zb,...s,left:0,width:"100%",transform:`translateY(${h}px)`},ref:e.ref,children:bh("svg",{style:$b,children:bh("path",{d:a,fill:p})})})}function fk(e){const{value:t,touch:n,loupe:o,virtual:i,editable:r,editStyle:l,contextMenu:s}=e,c=YE(),a=QE(e,c),{cursorStyle:u,scrollTop:d,selectionLayout:f,selectionBackground:h,selectionPath:p,clientWidth:v,selection:g}=t,m=h??gm,y="native"===e.scroller?0:-e.value.scrollTop,b=f?.top??0,C=f?.point?.start,w=f?.point?.end,x={...Jb,transform:`translate3d(${(C?.left??0)-xm/2-v/2}px, ${(C?.bottom??0)-b}px, 0)`,opacity:s?.scrolling?0:1},S={...eC,transform:`translate3d(${(w?.right??0)+xm/2-v/2}px, ${(w?.bottom??0)-b}px, 0)`,opacity:s?.scrolling?0:1},E=t=>{"function"==typeof e.ref?e.ref(t):e.ref&&(e.ref.current=t),c.selection.current=t};if(Ty(g))return r?(x.transform=`translate3d(${-xm/2}px, ${f?.height}px, 0)`,S.transform=`translate3d(${xm/2}px, ${f?.height}px, 0)`,Ch("div",{children:[bh("div",{ref:E,style:{...Wb,...f,width:2,backgroundColor:Gy(t,l),transform:`translateY(${y}px)`,animation:e.animation.name,...u}}),n?.indicatorVisible&&!o?.visible&&e.portal?.(Ch(yh,{children:[bh(wh,{style:x,ref:c.left,...a.left,children:bh("div",{style:Xb})}),bh(wh,{style:S,ref:c.right,...a.right,children:bh("div",{style:Qb})})]}),c.selection,100)]})):null;const k={...zb,...f,left:0,width:"100%",transform:`translateY(${y}px)`},D={...Vb,transform:`translate3d(${(o?.rect?.left??0)-Em-v/2-(i?4:-16)}px, ${(o?.rect?.top??0)-b+d-Em/3}px, 0)`};return Ch("div",{style:k,ref:E,children:[bh("svg",{style:$b,children:bh("path",{d:p,fill:m})}),n?.indicatorVisible&&!o?.visible&&e.portal?.(Ch(yh,{children:[bh(wh,{style:x,ref:c.left,...a.left,children:bh("div",{style:Xb})}),bh(wh,{style:S,ref:c.right,...a.right,children:bh("div",{style:Qb})}),o?.onlyDot&&bh("span",{style:D})]}),c.selection,100)]})}var hk=Object.freeze({__proto__:null,AUTO_COMPLETE:IE,BR_NODE:em,CODE_NODE:nm,COMPOSITION_NODE:dm,CURSOR_ANIMATION:ym,DECORATE_BLOCK_NODE:fm,DECORATE_INLINE_NODE:hm,DIV_NODE:Jg,get DetectFlag(){return Rw},ENGLISH:Xg,EditContext:Vg,EditDispatch:jg,EditElement:Wg,EditScroll:zg,get Flag(){return TE},INLINE_NODE:am,JOINER:Zg,LOUPE_NODE:cm,LOUPE_TRANSITION:Dm,META_NODE:om,MOBILE_CONTEXT_MENU_HEIGHT:bm,MOBILE_CONTEXT_MENU_PADDING:wm,MOBILE_CONTEXT_MENU_WIDTH:Cm,MOBILE_SELECTION_DOT_SIZE:Em,MOBILE_SELECTION_INDICATOR_DIFF:6,MOBILE_SELECTION_INDICATOR_INNER:Sm,MOBILE_SELECTION_INDICATOR_SIZE:xm,MOBILE_TOUCH_SCROLL_SIZE:km,PLACEHOLDER_NODE:um,PRE_NODE:tm,REFERENCE_BLOCK_NODE:pm,REFERENCE_INLINE_NODE:vm,ROOT_KEY:Ug,ReflowContext:$g,get ReflowStartFlag(){return Ow},SELECTION_BACKGROUND:gm,SELECTION_POINT_BACKGROUND:mm,SIDE_SPIES_NODE:rm,SPACE_NODE:lm,SPAN_NODE:Qg,SPIES_NODE:im,SPLIT_BLOCK_MARGIN:3,TAB_NODE:sm,ZERO_WIDTH_NO_BREAK_SPACE:Gg,adjustNativeReflowStart:Cx,align:tE,blod:QS,calcBottomSizeByStyle:ZC,calcBoxSizeByStyle:VC,calcChildTotalSize:hy,calcCollapsedSelectionLayout:function(e,t,n){const o={top:t.top-n.top,height:t.bottom-t.top,left:t.left-n.left-1};if(void 0===e.selection)return o;const i=e.selection.focus.path,r=ry(e.node,i),l=Xy(e,n.style);let s=l?.lineHeight;if(void 0===s&&Im(r)&&r.style?.lineHeight&&(s=r.style.lineHeight),void 0===s&&(s=n.style?.lineHeight??1.2),s){const e=1/(parseFloat(String(s))-.2),t=o.height,n=t*e,i=o.top+(t-n)/2;o.height=n,o.top=Math.floor(i)}return o},calcCollapsedSelectionPayload:ib,calcCommonPath:function(e,t){const n=[];for(let o=0;o<e.length;o++)e[o]===t[o]&&n.push(e[o]);return n},calcCommonSelectionPath:sb,calcContentMarginSizeByStyle:UC,calcCursorColor:Gy,calcDetectDiffMoveIntoView:function(e,t,n){return n.bottom-e>t||n.bottom-n.top>t?n.bottom-e-t:n.top<e?n.top-e:0},calcDetectLineBackward:wE,calcDetectLineForward:xE,calcDetectPointCollapsedReflow:function(e,t){for(let n of t.values())if(Fc(n.origin,e))return n},calcDetectPointMoveDown:function(e,t){const n=Array.from(t.values());let o=n.find((t=>Fc(t.origin,e)));if(void 0===o&&(o=n.find((t=>Fc(t.next,e)))),void 0===o)return e;let i=o,r=n.indexOf(o)+1;for(;r<n.length;){if(i=n[r],mE(i)){r++;continue}const t=Math.min(o.bottom-o.top,i.bottom-i.top);if(i.top-o.top>=t){let l=n[r+1];for(;mE(l);)r++,l=n[r+1];if(void 0===l)return i.next||i.origin||e;if(l.top-i.top>=t)return i.next||i.origin||e;const s=o.left-i.left,c=i.right-o.left;if(s>=0&&c>=0)return s<=c?i.origin||e:i.next||e;if(s<=0&&c>=0)return i.origin||e}r++}return i.next||i.origin||e},calcDetectPointMoveUp:function(e,t){const n=Array.from(t.values());let o=n.find((t=>Fc(t.origin,e)));if(void 0===o&&(o=n.find((t=>Fc(t.next,e)))),void 0===o)return e;let i=o,r=n.indexOf(o)-1;for(;r>=0;){if(i=n[r],mE(i)){r--;continue}const t=Math.min(o.bottom-o.top,i.bottom-i.top);if(o.top-i.top>=t){let l=n[r-1];for(;mE(l);)r--,l=n[r-1];if(void 0===l)return i.next||i.origin||e;if(i.top-l.top>=t)return i.next||i.origin||e;const s=o.left-i.left,c=i.right-o.left;if(s>=0&&c>=0)return s<=c?i.origin||e:i.next||e;if(s>=0&&c<=0)return i.next||i.origin||e}r--}return i.origin||i.next||e},calcDetectSelectionPoint:yE,calcDetectSelectionSVGPath:bE,calcDetectSelectionScope:CE,calcEditNodeEndRect:fy,calcEditNodeStartRect:dy,calcEndDiffRange:vy,calcExpandSelectionPayload:rb,calcExtendStyle:xS,calcLeftSizeByStyle:function(e){let t=0;if(!e)return t;if(e.marginLeft){let n=parseFloat(String(e.marginLeft));isNaN(n)&&(n=0),t+=n}if(e.borderLeft){let n=parseFloat(String(e.borderLeft));isNaN(n)&&(n=0),t+=n}if(e.paddingLeft){let n=parseFloat(String(e.paddingLeft));isNaN(n)&&(n=0),t+=n}return t},calcNextBottomPoint:cb,calcNodeDetectRect:SE,calcPrevTopPoint:ab,calcRangeDetectRect:EE,calcRightSizeByStyle:function(e){let t=0;if(!e)return t;if(e.marginRight){let n=parseFloat(String(e.marginRight));isNaN(n)&&(n=0),t+=n}if(e.borderRight){let n=parseFloat(String(e.borderRight));isNaN(n)&&(n=0),t+=n}if(e.paddingRight){let n=parseFloat(String(e.paddingRight));isNaN(n)&&(n=0),t+=n}return t},calcScrollBarScale:pE,calcScrollBarThumb:vE,calcSelectionDecorate:Qy,calcSelectionDeltaY:eb,calcSelectionStyle:Xy,calcStartDiffRange:py,calcTopSizeByStyle:$C,calcTouchHeight:gE,calcUltimateStyle:XC,catchBatch:function(e,t,n){for(let o=0;o<n.length;o++)n[o](t,e)},clearEditNodePosition:yy,clearEditNodeStyle:(e,t)=>n=>{if(!n.selection||Ty(n.selection))return n;const{before:o,after:i}=qy(n.selection,!1),r=[];function l(n){ty(n,(n=>{if(!Gm(n)&&Im(n)){if(e&&n.style){n.style={...n.style};for(const t in e)delete n.style[t]}if(t&&n.props){n.props={...n.props};for(const e in t)delete n.props[e]}Pc(n.style)&&delete n.style,Pc(n.props)&&delete n.props}}))}return nb(n.node,n.selection,((e,t)=>{if(Tm(e))return;if(r.find((e=>0===Hy(e,t))))return;r.push(t);const s=Hy(i.path,t),c=Hy(o.path,t);if(0===s&&0===c){const r={path:i.path.slice(t.length),offset:i.offset},s={path:o.path.slice(t.length),offset:o.offset},c=nw(e,r);if(c){const t=nw(e,s),o=ow(e,r),i=ow(c,s);i&&l(i);const a=[];t?.children.length&&a.push(...t.children);let u=!1,d=!1;if(i?.children.length){const e=pc(i.children);if(e&&$m(e)){const n=dc(t?.children);if(n&&$m(n)&&e.key===n.key){const t=dc(n.children);if(t&&ey(t)){const n=pc(e.children);n&&ey(n)&&n.key===t.key&&(t.children.push(...n.children),i.children.shift(),u=!0)}}}const n=dc(i.children);if(n&&$m(n)){const e=pc(o?.children);if(e&&$m(e)&&e.key===n.key){const t=dc(n.children);if(t&&ey(t)){const n=pc(e.children);n&&ey(n)&&n.key===t.key&&(n.children.unshift(...t.children),i.children.pop(),d=!0)}}}a.push(...i.children)}if(o?.children.length&&a.push(...o.children),e.children=a,Hx(e),i){let e=yb(i);Cc(pc(i.children))&&(e[e.length-1]=(t?.children.length??0)+(dc(e)??0)),t&&u&&(e=bb(t));let r=bb(i);Cc(dc(i.children))&&(r[r.length-1]=(t?.children.length??0)+(dc(r)??0)),o&&d&&(r=yb(o));const l=oy(ry(n.node,r));n.selection={focus:{path:e,offset:0},anchor:{path:r,offset:l}}}}}else if(s>0&&0===c){const i={path:o.path.slice(t.length),offset:o.offset},r=nw(e,i),s=ow(e,i);s&&l(s);const c=[];r?.children.length&&c.push(...r.children);let a=!1;if(s?.children.length){const e=pc(s.children);if(e&&$m(e)){const t=dc(r?.children);if(t&&$m(t)&&e.key===t.key){const n=dc(t.children);if(n&&ey(n)){const t=pc(e.children);t&&ey(t)&&t.key===n.key&&(n.children.push(...t.children),s.children.shift(),a=!0)}}}c.push(...s.children)}if(e.children=c,Hx(e),s){let e=yb(s);Cc(pc(s.children))&&(e[e.length-1]=(r?.children.length??0)+(dc(e)??0)),r&&a&&(e=bb(r)),n.selection&&(n.selection.focus={path:e,offset:0})}}else if(0===s&&c<0){const o={path:i.path.slice(t.length),offset:i.offset},r=ow(e,o),s=nw(e,o);s&&l(s);const c=[];let a=!1;if(s?.children.length){const e=dc(s.children);if(e&&$m(e)){const t=pc(r?.children);if(t&&$m(t)&&t.key===e.key){const n=dc(e.children);if(n&&ey(n)){const e=pc(t.children);e&&ey(e)&&e.key===n.key&&(e.children.unshift(...n.children),s.children.pop(),a=!0)}}}c.push(...s.children)}if(r?.children.length&&c.push(...r.children),e.children=c,Hx(e),s){let e=bb(s);r&&a&&(e=yb(r));const t=oy(ry(n.node,e));n.selection&&(n.selection.anchor={path:e,offset:t})}}else s>0&&c<0&&l(e)})),n=jx()(n)},clearHighlights:JS,clearSelection:cx,clearTouchState:uE,clearVisibleState:aE,clipEditNode:by,cloneEditNodeByPath:function(e,t){return uy(e,fb(e,t))},cloneNode:function e(t){return Om(t)&&t.position&&(t={...t,position:{...t.position}}),t.style&&(t={...t,style:{...t.style}}),{...t,children:t.children.map((t=>Im(t)?e(t):t))}},cloneNodeByPath:uy,collapsedSelectionPoint:fx,comparePath:Hy,comparePoint:Fy,compareSelection:function(e,t){const n=qy(e,!1),o=qy(t,!1);return-1===Fy(n.after,o.before)?-1:1===Fy(n.before,o.after)?1:0},contextMenuOptions:HC,convergeBlockSelection:()=>e=>{if(void 0===e.selection)return e;if(Ty(e.selection))return e;const{before:t,after:n}=qy(e.selection,!1),o=Tb(e.node,t.path);if(!Fc(o,Tb(e.node,n.path))){const t=ry(e.node,o);if(Am(t)){const o=bb(t),i=ry(e.node,o);if(null!==i){const e=oy(i);n.path=o,n.offset=e}}}return e},createBlockNode:Cy,createCodeNode:function(e,t,n){const o={type:nm,children:e};return void 0!==t&&(o.style=t),void 0!==n&&(o.props=n),o},createCompositionNode:Iy,createDecorateBlockNode:function(e,t,n){const o={type:fm,props:e,children:t??[]};return void 0!==n&&(o.style=n),o},createDecorateInlineNode:function(e,t,n){const o={type:hm,props:e,children:t??[]};return void 0!==n&&(o.style=n),o},createInlineNode:wy,createInlineSideSpiesNode:Ly,createLoupeNode:Ny,createMetaBrNode:ky,createMetaInlineNode:function(e,t){const n={type:om,children:e,props:{type:am}};return void 0!==t&&(n.style=t),n},createMetaNode:xy,createMetaSpaceNode:Sy,createMetaTabNode:Ey,createPlaceholderNode:Dy,createPreNode:function(e,t,n){const o={type:tm,children:e};return void 0!==t&&(o.style=t),void 0!==n&&(o.props=n),o},createReferenceBlockNode:function(e,t,n){const o={type:pm,children:t??[]};return void 0!==n&&(o.style=n),void 0!==e&&(o.props=e),o},createReferenceInlineNode:function(e,t,n){const o={type:vm,children:t??[]};return void 0!==n&&(o.style=n),void 0!==e&&(o.props=e),o},createSideSpiesNode:function(e,t=[],n="right",o){return o?{type:rm,children:[...t,{type:im,props:{origin:e},style:{position:"absolute",top:0,bottom:0,[n]:0},children:[]}],style:{display:"inline-block",position:"relative"}}:Ly(e,t,n)},createSpiesNode:function(e,t=[],n){return{type:im,props:e,style:n,children:t}},createWordSegmenter:FE,decorateBlockNode:TS,decorateNode:e=>t=>{if(!t.selection)return t;if(Ty(t.selection))return DS(e)(t);let n=null;const{before:o,after:i}=qy(t.selection),{before:r,after:l}=qy(Ky(t.node,t.selection));if(nb(t.node,t.selection,((s,c)=>{const a=ps(e);if(0===Hy(c,o.path)||0===Hy(c,i.path)){const e={anchor:{path:fc(r.path,c.length),offset:r.offset},focus:{path:fc(l.path,c.length),offset:l.offset}};if(0!==Hy(c,o.path)){const t=yb(s);e.anchor.path=fc(t,c.length),e.anchor.offset=0}if(0!==Hy(c,i.path)){const n=bb(s),o=ry(t.node,n);null!==o&&(e.focus.path=fc(n,c.length),e.focus.offset=oy(o))}const u=BS(s,e),d=sb(e);let f=0,h=s;for(;f<d.length;){const e=h.children[d[f]];if(!Am(e))break;h=e,f++}const{before:p}=qy(e);let v=p.path[f];void 0!==v?v++:v=0;const g=[...Yg(h.key),v];let m=a.children;for(;m.length>0&&Im(m[0]);)m=m[0].children;return m.push(...u.children),n=my(a,qg(g)),void h.children.splice(v,0,n)}let u=a.children;for(;u.length>0&&Im(u[0]);)u=u[0].children;u.push(...s.children),n=my(a,qg([...c,0])),s.children=[n]})),0===o.offset){let e=0,n=t.node;const{before:o}=qy(t.selection,!1),i=fb(t.node,o.path);for(;e<i.length;){const t=n.children[i[e++]];if(!Am(t))break;n=t}o.path=o.path.slice(0,e)}if(null!==n){const e=bb(n),o=ry(t.node,e);if(null!==o&&t.selection){const{after:n}=qy(t.selection,!1);n.path=e,n.offset=oy(o)}}return t},deleteBackward:OS,deleteCompositionNode:WS,deleteEditNodePosition:Ox,deleteForward:RS,deleteFragment:AS,deleteLineBackward:FS,deleteLineForward:HS,deleteNode:e=>t=>{const n=ry(t.node,e),o=ry(t.node,hc(e));return Am(o)?(o.children=o.children.filter((e=>e!==n)),t=sx(e,"anchor",!0)(t),t=sx(e,"focus",!0)(t),t=jx(!0)(t)):t},deleteWordBackward:_S,deleteWordForward:jS,dispatchMouseEvent:AE,dispatchTouchEvent:function(e,t,n){const o=new TouchEvent(t,{cancelable:!0,bubbles:!0,touches:[n],targetTouches:[n],changedTouches:[n]});e.dispatchEvent(o)},editStyle:zC,eventCatcher:function(e,t,n){const o=[],i=t.filter((t=>-1!==e.indexOf(t))).length>0;return(r,l)=>{i||-1===t.indexOf(r)?(e[o.length]===r&&o.push(r),e.length===o.length&&(o.pop(),n(l)),i&&-1!==t.indexOf(r)&&(o.length=0)):o.length=0}},excludeCommonSelection:function(e){const{focus:t,anchor:n}=e;let o=0;const i=t.path.length;for(;o<i&&t.path[o]===n.path[o];)o++;const r=t.path.slice(o),l=n.path.slice(o);return{focus:{...t,path:r},anchor:{...n,path:l}}},expandSelectionPoint:hx,exportContextMenuOptions:_C,extendBackward:tS,extendForward:nS,extendLineBackward:oS,extendLineForward:iS,extractEditReference:VE,findCompositionNodePath:function(e){if(!e.selection||!Ty(e.selection))return[];let{path:t}=e.selection.focus,n=ry(e.node,t);for(;t.length;){if(Am(n)&&"underline"===n.style?.textDecoration)return t;t=hc(t),n=ry(e.node,t)}return[]},fixSelection:ox,formatStyle:e=>t=>{if(!t.selection)return t;if(Ty(t.selection))return t;const{before:n}=qy(t.selection),o={focus:ps(n),anchor:ps(n)},i=Xy({...t,selection:o},e);return i?t=hS(i,e)(t):t},genNextLevelPath:Pb,genPrevLevelPath:Rb,generateLoupeFocusNode:function(e,t){const n={...e.style,width:"100%",position:"relative",top:0},o=t.path.slice(Yg(e.key).length);let i=e={...e,style:n};for(;o.length;){i.children=i.children.slice();const e=o.shift();if(void 0===e)break;let n=i.children[e];if(Am(n))n={...n},i.children[e]=n,i=n;else if(Cc(n)){const o=Kg(i.key,e+1),r=[n.slice(0,t.offset),my(Ny(),o),n.slice(t.offset)];i.children.splice(e,1,...r)}}return e},getAbsolutePath:pb,getAnchorPath:hb,getBlockNodeEndPath:function(e){const t=[];for(;Im(e);){const n=Math.max(e.children.length-1,0),o=e.children[n];if(void 0===e)break;if(Cc(o)||Wm(o)||Nm(o))break;t.push(n),e=o}return t},getBlockNodeStartPath:mb,getBoundingClientRect:DE,getEditBlockNodeEndPath:wb,getEditBlockNodeStartOffsets:cy,getEditBlockNodeStartPath:Cb,getEditNodeByPath:ry,getEditNodeEndPath:bb,getEditNodeOffsets:ay,getEditNodeStartPath:yb,getEditNodesByPath:sy,getKeyFromPath:qg,getLocationByPath:function(e,t){let n=0,o=0,i=0;for(;i<t.length&&(e.position&&(n+=e.position.top,o+=e.position.left),Tm(e));)e=e.children[t[i]],i++;return{top:n,left:o}},getNextBlockNodePath:Eb,getNextEditBlockNodePath:Sb,getNextEditNodePath:xb,getNodeByPath:iy,getNodeEndPath:gb,getNodeLength:oy,getNodeStartPath:vb,getNodesByPath:ly,getPathFromKey:Yg,getPathReference:zE,getPrevBlockNodePath:Ib,getPrevEditBlockNodePath:Db,getPrevEditNodePath:kb,getRelativePath:fb,getRelativeSelection:Ky,getRelativeSortPoint:function(e,t){const{before:n,after:o}=qy(e);return{before:{offset:n.offset,path:hb(n.path,t)},after:{offset:o.offset,path:hb(o.path,t)}}},hotkeys:oC,increaseBoxSizeStyle:GC,initNodeKey:ny,injectEditNodeReference:Px,injectReferenceNode:_w,injectSelectionNode:ax,injectSplitBlockNodeStyle:ES,insertBlockNode:IS,insertCompositionNode:LS,insertCursorNode:NS,insertEditBlockNode:Dx,insertNode:DS,insertText:kS,insertToBlockNode:e=>t=>{if(Ty(t.selection)||(t=AS()(t)),!t.selection)return t;const n=t.selection.focus.path,o=Tb(t.node,n),i=ry(t.node,o);if(!Bm(i))return t;for(;e.type===Jg;){const t=e.children[0];Cc(t)?e=wy([t],e.style):(e.style&&(t.style={...YC(e.style),...t.style}),e=t)}const r=qg([...o,i.children.length]),l=my(e,r);if(i.children.push(l),Am(l)){let e=bb(l),n=ry(t.node,e);if(Ym(n)&&(e=kb(t.node,e),n=ry(t.node,e)),null===n)return t;t.selection.anchor.offset=oy(n),t.selection.focus.offset=oy(n),t.selection.anchor.path=[...e],t.selection.focus.path=[...e]}return t=jx(!0)(t)},isAlignCenter:dC,isAlignJustify:hC,isAlignLeft:uC,isAlignRight:fC,isAltSpace:vC,isBackward:function(e){return Ay(e.anchor,e.focus)},isBlockNode:Lm,isBlockNodeCritical:Bm,isBlockNodeX:Tm,isBold:cC,isChinese:WE,isCodeNode:function(e){return Im(e)&&e.type===nm},isCollapsed:Ty,isCompositionNode:Km,isCopy:rC,isCut:iC,isDecorateBlockNode:Vm,isDecorateInlineNode:$m,isDecorateNode:zm,isDeleteBackward:AC,isDeleteForward:MC,isDeleteLineBackward:OC,isDeleteLineForward:RC,isDeleteWordBackward:PC,isDeleteWordForward:FC,isEditBlockNode:Om,isEditBlockNodeX:Rm,isEditInlineNode:Mm,isEditNode:Am,isEmptyNode:Pm,isExpandBackward:NC,isExpandForward:LC,isExpandLineBackward:TC,isExpandLineForward:BC,isInlineNode:Nm,isItalic:aC,isLonelyNode:function e(t){return!Im(t)||!(t.children.length>1)&&e(t.children[0])},isLoupeNode:function(e){return!!Im(e)&&e.type===cm},isMetaBrNode:qm,isMetaInlineNode:function(e){return Zm(e)||Um(e)||qm(e)||Wm(e)&&e.props?.type===am},isMetaNode:Wm,isMetaNodePath:db,isMetaPlaceholderNode:Ym,isMetaSpaceNode:Zm,isMetaTabNode:Um,isMoveBackward:CC,isMoveDown:SC,isMoveForward:wC,isMoveLineBackward:DC,isMoveLineForward:IC,isMoveUp:xC,isMoveWordBackward:EC,isMoveWordForward:kC,isNode:Im,isNodeEqual:jm,isPaste:lC,isPathAfter:Ry,isPathBefore:Py,isPathEqualBlock:ub,isPathEquals:Oy,isPointAfter:Ay,isPointBefore:My,isPointEquals:By,isPreNode:function(e){return Im(e)&&e.type===tm},isReferenceBlockNode:Qm,isReferenceInlineNode:ey,isReferenceNode:Jm,isSameEditNode:Fm,isSameStyleNode:Hm,isSelectAll:sC,isSelectionAfterEditNodeEnd:Zy,isSelectionBeforeEditNodeStart:$y,isSelectionEquals:function(e,t){return!(!zc(e)||!zc(t))||!(!e||!t)&&(By(e.anchor,t.anchor)&&By(e.focus,t.focus))},isSelectionFocusEditNode:Vy,isSelectionFocusEditNodeEnd:zy,isSelectionFocusEditNodeStart:Wy,isSelectionInclude:lb,isSelectionOutView:ob,isSelectionTouchBlockNodeEnd:function(e,t){if(void 0===t)return!1;if(!Ty(t)){return!Oy(Tb(e,t.focus.path),Tb(e,t.anchor.path))}const{after:{path:n,offset:o}}=qy(t,!1),i=ry(e,n);return null!==i&&(o===oy(i)&&0===Hy(bb(ry(e,Tb(e,n))),n))},isSelectionTouchBlockNodeStart:Uy,isSelectionTouchEdge:function(e){const{selection:t,node:n}=e;return $y(n,t)||Zy(n,t)},isShiftSplitBlock:bC,isShiftTab:mC,isSideSpiesNode:Xm,isSpace:pC,isSpiesNode:Gm,isSplitBlock:yC,isStartPath:jy,isStartPointPath:_y,isTab:gC,isUniFormChildren:_m,italic:eE,iterateBlockNode:(e,t)=>n=>{if(!(t=t??n.selection))return n;if(Ty(t)){const o=t.focus.path,i=Tb(n.node,o),r=ry(n.node,i);return Om(r)&&e(r,i),n}return nb(n.node,t,e),n},iterateNode:(e,t)=>e=>e,joinKey:Kg,locateInlinePosition:Fw,mainStyle:jC,mapNode:function e(t,n){return{...n(t),children:t.children.map((t=>Im(t)?e(t,n):t))}},matchWordOffsetBackward:jE,matchWordOffsetForward:_E,mergeEditNode:Ax,mergeExtendStyle:SS,minusPointOnceByPath:sx,moveBackward:qx,moveBackwardExpand:Xx,moveCompositionBackward:aS,moveCompositionDown:fS,moveCompositionForward:uS,moveCompositionUp:dS,moveDown:Kx,moveDownExpand:Qx,moveForward:Yx,moveForwardExpand:Jx,moveLineBackward:rS,moveLineForward:lS,moveUp:Gx,moveUpExpand:eS,moveWordBackward:sS,moveWordForward:cS,nextTickSelection:LE,paragraphSelectionPoint:vx,parseStableNumber:JC,phraseSelectionPoint:px,popNextEditBlockNode:Bx,popPrevEditBlockNode:Tx,portalContextMenuStyle:ew,pushNextEditBlockNode:Lx,pushPrevEditBlockNode:Nx,reduceEditNode:Wx,reduceEditNodeStyle:vS,reduceSelection:Yy,reflowEditNodeByPath:_x,reflowEditNodeBySelection:jx,reflowEditSlowStart:mx,reflowNodeStyleByPosition:Ex,reflowPending:yx,reflowSelectionPoint:gx,reflowStartPosition:wx,reflowStyle:WC,removeBorderSizeStyle:function(e){return e?(delete(e={...e}).border,delete e.borderTop,delete e.borderRight,delete e.borderBottom,delete e.borderLeft,delete e.borderWidth,delete e.borderTopWidth,delete e.borderRightWidth,delete e.borderBottomWidth,delete e.borderLeftWidth,e):e},removeBoxSizeStyle:YC,removeEditNodeReference:Fx,removeLocation:Pw,removePositionStyle:qC,removeSplitBlockNodeStyle:function(e){e.style&&(delete e.style.paddingBottom,delete e.style.paddingTop)},resetContentHeight:Zw,resetDetectRect:Xw,resetEditNodeKey:Rx,resetEditNodeKeyRecursion:Hx,resetReference:jw,resetReflowStart:bx,resetScrollHeight:$w,resetScrollTouch:Uw,resize:(e,t,n,o,i)=>r=>{if(!i&&r.clientWidth!==e){r.clientWidth=e,r.node=yy(r.node);const t=Sx(r.node,n.block,o);r.node.position={top:0,left:0,right:0,bottom:t+VC(r.node.style)}}return r.clientHeight!==t&&(r.clientHeight=t),r.scrollHeight<r.clientHeight&&(r.scrollHeight=r.clientHeight),i||r.scrollHeight===r.clientHeight||(r.scrollHeight=r.clientHeight),r},resizeHeight:zw,resizeHeightDebounce:ME,resizeWidth:(e,t,n,o)=>i=>{const r=Cb(i.node);if(!jy(r)){const e=ay(i.node,r);if(i.reflowStart){const{offsets:t,path:n}=i.reflowStart;if(Fc(t,e)&&Fc(n,r))return i}return i.resizeWidth,i=Ww(!0)(i)}const{record:l}=n,s=ps(i.reflowStart),c=Sx(i.node,t,l);return i.node.position={top:0,left:0,right:0,bottom:c+VC(i.node.style)},Ex(i.node,t,l),(i=zw(e)(i)).location&&o?i=(e=>(e.location=void 0,e))(i=Fw(e,t,o)(i)):(i=wx(s)(i),i=jw(e)(i)),i},resizeWidthInfinite:Vw,retransferEditBlockNode:Ix,saftyTextNode:kE,scrollEdit:Vx,scrollEditAnimation:fE,scrollEditAnimationNative:hE,scrollEditSafty:dE,scrollSelectionIntoView:$x,searchInlinePathFromPoint:Lb,searchPathFromPoint:Nb,selectionBlockNode:e=>t=>{const n=t.selection?.focus;if(void 0===n)return t;const o=Tb(t.node,n.path),i=ry(t.node,o);if(!Lm(i))return t;const r=yb(i),l=bb(i),s=ry(t.node,l);return null===s?t:(t.selection={anchor:{path:r,offset:0},focus:{path:l,offset:oy(s)}},t=rx()(t),t=ix(e)(t),t=ex(!0)(t))},selectionEditNodeEnd:()=>e=>{const t=bb(e.node),n=ry(e.node,t);if(null===n)return e;const o=oy(n),i={focus:{path:[...t],offset:o},anchor:{path:[...t],offset:o}};return e=Jw(i)(e),e=ex(!0)(e)},selectionEditNodeStart:()=>e=>{const t=yb(e.node),n={focus:{path:[...t],offset:0},anchor:{path:[...t],offset:0}};return e=Jw(n)(e),e=ex(!0)(e)},setClientHeight:e=>t=>(t.clientHeight=e,t),setComposing:ux,setComposition:dx,setContentHeight:qw,setContextMenuRect:GS,setContextMenuScrolling:XS,setContextMenuScrollingDebounce:RE,setContextMenuVisible:KS,setEditBlockNodeStyle:wS,setEditNode:e=>t=>(t.node=e,t),setEditNodeProps:gS,setEditNodeStyle:hS,setEditNodeStyleRecursion:pS,setEditPending:kx,setEditScrollingDebounce:OE,setHighlights:e=>t=>(t.highlights=e,t),setLoupeOffsetTop:e=>t=>(t.loupe||(t.loupe={}),t.loupe.offsetTop=e,t),setLoupeOnlyDot:iE,setLoupeRect:rE,setLoupeVisible:oE,setReload:Ww,setResizeHeight:Kw,setResizeWidth:Yw,setScrollBarVisible:nE,setScrollHeight:e=>t=>(t.scrollHeight=e,t),setScrollPending:Ux,setScrolling:Zx,setSelectPending:Gw,setSelection:Jw,setSelectionDecorate:rx,setSelectionLayout:tx,setSelectionPath:nx,setSelectionReflow:ex,setSelectionStyle:ix,setSelectionfrozen:Qw,setSlicer:YS,setTouchExpandSelection:lE,setTouchIndicatorSelection:sE,setTouchIndicatorVisible:cE,shiftSplitBlock:VS,shiftTab:ZS,shouldAdjustAutoCompleteFocus:NE,sliceAfterPoint:ow,sliceBeforePoint:nw,sliceBlockPath:Tb,sliceBoxSizeStyle:KC,sliceCompositionNodePath:Ob,sliceDecoratePath:Bb,sliceEditNode:qS,sliceEditNodeByCWND:function(e,t,n){const o=function(e,t){if(!Im(e))throw new Error("the type of node must be a truly Node, please check out the node: "+JSON.stringify(e));if(0===t.length&&Bm(e))return ny(e);const n={...e,critical:Bm(e),children:[],key:Ug};let o=n.children,i=0;for(;i<t.length;){const n=e.children[Math.min(t[i],e.children.length-1)];if(!Im(n)){o.push(n);break}if(!Tm(n)){o.push(ny(n,t.slice(0,i+1)));break}e=n;const r={...e,critical:Bm(e),key:qg(t.slice(0,i+1)),children:[]};o.push(r),o=r.children,i++}return n}(e,t);let i=o.children;const r=t.slice();let l=r.length,s=-1;for(n++;l>=0&&n>0;){const c=iy(e,r);if(null===c)return null;let a=!0;const u=[c],d=[u.length];for(;u.length>0&&n>0;){const e=u.pop();if(!1===a?(n--,r[r.length-1]++,(n>=1||!Lm(e))&&(0===n&&n++,Tm(e)?i.push({...e,critical:Bm(e),key:qg(r),children:[]}):Im(e)?i.push(ny(e,r)):i.push(e))):a=!1,0===n)break;if(d[d.length-1]--,!Tm(e)||0===e.children.length||e.children.length-1-s<=0){for(s=-1;0===d[d.length-1];)d.pop(),r.pop(),i=tw(o,t,r.slice(0,-1));continue}i=tw(o,t,r),r.push(s);let l=e.children.length;for(d.push(l-1-s);l-1>s;)u.push(e.children[l-1]),l--;s=-1}n>0&&(s=t[--l])}return 0===r.length&&r.push(e.children.length),o},sliceKeyboardEvent:function(e){return{onKeyDown:e.onKeyDown}},sliceLoupeNode:$E,sliceMetaNodePath:Mb,sliceNode:function e(t,n,o,i=[]){if(Pc(n)||Pc(o)||Pc(t.children)){let e=t.children;return Pc(n)?Pc(o)||(e=e.slice(0,o[0]+1)):e=e.slice(n[0]),ny({...t,children:e},i)}if(n[0]===o[0]){const r=t.children[n[0]];if(Im(r)){const l=n.slice(1);0===l.length&&(l[0]=0);const s=o.slice(1);0===s.length&&(s[0]=r.children.length-1);const c={...t,key:qg(i),critical:Bm(t),children:[e(r,l,s,i.concat(n[0]))]};return c.style&&(c.style={...c.style}),c}if(Cc(r))return ny({...t,children:[r]},i)}const r=t.children.slice(n[0]+1,o[0]).map(((e,t)=>Im(e)?ny(e,i.concat(n[0]+1+t)):e)),l=t.children[n[0]];Im(l)?r.unshift(e(l,n.slice(1),[l.children.length-1],i.concat(n[0]))):Cc(l)&&r.unshift(l);const s=t.children[o[0]];Im(s)?r.push(e(s,[0],o.slice(1),i.concat(o[0]))):Cc(s)&&r.push(s);const c={...t,key:qg(i),critical:Bm(t),children:r};return c.style&&(c.style={...c.style}),c},slicePointerEvent:BE,sliceReferencePath:Ab,sliceSelectionStartBlockPath:function(e,t){const{before:{path:n}}=qy(t);return Tb(e,n)},sortSelection:qy,space:US,spliceEditNode:Mx,splitBlock:zS,syncEndSelectionReflow:()=>e=>{if(!e.selection)return e;const t=wb(e.node),{before:n,after:o}=qy(e.selection);return Ry(n.path,t)||Py(o.path,t)||(e.selectionReflow=!0),e},syncReference:Hw,syncScrollSelection:lx,syncStartSelectionReflow:()=>e=>{if(!e.selection)return e;const t=Cb(e.node),{before:n,after:o}=qy(e.selection);return Ry(n.path,t)||Py(o.path,t)||(e.selectionReflow=!0),e},tab:$S,transformEditNodeToNode:gy,transformEditSelection:function(e){const{node:t,selection:n}=e;if(zc(n))return;if(!Vy(n,t))return;const o=yb(t),i=bb(t),{anchor:r,focus:l}=ps(n);if(Ay(r,l)){if(null===ry(t,l.path)&&(l.offset=0,l.path=o),null===ry(t,r.path)){const e=ry(t,i);Cc(e)?r.offset=e.length:r.offset=0,r.path=i}}else if(My(r,l)&&(null===ry(t,r.path)&&(r.offset=0,r.path=o),null===ry(t,l.path))){const e=ry(t,i);Cc(e)?l.offset=e.length:l.offset=0,l.path=i}return{anchor:r,focus:l}},transformHighlight:PE,transformNodeToEditNode:my,transitionContextMenuStyle:QC,traversalEditBlockNodeBySelection:nb,traversalEditNodeBySelection:tb,traversalNextNode:Sx,traversalPrevNode:xx,traversalSelectionBlockNodePath:function(e,t,n,o){const{before:i,after:r}=qy(t),l=Tb(e,i.path),s=Tb(e,r.path);let c=o?s:l;do{const t=iy(e,c);if(!Lm(t))break;if(!1===n(t,c))break;if(o){if(c=Ib(e,c),Py(c,l))break}else if(c=Eb(e,c),Ry(c,s))break}while(c.length)},traverseNode:ty,useCommonMainEvents:GE,useContentRefs:function(e){return{content:Z(null)}},useEditableRefs:function(e){return{edit:Z(null)}},useElementRefs:UE,useLiteEvents:function(e){},useMainRefs:qE,useMobileMainEvents:JE,useMobileSelectionEvents:QE,usePCMainEvents:XE,useReflowRefs:KE,useSelectionRefs:YE,wordSegmenter:HE});function pk(e){const[t,n]=qd((()=>({}))),o=Z(null),i=Z(null),r={...e,...t},{value:{node:l,highlights:s},disableEvents:c}=e;return bh(jg,{value:n,children:bh(Vg,{value:e,children:bh(c?sk:Kf?ak:ck,{...r,refref:i,selref:o,children:Ch("div",{style:zC(e),children:[bh(uk,{...r,refref:i,children:bh(ZE,{node:l,highlights:s,renderElement:e.renderElement})}),bh(dk,{...r,ref:o,refref:i})]})})})})}const vk={position:"relative",cursor:"default"},gk={display:"inherit",height:"100%",width:"100%"};function mk(e){const t={};return void 0!==e.style?.width&&(t.width=parseFloat(String(e.style.width))),void 0!==e.value?.width&&(t.width=e.value.width),void 0!==e.style?.height&&(t.height=parseFloat(String(e.style.height))),void 0!==e.value?.height&&(t.height=e.value.height),t}var yk=Object.freeze({__proto__:null,calcImageSize:mk,limitImageSize:function(e,t){let{width:n,height:o}=e;return void 0===n||void 0===o?e:(n>o?o<t&&(n=t*n/o,o=t):n<t&&(o=t*o/n,n=t),{width:n,height:o})},resetImageSize:function(e,t){let{width:n,height:o}=e;return void 0===n||void 0===o?e:(n>o?(n=t*n/o,o=t):(o=t*o/n,n=t),{width:n,height:o})}});function bk(e){const{src:t}=e;return bh(wh,{ref:e.ref,style:{...vk,...e.style,...mk(e)},onPointerDown:e.onPointerDown,onClick:e.onClick,children:t&&"pending"!==t&&bh("img",{style:gk,onLoad:e.onLoad,src:t,alt:""})})}function Ck({width:e=20,fill:t=Hf}){return Ch("svg",{viewBox:"0 0 1024 1024",width:e,children:[bh("path",{d:"M782.426059 824.924989l-584.588225-584.727395c-11.987009-11.990079-11.984962-31.42778 0.005116-43.414789 11.990079-11.987009 31.42778-11.984962 43.414789 0.005117l584.588225 584.727395c11.987009 11.990079 11.984962 31.42778-0.005116 43.414788-11.989055 11.988032-31.42778 11.984962-43.414789-0.005116z",fill:t}),bh("path",{d:"M197.768249 824.856427c-11.987009-11.990079-11.984962-31.42778 0.005117-43.414788l584.727394-584.589249c11.990079-11.987009 31.42778-11.984962 43.414789 0.005117 11.987009 11.990079 11.984962 31.42778-0.005116 43.414788l-584.727395 584.589249c-11.990079 11.987009-31.42778 11.984962-43.414789-0.005117z",fill:t})]})}const wk={position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999999,display:"flex",justifyContent:"center",alignItems:"center"},xk={position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,transition:"opacity 0.2s cubic-bezier(0.2, 0.0, 0.2, 1.0)",backgroundColor:Uf&&Gf?"rgba(0, 0, 0, 0.2)":"rgba(255, 255, 255, 0.5)"},Sk={borderRadius:8,backgroundColor:"#fff",position:"relative",top:-20,boxSizing:"border-box",padding:24,boxShadow:"0 0 10px 2px rgba(0, 0, 0, 0.2)",opacity:0,transform:"scale(0.98, 0.98)",transition:"opacity 0.2s cubic-bezier(0.2, 0.0, 0.2, 1.0), transform 0.3s cubic-bezier(0.2, 0.0, 0.2, 1.0)",color:Hf,width:Kf?320:400,minWidth:Kf?320:400,overflow:Xf?"unset":"hidden"},Ek={width:"100%",fontSize:18,marginBottom:18,fontWeight:"bold",boxSizing:"border-box",userSelect:"none"},kk={width:"100%",marginBottom:24,fontSize:14,lineHeight:1.6,overflow:"auto"},Dk={width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",position:"relative",zIndex:1},Ik={position:"absolute",right:10,top:10,left:"unset",cursor:"pointer",width:24,height:24,borderRadius:2,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},Nk={musk:{opacity:1},content:{opacity:1,transform:"scale(1, 1)"}},Lk={musk:{opacity:0},content:{opacity:0,transform:"scale(0.98, 0.98)"}};function Tk({okText:e="",cancelText:t="",showFooter:n=!0,showCancel:o=!0,showCancelIcon:i=!0,...r}){const l=_d(r),s=Z(),c=Z(null),a=Z(document.body.style.overflow),[u,d]=$(r.visible),[f,h]=$(!1);if(F((()=>{const e=f?300:0;return r.visible&&!u?s.current=setTimeout((()=>{d(!0),h(!f)}),e):!r.visible&&u&&(s.current=setTimeout((()=>{d(!1),h(!f)}),e)),()=>{clearTimeout(s.current)}})),F((()=>{const e=e=>{l.current.visible&&"Enter"===e.key&&l.current.onOk?.(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[l]),F((()=>{if(!c.current)return;const e=e=>{e.currentTarget===e.target&&(r.visible||d(!1),h(!1))};return c.current.addEventListener("transitionend",e),()=>{c.current&&c.current.removeEventListener("transitionend",e)}}),[r.visible]),H((()=>{u?(a.current=document.body.style.overflow,document.body.style.setProperty("overflow","hidden")):document.body.style.setProperty("overflow",a.current)}),[u]),!r.visible&&!u&&!f)return null;const p={...xk};r.visible&&u?Object.assign(p,Nk.musk):Object.assign(p,Lk.musk);const v={...Sk,...r.style};r.visible&&u?Object.assign(v,Nk.content):Object.assign(v,Lk.content),r.autoSize&&delete v.width;const g={...kk};return n||delete g.marginBottom,r.autoSize&&(g.maxWidth="80vw",g.maxHeight="68vh"),Ch("div",{style:wk,onClick:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:[bh("div",{style:p}),Ch(Dh,{ref:c,style:v,children:[i?bh(Ev,{type:"background",style:Ik,onClick:r.onCancel,children:bh(Ck,{})}):null,r.title&&bh("div",{style:Ek,children:r.title}),bh("div",{style:g,children:r.children}),n&&Ch("div",{style:Dk,children:[o?bh(Iv,{onClick:r.onCancel,type:"default",children:t}):null,bh(Iv,{onClick:r.onOk,style:{marginLeft:24},children:e})]})]})]})}const Bk={position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},Ak={opacity:0,pointerEvents:"none",fontSize:12,lineHeight:1.2,whiteSpace:"nowrap",fontWeight:"bold",position:"absolute",userSelect:"none",padding:"4px 6px",backgroundColor:Bf,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,borderRadius:2,color:"#fff"},Mk=(e=10)=>({top:`calc(100% + ${e}px)`}),Ok=(e=10)=>({bottom:`calc(100% + ${e}px)`}),Rk=(e=10)=>({left:`calc(100% + ${e}px)`}),Pk=(e=10)=>({right:`calc(100% + ${e}px)`}),Fk={position:"absolute",width:0,height:0,borderStyle:"solid"},Hk={bottom:-12,borderWidth:"6px 5px",borderColor:`${Bf} transparent transparent transparent`},_k={top:-12,borderWidth:"6px 5px",borderColor:`transparent transparent ${Bf} transparent`},jk={right:-12,borderWidth:"5px 6px",borderColor:`transparent transparent transparent ${Bf}`},Wk={left:-12,borderWidth:"5px 6px",borderColor:`transparent ${Bf} transparent transparent`};function zk(e,t){return"top"===e?Ok(t):"left"===e?Pk(t):"right"===e?Rk(t):Mk(t)}function Vk(e){return bh(Kf?$k:Zk,{...e})}function $k(e){return e.children}function Zk(e){const[t,n]=$(0),o=Z(null);return F((()=>()=>{null!==o.current&&(clearTimeout(o.current),o.current=null)}),[]),Ch("div",{style:{...Bk,...e.style},onPointerEnter:t=>{o.current=setTimeout((()=>{n(1*(e.opacity??1))}),e.delay)},onPointerLeave:e=>{null!==o.current&&(clearTimeout(o.current),o.current=null),n(0)},children:[e.children,e.tips&&!e.hide&&Ch("div",{style:{...Ak,...zk(e.direction,e.offset),opacity:t},children:[e.tips,bh("span",{style:{...Fk,...(i=e.direction,"top"===i?Hk:"left"===i?jk:"right"===i?Wk:_k)}})]})]});var i}const Uk={position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",backgroundColor:Kf?Rf:Bf,width:38,userSelect:"none",paddingTop:3,paddingBottom:3},qk={display:"flex",flexDirection:"column"},Yk={borderRadius:"50%",marginTop:5,marginBottom:5,width:28,height:28,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},Kk={},Gk={position:"absolute",bottom:8,left:32,zIndex:1e4};function Xk(e){return Ch(wh,{style:{...Uk,...e.style},onClick:e.onClick,children:[e.value?.map(((t,n)=>bh("div",{style:qk,children:t.map(((t,n)=>Ch("div",{children:[bh(Vk,{opacity:.9,direction:"right",tips:t.tips,children:bh(Ev,{onClick:n=>(n.stopPropagation(),(t=>{if(void 0===e.value)return;const n=[];for(let o=0;o<e.value.length;o++){const i=e.value[o];void 0===n[o]&&(n[o]=[]);for(let e=0;e<i.length;e++)n[o][e]={...i[e],active:i[e]===t}}e.onChange?.(n)})(t)),type:"theme",style:{...Yk,...t.active&&Kk},children:t.icon})}),t.visible&&t.options?.length&&bh("div",{style:Gk,children:bh(Lg,{style:{width:160},options:t.options})})]},t.id+n)))},n))),e.children]})}const Jk={position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e5,display:"flex",justifyContent:"center"},Qk={position:"absolute",top:0,left:0,pointerEvents:"visible",display:"flex",justifyContent:"center"},eD={position:"absolute",width:0,display:"flex",justifyContent:"center"};function tD(e){const t=Wd("wheel");return F((()=>{if(Kf)return;const e=t.subscribe((e=>{e.deltaX<0&&e.preventDefault()}));return()=>e.unsubscribe()}),[t]),bh("div",{style:{...Jk,...e.style},...zd([t]),ref:e.ref})}function nD(e){const[t,n]=$(),o={top:t?.top??0,left:(t?.left??0)+(t?.width??0)/2,opacity:t?1:0,zIndex:e.zIndex};return H((()=>{const o=e.ele?.current;if(!o)return;const i=function(e){return{left:e.left,top:e.top,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}(o.getBoundingClientRect()),r=e.portal?.current;if(r){const t=r.getBoundingClientRect();i.left=(i.left??0)-t.left,"bottom"===e.align?i.top=(i.bottom??0)-t.top:i.top=(i.top??0)-t.top}i&&!Fc(i,t)&&(n(i),e.layout?.(i))})),bh("div",{onPointerDown:e=>e.stopPropagation(),style:{...Qk,...o},children:bh("div",{style:eD,children:e.children})})}function oD(e,t,o,i,l,s){return t.current?function(e,t){return{type:r,symbol:n,props:{children:e,ele:t}}}(bh(nD,{portal:t,ele:o,align:i,zIndex:s,layout:l,children:e}),t.current):e}var iD;!function(e){e.Start="Start",e.Pending="Pending",e.End="End"}(iD||(iD={}));const rD={all:lD=lD||new Map,on:function(e,t){var n=lD.get(e);n?n.push(t):lD.set(e,[t])},off:function(e,t){var n=lD.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):lD.set(e,[]))},emit:function(e,t){var n=lD.get(e);n&&n.slice().map((function(e){e(t)})),(n=lD.get("*"))&&n.slice().map((function(n){n(e,t)}))}};var lD;const sD="location";addEventListener("popstate",(e=>{const t=e.state;null===t?rD.emit(sD):rD.emit(sD,t)})),U({path:""});const cD=U(null),aD=U(null);const uD=`transparent 0%, transparent 39.9%, ${Bf} 40%, ${Bf} 50%, ${Bf} 60%, transparent 60.1%, transparent 100%`,dD=100,fD={position:"relative"},hD={position:"relative",width:"100%",height:"100%"},pD={position:"absolute",top:0,left:0,right:0,bottom:0},vD={position:"absolute",left:0,right:0,pointerEvents:"none",zIndex:1},gD={position:"absolute",top:0,bottom:0,pointerEvents:"none",zIndex:1},mD={position:"absolute",left:0,right:0,height:Kf?10:4,cursor:"row-resize",zIndex:100,opacity:0,pointerEvents:"visible",background:`linear-gradient(to bottom, ${uD})`,transition:"opacity 100ms ease-out"},yD={...mD,zIndex:200,opacity:1,background:`linear-gradient(to bottom, ${uD})`},bD={position:"absolute",top:0,bottom:0,width:Kf?10:4,cursor:"col-resize",zIndex:100,opacity:0,pointerEvents:"visible",transition:"opacity 100ms ease-out",background:`linear-gradient(to right, ${uD})`},CD={...bD,zIndex:200,opacity:1,background:`linear-gradient(to right, ${uD})`},wD={position:"absolute",top:0,bottom:0,right:0,left:0,pointerEvents:"none",overflow:"hidden",zIndex:1e4},xD={position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:1,boxSizing:"border-box",transition:"all 100ms ease-out",willChange:"left, top, width, height"},SD={position:"absolute",top:0,left:0,right:0,bottom:0,border:`2px solid ${Bf}`},ED={position:"absolute",top:0,left:0,opacity:.5,boxSizing:"border-box",border:`2px solid ${Bf}`,overflow:"hidden",transition:"all 100ms ease-out",willChange:"left, top, width, height"},kD={position:"absolute",right:-1,bottom:-1,zIndex:100,width:7,height:7,boxSizing:"border-box",border:"1px solid #fff",backgroundColor:Bf,pointerEvents:"auto",cursor:"crosshair"},DD={position:"absolute",top:0,left:0,userSelect:"none",opacity:.2,outlineColor:Bf,outlineStyle:"solid",transition:"all 100ms ease-out",willChange:"left, top, width, height, outline-width"},ID={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},ND={position:"absolute",zIndex:10,pointerEvents:"auto",cursor:"grab"},LD={...ND,top:Kf?-4:-1,left:0,right:0,height:Kf?10:4},TD={...ND,top:0,right:Kf?-4:-1,bottom:0,width:Kf?10:4},BD={...TD,right:-2,cursor:"col-resize"},AD={...ND,left:Kf?-4:-1,top:0,bottom:0,width:Kf?10:4},MD={...ND,left:0,right:0,bottom:Kf?-4:-1,height:Kf?10:4},OD={...MD,bottom:-2,cursor:"row-resize"},RD={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"hidden",zIndex:1,display:"flex",alignItems:"center"},PD={...RD,zIndex:10,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0},FD={position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",zIndex:1e3,overflow:"hidden"},HD={position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,overflow:"hidden"},_D={position:"absolute",top:0,left:0,width:"calc(100% + 2px)",height:"calc(100% + 2px)"},jD={position:"absolute",zIndex:102},WD={position:"absolute",left:0,right:0,height:6,bottom:-5};function zD(e,{row:t,column:n,cell:o,infinite:i}){const{columnEndIndex:r,rowEndIndex:l}=e;r===1/0&&l!==1/0?t&&VD(e,t):r!==1/0&&l===1/0?n&&$D(e,n):r!==1/0&&l!==1/0?o&&ZD(e,o):i?.()}function VD(e,t){const{rowStartIndex:n,rowEndIndex:o}=e;if(o===1/0)throw new Error(" interateIndicatorRangeColumn ");for(let e=n;e<o;e++)t(e)}function $D(e,t){const{columnStartIndex:n,columnEndIndex:o}=e;if(o===1/0)throw new Error(" interateIndicatorRangeRow ");for(let e=n;e<o;e++)t(e)}function ZD(e,t){const{columnStartIndex:n,rowStartIndex:o,columnEndIndex:i,rowEndIndex:r}=e;if(i===1/0||r===1/0)throw new Error(" interateIndicatorRangeRow  interateIndicatorRangeColumn ");for(let e=o;e<r;e++)for(let o=n;o<i;o++)t(e,o)}function UD(e,t){const n=Object.keys(e),o=n.length;let i=0;for(;i<o;)t(Number(n[i])),i++}function qD(e,t,n){const o=Object.keys(e),i=o.length;let r=0;for(;r<i;){const i=o[r],l=iI(i);l.rowIndex===t&&n(l.columnIndex,e[i]),r++}}function YD(e,t,n){const o=Object.keys(e),i=o.length;let r=0;for(;r<i;){const i=o[r],l=iI(i);l.columnIndex===t&&n(l.rowIndex,e[i]),r++}}function KD(e){if(void 0===e)return!1;const{rowStartIndex:t,rowEndIndex:n,columnStartIndex:o,columnEndIndex:i}=e;return n-t<=1&&i-o<=1}function GD(e,t){return void 0!==e&&void 0!==t&&(e.rowStartIndex<=t.rowStartIndex&&e.columnStartIndex<=t.columnStartIndex&&e.rowEndIndex>=t.rowEndIndex&&e.columnEndIndex>=t.columnEndIndex)}function XD(e,t){const{rowStartIndex:n,rowEndIndex:o,columnStartIndex:i,columnEndIndex:r}=e,{rowIndex:l=n,columnIndex:s=i}=t;return n<=l&&o>l&&i<=s&&r>s}function JD(e,t){let n=null;return void 0===t||zD(t,{row(t){if(""===n)return;const o=e?.rows?.[t];o?.merge?null===n?n=o.merge:n!==o.merge&&(n=""):n=""},column(t){if(""===n)return;const o=e?.columns?.[t];o?.merge?null===n?n=o.merge:n!==o.merge&&(n=""):n=""},cell(t,o){if(""===n)return;const i=oI(t,o),r=e?.cells?.[i];r?.merge?null===n?n=r.merge:n!==r.merge&&(n=""):n=""},infinite(){if(""===n)return;const t=e?.defaultCell;t?.merge?null===n?n=t.merge:n!==t.merge&&(n=""):n=""}}),n??""}function QD(e){const{columnStartIndex:t,rowStartIndex:n,columnEndIndex:o,rowEndIndex:i}=e;return o!==1/0&&i!==1/0?`${oI(n,t)}-${oI(i,o)}`:o!==1/0&&i===1/0?`${oI(n,t)}-.${o}`:o===1/0&&i!==1/0?`${oI(n,t)}-${i}.`:"0.0-."}function eI(e){const t=e.split("-")[0],n=e.split("-")[1],o=iI(t),i=n.split("."),r=i[0];let l=o.rowIndex,s=l+1;s=""===r?1/0:Math.max(s,Number(r));const c=i[1];let a=o.columnIndex,u=a+1;return u=""===c?1/0:Math.max(u,Number(c)),{rowStartIndex:l,rowEndIndex:s,columnStartIndex:a,columnEndIndex:u}}function tI(e,t){const{cells:n,rows:o,columns:i,defaultCell:r}=e,{rowIndex:l,columnIndex:s}=t,c=oI(l,s),a=n?.[c],u=o?.[l],d=i?.[s],f=r?.merge||u?.merge||d?.merge||a?.merge;return f?eI(f):{rowStartIndex:l,rowEndIndex:l+1,columnStartIndex:s,columnEndIndex:s+1}}function nI(e,t){return zD(t=ps(t),{row(n){const o=e?.rows?.[n];if(o?.merge){const e={...t},n=eI(o.merge);t.columnStartIndex=Math.min(e.columnStartIndex,n.columnStartIndex),t.rowStartIndex=Math.min(e.rowStartIndex,n.rowStartIndex),t.columnEndIndex=Math.max(e.columnEndIndex,n.columnEndIndex),t.rowEndIndex=Math.max(e.rowEndIndex,n.rowEndIndex)}const i=e.defaultCell;if(i?.merge){const e=eI(i.merge);t.columnStartIndex=e.columnStartIndex,t.rowStartIndex=e.rowStartIndex,t.columnEndIndex=e.columnEndIndex,t.rowEndIndex=e.rowEndIndex}},column(n){const o=e?.columns?.[n];if(o?.merge){const e={...t},n=eI(o.merge);t.columnStartIndex=Math.min(e.columnStartIndex,n.columnStartIndex),t.rowStartIndex=Math.min(e.rowStartIndex,n.rowStartIndex),t.columnEndIndex=Math.max(e.columnEndIndex,n.columnEndIndex),t.rowEndIndex=Math.max(e.rowEndIndex,n.rowEndIndex)}const i=e.defaultCell;if(i?.merge){const e=eI(i.merge);t.columnStartIndex=e.columnStartIndex,t.rowStartIndex=e.rowStartIndex,t.columnEndIndex=e.columnEndIndex,t.rowEndIndex=e.rowEndIndex}},cell(n,o){const i=oI(n,o),r=e?.cells?.[i];if(r?.merge){const n={...t},o=eI(r.merge);t.columnStartIndex=Math.min(n.columnStartIndex,o.columnStartIndex),t.rowStartIndex=Math.min(n.rowStartIndex,o.rowStartIndex),t.columnEndIndex=Math.max(n.columnEndIndex,o.columnEndIndex),t.rowEndIndex=Math.max(n.rowEndIndex,o.rowEndIndex),t.columnStartIndex===n.columnStartIndex&&t.rowStartIndex===n.rowStartIndex&&t.columnEndIndex===n.columnEndIndex&&t.rowEndIndex===n.rowEndIndex||nI(e,t)}const l=e?.rows?.[n];if(l?.merge){const e={...t},n=eI(l.merge);t.columnStartIndex=Math.min(e.columnStartIndex,n.columnStartIndex),t.rowStartIndex=Math.min(e.rowStartIndex,n.rowStartIndex),t.columnEndIndex=Math.max(e.columnEndIndex,n.columnEndIndex),t.rowEndIndex=Math.max(e.rowEndIndex,n.rowEndIndex)}const s=e?.columns?.[o];if(s?.merge){const e={...t},n=eI(s.merge);t.columnStartIndex=Math.min(e.columnStartIndex,n.columnStartIndex),t.rowStartIndex=Math.min(e.rowStartIndex,n.rowStartIndex),t.columnEndIndex=Math.max(e.columnEndIndex,n.columnEndIndex),t.rowEndIndex=Math.max(e.rowEndIndex,n.rowEndIndex)}const c=e.defaultCell;if(c?.merge){const e=eI(c.merge);t.columnStartIndex=e.columnStartIndex,t.rowStartIndex=e.rowStartIndex,t.columnEndIndex=e.columnEndIndex,t.rowEndIndex=e.rowEndIndex}},infinite(){const n=e.defaultCell;if(n?.merge){const e=eI(n.merge);t.columnStartIndex=e.columnStartIndex,t.rowStartIndex=e.rowStartIndex,t.columnEndIndex=e.columnEndIndex,t.rowEndIndex=e.rowEndIndex}}}),t}function oI(e,t){return`${e}.${t}`}function iI(e){const t=e.split(".");return{rowIndex:Number(t[0]),columnIndex:Number(t[1])}}function rI(e,t,n){if(void 0===n||t>n){const n=e.rows?.[t]?.style?.height;return void 0!==n?parseFloat(String(n)):e.rowDefaultSize}if(n===1/0)return e.scrollHeight-aI(e,t);let o=0;for(;t<n;)o+=rI(e,t++);return o}function lI(e,t,n){if(void 0===n||t>n){const n=e.columns?.[t]?.style?.width;return void 0!==n?parseFloat(String(n)):e.columnDefaultSize}if(n===1/0)return e.scrollWidth-uI(e,t);let o=0;for(;t<n;)o+=lI(e,t++);return o}function sI(e,t,n=0){const{freezeRange:o,columnStartIndex:i,columnStartDiff:r}=e;if(t+=n+(lI(e,i)-r),void 0!==o){let n=0;for(;n<o.columnEndIndex;){if((t-=lI(e,n))<=0)return n;n++}}let l=i;for(;t>0;){if((t-=lI(e,l))<=0)return l;l++}return l}function cI(e,t,n=0){const{freezeRange:o,rowStartIndex:i,rowStartDiff:r}=e;if(t+=n+(rI(e,i)-r),void 0!==o){let n=0;for(;n<o.rowEndIndex;){if((t-=rI(e,n))<=0)return n;n++}}let l=i;for(;t>0;){if((t-=rI(e,l))<=0)return l;l++}return l}function aI(e,t){const{freezeRange:n,rowStartIndex:o,rowStartDiff:i,scrollTop:r,scrollHeight:l}=e;if(t===1/0)return l-r;if(o>t)return rI(e,0,t);let s=0;t>=(n?.rowEndIndex??0)&&(s+=r-(rI(e,o)-i));let c=o;for(;c<t;)s+=rI(e,c),c++;for(;c>t;)s-=rI(e,c),c--;return s}function uI(e,t){const{freezeRange:n,columnStartIndex:o,columnStartDiff:i,scrollLeft:r,scrollWidth:l}=e;if(t===1/0)return l-r;if(o>t)return lI(e,0,t);let s=0;t>=(n?.columnEndIndex??0)&&(s+=r-(lI(e,o)-i));let c=o;for(;c<t;)s+=lI(e,c),c++;for(;c>t;)s-=lI(e,c),c--;return s}function dI(e){const t=e.scrollLeft/(e.scrollWidth-e.clientWidth);return isNaN(t)?1:Math.min(1,t)}function fI(e){const t=Math.max(1,e.scrollWidth/e.clientWidth);return Math.max(e.clientWidth/t,Dw)}function hI(e,t,n,o=!0){const{onChange:i,value:r}=e.current;if(t>0){const l=Math.min(t,r.clientWidth);i(Ud(JI(l,0))(r)),(t-=r.clientWidth)>0&&(n.current=requestAnimationFrame((()=>{hI(e,t,n,o)})))}else if(t<0){const l=Math.max(t,-r.clientWidth);i(Ud(JI(l,0))(r)),(t+=r.clientWidth)<0&&(n.current=requestAnimationFrame((()=>{hI(e,t,n,o)})))}}function pI(e){return mI(e.value,e.value.indicatorRange)}function vI(e){const t=e.indicator?.previewIndicatorRange,n=mI(e.value,t);return e.indicator?.drag&&Fc(e.value.indicatorRange,t)&&(n.top+=1.5,n.left+=1.5,n.height-=3,n.width-=3),n}function gI(e){let t;const{selectedCoordinates:n}=e.value;return void 0!==n&&(t=tI(e.value,n)),mI(e.value,t)}function mI(e,t){const n={left:0,top:0,width:0,height:0};if(void 0===t)return n;return t.rowStartIndex>=e.rowStartIndex&&t.rowEndIndex<=e.rowEndIndex?(n.top=aI(e,t.rowStartIndex),n.height=rI(e,t.rowStartIndex,t.rowEndIndex)):t.rowStartIndex<e.rowStartIndex&&t.rowEndIndex>e.rowEndIndex?(n.top=aI(e,e.rowStartIndex)-6,n.height=rI(e,e.rowStartIndex,e.rowEndIndex)+12):t.rowEndIndex>=e.rowStartIndex&&t.rowEndIndex<=e.rowEndIndex&&t.rowStartIndex<=e.rowStartIndex?(n.top=aI(e,e.rowStartIndex)-6,n.height=rI(e,e.rowStartIndex,t.rowEndIndex)+6):t.rowStartIndex<=e.rowEndIndex&&t.rowStartIndex>=e.rowStartIndex&&t.rowEndIndex>=e.rowEndIndex&&(n.top=aI(e,t.rowStartIndex),n.height=rI(e,t.rowStartIndex,e.rowEndIndex)+6),t.columnStartIndex>=e.columnStartIndex&&t.columnEndIndex<=e.columnEndIndex?(n.left=uI(e,t.columnStartIndex),n.width=lI(e,t.columnStartIndex,t.columnEndIndex)):t.columnStartIndex<e.columnStartIndex&&t.columnEndIndex>e.columnEndIndex?(n.left=uI(e,e.columnStartIndex)-6,n.width=lI(e,e.columnStartIndex,e.columnEndIndex)+12):t.columnEndIndex>=e.columnStartIndex&&t.columnEndIndex<=e.columnEndIndex&&t.columnStartIndex<=e.columnStartIndex?(n.left=uI(e,e.columnStartIndex)-6,n.width=lI(e,e.columnStartIndex,t.columnEndIndex)+6):t.columnStartIndex<=e.columnEndIndex&&t.columnStartIndex>=e.columnStartIndex&&t.columnEndIndex>=e.columnEndIndex&&(n.left=uI(e,t.columnStartIndex),n.width=lI(e,t.columnStartIndex,e.columnEndIndex)+6),t.columnEndIndex===1/0&&(n.width=e.scrollWidth),t.rowEndIndex===1/0&&(n.height=e.scrollHeight),n}const yI={cut:Uf?"+X":"Ctrl+X",copy:Uf?"+C":"Ctrl+C",paste:Uf?"+V":"Ctrl+V",selectAll:Uf?"+A":"Ctrl+A",selectCurrentRow:Uf?"+Space":"Ctrl+Shift+Space",selectCurrentColumn:Uf?"+Space":"Ctrl+Alt+Space",addOneRowToTop:Uf?"++=":"Alt+Shift+=",addOneRowToBottom:Uf?"++]":"Alt+Shift+]",addOneColumnToLeft:Uf?"++=":"Ctrl+Alt+=",addOneColumnToRight:Uf?"++]":"Ctrl+Alt+]",deleteCurrentRow:Uf?"++-":"Alt+Shift+-",deleteCurrentColumn:Uf?"++-":"Ctrl+Alt+-",merge:Uf?"++D":"Alt+Shift+D",expandBackward:Uf?"+":"Shift+",expandForward:Uf?"+":"Shift+",expandUp:Uf?"+":"Shift+",expandDown:Uf?"+":"Shift+",backspace:"backspace",moveBackward:"",moveForward:"",moveUp:"",moveDown:""},bI=Xs(hh)(yI.cut),CI=Xs(hh)(yI.copy),wI=Xs(ph)(yI.paste),xI=Xs(hh)(yI.selectAll),SI=Xs(hh)(yI.selectCurrentRow),EI=Xs(hh)(yI.selectCurrentColumn),kI=Xs(hh)(yI.addOneRowToTop),DI=Xs(hh)(yI.addOneRowToBottom),II=Xs(hh)(yI.addOneColumnToLeft),NI=Xs(hh)(yI.addOneColumnToRight),LI=Xs(hh)(yI.deleteCurrentRow),TI=Xs(hh)(yI.deleteCurrentColumn),BI=Xs(hh)(yI.merge),AI=Xs(hh)(yI.backspace),MI=Xs(hh)(yI.moveBackward),OI=Xs(hh)(yI.moveForward),RI=Xs(hh)(yI.moveUp),PI=Xs(hh)(yI.moveDown),FI=Xs(hh)(yI.expandBackward),HI=Xs(hh)(yI.expandForward),_I=Xs(hh)(yI.expandUp),jI=Xs(hh)(yI.expandDown),WI=e=>{const{value:{clientHeight:t,scrollHeight:n,clientWidth:o,scrollWidth:i},scroller:r}=e,l={borderStyle:"solid",borderWidth:0};!1===e.border&&e.value.indicatorRange&&(l.borderStyle="dashed");let s="unset";return"native"===r?s="auto":(n>t||i>o)&&(s="hidden"),{...hD,width:o,height:t,...e.style,...l,overflow:s}},zI=e=>{const{value:{scrollWidth:t,scrollHeight:n,defaultCell:o},scroller:i}=e,r={...pD,...e.style,...o?.style,width:t,height:n};return"native"===i?r.overflow="hidden":Object.assign(r,ZI(e)),r},VI=e=>{const{value:{scrollWidth:t,scrollHeight:n}}=e;return{...wD,width:t,height:n}};function $I(e){return e.borderTopWidth||e.borderRightWidth||e.borderBottomWidth||e.borderLeftWidth}function ZI(e){const{value:{scrollLeft:t,scrollTop:n},scroller:o}=e;return"native"===o?{}:{transform:`translate3d(-${t}px, -${n}px, 0)`}}const UI=nc(((e,t)=>{const{value:n,onChange:o}=e.current;o(Ud(XI(t))(n))}),32);const qI=e=>t=>(t.scrollHeight=Math.max(e,0),t),YI=e=>t=>(t.scrollWidth=Math.max(e,0),t),KI=e=>t=>(t.clientHeight=Math.max(e,0),t),GI=e=>t=>(t.clientWidth=Math.max(e,0),t),XI=e=>t=>(t.isScrolling=e||void 0,t),JI=(e,t)=>n=>(n.scrollLeft+e<0&&(e=-n.scrollLeft),n.scrollTop+t<0&&(t=-n.scrollTop),n.scrollLeft+e>n.scrollWidth-n.clientWidth&&(e=n.scrollWidth-n.clientWidth-n.scrollLeft),n.scrollTop+t>n.scrollHeight-n.clientHeight&&(t=n.scrollHeight-n.clientHeight-n.scrollTop),n.scrollLeft+=e,n.scrollTop+=t,n.columnStartDiff-=e,n.columnEndDiff-=e,n.rowStartDiff-=t,n.rowEndDiff-=t,n=QI()(n),n=eN()(n)),QI=()=>e=>{let t=lI(e,e.columnStartIndex),n=lI(e,e.columnEndIndex);if(e.columnStartDiff<0)do{const t=e.columnStartIndex+1,n=lI(e,t);e.columnStartIndex=t,e.columnStartDiff+=n}while(e.columnStartDiff<0);else if(e.columnStartDiff>t)do{const n=e.columnStartIndex-1,o=lI(e,e.columnStartIndex);if(-1===n){e.columnStartDiff=o;break}t=o,e.columnStartIndex=n,e.columnStartDiff-=o}while(e.columnStartDiff>t);if(e.columnEndDiff<0)do{const t=e.columnEndIndex+1,n=lI(e,t);e.columnEndIndex=t,e.columnEndDiff+=n}while(e.columnEndDiff<0);else if(e.columnEndDiff>n)do{const t=e.columnEndIndex-1,o=lI(e,e.columnEndIndex);if(-1===t){e.columnEndDiff=o;break}n=o,e.columnEndIndex=t,e.columnEndDiff-=o}while(e.columnEndDiff>n);return e=tN()(e)},eN=()=>e=>{let t=rI(e,e.rowStartIndex),n=rI(e,e.rowEndIndex);if(e.rowStartDiff<0)do{const t=e.rowStartIndex+1,n=rI(e,t);e.rowStartIndex=t,e.rowStartDiff+=n}while(e.rowStartDiff<0);else if(e.rowStartDiff>t)do{const n=e.rowStartIndex-1,o=rI(e,e.rowStartIndex);-1===n&&(e.rowStartDiff=o),t=o,e.rowStartIndex=n,e.rowStartDiff-=o}while(e.rowStartDiff>t);if(e.rowEndDiff<0)do{const t=e.rowEndIndex+1,n=rI(e,t);e.rowEndIndex=t,e.rowEndDiff+=n}while(e.rowEndDiff<0);else if(e.rowEndDiff>n)do{const t=e.rowEndIndex-1,o=rI(e,e.rowEndIndex);-1===t&&(e.rowEndDiff=o),n=o,e.rowEndIndex=t,e.rowEndDiff-=o}while(e.rowEndDiff>n);return e=tN()(e)},tN=()=>e=>{const{columnEndIndex:t,rowEndIndex:n,columnTotalNumber:o,rowTotalNumber:i}=e;return t>o&&(e.columnEndIndex=o),n>i&&(e.rowEndIndex=i),e},nN=(e,t)=>n=>{const o=cI(n,t),i=sI(n,e),r=nI(n,{rowStartIndex:o,rowEndIndex:o+1,columnStartIndex:i,columnEndIndex:i+1}),l={rowIndex:r.rowStartIndex,columnIndex:r.columnStartIndex};return n=iN(r)(n),n=rN(l)(n)},oN=(e,t)=>n=>{const o=cI(n,t),i=sI(n,e),r=n.selectedCoordinates?.rowIndex??0,l=n.selectedCoordinates?.columnIndex??0;return n.indicatorRange=nI(n,{rowStartIndex:Math.min(r,o),rowEndIndex:Math.max(r,o)+1,columnStartIndex:Math.min(l,i),columnEndIndex:Math.max(l,i)+1}),n.indicatorRange.columnEndIndex=Math.min(n.indicatorRange.columnEndIndex,n.columnTotalNumber),n.indicatorRange.rowEndIndex=Math.min(n.indicatorRange.rowEndIndex,n.rowTotalNumber),n},iN=e=>t=>(void 0===t.indicatorRange?t.indicatorRange={...e}:Object.assign(t.indicatorRange,e),t),rN=e=>t=>(void 0===t.selectedCoordinates?t.selectedCoordinates={...e}:Object.assign(t.selectedCoordinates,e),t),lN=(e,t)=>n=>(void 0===n.indicatorRange||(e>0?n.indicatorRange.columnEndIndex=n.columnEndIndex:e<0&&(n.indicatorRange.columnStartIndex=n.columnStartIndex),t>0?n.indicatorRange.rowEndIndex=n.rowEndIndex:t<0&&(n.indicatorRange.rowStartIndex=n.rowStartIndex)),n),sN=e=>t=>(void 0===t.rows&&(t.rows={}),void 0===t.rows[e]&&(t.rows[e]={}),t),cN=(e,t)=>n=>(void 0===(n=sN(e)(n)).rows[e].style&&(n.rows[e].style=t??{}),n),aN=e=>t=>(void 0===t.columns&&(t.columns={}),void 0===t.columns[e]&&(t.columns[e]={}),t),uN=(e,t)=>n=>(void 0===(n=aN(e)(n)).columns[e].style&&(n.columns[e].style=t??{}),n),dN=(e,t)=>n=>{const o=oI(e,t);return void 0===n.cells&&(n.cells={}),void 0===n.cells[o]&&(n.cells[o]={}),n},fN=(e,t,n)=>o=>{o=dN(e,t)(o);const i=oI(e,t);return void 0===o.cells[i].style&&(o.cells[i].style=n??{}),o},hN=()=>e=>(void 0===e.defaultCell&&(e.defaultCell={}),e),pN=e=>t=>(t=(e=>(void 0===e.defaultCell&&(e.defaultCell={}),e))(t),void 0===t.defaultCell?.style&&(t.defaultCell.style=e??{}),t),vN=(e,t)=>n=>{n=cN(t)(n);const o=n.rows?.[t]?.style;if(void 0===o)return n;if(e<0&&(e=0),o.minHeight){const t=parseFloat(String(o.minHeight));e<t&&(e=t)}const i=rI(n,t);o.height=e;const r=e-i;t===n.rowStartIndex&&(n.rowStartDiff+=r),n.scrollHeight>n.clientHeight&&(n.rowEndDiff+=r,n=eN()(n));const l=n.scrollHeight+r;return(n=qI(l)(n)).clientHeight>l&&(n=KI(l)(n)),o.height===n.rowDefaultSize&&delete o.height,n},gN=(e,t)=>n=>{n=uN(t)(n);const o=n.columns?.[t]?.style;if(void 0===o)return n;if(e<0&&(e=0),o.minWidth){const t=parseFloat(String(o.minWidth));e<t&&(e=t)}const i=lI(n,t);o.width=e;const r=e-i;t===n.columnStartIndex&&(n.columnStartDiff+=r),n.scrollWidth>n.clientWidth&&(n.columnEndDiff+=r,n=QI()(n));const l=n.scrollWidth+r;return(n=YI(l)(n)).clientWidth>l&&(n=GI(l)(n)),o.width===n.columnDefaultSize&&delete o.width,n},mN=(e,t)=>n=>{n=cN(t)(n);const o=n.rows?.[t]?.style;return void 0===o||(e<0&&(e=0),o.minHeight=e),n},yN=(e,t)=>n=>{n=uN(t)(n);const o=n.columns?.[t]?.style;return void 0===o||(e<0&&(e=0),o.minWidth=e),n},bN=e=>t=>{if(void 0===t.cells)return t;let n=t.rowDefaultSize;for(const o in t.cells){const{rowIndex:i}=iI(o);if(i===e){const e=t.cells[o],i=e.style?.height;i&&Number(i)>n&&(n=parseFloat(String(i)))}}return t=vN(n,e)(t)},CN=e=>t=>{if(void 0===t.cells)return t;let n=t.columnDefaultSize;for(const o in t.cells){const{columnIndex:i}=iI(o);if(i===e){const e=t.cells[o],i=e.style?.width;i&&Number(i)>n&&(n=parseFloat(String(i)))}}return t=gN(n,e)(t)},wN=e=>t=>(zD(e,{row(e){t.rows?.[e]?.style?.height||(t=bN(e)(t))},column(e){t.columns?.[e]?.style?.width||(t=CN(e)(t))},cell(e,n){t.rows?.[e]?.style?.height||(t=bN(e)(t)),t.columns?.[n]?.style?.width||(t=CN(n)(t))},infinite(){}}),t),xN=(e,t,n)=>o=>{if(e===1/0&&t!==1/0)return o=uN(t)(o),Object.assign(o.columns[t].style,n),o;if(t===1/0&&e!==1/0)return o=cN(e)(o),Object.assign(o.rows[e].style,n),o;if(e===1/0&&t===1/0)return o=pN()(o),Object.assign(o.defaultCell.style,n),o;o=fN(e,t)(o);const i=oI(e,t);return Object.assign(o.cells[i].style,n),SN(e,t)(o)},SN=(e,t)=>n=>{if(e===1/0&&t!==1/0){if(void 0===n.columns)return n;const e=n.columns[t];if(void 0===e)return n;if(void 0===e.style)return n;for(const t in e.style){const o=t;e.style[o]===n.defaultCell?.style?.[o]&&delete e.style[o]}return n}if(t===1/0&&e!==1/0){if(void 0===n.rows)return n;const t=n.rows[e];if(void 0===t)return n;if(void 0===t.style)return n;for(const e in t.style){const o=e;t.style[o]===n.defaultCell?.style?.[o]&&delete t.style[o]}return n}if(e===1/0&&t===1/0)return n;const o=oI(e,t);if(void 0===n.cells)return n;if(void 0===n.cells[o])return n;const i=n.cells[o].style;if(void 0===i)return n;for(const o in i){const r=o;if("height"===r||"width"===r)continue;const l=n.columns?.[t]?.style,s=n.rows?.[e]?.style;i[r]===l?.[r]&&delete i[r],i[r]===s?.[r]&&delete i[r],i[r]===n.defaultCell?.style?.[r]&&delete i[r]}return n},EN=(e,t,n)=>o=>{if(e===1/0&&t!==1/0){if(void 0===o.columns)return o;const e=o.columns[t];if(void 0===e)return o;if(void 0===e.style)return o;for(const t in n)e.style[t]&&delete e.style[t];return o}if(t===1/0&&e!==1/0){if(void 0===o.rows)return o;const t=o.rows[e];if(void 0===t)return o;if(void 0===t.style)return o;for(const e in n)t.style[e]&&delete t.style[e];return o}if(e===1/0&&t===1/0){if(void 0===o.defaultCell?.style)return o;const e=o.defaultCell.style;for(const t in n)e[t]&&delete e[t];return o}const i=oI(e,t);if(void 0===o.cells)return o;if(void 0===o.cells[i])return o;const r=o.cells[i].style;if(void 0===r)return o;for(const e in n)r[e]&&delete r[e];return o},kN=e=>t=>{if(void 0!==t.rows)for(const n in t.rows)t=EN(Number(n),1/0,e)(t);if(void 0!==t.columns)for(const n in t.columns)t=EN(1/0,Number(n),e)(t);if(void 0!==t.cells)for(const n in t.cells){const{rowIndex:o,columnIndex:i}=iI(n);t=EN(o,i,e)(t)}return t},DN=()=>e=>{e.columnEndIndex=e.columnStartIndex;let t=e.columnStartDiff-lI(e,e.columnStartIndex);for(;t<e.clientWidth;)t+=lI(e,e.columnEndIndex++);return e.columnEndDiff=t-e.clientWidth,e},IN=()=>e=>{e.rowEndIndex=e.rowStartIndex;let t=e.rowStartDiff-rI(e,e.rowStartIndex);for(;t<e.clientHeight;)t+=rI(e,e.rowEndIndex++);return e.rowEndDiff=t-e.clientHeight,e},NN=()=>e=>(e.indicatorRange={rowStartIndex:0,rowEndIndex:1/0,columnStartIndex:0,columnEndIndex:1/0},e.selectedCoordinates={rowIndex:e.selectedCoordinates?.rowIndex??0,columnIndex:e.selectedCoordinates?.columnIndex??0},e),LN=(e,t)=>n=>(n.indicatorRange={rowStartIndex:e,rowEndIndex:t,columnStartIndex:0,columnEndIndex:1/0},n.selectedCoordinates={rowIndex:e,columnIndex:n.selectedCoordinates?.columnIndex??0},n),TN=(e,t)=>n=>(n.indicatorRange={rowStartIndex:0,rowEndIndex:1/0,columnStartIndex:e,columnEndIndex:t},n.selectedCoordinates={rowIndex:n.selectedCoordinates?.rowIndex??0,columnIndex:e},n),BN=(e,t,n=1)=>o=>{const{moveCell:i}=e;if(o.rowEndIndex+=n,o.rowTotalNumber+=n,o.scrollHeight+=o.rowDefaultSize*n,o.rows){const e=Object.keys(o.rows);for(let i=e.length-1;i>=0;i--){const r=Number(e[i]);if(r>=t){const e=o.rows[r];if(e.merge){const t=eI(e.merge);t.rowStartIndex+=n,t.rowEndIndex+=n,e.merge=QD(t)}o.rows[r+n]=e,delete o.rows[r]}}}if(o.cells){const e=Object.keys(o.cells).sort(((e,t)=>iI(e).rowIndex-iI(t).rowIndex));for(let r=e.length-1;r>=0;r--){const l=iI(e[r]);if(l.rowIndex>=t){const t=oI(l.rowIndex+n,l.columnIndex),s=o.cells[e[r]];if(s.merge){const e=eI(s.merge);e.rowStartIndex+=n,e.rowEndIndex+=n,s.merge=QD(e)}const c=o.cells[t];i?.(s,c),o.cells[t]=s,delete o.cells[e[r]]}}}if(o.indicatorRange){const{rowStartIndex:e,rowEndIndex:i}=o.indicatorRange;t<=e&&i!==1/0&&(o.indicatorRange.rowStartIndex+=n,o.indicatorRange.rowEndIndex+=n)}if(o.selectedCoordinates){const{rowIndex:e}=o.selectedCoordinates;t<=e&&(o.selectedCoordinates.rowIndex+=n)}return IN()(o)},AN=(e,t,n=1)=>o=>{const{moveCell:i}=e;if(o.columnEndIndex+=n,o.columnTotalNumber+=n,o.scrollWidth+=o.columnDefaultSize*n,o.columns){const e=Object.keys(o.columns);for(let i=e.length-1;i>=0;i--){const r=Number(e[i]);if(r>=t){const e=o.columns[r];if(e.merge){const t=eI(e.merge);t.columnStartIndex+=n,t.columnEndIndex+=n,e.merge=QD(t)}o.columns[r+n]=e,delete o.columns[r]}}}if(o.cells){const e=Object.keys(o.cells).sort(((e,t)=>iI(e).columnIndex-iI(t).columnIndex));for(let r=e.length-1;r>=0;r--){const l=iI(e[r]);if(l.columnIndex>=t){const t=oI(l.rowIndex,l.columnIndex+n),s=o.cells[e[r]];if(s.merge){const e=eI(s.merge);e.columnStartIndex+=n,e.columnEndIndex+=n,s.merge=QD(e)}const c=o.cells[t];i?.(s,c),o.cells[t]=s,delete o.cells[e[r]]}}}if(o.indicatorRange){const{columnStartIndex:e,columnEndIndex:i}=o.indicatorRange;t<=e&&i!==1/0&&(o.indicatorRange.columnStartIndex+=n,o.indicatorRange.columnEndIndex+=n)}if(o.selectedCoordinates){const{columnIndex:e}=o.selectedCoordinates;t<=e&&(o.selectedCoordinates.columnIndex+=n)}return DN()(o)},MN=(e,t,n)=>o=>{const{deleteCell:i}=e,r=n-t;if(r===1/0)return o.rowStartIndex=0,o.rowEndIndex=0,o.scrollHeight=0,delete o.rows,o;const l=rI(o,t,n),s=o.scrollHeight-o.scrollTop-o.clientHeight;if(o.scrollTop>0&&s-l<0&&o.scrollHeight>o.clientHeight)return o=JI(0,s-l)(o),o=MN(e,t,n)(o);if(o.rowEndIndex-=r,o.rowTotalNumber-=r,o.scrollHeight-=l,o.scrollHeight<o.clientHeight&&(o.clientHeight=o.scrollHeight),o.rows){const e=Object.keys(o.rows);for(let i=0;i<e.length;i++){const l=Number(e[i]);if(l>=t&&l<n)delete o.rows[l];else if(l>=n){const e=o.rows[l];if(e.merge){const t=eI(e.merge);t.rowStartIndex-=r,t.rowEndIndex-=r,e.merge=QD(t)}o.rows[l-r]=e,delete o.rows[l]}}}if(o.cells){const e=Object.keys(o.cells).sort(((e,t)=>iI(e).rowIndex-iI(t).rowIndex));for(let l=0;l<e.length;l++){const{rowIndex:s,columnIndex:c}=iI(e[l]);if(s>=t&&s<n)i?.(o.cells[e[l]]),delete o.cells[e[l]];else if(s>=n){const t=oI(s-r,c),n=o.cells[e[l]];if(n.merge){const e=eI(n.merge);e.rowStartIndex-=r,e.rowEndIndex-=r,n.merge=QD(e)}o.cells[t]=n,i?.(n),delete o.cells[e[l]]}}}return void 0!==o.indicatorRange&&(o.indicatorRange.rowEndIndex>o.rowEndIndex&&(o.indicatorRange.rowEndIndex=o.rowEndIndex),o.indicatorRange.rowStartIndex>=o.indicatorRange.rowEndIndex&&(o.indicatorRange.rowStartIndex=Math.max(0,o.rowEndIndex-1))),void 0!==o.selectedCoordinates&&o.selectedCoordinates.rowIndex>=o.rowEndIndex&&(o.selectedCoordinates.rowIndex=Math.max(0,o.rowEndIndex-1)),IN()(o)},ON=(e,t,n)=>o=>{const{deleteCell:i}=e,r=n-t;if(r===1/0)return o.columnStartIndex=0,o.columnEndIndex=0,o.scrollWidth=0,delete o.columns,o;const l=lI(o,t,n),s=o.scrollWidth-o.scrollLeft-o.clientWidth;if(o.scrollLeft>0&&s-l<0&&o.scrollWidth>o.clientWidth)return o=JI(s-l,0)(o),o=ON(e,t,n)(o);if(o.columnEndIndex-=r,o.columnTotalNumber-=r,o.scrollWidth-=l,o.scrollWidth<o.clientWidth&&(o.clientWidth=o.scrollWidth),o.columns){const e=Object.keys(o.columns);for(let i=0;i<e.length;i++){const l=Number(e[i]);if(l>=t&&l<n)delete o.columns[l];else if(l>=n){const e=o.columns[l];if(e.merge){const t=eI(e.merge);t.columnStartIndex-=r,t.columnEndIndex-=r,e.merge=QD(t)}o.columns[l-r]=e,delete o.columns[l]}}}if(o.cells){const e=Object.keys(o.cells).sort(((e,t)=>iI(e).columnIndex-iI(t).columnIndex));for(let l=0;l<e.length;l++){const{columnIndex:s,rowIndex:c}=iI(e[l]);if(s>=t&&s<n)i?.(o.cells[e[l]]),delete o.cells[e[l]];else if(s>=n){const t=oI(c,s-r),n=o.cells[e[l]];if(n.merge){const e=eI(n.merge);e.columnStartIndex-=r,e.columnEndIndex-=r,n.merge=QD(e)}o.cells[t]=n,i?.(n),delete o.cells[e[l]]}}}return void 0!==o.indicatorRange&&(o.indicatorRange.columnEndIndex>o.columnEndIndex&&(o.indicatorRange.columnEndIndex=o.columnEndIndex),o.indicatorRange.columnStartIndex>=o.indicatorRange.columnEndIndex&&(o.indicatorRange.columnStartIndex=Math.max(0,o.columnEndIndex-1))),void 0!==o.selectedCoordinates&&o.selectedCoordinates.columnIndex>=o.columnEndIndex&&(o.selectedCoordinates.columnIndex=Math.max(0,o.columnEndIndex-1)),DN()(o)},RN=(e,t,n)=>o=>{if(void 0===(o=dN(e,t)(o)).cells)return o;const i=oI(e,t),r=o.cells[i];return r?Object.assign(r,n):o.cells[i]=n,o},PN=(e,t,n)=>o=>{const i=oI(e,t),r=o?.cells?.[i];if(void 0===r)return o;for(let e in n)delete r[e];return o},FN=(e,t)=>n=>{if(void 0===(n=sN(e)(n)).rows)return n;const o=n.rows[e];return o?Object.assign(o,t):n.rows[e]=t,n},HN=(e,t)=>n=>{const o=n?.rows?.[e];if(void 0===o)return n;for(let e in t)delete o[e];return n},_N=(e,t)=>n=>{if(void 0===(n=aN(e)(n)).columns)return n;const o=n.columns[e];return o?Object.assign(o,t):n.columns[e]=t,n},jN=(e,t)=>n=>{const o=n?.columns?.[e];if(void 0===o)return n;for(let e in t)delete o[e];return n},WN=e=>t=>(void 0===(t=(e=>(void 0===e.defaultCell&&(e.defaultCell={}),e))(t)).defaultCell||Object.assign(t.defaultCell,e),t),zN=e=>t=>{if(void 0===t.defaultCell)return t;for(let n in e)delete t.defaultCell[n];return t},VN=e=>t=>(void 0===t.indicatorRange||zD(t.indicatorRange,{row(n){t=FN(n,e)(t)},column(n){t=_N(n,e)(t)},cell(n,o){t=RN(n,o,e)(t)},infinite(){t=WN(e)(t)}}),t),$N=e=>t=>(void 0===t.indicatorRange||zD(t.indicatorRange,{row(n){t=HN(n,e)(t)},column(n){t=jN(n,e)(t)},cell(n,o){t=PN(n,o,e)(t)},infinite(){t=zN(e)(t)}}),t),ZN=e=>t=>{if(void 0===e)return t;return JD(t,e)?qN(e)(t):UN(e)(t)},UN=e=>t=>{if(void 0===e)return t;if(KD(e))return t;const n=QD(e);t=VN({merge:n})(t);const{rowStartIndex:o,columnStartIndex:i}=e;return t.selectedCoordinates={rowIndex:o,columnIndex:i},t},qN=e=>t=>{if(void 0===e)return t;const n=QD(e);t=$N({merge:n})(t);const{rowStartIndex:o,columnStartIndex:i}=e;return t.selectedCoordinates={rowIndex:o,columnIndex:i},t},YN=(e,t)=>n=>{if(!t||!n.cells)return n;const{deleteCell:o}=e;function i(e,t){const i=oI(e,t),r=n.cells?.[i];r&&(o?.(r),delete n.cells[i])}return zD(t,{cell(e,t){i(e,t)},row(e){for(const t in n.cells){const n=iI(t);n.rowIndex===e&&i(n.rowIndex,n.columnIndex)}},column(e){for(const t in n.cells){const n=iI(t);n.columnIndex===e&&i(n.rowIndex,n.columnIndex)}},infinite(){for(const e in n.cells){const t=iI(e);i(t.rowIndex,t.columnIndex)}}}),Pc(n.cells)&&delete n.cells,n},KN=(e,t)=>n=>{if(!n.indicatorRange||!n.cells)return n;const{moveCell:o}=e,{rowStartIndex:i,rowEndIndex:r,columnStartIndex:l,columnEndIndex:s}=n.indicatorRange,c=t.rowStartIndex-i,a=t.columnStartIndex-l;function u(e,t){if(!n.cells)return;const i=oI(e,t),r=n.cells[i],l=oI(e+c,t+a),s=n.cells[l];if(s?.merge){const e=s.merge,t={merge:e};zD(eI(e),{row(e){n=HN(e,t)(n)},column(e){n=jN(e,t)(n)},cell(e,o){n=PN(e,o,t)(n)},infinite(){n=zN(t)(n)}})}if(!n.cells)return;const u=o?.(r,s);if(delete n.cells[i],delete n.cells[l],r&&(n.cells[l]=u??r,r.merge)){const e=eI(r.merge),t=QD({rowStartIndex:e.rowStartIndex+c,rowEndIndex:e.rowEndIndex+c,columnStartIndex:e.columnStartIndex+a,columnEndIndex:e.columnEndIndex+a});n.cells[l].merge=t}}function d(e){if(n.rows?.[e]){const t=e+c,o=n.rows[e];if(delete n.rows[e],delete n.rows[t],o&&(n.rows[t]=o,o.merge)){const e=eI(o.merge),i=QD({rowStartIndex:e.rowStartIndex+c,rowEndIndex:e.rowEndIndex+c,columnStartIndex:e.columnStartIndex+a,columnEndIndex:e.columnEndIndex+a});n.rows[t].merge=i}}for(const t in n.cells){const{rowIndex:n,columnIndex:o}=iI(t);n===e&&u(n,o)}}function f(e){if(n.columns?.[e]){const t=e+a,o=n.columns[e];if(delete n.columns[e],delete n.columns[t],o&&(n.columns[t]=o,o.merge)){const e=eI(o.merge),i=QD({rowStartIndex:e.rowStartIndex+c,rowEndIndex:e.rowEndIndex+c,columnStartIndex:e.columnStartIndex+a,columnEndIndex:e.columnEndIndex+a});n.columns[t].merge=i}}for(const t in n.cells){const{rowIndex:n,columnIndex:o}=iI(t);o===e&&u(n,o)}}if(r!==1/0&&s!==1/0){if(c>=0&&a>=0)for(let e=r-1;e>=i;e--)for(let t=s-1;t>=l;t--)u(e,t);else if(c>=0&&a<=0)for(let e=r-1;e>=i;e--)for(let t=l;t<s;t++)u(e,t);else if(c<=0&&a>=0)for(let e=i;e<r;e++)for(let t=s-1;t>=l;t--)u(e,t);else if(c<=0&&a<=0)for(let e=i;e<r;e++)for(let t=l;t<s;t++)u(e,t)}else if(r!==1/0&&s===1/0){if(c>=0)for(let e=r-1;e>=i;e--)d(e);else if(c<=0)for(let e=i;e<r;e++)d(e)}else if(r===1/0&&s!==1/0)if(a>=0)for(let e=s-1;e>=l;e--)f(e);else if(a<=0)for(let e=l;e<s;e++)f(e);return n=wN(n.indicatorRange)(n),n=wN(t)(n)},GN=(e,t)=>n=>{if(!n.indicatorRange||!n.cells)return n;const{cloneCell:o,deleteCell:i}=e,{rowStartIndex:r,rowEndIndex:l,columnStartIndex:s,columnEndIndex:c}=n.indicatorRange;if(r===t.rowStartIndex&&l===t.rowEndIndex){if(s===t.columnStartIndex){if(c<t.columnEndIndex){const e=c-s;for(let a=c;a<t.columnEndIndex;a++){const t=s+(a-c)%e;if(l!==1/0)for(let s=r;s<l;s++){const r=oI(s,t),l=oI(s,a),c=n.cells[r];if(c&&(i?.(n.cells[l]),n.cells[l]=o?.(c,l)||ps(c),c.merge)){const t=eI(c.merge),o=QD({rowStartIndex:t.rowStartIndex,rowEndIndex:t.rowEndIndex,columnStartIndex:t.columnStartIndex+e,columnEndIndex:t.columnEndIndex+e});n.cells[l].merge=o}}else{const e=Object.keys(n.cells);let r=0;for(;r<e.length;){const l=e[r],{rowIndex:s,columnIndex:c}=iI(l);if(c===t){const e=oI(s,a);let t=n.cells[l];t&&(i?.(n.cells[e]),n.cells[e]=o?.(t,e)||ps(t))}r++}}}}else if(c>t.columnEndIndex)for(let e=t.columnEndIndex;e<c;e++)if(l!==1/0)for(let t=r;t<l;t++){const o=oI(t,e);i?.(n.cells[o]),delete n.cells[o]}else{const t=Object.keys(n.cells);let o=0;for(;o<t.length;){const r=t[o],{columnIndex:l}=iI(r);l===e&&(i?.(n.cells[r]),delete n.cells[r]),o++}}}else if(c===t.columnEndIndex)if(s<t.columnStartIndex)for(let e=s;e<t.columnStartIndex;e++)if(l!==1/0)for(let t=r;t<l;t++){const o=oI(t,e);i?.(n.cells[o]),delete n.cells[o]}else{const t=Object.keys(n.cells);let o=0;for(;o<t.length;){const r=t[o],{columnIndex:l}=iI(r);l===e&&(i?.(n.cells[r]),delete n.cells[r]),o++}}else if(s>t.columnStartIndex){const e=c-s;for(let a=s-1;a>=t.columnStartIndex;a--){const t=c-1-(s-1-a)%e;if(l!==1/0)for(let s=r;s<l;s++){const r=oI(s,t),l=oI(s,a),c=n.cells[r];if(c&&(i?.(n.cells[l]),n.cells[l]=o?.(c,l)||ps(c),c.merge)){const t=eI(c.merge),o=QD({rowStartIndex:t.rowStartIndex,rowEndIndex:t.rowEndIndex,columnStartIndex:t.columnStartIndex-e,columnEndIndex:t.columnEndIndex-e});n.cells[l].merge=o}}else{const e=Object.keys(n.cells);let r=0;for(;r<e.length;){const l=e[r],{rowIndex:s,columnIndex:c}=iI(l);if(c===t){const e=oI(s,a);let t=n.cells[l];t&&(i?.(n.cells[e]),n.cells[e]=o?.(t,e)||ps(t))}r++}}}}}else if(s===t.columnStartIndex&&c===t.columnEndIndex)if(r===t.rowStartIndex){if(l<t.rowEndIndex){const e=l-r;for(let a=l;a<t.rowEndIndex;a++){const t=r+(a-l)%e;if(c!==1/0)for(let r=s;r<c;r++){const l=oI(t,r),s=oI(a,r),c=n.cells[l];if(c&&(i?.(n.cells[s]),n.cells[s]=o?.(c,s)||ps(c),c.merge)){const t=eI(c.merge),o=QD({rowStartIndex:t.rowStartIndex+e,rowEndIndex:t.rowEndIndex+e,columnStartIndex:t.columnStartIndex,columnEndIndex:t.columnEndIndex});n.cells[s].merge=o}}else{const e=Object.keys(n.cells);let r=0;for(;r<e.length;){const l=e[r],{rowIndex:s,columnIndex:c}=iI(l);if(s===t){const e=oI(a,c);let t=n.cells[l];t&&(i?.(n.cells[e]),n.cells[e]=o?.(t,e)||ps(t))}r++}}}}else if(l>t.rowEndIndex)for(let e=t.rowEndIndex;e<l;e++)if(c!==1/0)for(let t=s;t<c;t++){const o=oI(e,t);i?.(n.cells[o]),delete n.cells[o]}else{const t=Object.keys(n.cells);let o=0;for(;o<t.length;){const r=t[o],{rowIndex:l}=iI(r);l===e&&(i?.(n.cells[r]),delete n.cells[r]),o++}}}else if(l===t.rowEndIndex)if(r<t.rowStartIndex)for(let e=r;e<t.rowStartIndex;e++)if(c!==1/0)for(let t=s;t<c;t++){const o=oI(e,t);i?.(n.cells[o]),delete n.cells[o]}else{const t=Object.keys(n.cells);let o=0;for(;o<t.length;){const r=t[o],{rowIndex:l}=iI(r);l===e&&(i?.(n.cells[r]),delete n.cells[r]),o++}}else if(r>t.rowStartIndex){const e=l-r;for(let a=r-1;a>=t.rowStartIndex;a--){const t=l-1-(r-1-a)%e;if(c!==1/0)for(let r=s;r<c;r++){const l=oI(t,r),s=oI(a,r),c=n.cells[l];if(c&&(i?.(n.cells[s]),n.cells[s]=o?.(c,s)||ps(c),c.merge)){const t=eI(c.merge),o=QD({rowStartIndex:t.rowStartIndex-e,rowEndIndex:t.rowEndIndex-e,columnStartIndex:t.columnStartIndex,columnEndIndex:t.columnEndIndex});n.cells[s].merge=o}}else{const e=Object.keys(n.cells);let r=0;for(;r<e.length;){const l=e[r],{rowIndex:s,columnIndex:c}=iI(l);if(s===t){const e=oI(a,c);let t=n.cells[l];t&&(i?.(n.cells[e]),n.cells[e]=o?.(t,e)||ps(t))}r++}}}}return n=wN(n.indicatorRange)(n),n=wN(t)(n)},XN=e=>t=>(void 0===t.contextMenu&&(t.contextMenu={}),t.contextMenu.visible=e,t),JN=e=>t=>(void 0===t.contextMenu&&(t.contextMenu={}),t.contextMenu.rect=e,t),QN=()=>e=>{if(!e.selectedCoordinates||!e.indicatorRange)return e;let{columnIndex:t,rowIndex:n}=e.selectedCoordinates;if(t<=0)return e;if(t--,e.columnStartIndex===t){const n=lI(e,t);e=JI(e.columnStartDiff-n,0)(e)}else if(e.columnStartIndex>t){const n=uI(e,t);e=JI(n-e.scrollLeft,0)(e)}let o={rowStartIndex:n,rowEndIndex:n+1,columnStartIndex:t,columnEndIndex:t+1};const i=oI(n,t),r=e.cells?.[i]?.merge;return r&&(o=eI(r)),e.selectedCoordinates={columnIndex:o.columnStartIndex,rowIndex:o.rowStartIndex},e.indicatorRange=o,e},eL=()=>e=>{if(!e.selectedCoordinates||!e.indicatorRange)return e;let{columnIndex:t,rowIndex:n}=e.selectedCoordinates;const o=oI(n,t),i=e.cells?.[o]?.merge;if(i){t=eI(i).columnEndIndex}else t++;if(t===e.columnEndIndex-1)e=JI(e.columnEndDiff,0)(e);else if(t>e.columnEndIndex-1){const{scrollLeft:n,clientWidth:o}=e,i=uI(e,t),r=lI(e,t);e=JI(i+r-o-n,0)(e)}let r={rowStartIndex:n,rowEndIndex:n+1,columnStartIndex:t,columnEndIndex:t+1};const l=oI(n,t),s=e.cells?.[l]?.merge;return s&&(r=eI(s)),e.selectedCoordinates={columnIndex:r.columnStartIndex,rowIndex:r.rowStartIndex},e.indicatorRange=r,e},tL=()=>e=>{if(!e.selectedCoordinates||!e.indicatorRange)return e;let{columnIndex:t,rowIndex:n}=e.selectedCoordinates;const o=oI(n,t),i=e.cells?.[o]?.merge;if(i){n=eI(i).rowEndIndex}else n++;if(n===e.rowEndIndex-1)e=JI(0,e.rowEndDiff)(e);else if(n>e.rowEndIndex-1){const{scrollTop:t,clientHeight:o}=e,i=aI(e,n),r=rI(e,n);e=JI(0,i+r-o-t)(e)}let r={rowStartIndex:n,rowEndIndex:n+1,columnStartIndex:t,columnEndIndex:t+1};const l=oI(n,t),s=e.cells?.[l]?.merge;return s&&(r=eI(s)),e.selectedCoordinates={columnIndex:r.columnStartIndex,rowIndex:r.rowStartIndex},e.indicatorRange=r,e},nL=()=>e=>{if(!e.selectedCoordinates||!e.indicatorRange)return e;let{columnIndex:t,rowIndex:n}=e.selectedCoordinates;if(n<=0)return e;if(n--,e.rowStartIndex===n){const t=lI(e,n);e=JI(0,e.rowStartDiff-t)(e)}else if(e.rowStartIndex>n){const t=aI(e,n);e=JI(0,t-e.scrollTop)(e)}let o={rowStartIndex:n,rowEndIndex:n+1,columnStartIndex:t,columnEndIndex:t+1};const i=oI(n,t),r=e.cells?.[i]?.merge;return r&&(o=eI(r)),e.selectedCoordinates={columnIndex:o.columnStartIndex,rowIndex:o.rowStartIndex},e.indicatorRange=o,e},oL=()=>e=>{if(!e.indicatorRange)return e;const t=ps(e.indicatorRange);if(t.columnStartIndex<=0)return e;if(t.columnStartIndex--,e.columnStartIndex===t.columnStartIndex){const n=lI(e,t.columnStartIndex);e=JI(e.columnStartDiff-n,0)(e)}else if(e.columnStartIndex>t.columnStartIndex){const n=uI(e,t.columnStartIndex);e=JI(n-e.scrollLeft,0)(e)}return e.indicatorRange=nI(e,t),e},iL=()=>e=>{if(!e.indicatorRange)return e;const t=ps(e.indicatorRange);if(t.columnEndIndex===e.columnEndIndex-1)e=JI(e.columnEndDiff,0)(e);else if(t.columnEndIndex>e.columnEndIndex-1){const{scrollLeft:n,clientWidth:o}=e,i=uI(e,t.columnEndIndex),r=lI(e,t.columnEndIndex);e=JI(i+r-o-n,0)(e)}return t.columnEndIndex<e.columnEndIndex&&t.columnEndIndex++,e.indicatorRange=nI(e,t),e},rL=()=>e=>{if(!e.indicatorRange)return e;const t=ps(e.indicatorRange);if(t.rowEndIndex===e.rowEndIndex-1)e=JI(e.rowEndDiff,0)(e);else if(t.rowEndIndex>e.rowEndIndex-1){const{scrollTop:n,clientHeight:o}=e,i=aI(e,t.rowEndIndex),r=rI(e,t.rowEndIndex);e=JI(0,i+r-o-n)(e)}return t.rowEndIndex<e.rowEndIndex&&t.rowEndIndex++,e.indicatorRange=nI(e,t),e},lL=()=>e=>{if(!e.indicatorRange)return e;const t=ps(e.indicatorRange);if(t.rowStartIndex<=0)return e;if(t.rowStartIndex--,e.rowStartIndex===t.rowStartIndex){const n=lI(e,t.rowStartIndex);e=JI(e.rowStartDiff-n-.1,0)(e)}else if(e.rowStartIndex>t.rowStartIndex){const n=aI(e,t.rowStartIndex);e=JI(0,n-e.scrollTop)(e)}return e.indicatorRange=nI(e,t),e},sL=e=>t=>(t.isEditPending=e||void 0,t),cL=(e,t,n,o,i)=>r=>{if(void 0===i.indicatorRange)return r;const{indicatorRange:{rowStartIndex:l,rowEndIndex:s,columnStartIndex:c,columnEndIndex:a},rowTotalNumber:u,columnTotalNumber:d}=i,f={...i.indicatorRange},h=cI(i,o),p=sI(i,n),v=(e=0)=>{if(0===e){const t=s-1-(l-1-h)%(s-l);zD(f,{cell(n,o){if(n===t){const t=oI(n,o),r=i.cells?.[t];if(r?.merge){const t=eI(r.merge);if(t.rowEndIndex-1===n){const n=t.rowStartIndex-t.rowEndIndex+1;n<e&&(e=n)}}}}})}h+e>=0&&(f.rowStartIndex=h+e)},g=(e=0)=>{if(0===e){const t=a-1-(c-1-p)%(a-c);zD(f,{cell(n,o){if(o===t){const t=oI(n,o),r=i.cells?.[t];if(r?.merge){const t=eI(r.merge);if(t.columnEndIndex-1===o){const n=t.columnStartIndex-t.columnEndIndex+1;n<e&&(e=n)}}}}})}p+e>=0&&(f.columnStartIndex=p+e)},m=(e=0)=>{if(e>0){const t=l+(h-s)%(s-l);zD(f,{cell(n,o){if(n===t){const t=oI(n,o),r=i.cells?.[t];if(r?.merge){const t=eI(r.merge);if(t.rowStartIndex===n){const n=t.rowEndIndex-t.rowStartIndex;n>e&&(e=n)}}}}})}h+e<=u&&(f.rowEndIndex=h+e)},y=(e=0)=>{if(e>0){const t=c+(p-a)%(a-c);zD(f,{cell(n,o){if(o===t){const t=oI(n,o),r=i.cells?.[t];if(r?.merge){const t=eI(r.merge);if(t.columnStartIndex===o){const n=t.columnEndIndex-t.columnStartIndex;n>e&&(e=n)}}}}})}p+e<=d&&(f.columnEndIndex=p+e)};if(p>=c&&p<a&&h>=l&&h<s){if(e-n>=t-o){if(p>c){let t=0;e-n<=15&&t++,0===t&&zD(f,{cell(e,n){if(n===p){const o=oI(e,n),r=i.cells?.[o];if(r?.merge){const e=eI(r.merge);if(e.columnEndIndex-1===n){const n=e.columnStartIndex-e.columnEndIndex+1;n<t&&(t=n)}}}}}),p+t>f.columnStartIndex&&(f.columnEndIndex=p+t)}}else if(h>l){let e=0;t-o<=15&&e++,0===e&&zD(f,{cell(t,n){if(t===h){const o=oI(t,n),r=i.cells?.[o];if(r?.merge){const n=eI(r.merge);if(n.rowEndIndex-1===t){const t=n.rowStartIndex-n.rowEndIndex+1;t<e&&(e=t)}}}}}),h+e>f.rowStartIndex&&(f.rowEndIndex=h+e)}}else if(p>=c&&p<a){if(h+1>=s){let e=1;o-t<=15&&e--,m(e)}else if(h<=l){let e=0;t-o<=15&&e++,v(e)}}else if(h>=l&&h<s){if(p+1>=a){let t=1;n-e<=15&&t--,y(t)}else if(p<c){let t=0;e-n<=15&&t++,g(t)}}else if(p>=a&&h>=s)n-e>=o-t?y(1):m(1);else if(p>=a&&h<l){const{height:r}=mI(i,f);n-e>=t-r-o?y(1):v(0)}else if(p<c&&h>=s){const{width:r}=mI(i,f);e-r-n>=o-t?g(0):m(1)}else if(p<c&&h<l){const{height:r,width:l}=mI(i,f);e-l-n>=t-r-o?g(0):v(0)}return uL(f)(r)},aL=(e,t,n,o,i)=>r=>{if(void 0===i.indicatorRange)return r;const{rowStartIndex:l,rowEndIndex:s,columnStartIndex:c,columnEndIndex:a}=i.indicatorRange;let u=0;a!==1/0&&(u=Math.min(i.columnEndIndex-a,Math.max(n-e,-c)));let d=0;s!==1/0&&(d=Math.min(i.rowEndIndex-s,Math.max(o-t,-l)));const f={rowStartIndex:l+d,rowEndIndex:s+d,columnStartIndex:c+u,columnEndIndex:a+u};if(void 0!==i.selectedCoordinates){const{columnIndex:e,rowIndex:t}=i.selectedCoordinates;r=dL({columnIndex:e+u,rowIndex:t+d})(r)}return uL(f)(r)},uL=e=>t=>(void 0===t.indicator&&(t.indicator={}),t.indicator.previewIndicatorRange=e,t),dL=e=>t=>(void 0===t.indicator&&(t.indicator={}),t.indicator.previewSelectedCoordinates=e,t),fL=e=>t=>(void 0===t.indicator&&(t.indicator={}),t.indicator.drag=e,t),hL=e=>t=>(void 0===t.indicator&&(t.indicator={}),t.indicator.anchor=e,t),pL=e=>t=>(t.resize.row=e,t),vL=e=>t=>(t.resize.rowIndex=e,t),gL=e=>t=>(t.resize.column=e,t),mL=e=>t=>(t.resize.columnIndex=e,t),yL=e=>t=>(t.scrollBar.visible=e,t);function bL(e,t){const n=_d(e),o=_((e=>{const o=t.grid.current?.getBoundingClientRect();let{clientX:i,clientY:r}=e;return void 0!==o&&(i-=o.left,r-=o.top),n.current.mini,{clientX:i,clientY:r}}),[n,t.grid]),i=CL(e,o),r=function(e,t){const n=R(cD),o=_d(e),i=Wd("touchstart");return F((()=>{let e,r,l,s=!1;const c=i.subscribe((t=>{t.stopPropagation(),s=!1;const n=t.target;e=Nu(n,"touchmove"),r=Nu(n,"touchend"),l=Nu(n,"touchcancel")})),a=i.pipe(mv((t=>Tu(150).pipe(yv(e)).pipe(yv(r)).pipe(yv(l)).pipe(iv((()=>t)))))).pipe(mv((i=>{const c=i.touches[0],{value:a,onResizeStart:u}=o.current,d=c.clientX,{clientX:f}=t(c),h=sI(a,f,8)-1,p=lI(a,h),v=a.scrollWidth-a.scrollLeft-a.clientWidth;return s=!0,u?.(),n(gL(!0),mL(h)),e.pipe(yv(r)).pipe(yv(l)).pipe(iv((e=>{e.preventDefault();const t=e.touches[0],n=Math.ceil(t.clientX-d),o=a.scrollWidth+n,i=a.clientWidth+Math.min(0,v+n);return{size:p+n,index:h,scrollWidth:o,clientWidth:i}})))}))).subscribe((({size:e,index:t,scrollWidth:n,clientWidth:i})=>{const{value:r,onChange:l}=o.current;l(Ud(...[yN(e,t),gN(e,t),GI(i),YI(n),sL(!0)])(r))})),u=i.pipe(mv((e=>Au(r,l)))).pipe(pv((()=>s))).subscribe((e=>{s=!1,n(gL(!1),mL(-1))}));return()=>{c.unsubscribe(),a.unsubscribe(),u.unsubscribe(),e=null,r=null,l=null}}),[n,o,t,i]),zd([i])}(e,o);return{row:i,column:r}}function CL(e,t){const n=R(cD),o=_d(e),i=Wd("touchstart");return F((()=>{let e,r,l,s=!1;const c=i.subscribe((t=>{t.stopPropagation(),s=!1;const n=t.target;e=Nu(n,"touchmove"),r=Nu(n,"touchend"),l=Nu(n,"touchcancel")})),a=i.pipe(mv((t=>Tu(150).pipe(yv(e)).pipe(yv(r)).pipe(yv(l)).pipe(iv((()=>t)))))).pipe(mv((i=>{const c=i.touches[0],a=c.clientY,{value:u,onResizeStart:d}=o.current,{clientY:f}=t(c),h=cI(u,f,8)-1,p=rI(u,h),v=u.scrollHeight-u.scrollTop-u.clientHeight;return s=!0,d?.(),n(pL(!0),vL(h)),e.pipe(yv(r)).pipe(yv(l)).pipe(iv((e=>{e.preventDefault();const t=e.touches[0],n=Math.ceil(t.clientY-a),o=u.scrollHeight+n,i=u.clientHeight+Math.min(0,v+n);return{size:p+n,index:h,clientHeight:i,scrollHeight:o}})))}))).subscribe((({size:e,index:t,scrollHeight:n,clientHeight:i})=>{const{onChange:r,value:l}=o.current;r(Ud(...[mN(e,t),vN(e,t),KI(i),qI(n),sL(!0)])(l))})),u=i.pipe(mv((e=>Au(r,l)))).pipe(pv((()=>s))).subscribe((e=>{s=!1,n(pL(!1),vL(-1))}));return()=>{c.unsubscribe(),a.unsubscribe(),u.unsubscribe(),e=null,r=null,l=null}}),[n,o,t,i]),zd([i])}function wL(e){const t=_d(e),n=Wd("keydown");F((()=>{const e=e=>{t.current.focusing&&$d(n.listener,t.current.onKeyDown)(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t,n]),F((()=>{const e=n.subscribe((e=>{const n=t.current,{value:o,onChange:i,editable:r,focusing:l}=n;if(void 0===o.indicatorRange)return;const{rowStartIndex:s,rowEndIndex:c,columnStartIndex:a,columnEndIndex:u}=o.indicatorRange,d=[];CI(e)?n.onCopy?.(o):xI(e)?d.push(NN()):SI(e)?d.push(LN(s,c)):EI(e)?d.push(TN(a,u)):MI(e)?d.push(QN()):OI(e)?d.push(eL()):RI(e)?d.push(nL()):PI(e)?d.push(tL()):FI(e)?d.push(oL()):HI(e)?d.push(iL()):_I(e)?d.push(lL()):jI(e)&&d.push(rL()),!1!==r&&!1!==l?(e.stopPropagation(),bI(e)?(n.onCut?.(o),d.push(YN(n,o.indicatorRange),sL(!0))):wI(e)?n.onPaste?.(o):AI(e)?d.push(YN(n,o.indicatorRange),sL(!0)):kI(e)?d.push(BN(n,s),sL(!0)):DI(e)?d.push(BN(n,c),sL(!0)):II(e)?d.push(AN(n,a),sL(!0)):NI(e)?d.push(AN(n,u),sL(!0)):LI(e)?d.push(MN(n,s,c),sL(!0)):TI(e)?d.push(ON(n,a,u),sL(!0)):BI(e)&&d.push(ZN(o.indicatorRange),sL(!0)),i(Ud(...d)(o))):i(Ud(...d)(o))}));return()=>e.unsubscribe()}),[t,n])}function xL(e){return{main:Z(null),transition:Z(!1)}}function SL(e){return{grid:Z(null)}}function EL(e){return{indicator:Z(null),anchor:Z(null),top:Z(null),right:Z(null),bottom:Z(null),left:Z(null)}}function kL(e){return bh(Kf?IL:DL,{...e})}function DL(e){const t=SL(),n=function(e,t){const n=R(cD),o=_d(e),i=Wd("pointermove"),r=Wd("pointerup"),l=Wd("pointerdown"),s=Wd("pointerdown");F((()=>(window.addEventListener("pointermove",i.listener),window.addEventListener("pointerup",r.listener),()=>{window.removeEventListener("pointermove",i.listener),window.removeEventListener("pointerup",r.listener)})),[i,r]);const c=_((e=>{const n=t.grid.current?.getBoundingClientRect();let{clientX:i,clientY:r}=e;return void 0!==n&&(i-=n.left,r-=n.top),o.current.mini,{clientX:i,clientY:r}}),[o,t.grid]);return F((()=>{const e=l.pipe(mv((e=>{e.stopPropagation();const{value:t}=o.current,{clientY:n}=c(e),l=cI(t,n,3)-1,s=rI(t,l),a=t.scrollHeight-t.scrollTop-t.clientHeight;return i.pipe(yv(r)).pipe(iv((n=>{const o=Math.ceil(n.clientY-e.clientY),i=t.scrollHeight+o,r=t.clientHeight+Math.min(0,a+o);return{size:s+o,index:l,clientHeight:r,scrollHeight:i}})))}))).subscribe((({size:e,index:t,scrollHeight:i,clientHeight:r})=>{const{onChange:l,value:s}=o.current;l(Ud(mN(e,t),vN(e,t),KI(r),qI(i),sL(!0))(s)),n(pL(!0))})),t=l.pipe(mv((e=>r))).subscribe((()=>{n(pL(!1))}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[n,o,c,i,r,l]),F((()=>{const e=s.pipe(mv((e=>{e.stopPropagation();const{value:t}=o.current,{clientX:l}=c(e),s=sI(t,l,3)-1,a=lI(t,s),u=t.scrollWidth-t.scrollLeft-t.clientWidth;return i.pipe(yv(r)).pipe(iv((o=>{const i=Math.ceil(o.clientX-e.clientX),r=t.scrollWidth+i,l=t.clientWidth+Math.min(0,u+i);return n(gL(!0)),{size:a+i,index:s,scrollWidth:r,clientWidth:l}})))}))).subscribe((({size:e,index:t,scrollWidth:n,clientWidth:i})=>{const{value:r,onChange:l}=o.current;l(Ud(yN(e,t),gN(e,t),GI(i),YI(n),sL(!0))(r))})),t=s.pipe(mv((e=>r))).subscribe((()=>{n(gL(!1))}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[n,o,c,i,r,s]),{row:zd([l]),column:zd([s])}}(e,t);return bh(NL,{...e,refs:t,events:n})}function IL(e){const t=SL(),n=bL(e,t);return bh(NL,{...e,refs:t,events:n})}function NL(e){const{events:t,refs:n}=e,{rowStartIndex:o,rowEndIndex:i,rowTotalNumber:r,columnStartIndex:l,columnEndIndex:s,columnTotalNumber:c,scrollWidth:a,scrollHeight:u,rows:d,columns:f,cells:h,defaultCell:p}=e.value,v={borderStyle:"solid",borderWidth:0};let g;!1===e.border&&(void 0===e.value.indicatorRange?g="none":v.borderStyle="dashed");const m=[],y=e.CellRenderer;if(h||d||f)for(let n=o;n<i;n++)for(let i=l;i<s;i++){const r=oI(n,i),s=h?.[r],c=d?.[n],a=f?.[i],u=c?.merge||a?.merge||s?.merge;if(u){const d=eI(u),f=Math.max(o,d.rowStartIndex),h=Math.max(l,d.columnStartIndex);if(f===n&&h===i){const n=aI(e.value,d.rowStartIndex),o=uI(e.value,d.columnStartIndex),i=rI(e.value,d.rowStartIndex,d.rowEndIndex),l=lI(e.value,d.columnStartIndex,d.columnEndIndex),u={...p?.style,...PD,backgroundColor:"#fff",...c?.style,...a?.style,...s?.style,top:n,left:o,height:i,width:l};m.push(Ch(Uh,{type:"bottom-right",style:u,children:[y&&bh(y,{style:u,rowIndex:d.rowStartIndex,columnIndex:d.columnStartIndex}),bh("div",{style:BD,...t.column}),bh("div",{style:OD,...t.row})]},r))}}else if(s){const t=aI(e.value,n),o=uI(e.value,i),l=rI(e.value,n),u=lI(e.value,i),d={...RD,...p?.style,...c?.style,...a?.style,...s?.style,top:t,left:o,height:l,width:u};m.push(bh("div",{style:d,children:y&&bh(y,{style:d,rowIndex:n,columnIndex:i})},r))}}if(p?.merge){const t=eI(p.merge),n=aI(e.value,t.rowStartIndex),o=uI(e.value,t.columnStartIndex),i=rI(e.value,t.rowStartIndex,t.rowEndIndex),r=lI(e.value,t.columnStartIndex,t.columnEndIndex),l={...p?.style,...PD,top:n,left:o,height:i,width:r};m.push(bh(Uh,{type:"bottom-right",style:l},p.merge))}for(let n=o;n<i;n++){const o=n===i-1?"div":LL,l=aI(e.value,n),s=rI(e.value,n),c={...vD,...v,top:l,height:s,width:a};let u={...mD};e.resize.rowIndex===n&&(u={...yD});let f=Kf?-4:-2;n===r-1&&(f=-4),u.top=l+s+f,m.push(bh("div",{style:{...c,zIndex:0,...d?.[n]?.style}},`row-style-${n}`),bh(o,{type:g??"bottom",style:c},`row-${n}`)),!1!==e.editable&&m.push(bh("div",{style:u,...t.row},`row-mark-${n}`))}for(let n=l;n<s;n++){const o=n===s-1?"div":TL,i=uI(e.value,n),r=lI(e.value,n),l={...gD,...v,left:i,width:r,height:u};let a={...bD};e.resize.columnIndex===n&&(a={...CD});let d=Kf?-4:-2;n===c-1&&(d=-4),a.left=i+r+d,m.push(bh("div",{style:{...l,zIndex:0,...f?.[n]?.style}},`column-style-${n}`),bh(o,{type:g??"right",style:l},`column-${n}`)),!1!==e.editable&&m.push(bh("div",{style:a,...t.column},`column-mark-${n}`))}return bh("div",{ref:n.grid,style:zI(e),children:m})}function LL(e){return bh(Uh,{style:e.style,type:e.type,children:e.children})}function TL(e){return bh(Uh,{style:e.style,type:e.type,children:e.children})}function BL(e){return"native"===e.selecter?null:bh(Kf?ML:AL,{...e})}function AL(e){const t=R(cD),n=EL(),o=function(e,t,n){const o=_d(e),i=R(aD),r=Wd("pointermove"),l=Wd("pointerup"),s=Wd("pointerdown"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("pointerdown"),d=Wd("pointerdown");F((()=>(window.addEventListener("pointermove",r.listener),window.addEventListener("pointerup",l.listener),()=>{window.removeEventListener("pointermove",r.listener),window.removeEventListener("pointerup",l.listener)})),[r,l]);const f=_((e=>{const t=n.indicator.current?.getBoundingClientRect();let{clientX:i,clientY:r}=e;return void 0!==t&&(i-=t.left,r-=t.top),o.current.mini,{clientX:i,clientY:r}}),[o,n.indicator]);return F((()=>{let e=0,n=0;const c=s.subscribe((t=>{t.stopPropagation();const{clientX:o,clientY:i}=f(t);e=o,n=i})),a=Au(s.pipe(mv((()=>r.pipe(yv(l)))))).subscribe((r=>{const{value:l}=o.current,{clientX:s,clientY:c}=f(r);t(cL(e,n,s,c,l),hL(!0)),i.current=!0})),u=s.pipe(mv((()=>l.pipe(uv(1))))).subscribe((r=>{e=0,n=0;const{indicator:l,value:s,onChange:c}=o.current;void 0!==l?.previewIndicatorRange&&(t(uL(),hL(!1)),c(Ud(GN(o.current,l.previewIndicatorRange),iN(l.previewIndicatorRange),sL(!0))(s)),i.current=!0)}));return()=>{c.unsubscribe(),a.unsubscribe(),u.unsubscribe()}}),[i,s,o,r,l,t,f]),F((()=>{let e=0,n=0;const s=Au(c.pipe(iv((e=>({e:e,type:"top"})))),a.pipe(iv((e=>({e:e,type:"right"})))),u.pipe(iv((e=>({e:e,type:"bottom"})))),d.pipe(iv((e=>({e:e,type:"left"}))))),h=s.subscribe((({e:t,type:i})=>{t.stopPropagation();const{value:r}=o.current,{clientX:l,clientY:s}=f(t);if(void 0===r.indicatorRange)return;const{rowStartIndex:c,rowEndIndex:a,columnStartIndex:u,columnEndIndex:d}=r.indicatorRange;e=cI(r,s),n=sI(r,l),"top"===i?e=c:"right"===i?n=d-1:"bottom"===i?e=a-1:"left"===i&&(n=u)})),p=Au(s.pipe(mv((()=>r.pipe(yv(l)))))).subscribe((r=>{const{value:l}=o.current,{clientX:s,clientY:c}=f(r),a=cI(l,c),u=sI(l,s);t(aL(n,e,u,a,l),fL(!0)),i.current=!0})),v=s.pipe(mv((()=>l.pipe(uv(1))))).subscribe((()=>{e=0,n=0;const{indicator:r,value:l,onChange:s}=o.current;void 0!==r?.previewIndicatorRange&&void 0!==r?.previewSelectedCoordinates&&(t(dL(),uL(),fL(!1)),s(Ud(KN(o.current,r.previewIndicatorRange),rN(r.previewSelectedCoordinates),iN(r.previewIndicatorRange),sL(!0))(l)),i.current=!0)}));return()=>{h.unsubscribe(),p.unsubscribe(),v.unsubscribe()}}),[u,d,a,c,r,l,o,f,t,i]),{anchor:zd([s]),top:zd([c]),right:zd([a]),bottom:zd([u]),left:zd([d])}}(e,t,n);return bh(OL,{...e,refs:n,events:o})}function ML(e){const t=R(cD),n=EL(),o=function(e,t,n){const o=_d(e),i=R(aD),r=Wd("touchstart"),l=Wd("touchstart"),s=Wd("touchstart"),c=Wd("touchstart"),a=_((e=>{const t=n.indicator.current?.getBoundingClientRect();let{clientX:i,clientY:r}=e;return void 0!==t&&(i-=t.left,r-=t.top),o.current.mini,{clientX:i,clientY:r}}),[o,n.indicator]);return F((()=>{let e,n,u,d=!1;const f=Au(r.pipe(iv((e=>({e:e,type:"top"})))),l.pipe(iv((e=>({e:e,type:"right"})))),s.pipe(iv((e=>({e:e,type:"bottom"})))),c.pipe(iv((e=>({e:e,type:"left"}))))),h=f.subscribe((({e:t})=>{t.stopPropagation(),d=!1;const o=t.target;e=Nu(o,"touchmove"),n=Nu(o,"touchend"),u=Nu(o,"touchcancel")})),p=f.pipe(mv((t=>Tu(150).pipe(yv(e)).pipe(yv(n)).pipe(yv(u)).pipe(pv((()=>{const{value:e}=o.current;return!!e.indicatorRange}))).pipe(iv((()=>t)))))).pipe(mv((({e:i,type:r})=>{const l=i.touches[0],{value:s,onDragStart:c}=o.current,{clientX:f,clientY:h}=a(l),{rowStartIndex:p,rowEndIndex:v,columnStartIndex:g,columnEndIndex:m}=s.indicatorRange;let y=cI(s,h),b=sI(s,f);return"top"===r?y=p:"right"===r?b=m-1:"bottom"===r?y=v-1:"left"===r&&(b=g),d=!0,c?.(),t(dL(s.selectedCoordinates),uL(s.indicatorRange),fL(!0)),e.pipe(yv(n)).pipe(yv(u)).pipe(iv((e=>({e:e,startRowIndex:y,startColumnIndex:b}))))}))).subscribe((({e:e,startRowIndex:n,startColumnIndex:r})=>{e.preventDefault();const l=e.touches[0],{value:s}=o.current,{clientX:c,clientY:u}=a(l),d=cI(s,u),f=sI(s,c);t(aL(r,n,f,d,s)),i.current=!0})),v=f.pipe(mv((e=>Au(n,u)))).pipe(pv((()=>d))).subscribe((()=>{const{indicator:e,value:n,onChange:r}=o.current;d=!1,void 0!==e?.previewIndicatorRange&&void 0!==e?.previewSelectedCoordinates&&(t(dL(),uL(),fL(!1)),Fc(e.previewIndicatorRange,n.indicatorRange)||r(Ud(KN(o.current,e.previewIndicatorRange),rN(e.previewSelectedCoordinates),iN(e.previewIndicatorRange),sL(!0))(n)),i.current=!0)})),g=f.pipe(mv((({e:e,type:t})=>{const o=Date.now(),i=e.touches[0].clientX,r=e.touches[0].clientY;return Au(n,u).pipe(pv((e=>{const t=Date.now()-o,n=Math.abs(e.changedTouches[0].clientX-i),l=Math.abs(e.changedTouches[0].clientY-r);return t<150&&n<5&&l<5})))}))).subscribe((e=>{e.preventDefault();const t=e.changedTouches[0],{value:n,onChange:r,onClickCell:l}=o.current,{clientX:s,clientY:c}=a(t);r?.(Ud(nN(s,c))(n));const u=oI(cI(n,c),sI(n,s)),d=n.cells?.[u];l?.(t,d,u),i.current=!0}));return()=>{h.unsubscribe(),p.unsubscribe(),v.unsubscribe(),g.unsubscribe()}}),[i,o,a,t,r,l,s,c]),{anchor:{},top:zd([r]),right:zd([l]),bottom:zd([s]),left:zd([c])}}(e,t,n);return bh(OL,{...e,refs:n,events:o})}function OL(e){const{events:t,refs:n,resize:o}=e,i=R(aD),r=pI(e),l=gI(e),{indicatorRange:s,isScrolling:c,scrollWidth:a,scrollHeight:u}=e.value;if(void 0===s)return null;const{columnEndIndex:d,rowEndIndex:f}=s;let h="0ms";return i.current&&(h=`${dD}ms`,i.current=!1),bh("div",{style:VI(e),ref:n.indicator,children:Ch("div",{style:ZI(e),children:[Ch("div",{style:{...xD,...r,transitionDuration:h},children:[bh("div",{style:SD}),bh("div",{style:ID,children:bh("div",{style:{...DD,...l,transitionDuration:h,left:l.left-r.left,top:l.top-r.top,outlineWidth:Math.max(a,u)}})}),e.editable&&!Kf&&d!==1/0&&f!==1/0&&bh("div",{style:kD,ref:n.anchor,...t.anchor}),e.editable&&bh("div",{style:LD,ref:n.top,...t.top}),e.editable&&bh("div",{style:TD,ref:n.right,...t.right}),e.editable&&bh("div",{style:MD,ref:n.bottom,...t.bottom}),e.editable&&bh("div",{style:AD,ref:n.left,...t.left})]}),e.editable&&e.indicator?.previewIndicatorRange&&bh("div",{style:{...ED,...vI(e),transitionDuration:h}})]})})}function RL(e,t=1){const{rowStartIndex:n,rowEndIndex:o,columnStartIndex:i,columnEndIndex:r,rowTotalNumber:l,columnTotalNumber:s,cells:c,rows:a,columns:u,defaultCell:d}=e.value,f=[];if(void 0!==c)for(const e in c){const t=c[e].style;if(void 0===t||!$I(t))continue;const{rowIndex:a,columnIndex:u}=iI(e);if(a>=n&&a<o&&u>=i&&u<r){h(a,u,l,s,t,c[e].merge)}}if(void 0!==a)for(const e in a){const t=a[e].style;if(void 0!==t&&$I(t))for(let n=i;n<r;n++){const o=a[e].merge;h(Number(e),n,l,s,t,o)}}if(void 0!==u)for(const e in u){const t=u[e].style;if(void 0!==t&&$I(t))for(let i=n;i<o;i++){const n=u[e].merge;h(i,Number(e),l,s,t,n)}}if(void 0!==d){const e=d.style;if(e&&$I(e))if(d.merge)h(0,0,l,s,e,d.merge);else for(let t=n;t<o;t++)for(let n=i;n<r;n++)h(t,n,l,s,e)}function h(o,r,l,s,c,a){let u={stroke:c.borderColor||Hf,strokeWidth:1/t,d:""},d=!1;if(f.length>0){for(let e=0,t=f.length;e<t;e++)if(f[e].stroke===u.stroke){u=f[e],d=!0;break}}else d=!0,f.push(u);!1===d&&f.push(u);let h=1,p=1;if(a){const e=eI(a),t=Math.max(n,e.rowStartIndex),l=Math.max(i,e.columnStartIndex);if(t!==o||l!==r)return;h=e.rowEndIndex-e.rowStartIndex,p=e.columnEndIndex-e.columnStartIndex}if(c.borderTopWidth){let t=0;0===o&&(t=.5);const n=aI(e.value,o)+t,i=uI(e.value,r)+t,l=uI(e.value,r+p)+t;u.d+=` M ${i} ${n} L ${l} ${n}`}if(c.borderRightWidth){let t=0;r===s-1&&(t=-.5);const n=aI(e.value,o)+t,i=aI(e.value,o+h)+t,l=uI(e.value,r+p)+t;u.d+=` M ${l} ${n} L ${l} ${i}`}if(c.borderBottomWidth){let t=0;o===l-1&&(t=-.5);const n=aI(e.value,o+h)+t,i=uI(e.value,r)+t,s=uI(e.value,r+p)+t;u.d+=` M ${i} ${n} L ${s} ${n}`}if(c.borderLeftWidth){let t=0;0===r&&(t=.5);const n=aI(e.value,o)+t,i=aI(e.value,o+h)+t,l=uI(e.value,r)+t;u.d+=` M ${l} ${n} L ${l} ${i}`}}return f}function PL(e){const{scrollHeight:t,scrollWidth:n}=e.value;return bh("div",{style:FD,children:bh("div",{style:HD,children:bh("svg",{style:{..._D,width:n,height:t,...ZI(e)},children:RL(e).map(((e,t)=>bh("path",{...e},t)))})})})}const FL={copy:"copy",paste:"paste",cut:"cut",addOneRowToTop:"addOneRowToTop",addOneRowToBottom:"addOneRowToBottom",selectCurrentRow:"selectCurrentRow",deleteCurrentRow:"deleteCurrentRow",addOneColumnToLeft:"addOneColumnToLeft",addOneColumnToRight:"addOneColumnToRight",selectCurrentColumn:"selectCurrentColumn",deleteCurrentColumn:"deleteCurrentColumn",selectAll:"Select All",mergeCell:"Merge Cell",splitCell:"Split Cell"},HL={cn:{[FL.copy]:"",[FL.paste]:"",[FL.cut]:"",[FL.selectAll]:"",[FL.addOneRowToTop]:"",[FL.addOneRowToBottom]:"",[FL.selectCurrentRow]:"",[FL.deleteCurrentRow]:"",[FL.addOneColumnToLeft]:"",[FL.addOneColumnToRight]:"",[FL.selectCurrentColumn]:"",[FL.deleteCurrentColumn]:"",[FL.mergeCell]:"",[FL.splitCell]:""},en:{[FL.copy]:"Copy",[FL.paste]:"Paste",[FL.cut]:"Cut",[FL.selectAll]:"Select All",[FL.addOneRowToTop]:"Add Row To Top",[FL.addOneRowToBottom]:"Add Row To Bottom",[FL.selectCurrentRow]:"Select Current Row",[FL.deleteCurrentRow]:"Delete Current Row",[FL.addOneColumnToLeft]:"Add Column To Left",[FL.addOneColumnToRight]:"Add Column To Right",[FL.selectCurrentColumn]:"Select Current Column",[FL.deleteCurrentColumn]:"Delete Current Column",[FL.mergeCell]:"Merge Cell",[FL.splitCell]:"Split Cell"}},_L=[{value:FL.cut,hotkey:yI.cut,editable:!0},{value:FL.copy,hotkey:yI.copy},{value:FL.paste,hotkey:yI.paste,editable:!0},{value:FL.selectAll,hotkey:yI.selectAll},{separate:!0},{value:FL.selectCurrentRow,hotkey:yI.selectCurrentRow},{value:FL.addOneRowToTop,editable:!0},{value:FL.addOneRowToBottom,editable:!0},{value:FL.deleteCurrentRow,editable:!0},{separate:!0,editable:!0},{value:FL.selectCurrentColumn,hotkey:yI.selectCurrentColumn},{value:FL.addOneColumnToLeft,editable:!0},{value:FL.addOneColumnToRight,editable:!0},{value:FL.deleteCurrentColumn,editable:!0}],jL=Uf?170:200;function WL(e){const{value:{indicatorRange:t,contextMenu:n},contextmenu:o}=e,i=KD(t);if(void 0===n||!1===o)return null;const{visible:r,disableCopy:l,disableCut:s,rect:c}=n;return r?bh("div",{style:{...jD,...c},onPointerDown:e=>e.stopPropagation(),children:bh(Lg,{style:{width:jL},options:_L.filter((t=>!0!==t.editable||!1!==e.editable)).map((t=>{let n=i&&t.value===FL.mergeCell;return(t.value===FL.cut&&s||t.value===FL.copy&&l)&&(n=!0),{...t,name:HL[e?.lang??"cn"][t.value],disable:n}})),onClick:n=>{if(void 0===t)return;const{rowStartIndex:o,rowEndIndex:i,columnStartIndex:r,columnEndIndex:l}=t,s=[XN(!1)];n.value===FL.selectCurrentRow?s.push(LN(o,i)):n.value===FL.selectCurrentColumn?s.push(TN(r,l)):n.value===FL.addOneRowToTop?s.push(BN(e,o),sL(!0)):n.value===FL.addOneRowToBottom?s.push(BN(e,i),sL(!0)):n.value===FL.addOneColumnToLeft?s.push(AN(e,r),sL(!0)):n.value===FL.addOneColumnToRight?s.push(AN(e,l),sL(!0)):n.value===FL.deleteCurrentRow?s.push(MN(e,o,i),sL(!0)):n.value===FL.deleteCurrentColumn?s.push(ON(e,r,l),sL(!0)):n.value===FL.mergeCell?s.push(ZN(t),sL(!0)):n.value===FL.copy?e.onCopy?.(Ud(...s)(e.value)):n.value===FL.paste?e.onPaste?.(Ud(...s)(e.value)):n.value===FL.cut?(e.onCut?.(Ud(...s)(e.value)),s.push(YN(e,t),sL(!0))):n.value===FL.selectAll&&s.push(NN()),e.onChange(Ud(...s)(e.value))}})}):null}function zL(e){const t=_d(e),n=Z(-1),o=_((e=>{cancelAnimationFrame(n.current);const{value:o}=t.current,i=(e-dI(o))*(o.scrollWidth-o.clientWidth);hI(t,i,n)}),[t,n]),i=_((e=>{cancelAnimationFrame(n.current);const{value:o}=t.current,i=Math.max(0,o.clientWidth*(e-1));hI(t,i,n)}),[t,n]),{clientWidth:r,scrollWidth:l,clientHeight:s}=e.value;let c=0;return void 0!==e.rect?.top&&(c=s-Math.min(s,e.rect?.top??0)),l>r?bh(Nw,{style:{bottom:c},visible:e.scrollBar.visible,thumb:fI(e.value),value:dI(e.value),onChange:o,onChangeInterval:i}):null}function VL(e){return bh(Kf?ZL:$L,{...e})}function $L(e){const t=R(cD),n=xL(),o=function(e,t,n){const o=_d(e),i=Wd("contextmenu"),r=Wd("pointerenter"),l=Wd("pointerdown"),s=Wd("pointermove"),c=Wd("pointerup"),a=Wd("pointerleave"),u=Wd("wheel"),d=Wd("scroll"),f=Wd("pointerenter"),h=Wd("pointerleave"),p=Wd("pointerdown"),v=Wd("pointerdown"),g=Wd("pointermove"),m=Wd("pointerup");wL(e);const y=_((e=>{const t=n.main.current?.getBoundingClientRect();let{clientX:i,clientY:r}=e;return void 0!==t&&(i-=t.left,r-=t.top),o.current.mini,{clientX:i,clientY:r}}),[o,n.main]);return F((()=>(window.addEventListener("pointerdown",v.listener),window.addEventListener("pointermove",g.listener),window.addEventListener("pointerup",m.listener),()=>{window.removeEventListener("pointerdown",v.listener),window.removeEventListener("pointermove",g.listener),window.removeEventListener("pointerup",m.listener)})),[o,v,g,m]),F((()=>{let e="xy";const t=u.subscribe((t=>{const{value:n,onChange:i,scroller:r}=o.current;if("native"===r)return;const{scrollHeight:l,scrollWidth:s,scrollTop:c,scrollLeft:a,clientHeight:u,clientWidth:d}=n;"x"===e&&s>d&&s>=d+a&&t.stopPropagation(),"y"===e&&l>u&&l>=u+c&&t.stopPropagation();const f="y"!==e?t.deltaX:0,h="x"!==e?t.deltaY:0;i(Ud(JI(f,h),XI(!0))(n)),UI(o,!1)})),n=Au(s,u.pipe(sv(300))).pipe(mv((()=>u.pipe(uv(1))))).subscribe((t=>{e=Math.abs(t.deltaX)>=Math.abs(t.deltaY)?"x":"y"})),i=u.pipe(sv(300)).subscribe((()=>{e="xy"})),r=d.subscribe((e=>{const{value:t,onChange:n,scroller:i}=o.current;if("native"!==i)return;e.stopPropagation();const r=e.target.scrollLeft-t.scrollLeft,l=e.target.scrollTop-t.scrollTop;n(Ud(JI(r,l),XI(!0))(t)),UI(o,!1)}));return()=>{t.unsubscribe(),n.unsubscribe(),i.unsubscribe(),r.unsubscribe()}}),[o,m,s,u,d]),F((()=>{const e=i.subscribe((e=>{const{value:t,onChange:n,contextmenu:i}=o.current;if(!1===i)return;e.preventDefault(),e.stopPropagation();const{clientX:r,clientY:l}=y(e);n(Ud(JN({left:r,top:l}),XN(!0))(t))}));return()=>e.unsubscribe()}),[o,y,i]),F((()=>{const e=v.subscribe((e=>{const{value:t,onChange:n}=o.current;t.contextMenu?.visible&&n(Ud(XN(!1))(t))}));return()=>e.unsubscribe()}),[o,v]),F((()=>{const e=Au(u,l.pipe(mv((()=>g.pipe(vv(a)).pipe(yv(m))))),f).subscribe((()=>{o.current.scrollBar.visible||t(yL(!0))}));return()=>e.unsubscribe()}),[o,t,u,l,r,a,f,g,m]),F((()=>{const e=Au(a,f.pipe(mv((()=>h.pipe(yv(p))))),f.pipe(mv((()=>h.pipe(vv(p)).pipe(vv(m))))),u.pipe(mv((()=>u.pipe(sv(1e3)).pipe(yv(f))))),l.pipe(mv((()=>m.pipe(vv(h)))))).subscribe((()=>{o.current.scrollBar.visible&&t(yL(!1))}));return()=>e.unsubscribe()}),[o,t,u,l,a,f,h,p,m]),F((()=>{let e=!1;const t=p.subscribe((t=>{e=!0})),i=m.subscribe((t=>{e=!1})),r=l.subscribe(c),s=l.pipe(mv((e=>{const{clientX:t,clientY:n}=e;return m.pipe(pv((e=>{const o=Math.abs(e.clientX-t),i=Math.abs(e.clientY-n);return o<5&&i<5})))}))).subscribe((e=>{c(e,!0)}));function c(t,i){if(e)return;const{value:r,onChange:l,onPureClick:s}=o.current,{clientX:c,clientY:a}=y(t),u=Ud(XN(!1),nN(c,a))(r),d=KD(r.indicatorRange),f=GD(r.indicatorRange,u.indicatorRange);n.transition.current=!0,i?s?.(u):0!==t.button&&!d&&f||t.shiftKey||l(u)}return()=>{t.unsubscribe(),i.unsubscribe(),r.unsubscribe(),s.unsubscribe()}}),[n.transition,o,r,l,p,m,g,y]),F((()=>{let e=!1;const t=p.subscribe((t=>{e=!0})),i=m.subscribe((t=>{e=!1})),r=l.pipe(mv((()=>g.pipe(yv(m)).pipe(yv(p))))).subscribe((t=>{if(e)return;const{value:i,onChange:r}=o.current,{clientX:l,clientY:s}=y(t);r(Ud(oN(l,s))(i)),n.transition.current=!0}));return()=>{t.unsubscribe(),i.unsubscribe(),r.unsubscribe()}}),[n.transition,o,y,g,p,m,l]),F((()=>{let e=!1;const t=p.subscribe((t=>{e=!0})),i=m.subscribe((t=>{e=!1})),r=l.pipe(mv((()=>g.pipe(vv(a)).pipe(yv(m))))).pipe(mv((e=>{const t=o.current,i=n.main.current;let r=0,l=0;if(i){const{clientHeight:n,clientWidth:o}=t.value,s=i.getBoundingClientRect(),c=e.clientX-s.left,a=e.clientY-s.top;c<0?r=Math.max(c,-o):c>o&&(r=Math.min(c-o,o)),a<0?l=Math.max(a,-n):a>n&&(l=Math.min(a-n,n))}return Bu(0,Xa).pipe(gv((()=>0===r&&0===l))).pipe(yv(m)).pipe(iv((()=>({deltaX:r,deltaY:l}))))}))).subscribe((({deltaX:t,deltaY:n})=>{if(e)return;const{value:i,onChange:r}=o.current;r(Ud(JI(t,n),lN(t,n))(i))}));return()=>{t.unsubscribe(),i.unsubscribe(),r.unsubscribe()}}),[o,n.main,v,m,g,a,l,p]),{main:zd([r,a,l,s,c,i,u,d]),scrollBar:zd([f,h,p])}}(e,t,n),i={...fD,width:e.value.clientWidth,height:e.value.clientHeight};e.resize.row?i.cursor="row-resize":e.resize.column?i.cursor="col-resize":e.indicator?.drag?i.cursor="grab":e.indicator?.anchor&&(i.cursor="crosshair");const r="native"===e.scroller;let l;return!1===e.border&&(void 0===e.value.indicatorRange?l="none":i.borderStyle="dashed"),bh(aD,{value:n.transition,children:Ch(Uh,{style:i,type:l,borderStyle:{zIndex:100},children:[bh("div",{style:WI(e),className:"no-scrollbar",ref:n.main,...o.main,children:e.children}),r?null:bh("div",{...o.scrollBar,children:bh(zL,{...e})})]})})}function ZL(e){R(cD);const t=xL(),n=function(e,t,n){const o=_d(e),i=Wd("click"),r=Wd("touchstart"),l=Wd("scroll");wL(e);const s=_((e=>{const t=n.main.current?.getBoundingClientRect();let{clientX:i,clientY:r}=e;return void 0!==t&&(i-=t.left,r-=t.top),o.current.mini,{clientX:i,clientY:r}}),[o,n.main]);H((()=>{const{scrollLeft:e}=o.current.value;e>0&&n.main.current?.scrollTo({left:e})}),[o,n.main]),F((()=>{const e=l.subscribe((e=>{const{value:t,onChange:n,scroller:i}=o.current;if("native"!==i)return;e.stopPropagation();const r=e.target.scrollLeft-t.scrollLeft,l=e.target.scrollTop-t.scrollTop;n(Ud(JI(r,l),XI(!0))(t)),UI(o,!1)}));return()=>{e.unsubscribe()}}),[o,l]),F((()=>{let e,t,l;const c=r.subscribe((n=>{n.stopPropagation();const o=n.target;e=Nu(o,"touchmove"),t=Nu(o,"touchend"),l=Nu(o,"touchcancel")})),a=r.pipe(mv((n=>Tu(382).pipe(yv(e)).pipe(yv(t)).pipe(yv(l)).pipe(iv((()=>n)))))).pipe(pv((e=>{const t=e.touches[0],{value:n,onExpandStart:i}=o.current,{selectedCoordinates:r,cells:l}=n,{clientX:c,clientY:a}=s(t);let u=cI(n,a),d=sI(n,c);const f=l?.[oI(u,d)];if(f?.merge){const e=eI(f.merge);u=e.rowStartIndex,d=e.columnStartIndex}return r?.rowIndex===u&&r?.columnIndex===d&&(i?.(),!0)}))).pipe(mv((n=>e.pipe(yv(t)).pipe(yv(l))))).subscribe((e=>{e.preventDefault();const t=e.touches[0],{value:i,onChange:r}=o.current,{clientX:l,clientY:c}=s(t);r(Ud(oN(l,c))(i)),n.transition.current=!0})),u=i.subscribe((e=>{const{value:t,onChange:i,onClickCell:r}=o.current,{clientX:l,clientY:c}=s(e);i?.(Ud(nN(l,c))(t));const a=oI(cI(t,c),sI(t,l)),u=t.cells?.[a];r?.(e,u,a),n.transition.current=!0}));return()=>{c.unsubscribe(),a.unsubscribe(),u.unsubscribe()}}),[n.transition,o,i,r,s]);const c=CL(e,s);return{main:zd([l,i,r]),edge:c}}(e,0,t),o={...fD,width:e.value.clientWidth,height:e.value.clientHeight};let i;return!1===e.border&&(void 0===e.value.indicatorRange?i="none":o.borderStyle="dashed"),bh(aD,{value:t.transition,children:Ch(Uh,{style:o,type:i,borderStyle:{zIndex:100},children:[bh("div",{style:WI(e),className:"no-scrollbar",ref:t.main,...n.main,children:e.children}),bh("div",{style:WD,...n.edge})]})})}var UL=Object.freeze({__proto__:null,adjustColumnDiff:QI,adjustGridEdge:tN,adjustRowDiff:eN,calcIndicatorRangeByMerge:eI,calcIndicatorRangeMerge:JD,calcIndicatorRangeStyle:function(e,t,n){if(void 0===t)return{};let o=null;const i=e=>{if(null!==o)if(void 0!==e)for(const t in o){const n=t;void 0!==e[n]&&e[n]===o[n]||delete o[n]}else o={};else o={...e}};if(zD(t,{cell(t,n){const o=oI(t,n),r=e.cells?.[o]?.style;i(r)},row(t){const n=e.rows?.[t]?.style;i(n)},column(t){const n=e.columns?.[t]?.style;i(n)},infinite(){const t=e.defaultCell?.style;i(t)}}),n&&o)for(let e in o){const t=e;void 0===n[t]&&delete o[t]}return{...n,...o??{}}},calcIndicatorRangeWithMerge:nI,calcMergeByIndicatorRange:QD,calcScrollBarXScale:dI,calcScrollBarXThumb:fI,calcSelectedCoordinatesWithMerge:tI,calcTransform:ZI,checkBorder:$I,collapsedSelection:nN,copyIndicatorRangeCell:GN,deleteCell:YN,deleteCellProp:(e,t,n)=>o=>{const i=oI(e,t),r=o.cells?.[i];return r?(r[n]&&delete r[n],Pc(r)&&delete o.cells?.[i],Pc(o.cells)&&delete o.cells,o):o},deleteCellProps:PN,deleteCellStyle:(e,t,n)=>o=>{const i=oI(e,t),r=o.cells?.[i];return r?.style?(r.style[n]&&delete r.style[n],Pc(r.style)&&delete r.style,Pc(r)&&delete o.cells?.[i],Pc(o.cells)&&delete o.cells,o):o},deleteColumn:ON,deleteRow:MN,existCell:dN,existCellState:(e,t,n)=>o=>{o=dN(e,t)(o);const i=oI(e,t);return void 0===o.cells[i].state&&(o.cells[i].state=n??{}),o},existCellStyle:fN,existColumn:aN,existColumnStyle:uN,existDefaultCell:hN,existDefaultCellStyle:pN,existRow:sN,existRowStyle:cN,expandAnchorIndicator:cL,expandDraggerIndicator:aL,expandSelection:oN,getCellSize:function(e,t,n){const o=oI(t,n),i=e.cells?.[o]?.merge;if(!i)return{height:rI(e,t),width:lI(e,n)};const{rowStartIndex:r,rowEndIndex:l,columnStartIndex:s,columnEndIndex:c}=eI(i);return{height:rI(e,r,l),width:lI(e,s,c)}},getColumnIndex:sI,getColumnOffset:uI,getColumnSize:lI,getIndexByKey:iI,getKeyByIndex:oI,getMiniAxisXRect:function(e){if(void 0===e.indicatorRange)return{left:0,width:0};const{columnStartIndex:t,columnEndIndex:n}=e.indicatorRange;return{left:uI(e,t),width:lI(e,t,n)}},getMiniAxisYRect:function(e){if(void 0===e.indicatorRange)return{top:0,height:0};const{rowStartIndex:t,rowEndIndex:n}=e.indicatorRange;return{top:aI(e,t),height:rI(e,t,n)}},getPreviewRect:vI,getRangeRect:mI,getRowIndex:cI,getRowOffset:aI,getRowSize:rI,getSelectedRect:gI,getSelectorRect:pI,gridStyle:zI,hotkeys:yI,includeIndicatorRange:GD,indicatorStyle:VI,insertColumn:AN,insertRow:BN,interateCell:function(e,t){const n=Object.keys(e),o=n.length;let i=0;for(;i<o;){const o=n[i],r=iI(o);t(r.rowIndex,r.columnIndex,e[o]),i++}},interateCellByColumnIndex:YD,interateCellByRowIndex:qD,interateColumn:UD,interateIndicatorRange:zD,interateIndicatorRangeCell:ZD,interateIndicatorRangeColumn:$D,interateIndicatorRangeRow:VD,interateRow:function(e,t){const n=Object.keys(e),o=n.length;let i=0;for(;i<o;)t(Number(n[i])),i++},isAddOneColumnToLeft:II,isAddOneColumnToRight:NI,isAddOneRowToBottom:DI,isAddOneRowToTop:kI,isBackspace:AI,isCellKey:function(e){return 2===e.split(".").length},isCopy:CI,isCut:bI,isDeleteCurrentColumn:TI,isDeleteCurrentRow:LI,isEqualSelectedIndicator:function(e,t){if(!KD(e)||!e||!t)return!1;const{rowStartIndex:n,columnStartIndex:o}=e,{rowIndex:i,columnIndex:r}=t;return n===i&&o===r},isExpandBackward:FI,isExpandDown:jI,isExpandForward:HI,isExpandUp:_I,isIndicatorOutView:function(e){const{indicatorRange:t,rowStartIndex:n,columnEndIndex:o,rowEndIndex:i,columnStartIndex:r}=e;return!t||(t.rowEndIndex<=n||t.rowStartIndex>=i||t.columnEndIndex<=r||t.columnStartIndex>=o)},isMerge:BI,isMoveBackward:MI,isMoveDown:PI,isMoveForward:OI,isMoveUp:RI,isPaste:wI,isRangeInclude:XD,isRangesInclude:function(e,t){return e.some((e=>XD(e,t)))},isSelectAll:xI,isSelectCurrentColumn:EI,isSelectCurrentRow:SI,mainStyle:WI,moveBackward:QN,moveBackwardExpand:oL,moveDown:tL,moveDownExpand:rL,moveForward:eL,moveForwardExpand:iL,moveIndicatorRangeCell:KN,moveUp:nL,moveUpExpand:lL,reduceStyle:SN,reflowColumn:DN,reflowRow:IN,removeAvaliableStyle:kN,removeCellMerge:qN,removeColumnProps:jN,removeDefaultCellProps:zN,removeIndicatorRangeProps:$N,removeRowProps:HN,removeStyle:EN,resetColumnSize:CN,resetGridSize:wN,resetRowSize:bN,resizeColumn:gN,resizeRow:vN,resizeSheet:(e,t)=>e=>e,scrollGrid:JI,scrollSelectedCoordinatesIntoView:()=>e=>{if(void 0===e.selectedCoordinates)return e;const{scrollLeft:t,scrollTop:n,clientWidth:o,clientHeight:i,selectedCoordinates:{rowIndex:r,columnIndex:l}}=e;let s=0,c=0;const a=aI(e,r),u=rI(e,r),d=uI(e,l),f=lI(e,l);return a<n?c=a-n:a+u>i+n&&(c=a+u-(i+n)),d<t?s=d-t:d+f>o+t&&(s=d+f-(o+t)),e=JI(s,c)(e)},scrollSheetXSafty:hI,selectAll:NN,setAvaliableStyle:e=>t=>{if(void 0!==t.rows)for(const n in t.rows)t=xN(Number(n),1/0,e)(t);if(void 0!==t.columns)for(const n in t.columns)t=xN(1/0,Number(n),e)(t);if(void 0!==t.cells)for(const n in t.cells){const{rowIndex:o,columnIndex:i}=iI(n);t=xN(o,i,e)(t)}return t},setAxisColumn:TN,setAxisRow:LN,setCellMerge:UN,setCellProps:RN,setClientHeight:KI,setClientWidth:GI,setColumnMinSize:yN,setColumnProps:_N,setColumnResize:gL,setColumnResizeIndex:mL,setContextMenuRect:JN,setContextMenuVisible:XN,setDefaultCellProps:WN,setEditPending:sL,setIndicatorAnchor:hL,setIndicatorDrag:fL,setIndicatorRange:iN,setIndicatorRangeProps:VN,setIndicatorRangeStyle:e=>t=>(void 0===t.indicatorRange||zD(t.indicatorRange,{row(n){t.columns&&UD(t.columns,(o=>{t=EN(n,o,e)(t)})),t.cells&&qD(t.cells,n,(o=>{t=EN(n,o,e)(t)})),t=xN(n,1/0,e)(t)},column(n){t.rows&&UD(t.rows,(o=>{t=EN(o,n,e)(t)})),t.cells&&YD(t.cells,n,(o=>{t=EN(o,n,e)(t)})),t=xN(1/0,n,e)(t)},cell(n,o){t=xN(n,o,e)(t)},infinite(){t=xN(1/0,1/0,e)(t),t=kN(e)(t)}}),t),setPreviewIndicatorRange:uL,setPreviewSelectedCoordinates:dL,setResizeVisible:e=>t=>(t.resize.visible=e,t),setRowMinSize:mN,setRowProps:FN,setRowResize:pL,setRowResizeIndex:vL,setScrollBarVisible:yL,setScrollHeight:qI,setScrollLeft:e=>t=>(t.scrollLeft=Math.max(e,0),t),setScrollTop:e=>t=>(t.scrollTop=Math.max(e,0),t),setScrollWidth:YI,setScrolling:XI,setScrollingDebounce:UI,setSelectedCoordinates:rN,setStyle:xN,singleIndicatorRange:KD,syncScrollIndicator:lN,toggleCellMerge:ZN,writeToClipboard:async function(e){const{indicatorRange:t}=e}});function qL({portal:e=(e=>e),...t}){const[n,o]=qd((()=>({resize:{visible:!1},scrollBar:{visible:!1}}))),i={...t,...n};return bh(cD,{value:o,children:Ch(VL,{...i,children:[bh(kL,{...i}),bh(BL,{...i}),bh(PL,{...i}),e(bh(WL,{...i}))]})})}const YL=U(null),KL=U(null),GL=U({current:0}),XL=U(null),JL=U({current:[]}),QL=U({current:0}),eT=U(null),tT=Kf?38:30,nT={position:"relative",userSelect:"none",height:"100%"},oT={position:"relative",height:"100%",width:"100%",overflow:"hidden",boxSizing:"border-box"},iT={position:"relative",height:"100%",width:"100%"},rT={pointerEvents:"none",position:"absolute",top:0,left:-10,right:-10,zIndex:1,backgroundColor:Tf,boxShadow:"0 -4px 8px rgba(0, 0, 0, 0.6)"},lT={position:"absolute",top:0,left:0,right:0,zIndex:1,backgroundColor:Tf,boxShadow:"0 -4px 8px rgba(0, 0, 0, 0.6)"},sT={position:"absolute",left:0,right:0,transition:"background-color 400ms",height:tT},cT={position:"relative",height:tT},aT={transition:"top 100ms linear",willChange:"top"},uT={animation:"80ms fadein"},dT={height:"100%"},fT={height:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:12,paddingRight:10,cursor:"pointer",color:Hf},hT={display:"flex",alignItems:"center",flex:1,position:"relative",height:"100%",top:Kf?.5:0},pT={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:10,top:"50%",transform:"translate(0, -50%)",zIndex:1},vT={width:14,height:14,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:-20},gT={transform:"rotate(90deg)"},mT={width:14,height:14,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:-20},yT={fontSize:14,lineHeight:"18px",fontWeight:Vf,width:"100%",marginRight:24,display:"flex"},bT={borderRadius:Kf?3:2,position:"relative",width:Kf?34:22,height:Kf?30:18,display:"flex",justifyContent:"center",alignItems:"center"},CT={borderRadius:Kf?3:2,display:"flex",justifyContent:"center",alignItems:"center",width:Kf?26:22,height:Kf?22:18},wT={position:"relative",marginTop:6,zIndex:1},xT={...pT,top:"100%",width:22},ST={position:"absolute",left:-16,width:7,height:7,marginTop:.5,borderRadius:"50%",boxSizing:"border-box"},ET={borderWidth:1,borderStyle:"solid",marginTop:Kf?-.5:0,borderColor:Hf},kT={width:6.5,height:6.5,marginTop:Kf?-.5:0,backgroundColor:_f},DT={position:"absolute",left:0,top:0,bottom:0,pointerEvents:"none",zIndex:1},IT="M0.0104141 6.335C0.0104141 6.68906 0.147836 7.02863 0.392449 7.27899C0.637061 7.52935 0.968827 7.67 1.31476 7.67C1.6607 7.67 1.99246 7.52935 2.23708 7.27899C2.48169 7.02863 2.61911 6.68906 2.61911 6.335C2.61911 5.98094 2.48169 5.64137 2.23708 5.39101C1.99246 5.14065 1.6607 5 1.31476 5C0.968827 5 0.637061 5.14065 0.392449 5.39101C0.147836 5.64137 0.0104141 5.98094 0.0104141 6.335ZM4.70607 6.335C4.70607 6.68906 4.84349 7.02863 5.0881 7.27899C5.33271 7.52935 5.66448 7.67 6.01041 7.67C6.35635 7.67 6.68811 7.52935 6.93273 7.27899C7.17734 7.02863 7.31476 6.68906 7.31476 6.335C7.31476 5.98094 7.17734 5.64137 6.93273 5.39101C6.68811 5.14065 6.35635 5 6.01041 5C5.66448 5 5.33271 5.14065 5.0881 5.39101C4.84349 5.64137 4.70607 5.98094 4.70607 6.335ZM9.40172 6.335C9.40172 6.68906 9.53914 7.02863 9.78375 7.27899C10.0284 7.52935 10.3601 7.67 10.7061 7.67C11.052 7.67 11.3838 7.52935 11.6284 7.27899C11.873 7.02863 12.0104 6.68906 12.0104 6.335C12.0104 5.98094 11.873 5.64137 11.6284 5.39101C11.3838 5.14065 11.052 5 10.7061 5C10.3601 5 10.0284 5.14065 9.78375 5.39101C9.53914 5.64137 9.40172 5.98094 9.40172 6.335Z";function NT({width:e=12,fill:t=(Kf?jf:_f)}){return bh("svg",{width:e,viewBox:"0 0 12 12",children:bh("path",{fill:t,d:IT})})}const LT="M11.1537 7.26559L1.60773 12.777C1.47083 12.856 1.29703 12.8568 1.16032 12.7781C1.0236 12.6993 0.937375 12.55 0.937564 12.3922L0.935701 1.36626C0.93589 1.2085 1.02346 1.05838 1.16036 0.979338C1.29727 0.900296 1.47106 0.899523 1.60778 0.978238L11.152 6.48662C11.2887 6.56533 11.375 6.71468 11.3748 6.87244C11.3746 7.0302 11.2906 7.18654 11.1537 7.26559V7.26559Z";function TT({width:e=12,fill:t=_f,style:n}){return bh("svg",{width:e,viewBox:"0 0 12 13",style:n,children:bh("path",{fill:t,d:LT})})}function BT({width:e=6,fill:t=Hf,style:n}){return bh("svg",{width:e,viewBox:"0 0 6 12",style:n,children:bh("path",{d:"M0 1.5L4.5 6L0 10.5L0 12L6 6L0 -1.2666e-07L0 1.5Z",fill:t})})}const AT="M11.1996 5.29346H6.71914V0.813148C6.71914 0.382708 6.43124 0.0339355 6.07639 0.0339355H5.93333C5.57822 0.0339355 5.29058 0.382695 5.29058 0.813148V5.29346H0.810022C0.379705 5.29346 0.0308094 5.58135 0.0308094 5.93633V6.07927C0.0308094 6.43426 0.379705 6.72214 0.810022 6.72214H5.29033V11.2025C5.29033 11.6329 5.57822 11.9817 5.93333 11.9817H6.07613C6.43124 11.9817 6.71914 11.6329 6.71914 11.2025V6.72213H11.1996C11.6298 6.72213 11.9788 6.43424 11.9788 6.07926V5.93632C11.9788 5.58135 11.6298 5.29346 11.1996 5.29346Z";function MT({width:e=12,fill:t=(Kf?jf:_f)}){return bh("svg",{width:e,viewBox:"0 0 12 12",children:bh("path",{fill:t,d:AT})})}const OT=e=>t=>(t.more=e,t),RT=e=>t=>(t.active=e,t),PT=e=>t=>(t.scrollBar.visible=e,t);function FT(e,t,n){for(let o=0;o<e.length;o++){if(!e[o])continue;const i=t(e[o],n);if(!0===i)return;if(!1===i)continue;const r=e[o]?.children;r?.length&&FT(r,t,e[o])}}function HT(e,t,n=[]){for(let o=0;o<e.length;o++){if(!e[o])continue;const i=n.concat(o),r=t(e[o],i);if(!0===r)return;if(!1===r)continue;const l=e[o]?.children;l?.length&&HT(l,t,i)}}function _T(e){const t=[];let n=e.length-1;for(;n>=0&&e[n]&&(t.push(n),!1!==e[n].expand);){const t=e[n].children;if(!t)break;n=(e=t).length-1}return t}function jT(e,t,n,o,i){if(0===t)return;let r=!1;const l=Date.now(),s=100;let c=0;requestAnimationFrame((function a(){r?i?.():(!function(){const n=Date.now(),i=Math.min(s,n-l);i>=s&&(r=!0);let a=i/s*t;a>0?a=Math.floor(a):a<0&&(a=Math.ceil(a));const u=a-c;c=a;const{onChange:d,value:f}=e.current;d(Ud(fB(e,u,o))(f))}(),n.current=requestAnimationFrame(a))}))}function WT(e){const t=e.value.scrollTop/(e.value.scrollHeight-e.value.clientHeight);return isNaN(t)?1:Math.min(1,t)}function zT(e){const t=Math.max(1,e.value.scrollHeight/e.value.clientHeight);return Math.max(e.value.clientHeight/t,Dw)}function VT(e){return(e?.top??0)+(e?.bottom??0)}function $T(e,t,n){let o=0,i=!1;const{tree:r,scrollTop:l,scrollOffset:s,clientHeight:c}=e.value;FT(r,(e=>!!i||(o++,n.id===e.id&&(i=!0),!1!==e.expand&&void 0)));const a=o*tT,u=s?.top??0,d=t.sticky.size-l+tT;return a+u<l+d+tT?a+u-l-d-tT:a+u>l+c?a+u-l-c:0}const ZT=e=>{const{clientHeight:t,scrollHeight:n,scrollOffset:o}=e.value;return{...oT,...e.style,paddingTop:o?.top??0,height:t,overflow:Kf?"scroll":n>t?"hidden":"unset"}},UT=e=>{const t=Kf?0:-e.value.scrollTop,n={position:"relative",overflow:"hidden",height:e.value.scrollHeight,transform:`translate(0, ${t}px)`};return qf&&(delete n.transform,n.top=`${t}px`),n},qT=(e,t)=>{const{scrollTop:n}=e.value;if(0===n)return{};let o=1;t.sticky.size&&(o+=t.sticky.size-n+tT),o=Math.max(0,o);let i=n-1;return Kf&&(o=Math.ceil(o/tT)*tT,i=0),{...rT,height:o,top:i}},YT=(e,t)=>{const n=e.value.scrollOffset,o=t.length*tT,i={...lT,height:o,top:n?.top??0};return e.value.scrollTop<=0&&delete i.boxShadow,i},KT=nc(((e,t)=>{const{value:n,onChange:o}=e.current;o(Ud(pB(t))(n))}),100);function GT(e,t,n){const{scrollTop:o,clientHeight:i,scrollOffset:r,scrollHeight:l}=t;if(l<=i||n<0)return!0;const s=VT(r);return!(o+i+(r?.lower??0)<tT*(n-1)+s)}function XT(e,t){let n=0,o=e[t[n++]];for(;n<t.length;){if(!o?.children)return null;o=o.children[t[n++]]}return o||null}function JT(e,t){if(0===dc(t))return hc(t);if(0===t.length)return t;let n=XT(e,t=eB(t));for(;n?.children?.length&&!1!==n.expand;)n=XT(e,t=[...t,n.children.length-1]);return t}function QT(e,t){let n=XT(e,t);if(n?.children?.length&&!1!==n.expand)return[...t,0];let o=XT(e,hc(t));for(;o?.children&&dc(t)>=o.children.length-1;)t=hc(t),o=XT(e,hc(t));return 0===t.length?t:t=tB(t)}function eB(e){return 0===e.length||0===e[e.length-1]?e:[...e.slice(0,-1),e[e.length-1]-1]}function tB(e){return 0===e.length?e:[...e.slice(0,-1),e[e.length-1]+1]}function nB(e,t){if(!t.length)return e;const n=pc(t)??0,o=e.children?.slice(n);return o?.length&&o[0]&&(o[0]=nB(o[0],t.slice(1))),{...e,edge:!0,children:o}}function oB(e,t=[],n,o,i=0,r){const l=t.length;if(0===l)return;const{scrollTop:s,clientHeight:c,scrollOffset:a,renderStart:u}=e.value;let d=s+c+(a?.lower??0)-(n.current*tT+VT(a));const f=u?.path??[0];let h=r?0:f[i]??0;const p=t[h];if(!p)return;let v=f.length-1>i;!0===r&&(v=!1);const g=[bh(TB,{index:h,...p,inner:r,level:i,edge:v},p.id)];for(h++,d-=tT;l>h&&d>0;){const e=t[h];if(void 0===e)return g;g.push(bh(TB,{index:h,...e,inner:!0,level:i},e.id)),h++,d-=tT}if(2*(i+1)>c/tT)return g;if(s<=0&&!Kf)return g;let m=n.current,y=null;const b=[],C=s+i*tT;for(let e=0;e<g.length;e++){let t=g[e].props;if("page"!==t.type&&"root"!==t.type||!1===t.expand||!t.children?.length){if(y){m+=iB(b),b.length=0;const e=m*tT,t=e-tT;if(C<e&&C>t){y.top=t,delete y.sticky;break}if(!(C>=e))break;delete y.top,delete y.sticky,y=null}}else{m+=iB(b),b.length=0;const e=m*tT,n=e-tT;if(!(C>=e)){if(y&&C>n){y.top=n,delete y.sticky;break}break}t.top=C,t.sticky=!0,delete y?.top,delete y?.sticky,y=t}t.edge&&f.length>i&&(t=nB(t,f.slice(i+1))),b.push(t)}if("page"===y?.type||"root"===y?.type){if(h===l&&dc(g)?.props===y){m+=iB(b),b.length=0;const e=m*tT,t=e-tT;C<e&&C>t?(y.top=t,delete y.sticky):C>=e&&(delete y.top,delete y.sticky)}y.top&&o.current<y.top&&(o.current=y.top)}return g}function iB(e){let t=0;return FT(e,(e=>{if(e.edge||t++,!1===e.expand)return!1})),t}function rB(e){const t=e.renderStart?.path??[];let n=0,o=0,i=e.tree;for(;n<t.length;){const e=t[n]??0;o+=lB(i.slice(0,e))+1,i=i[e]?.children??[],n++}return o>0&&o--,o}function lB(e){let t=0;return FT(e,(e=>{if(t++,!e.expand)return!1})),t}const sB=e=>t=>{const{path:n,id:o}=e,{more:i}=t;if(t.more=void 0,n){if(i){const e=XT(t.tree,i);e&&(e.more=!1)}if(!Fc(i,n)){const e=XT(t.tree,n);e&&(e.more=!e.more,e.more&&(t.more=e.path))}}else HT(t.tree,((e,n)=>{e.id===o?(e.more=!e.more,e.more&&(t.more=n)):e.more=!1}));return t.isEditPending=!0,t},cB=()=>e=>(FT(e.tree,(e=>{e.more=!1})),e.isEditPending=!0,e),aB=e=>t=>(t.isEditPending=e,t),uB=(e=[],t=0)=>n=>{let o=n.tree;if(e.length){const t=XT(n.tree,e);if(!t)return n;if(t.path=e,!t.children)return n;o=t.children}for(let n=t;n<o.length;n++){const t=e.concat(n),i=o[n];i&&(i.path=t,i.children?.length&&HT(i.children,((e,t)=>{e&&(e.path=t)}),t))}return n},dB=()=>e=>(e.renderStart={path:[],index:0},e.scrollTop=0,e.isEditPending=!0,e),fB=(e,t,n)=>o=>0===t||o.scrollHeight<=o.clientHeight?o:(o=pB(!0)(o),KT(e,!1),o=hB(t)(o),o=mB(n.current)(o)),hB=e=>t=>{if(0===e)return t;if(t.scrollHeight<=t.clientHeight)return t=dB()(t);t.scrollTop+=Math.floor(e);let n=t.renderStart?.index??0,o=t.renderStart?.path??[0];0===o.length&&(o=[0]);const i=t.scrollOffset?.top??0,r=t.scrollOffset?.upper??0,l=Kf?i:0;if(t.scrollTop<0)t.scrollTop=0,n<=0&&(o.length>1||o[0]>0)&&n++;else if(t.scrollTop>t.scrollHeight-t.clientHeight+l){const e=t.scrollHeight-t.clientHeight;t.scrollTop=e+l}let s=t.scrollTop-tT*n-i-r;if(e>0){const e=_T(t.tree);for(;s>=tT&&!Fc(o,e);)s-=tT,n++,o=QT(t.tree,o)}else if(e<0){for(;s<=0&&n>0;)s+=tT,n--,o=JT(t.tree,o);n=Math.max(o.length-1,n)}return t.renderStart={path:o,index:n},t},pB=e=>t=>(t.isScrolling=e||void 0,t),vB=e=>t=>(t.scrollActive=e||void 0,t),gB=e=>t=>(t.scrollSmooth=e||void 0,t),mB=e=>t=>{const n=t.scrollOffset?.top??0,o=tT*(e+1)+(Kf?0:n);return o>t.scrollHeight&&(t.scrollHeight=o),t},yB=()=>e=>{const t=e.scrollOffset?.top??0;let n=tT+(Kf?0:t);return FT(e.tree,(e=>{if(n+=tT,!1===e.expand)return!1})),e=bB(n)(e)},bB=e=>t=>{const n=t.scrollOffset?.top??0;return e<t.clientHeight-n&&(e=t.clientHeight-n),t.scrollHeight=e,t=CB()(t)},CB=()=>e=>{const{clientHeight:t,scrollTop:n,scrollHeight:o,scrollOffset:i}=e,r=Kf?i?.top??0:0,l=Math.max(0,Math.min(o-t+r,n));return l!==n&&(e=hB(l-n)(e)),e},wB=(e,t)=>n=>{let{scrollTop:o,renderStart:i,tree:r}=n,l=0,s=!1;if(FT(n.tree,(t=>(s||l++,!!s||(t.id===e.id&&(s=!0),!1!==t.expand&&void 0)))),!1===s)return n;const c=i?.path.length??0;let a=0,u=0;for(;a<c;){const e=i?.path[a]??0;if(u+=lB(r.slice(0,e))+1,r=r[e]?.children??[],u>=l)break;a++}let d=(t??0)-o+tT;const f=(a+1)*tT;f<d&&(d=f);const h=l*tT-d;return h>o?n:(n=hB(h-o)(n),n=vB(!0)(n))},xB=(e,t,n)=>o=>{o=wB(e,t)(o);let{scrollHeight:i,clientHeight:r}=o,l=i<=r,s=!1;function c(e){if(void 0===e.expand?e.expand=!1:e.expand=!e.expand,void 0!==n&&(e.expand=n),l)return!0;FT(e.children??[],(({expand:t})=>{if(!1===e.expand?i-=tT:i+=tT,!1===t)return!1}))}if(e.path){const t=XT(o.tree,e.path);t&&(s=!0,c(t))}else FT(o.tree,(t=>!!s||(t.id===e.id?(s=!0,c(t),!0):!1!==t.expand&&void 0)));return!1===s?o:(l=i<=r,o=l?yB()(o):bB(i)(o),o=aB(!0)(o))},SB=e=>t=>(t.sticky.size=e,t);const EB={default:Rf,hover:Mf,active:Of};function kB(e){return bh(wh,{style:{...bT,backgroundColor:e.more?Af:"transparent"},onClick:e.onClick,onPointerDown:e.onPointerDown,children:bh(Ev,{touchDelay:0,colors:EB,style:CT,children:bh(NT,{})})})}function DB(e){return bh(wh,{style:bT,onClick:e.onClick,onPointerDown:e.onPointerDown,children:bh(Ev,{touchDelay:0,colors:EB,style:CT,children:bh(MT,{})})})}function IB(e){const t=R(KL);let n="hollow"===e.type?ET:kT;if(e.active&&t.activeStyle?.color){const o=t.activeStyle.color;n="hollow"===e.type?{...n,borderColor:o}:{...n,backgroundColor:o}}return bh("div",{style:{...ST,...n}})}function NB(e){const[t,n]=qd((()=>({more:!1,active:!1}))),[o,i]=$({}),[r,l]=$(void 0),s=R(KL),c=R(XL),a=R(QL),u=R(eT),d=Z(null),f=Z(null),h=function(e,t,n){const o=_d(R(KL)),i=_d(e),r=_d(t),l=R(QL),s=R(eT),c=Wd("pointerleave"),a=Wd("pointerenter"),u=Wd("pointermove"),d=Wd("pointerenter"),f=Wd("pointerleave");return F((()=>{const e=d.subscribe((()=>{const{more:e}=r.current;!0!==e&&n(OT(!0))}));return()=>e.unsubscribe()}),[n,d,r]),F((()=>{const e=f.subscribe((()=>{n(OT(!1))}));return()=>e.unsubscribe()}),[n,f]),F((()=>{const e=c.pipe(_u(0)).subscribe((()=>{n(RT(!1))}));return()=>e.unsubscribe()}),[n,c]),F((()=>{const e=c.subscribe((()=>{const e=i.current,t=r.current,{onPointerLeaveBranch:n}=o.current;n?.(e,s,t,l.current)}));return()=>e.unsubscribe()}),[n,c,s,i,r,o,l]),F((()=>{const e=a.subscribe((()=>{const e=i.current,t=r.current,{onPointerEnterBranch:n}=o.current;n?.(e,s,t,l.current)}));return()=>e.unsubscribe()}),[n,a,s,i,r,o,l]),F((()=>{const e=u.subscribe((()=>{const e=i.current,t=r.current,{onPointerMoveBranch:c}=o.current;c?.(e,s,t,l.current),!0!==t.active&&n(RT(!0))}));return()=>e.unsubscribe()}),[n,u,s,i,r,o,l]),{leaf:zd([c,a,u]),more:zd([d,f])}}(e,t,n),p=e.level??0,v=n=>{n.stopPropagation();const{value:o,onChange:i,onClickMore:r,showMore:l}=s;if(!1===l)return;const c=r?.(e,u,t);o&&i&&!c&&i(Ud(sB(e))(o))};F((()=>{if(e.more){const e=d.current?.getBoundingClientRect(),t=f.current?.getBoundingClientRect(),n=c.current?.getBoundingClientRect();if(!e||!t||!n)return;const o=t.bottom,r=n.bottom-o;e.height>r&&r<o?(i({transform:`translate(0, calc(-100% - ${tT+12}px))`}),l(o-tT-64)):(i({}),l(r-tT))}}),[e.more,c]);const g=Cc(e.title)||zc(e.title)?e.title:s.render?.(e,u,t),m=e.more&&s.options?.(e,u,t),y={...fT,...e.style,paddingLeft:"root"!==e.type||e.icon?12:10,...s.leafStyle};t.more||e.more?y.backgroundColor=Pf:e.active&&(y.backgroundColor=Af);const b={...dT};e.active&&(b.backgroundColor=Af);let C=!1;"root"!==e.type&&s.showDot&&!1!==e.dot&&(C=!0),s.flat&&(C=!1);let w=!1;"root"===e.type&&s.showRootArrow&&(w=!0),"root"!==e.type&&(e.children?.length??0)>0&&(w=!0),s.flat&&(w=!1);let x=!1;"root"===e.type&&e.icon&&(x=!0);let S=s.showMore;!1!==S&&!0!==S&&(t.more||t.active||e.more)&&(S=!0);let E=18*p+(s.showRootArrow||x?18:0);!1!==e.dot||w||(E-=15),s.flat&&(E=0);const k=!1===e.touchable?{default:Rf,hover:Rf,active:Ff}:Sv;return Ch("div",{style:b,children:[e.tag&&bh("div",{style:DT,children:bh("svg",{width:10,height:tT,children:bh("path",{fill:Bf,fillOpacity:!1===e.expand?.6:1,d:`M 0 0 L 3 3 L 3 ${tT-3} L 0 ${tT} Z`})})}),bh("div",{style:xT,ref:f}),bh(Ev,{colors:k,style:y,...h.leaf,onClick:n=>{n.stopPropagation();const{value:o,showMore:i,onChange:r,onClickBranch:l}=s;if(o&&r&&!1!==i){const t=[cB()];"page"!==e.type&&"root"!==e.type||t.push(wB(e,a.current)),r(Ud(...t)(o))}l?.(e,u,t,a.current)},onDoubleClick:n=>{n.stopPropagation();const{value:o,showMore:i,onChange:r,onDoubleClickBranch:l}=s;if(o&&r&&!1!==i){const t=[cB()];"root"===e.type&&t.push(dB()),r(Ud(...t)(o))}l?.(e,u,t)},children:g&&Ch("div",{style:{...hT,marginLeft:E},onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),v(e)},children:[w?bh(wh,{onClick:n=>{n.stopPropagation();const{value:o,onChange:i,onClickArrow:r}=s,l=r?.(e,u,t,a.current);o&&!l&&i?.(Ud(xB(e,a.current))(o))},style:{...vT,...!1!==e.expand&&gT,marginTop:Kf&&"outline"!==e.type?e.expand?0:-.5:0,marginLeft:"outline"===e.type?.5:0},children:"outline"!==e.type?bh(BT,{width:Kf?6.5:5.5}):bh(TT,{width:7.5})}):C?bh(IB,{type:"outline"===e.type?"solid":"hollow"}):null,x&&e.icon?bh(wh,{style:mT,children:bh(e.icon,{...e})}):null,bh("div",{style:{...yT,marginRight:"root"===e.type||!1===S?0:24},children:g})]})}),S&&Ch("div",{style:pT,children:[bh(wh,{...h.more,children:bh(kB,{more:!!e.more,onClick:v,onPointerDown:e=>e.stopPropagation()})}),s.showAdd&&bh(wh,{style:{marginRight:-4},children:bh(DB,{onClick:n=>{n.stopPropagation();const{onClickAdd:o}=s;o?.(e,u,t)},onPointerDown:e=>e.stopPropagation()})}),e.more&&m&&oD(bh(wh,{style:{...wT,...o},ref:d,onClick:e=>e.stopPropagation(),children:et(m)?bh(Lg,{style:{width:Uf?160:180},maxHeight:r,options:m,onClick:n=>{const{value:o,onChange:i,onClickMenu:r}=s;o&&i&&i(Ud(sB(e))(o)),r?.(n,e,u,t,a.current)}}):m}),c,f)]})]})}function LB(e){const[t,n]=qd((()=>({more:!1,active:!1}))),o=R(KL),i=R(QL),r=R(eT),l=Z(null),s=e.level??0,c=n=>{n.stopPropagation();const{value:i,onChange:l,onClickMore:s,showMore:c}=o;if(!1===c)return;const a=s?.(e,r,t);i&&l&&!a&&l(Ud(sB(e))(i))},a=Cc(e.title)||zc(e.title)?e.title:o.render?.(e,r,t),u={...fT,...e.style,paddingLeft:"root"!==e.type||e.icon?12:10,...o.leafStyle};t.more||e.more?u.backgroundColor=Pf:e.active&&(u.backgroundColor=Af,o.activeStyle&&Object.assign(u,o.activeStyle));const d={...dT};e.active&&(d.backgroundColor=Af);let f=!1;"root"!==e.type&&o.showDot&&!1!==e.dot&&(f=!0),o.flat&&(f=!1);let h=!1;"root"===e.type&&o.showRootArrow&&(h=!0),"root"!==e.type&&(e.children?.length??0)>0&&(h=!0),o.flat&&(h=!1);let p=!1;"root"===e.type&&e.icon&&(p=!0);let v=o.showMore;!1!==v&&!0!==v&&(t.more||t.active||e.more)&&(v=!0);let g=18*s+(o.showRootArrow||p?18:0);!1!==e.dot||h||(g-=15),o.flat&&(g=0);const m=!1===e.touchable?{default:Rf,hover:Rf,active:Ff}:Sv;let y=Hf,b=_f;if(e.active){const e=o.activeStyle?.color;e&&(y=e,b=e)}return Ch("div",{style:d,children:[e.tag&&bh("div",{style:DT,children:bh("svg",{width:10,height:tT,children:bh("path",{fill:Bf,fillOpacity:!1===e.expand?.6:1,d:`M 0 0 L 3 3 L 3 ${tT-3} L 0 ${tT} Z`})})}),bh("div",{style:xT,ref:l}),bh(Ev,{colors:m,style:u,onClick:n=>{n.stopPropagation();const{value:l,showMore:s,onChange:c,onClickBranch:a}=o;a?.(e,r,t,i.current)},onDoubleClick:n=>{n.stopPropagation();const{value:i,showMore:l,onChange:s,onDoubleClickBranch:c}=o;c?.(e,r,t)},children:a&&Ch("div",{style:{...hT,marginLeft:g},onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),c(e)},children:[h?bh(wh,{onClick:n=>{n.stopPropagation();const{value:l,onChange:s,onClickArrow:c}=o,a=c?.(e,r,t,i.current);l&&!a&&s?.(Ud(xB(e,i.current))(l))},style:{...vT,...!1!==e.expand&&gT,marginTop:Kf&&"outline"!==e.type?e.expand?0:-.5:-1,marginLeft:"outline"===e.type?.5:0},children:"outline"!==e.type?bh(BT,{fill:y,width:Kf?6.5:5.5}):bh(TT,{fill:b,width:7.5})}):f?bh(IB,{active:e.active,type:"outline"===e.type?"solid":"hollow"}):null,p&&e.icon?bh(wh,{style:mT,children:bh(e.icon,{...e})}):null,bh("div",{style:{...yT,marginRight:"root"===e.type||!1===v?0:24},children:a})]})}),v&&Ch("div",{style:pT,children:[bh(wh,{children:bh(kB,{more:!!e.more,onClick:c,onPointerDown:e=>e.stopPropagation()})}),o.showAdd&&bh(wh,{style:{marginRight:-4},children:bh(DB,{onClick:n=>{n.stopPropagation();const{onClickAdd:i}=o;i?.(e,r,t)},onPointerDown:e=>e.stopPropagation()})})]})]})}function TB(e){const t=R(KL),n=R(GL),o=R(JL),i=R(QL),r=R(eT),l=_d(e),{id:s,top:c,type:a,edge:u,inner:d,disabled:f,expand:h,children:p,more:v}=e,{value:{isEditPending:g,scrollTop:m}}=t,y=(e.level??0)+1,b={...sT};let C=!1;"root"!==a&&"page"!==a||Kf?b.top=n.current*tT:(void 0!==c?(b.top=c,e.sticky?b.zIndex=3:b.zIndex=2,C=!0):b.top=n.current*tT,e.sticky&&(b.backgroundColor=Tf)),f&&(b.opacity=.5),e.transition&&!e.sticky&&0!==b.top&&Object.assign(b,aT),e.animation&&!e.sticky&&Object.assign(b,uT),u||n.current++;const w=GT(0,t.value,n.current),x="outline"===a?r??s:s,S=Hd(Boolean(g||!!v)),E=!1===h?[]:oB(t,p,n,i,y,d),k=W((()=>{const e=l.current;return bh(Kf?LB:NB,{...e})}),[S,m]);if(!w&&"root"!==a)return null;if(Kf){function D(e){if(!e)return;const t=e.level??0;o.current[t]=e,o.current.length=t+1}e.sticky&&D(e)}return Ch(yh,{children:[(!u||C||"root"===a&&!Kf)&&bh("div",{style:b,children:k}),!1!==h&&bh(eT,{value:x,children:E})]})}function BB(e){const t=_d(e),n=R(GL),o=_((e=>{const o=t.current,i=(e-WT(o))*(o.value.scrollHeight-o.value.clientHeight);o.onChange(Ud(fB(t,i,n))(o.value))}),[t,n]),i=_((e=>{const o=t.current,i=Math.max(0,o.value.clientHeight*(e-1));o.onChange(Ud(fB(t,i,n))(o.value))}),[t,n]),{clientHeight:r,scrollHeight:l}=e.value;return l>r?bh(Bw,{visible:e.scrollBar.visible,thumb:zT(e),value:WT(e),onChange:o,className:e.className,onChangeInterval:i,...kw(e)}):null}function AB(e){const t=_d(e),n=function(e,t){const n=_d(e),o=R(GL),i=Z(-1),r=Wd("pointermove"),l=Wd("pointerup"),s=Wd("wheel"),c=Wd("scroll"),a=Wd("pointerenter"),u=Wd("pointerleave"),d=Wd("pointerdown"),f=Wd("pointerenter"),h=Wd("pointerleave"),p=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",r.listener),window.addEventListener("pointerup",l.listener),()=>{window.removeEventListener("pointermove",r.listener),window.removeEventListener("pointerup",l.listener)})),[r,l]),F((()=>{const e=s.subscribe((e=>{if(Kf)return;e.stopPropagation(),e.preventDefault();const{value:t,onChange:r}=n.current;if(t.more)return;const l=t.clientHeight,s=Math.max(-l,Math.min(l,e.deltaY));Uf||Math.abs(s)<100?r(Ud(fB(n,s,o))(t)):jT(n,s,i,o)})),t=c.subscribe((e=>{if(!Kf)return;e.stopPropagation();const{value:t,onChange:i}=n.current;if(t.more)return;if(t.scrollActive)return void i(Ud(vB(!1))(t));const r=e.target.scrollTop-t.scrollTop;i(Ud(fB(n,r,o),vB(!1))(t))}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[n,s,c,o]),F((()=>{const e=Au(s,c,d.pipe(mv((()=>r.pipe(vv(u)).pipe(yv(l))))),f).subscribe((()=>{n.current.scrollBar.visible||t(PT(!0))}));return()=>e.unsubscribe()}),[n,t,s,c,d,a,u,f,r,l]),F((()=>{const e=Au(u,f.pipe(mv((()=>h.pipe(yv(p))))),f.pipe(mv((()=>h.pipe(vv(p)).pipe(vv(l))))),s.pipe(mv((()=>s.pipe(sv(1e3)).pipe(yv(f))))),c.pipe(mv((()=>c.pipe(sv(1e3)).pipe(yv(f))))),d.pipe(mv((()=>l.pipe(vv(h)))))).subscribe((()=>{n.current.scrollBar.visible&&t(PT(!1))}));return()=>e.unsubscribe()}),[n,t,s,c,d,a,u,f,h,p,r,l]),{main:zd([s,c,d,a,u]),scrollBar:zd([f,h,p])}}(e,R(YL)),o=Z(null),{value:{scrollTop:i,scrollActive:r,scrollSmooth:l}}=e;H((()=>{if(!Kf||!r)return;const e={top:i};l&&(e.behavior="smooth"),o.current?.scrollTo(e);const{value:n,onChange:s}=t.current;s(Ud(vB(!1),gB(!1))(n))}),[t,i,r,l]);const s=e.ScrollView??"div";return Ch(Kf?"div":Dh,{style:iT,children:[bh(s,{ref:o,className:"no-scrollbar",style:ZT(e),...n.main,children:e.children}),!1!==e.showScrollBar&&bh(BB,{...e,className:e.scrollBarClassName,...n.scrollBar})]})}function MB(e){const t=R(JL),n=[];for(let e=0;e<t.current.length;e++){const o=t.current[e];if(o?.level!==e)break;n.push(o)}return bh("div",{style:YT(e,n),className:e.stickyClassName,children:n.map((e=>bh("div",{style:cT,children:bh(LB,{...e})},e.id)))})}var OB=Object.freeze({__proto__:null,ADD_PATH:AT,Add:DB,AddIcon:MT,Arrow:BT,BRANCH_HEIGHT:tT,Branch:TB,MORE_PATH:IT,Main:AB,More:kB,PageId:eT,ReadMore:NT,ScrollBar:BB,Sticky:QL,StickyMobile:MB,TITLE_HEIGHT:18,TRIANGLE_PATH:LT,TreeContext:KL,TreeDispatch:YL,TreeIndex:GL,TreePortal:XL,TreeSticky:JL,Triangle:TT,adjustBranchLocation:wB,adjustScrollTop:CB,calcBranchDelta:$T,calcReflowIndex:rB,calcScrollBarScale:WT,calcScrollBarThumb:zT,calcScrollOffset:VT,calcStickyDiff:function(e,t){const{scrollTop:n,scrollOffset:o}=e.value;if(t<0)return 0;const i=tT*(t-1),r=o?.top??0;return n>i?n-i-r:-r},contentStyle:UT,countTree:lB,genNextLevelPath:tB,genPrevLevelPath:eB,getBranchByPath:XT,getEndPath:_T,getNextPath:QT,getPrevPath:JT,getTreeSourcePath:function(e,t){const n=[],o=e.indexOf(t[0]);if(-1===o)return n;n.push(o);for(let e=1;e<t.length;e++){const o=t[e-1].children,i=o?.indexOf(t[e]);if(void 0===i||-1===i)break;n.push(i)}return n},glassStyle:e=>{const{scrollOffset:t}=e.value;return{...iT,height:tT+(t?.top??0)}},isBranchInclude:function(e,t){let n=!1;return FT([e],(e=>{if(e.id===t.id)return n=!0,!0})),n},isBranchVisible:GT,mainStyle:ZT,mapTree:function e(t,n,o){t=[...t];for(let i=0;i<t.length;i++){if(!t[i])continue;t[i]=n(t[i],o);const r=t[i]?.children;r?.length&&(t[i].children=e(r,n,t[i]))}return t},recursivePath:HT,recursiveTree:FT,recursiveTreeReverse:function e(t,n,o){for(let i=t.length-1;i>=0;i--){if(!t[i])continue;const r=n(t[i],o);if(!0===r)return;if(!1===r)continue;const l=t[i]?.children;l?.length&&e(l,n,t[i])}},recursiveTreeSource:function e(t,n,o=[],i=[]){for(let r=0;r<t.length;r++){if(!t[r])continue;const l=o.concat(t[r]),s=i.concat(r),c=n(l,s);if(!0===c)return;if(!1===c)continue;const a=t[r]?.children;a?.length&&e(a,n,l,s)}},resetBranceMore:cB,resetTreePath:uB,resetTreeState:dB,saftyTreeState:()=>e=>{const t=e.renderStart?.index??0;return rB(e)!==t&&(e=dB()(e)),e.tree[0].path||(e=uB()(e)),e},scrollDelta:hB,scrollToBranch:(e,t=!0)=>n=>{const{tree:o,scrollTop:i,scrollOffset:r,clientHeight:l,scrollHeight:s}=n;let c=r?.top??0,a=!1;if(FT(o,(t=>!!a||(c+=tT,t.id===e?(a=!0,!0):!1!==t.expand&&void 0))),!a)return n;if(t&&c>i&&c<i+l)return n;c>l/2?c<s-2*l/3&&(c-=l/3):c=0;return n=hB(c-i)(n)},scrollTree:fB,scrollTreeAnimation:jT,scrollTreeSafty:function e(t,n,o,i){const r=t.current,l=r.value.clientHeight;if(n>0){const s=Math.min(n,l),c=Ud(fB(t,s,i))(r.value);r.onChange(c),(n-=l)>0&&(o.current=requestAnimationFrame((()=>{e(t,n,o,i)})))}else if(n<0){const s=Math.max(n,-l),c=Ud(fB(t,s,i))(r.value);r.onChange(c),(n+=l)<0&&(o.current=requestAnimationFrame((()=>{e(t,n,o,i)})))}},setBranchActive:RT,setBranchMore:OT,setBranchPayload:(e,t)=>n=>(FT(n.tree,(n=>{n.id===e.id&&(n.payload=t)})),n.isEditPending=!0,n),setEditPending:aB,setScrollActive:vB,setScrollBarVisible:PT,setScrollHeight:bB,setScrollHeightByIndex:mB,setScrollSmooth:gB,setScrollTop:e=>t=>{const{clientHeight:n,scrollHeight:o,scrollOffset:i}=t,r=Kf?i?.top??0:0;return t.scrollTop=Math.max(0,Math.min(o-n+r,e)),t},setScrolling:pB,setScrollingDebounce:KT,setStickySize:SB,sliceBranchByPath:nB,stickyMobile:YT,stickyStyle:qT,syncScrollHeight:yB,toggleBranchArrow:xB,toggleBranchMore:sB,virtualRender:oB});function RB({className:e,contentClassName:t,...n}){const[o,i]=qd((()=>({scrollBar:{visible:!1},sticky:{size:0}}))),r=Z(null),l=Z(0),s=Z(0),c=Z([]),a={...n,...o};!function(e,t,n,o,i,r){const l=_d(e),s=_d(t),c=Z(-1),{isEditPending:a}=e.value,u=Hd(a);H((()=>{const{value:e,onChange:t}=l.current;e.isEditPending&&t(Ud(aB(!1),mB(o.current))(e))}),[l,o,u]),H((()=>{t.sticky.size!==i.current&&n(SB(i.current))})),j(r,(()=>({scrollIntoView(e,t,n){const{value:i,onChange:r}=l.current;t?(cancelAnimationFrame(c.current),jT(l,e,c,o,n)):(cancelAnimationFrame(c.current),r(Ud(fB(l,e,o))(i)))},scrollBranchIntoView(e,t,n){const{value:i,onChange:r}=l.current,a=$T(l.current,s.current,e);0!==a&&(t?(cancelAnimationFrame(c.current),jT(l,a,c,o,n)):(cancelAnimationFrame(c.current),r(Ud(fB(l,a,o))(i))))}})))}(n,o,i,l,s,n.ref);const{tree:u,renderStart:d}=n.value;l.current=d?.index??0,s.current=0,c.current.length=0;const f=oB(n,u,l,s);return bh(YL,{value:i,children:bh(KL,{value:n,children:bh(XL,{value:r,children:bh(GL,{value:l,children:bh(JL,{value:c,children:bh(QL,{value:s,children:bh(eT,{value:null,children:Ch("div",{style:nT,className:e,children:[bh(AB,{...a,children:Ch("div",{style:UT(n),className:t,children:[f,!Kf&&bh("div",{style:qT(n,o)})]})}),Kf&&bh(MB,{...a}),bh(tD,{ref:r})]})})})})})})})})}const PB={display:"flex",alignItems:"center"},FB={width:"0.75em",height:"0.75em",borderWidth:1.5,borderRadius:3,borderStyle:"solid",borderColor:"currentcolor",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"0.35em",cursor:"pointer"},HB={width:"0.45em",height:"0.28em",borderWidth:0,borderLeftWidth:2,borderBottomWidth:2,borderBottomLeftRadius:1,borderColor:"currentColor",borderStyle:"solid",transform:"rotate(-45deg)",position:"relative",top:-1.5},_B={};function jB(e){const[t,n]=$(e.defaultValue);let o=t;return void 0!==e.value&&(o=e.value),Ch(wh,{style:{...PB,...e.style},children:[bh(wh,{style:{...FB,...e.checkStyle},onClick:()=>{void 0===e.value?(n(!t),e.onChange?.(!t)):e.onChange?.(!e.value)},children:o?bh("div",{style:HB}):null}),bh("div",{style:_B,children:e.children})]})}var WB;!function(e){e[e.NONE=0]="NONE",e[e.BEFORE_ENTER_WORKSPACE=1]="BEFORE_ENTER_WORKSPACE",e[e.ENTER_WORKSPACE=2]="ENTER_WORKSPACE",e[e.LEAVE_WORKSPACE=3]="LEAVE_WORKSPACE",e[e.AFTER_ENTER_TRANSITION_WORKSPACE=4]="AFTER_ENTER_TRANSITION_WORKSPACE",e[e.BEFORE_ENTER_HOME=5]="BEFORE_ENTER_HOME",e[e.ENTER_HOME=6]="ENTER_HOME",e[e.LEAVE_HOME=7]="LEAVE_HOME",e[e.AFTER_ENTER_TRANSITION_HOME=8]="AFTER_ENTER_TRANSITION_HOME"}(WB||(WB={}));var zB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function VB(e){return"string"==typeof e&&zB.test(e)}const $B=[];for(let e=0;e<256;++e)$B.push((e+256).toString(16).slice(1));let ZB;const UB=new Uint8Array(16);var qB={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function YB(e,t,n){if(qB.randomUUID&&!t&&!e)return qB.randomUUID();const o=(e=e||{}).random??e.rng?.()??function(){if(!ZB){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ZB=crypto.getRandomValues.bind(crypto)}return ZB(UB)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return($B[e[t+0]]+$B[e[t+1]]+$B[e[t+2]]+$B[e[t+3]]+"-"+$B[e[t+4]]+$B[e[t+5]]+"-"+$B[e[t+6]]+$B[e[t+7]]+"-"+$B[e[t+8]]+$B[e[t+9]]+"-"+$B[e[t+10]]+$B[e[t+11]]+$B[e[t+12]]+$B[e[t+13]]+$B[e[t+14]]+$B[e[t+15]]).toLowerCase()}(o)}const KB={workspace:"workspace",editor:"editor",tools:"tools",about:"about",help:"help",more:"more",cloud:"cloud",share:"share",webdav:"webdav",setting:"setting",official:"official",update:"update",reader:"reader",float:"float",moving:"moving",blank:"blank",search:"search",selector:"selector"};YB(),YB();var GB="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function XB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JB(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function QB(e,t){for(var n,o="",i=0,r=-1,l=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(r===s-1||1===l);else if(r!==s-1&&2===l){if(o.length<2||2!==i||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){var c=o.lastIndexOf("/");if(c!==o.length-1){-1===c?(o="",i=0):i=(o=o.slice(0,c)).length-1-o.lastIndexOf("/"),r=s,l=0;continue}}else if(2===o.length||1===o.length){o="",i=0,r=s,l=0;continue}t&&(o.length>0?o+="/..":o="..",i=2)}else o.length>0?o+="/"+e.slice(r+1,s):o=e.slice(r+1,s),i=s-r-1;r=s,l=0}else 46===n&&-1!==l?++l:l=-1}return o}var eA={resolve:function(){for(var e,t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i;o>=0?i=arguments[o]:(void 0===e&&(e=process.cwd()),i=e),JB(i),0!==i.length&&(t=i+"/"+t,n=47===i.charCodeAt(0))}return t=QB(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(JB(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=QB(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return JB(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];JB(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":eA.normalize(e)},relative:function(e,t){if(JB(e),JB(t),e===t)return"";if((e=eA.resolve(e))===(t=eA.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var o=e.length,i=o-n,r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var l=t.length-r,s=i<l?i:l,c=-1,a=0;a<=s;++a){if(a===s){if(l>s){if(47===t.charCodeAt(r+a))return t.slice(r+a+1);if(0===a)return t.slice(r+a)}else i>s&&(47===e.charCodeAt(n+a)?c=a:0===a&&(c=0));break}var u=e.charCodeAt(n+a);if(u!==t.charCodeAt(r+a))break;47===u&&(c=a)}var d="";for(a=n+c+1;a<=o;++a)a!==o&&47!==e.charCodeAt(a)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(r+c):(r+=c,47===t.charCodeAt(r)&&++r,t.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(JB(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,o=-1,i=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!i){o=r;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');JB(e);var n,o=0,i=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!r){o=n+1;break}}else-1===s&&(r=!1,s=n+1),l>=0&&(c===t.charCodeAt(l)?-1==--l&&(i=n):(l=-1,i=s))}return o===i?i=s:-1===i&&(i=e.length),e.slice(o,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!r){o=n+1;break}}else-1===i&&(r=!1,i=n+1);return-1===i?"":e.slice(o,i)},extname:function(e){JB(e);for(var t=-1,n=0,o=-1,i=!0,r=0,l=e.length-1;l>=0;--l){var s=e.charCodeAt(l);if(47!==s)-1===o&&(i=!1,o=l+1),46===s?-1===t?t=l:1!==r&&(r=1):-1!==t&&(r=-1);else if(!i){n=l+1;break}}return-1===t||-1===o||0===r||1===r&&t===o-1&&t===n+1?"":e.slice(t,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,o=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+o:n+e+o:o}("/",e)},parse:function(e){JB(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,o=e.charCodeAt(0),i=47===o;i?(t.root="/",n=1):n=0;for(var r=-1,l=0,s=-1,c=!0,a=e.length-1,u=0;a>=n;--a)if(47!==(o=e.charCodeAt(a)))-1===s&&(c=!1,s=a+1),46===o?-1===r?r=a:1!==u&&(u=1):-1!==r&&(u=-1);else if(!c){l=a+1;break}return-1===r||-1===s||0===u||1===u&&r===s-1&&r===l+1?-1!==s&&(t.base=t.name=0===l&&i?e.slice(1,s):e.slice(l,s)):(0===l&&i?(t.name=e.slice(1,r),t.base=e.slice(1,s)):(t.name=e.slice(l,r),t.base=e.slice(l,s)),t.ext=e.slice(r,s)),l>0?t.dir=e.slice(0,l-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};eA.posix=eA;for(var tA=eA,nA=XB(tA),oA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),rA=0;rA<64;rA++)iA[oA.charCodeAt(rA)]=rA;var lA=function(e){var t,n=new Uint8Array(e),o=n.length,i="";for(t=0;t<o;t+=3)i+=oA[n[t]>>2],i+=oA[(3&n[t])<<4|n[t+1]>>4],i+=oA[(15&n[t+1])<<2|n[t+2]>>6],i+=oA[63&n[t+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},sA=function(e){var t,n,o,i,r,l=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(l--,"="===e[e.length-2]&&l--);var a=new ArrayBuffer(l),u=new Uint8Array(a);for(t=0;t<s;t+=4)n=iA[e.charCodeAt(t)],o=iA[e.charCodeAt(t+1)],i=iA[e.charCodeAt(t+2)],r=iA[e.charCodeAt(t+3)],u[c++]=n<<2|o>>4,u[c++]=(15&o)<<4|i>>2,u[c++]=(3&i)<<6|63&r;return a};async function cA(e,t){function n(e){return"json"===(null==t?void 0:t.type)?e.json():"arrayBuffer"===(null==t?void 0:t.type)?e.arrayBuffer():"formData"===(null==t?void 0:t.type)?e.formData():"text"===(null==t?void 0:t.type)?e.text():e.arrayBuffer()}if(rh){if(e.startsWith(".")){const o=nA.join("https://com.codeartel.slinote",e);return fetch(o,{...t,mode:"no-cors"}).then(n)}return new Promise(((n,o)=>{const i=null==t?void 0:t.headers;if("application/octet-stream"===(null==i?void 0:i["Content-Type"])&&(null==t?void 0:t.body)&&Tc(t.body)){const e=lA(t.body);t={...t,body:e}}WebPro.fetch(e,null!=t?t:{},(e=>{if(null!==e)if("arrayBuffer"!==(null==t?void 0:t.type))if("json"!==(null==t?void 0:t.type))n(e);else try{n(JSON.parse(e))}catch(e){o()}else{const t=sA(e);n(t)}else o()}))}))}return Gf?e.startsWith(".")?fetch(e,t).then(n):electron.net.fetch(e,t).then((e=>e.data)):fetch(e,t).then(n)}var aA={},uA={};!function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+t+"]["+(t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",o=new RegExp("^"+n+"$");e.isExist=function(e){return void 0!==e},e.isEmptyObject=function(e){return 0===Object.keys(e).length},e.merge=function(e,t,n){if(t){const o=Object.keys(t),i=o.length;for(let r=0;r<i;r++)e[o[r]]="strict"===n?[t[o[r]]]:t[o[r]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(e){const t=o.exec(e);return!(null==t)},e.getAllMatches=function(e,t){const n=[];let o=t.exec(e);for(;o;){const i=[];i.startIndex=t.lastIndex-o[0].length;const r=o.length;for(let e=0;e<r;e++)i.push(o[e]);n.push(i),o=t.exec(e)}return n},e.nameRegexp=n}(uA);const dA=uA,fA={allowBooleanAttributes:!1,unpairedTags:[]};function hA(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function pA(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const o=e.substr(n,t-n);if(t>5&&"xml"===o)return xA("InvalidXml","XML declaration allowed only at the start of the document.",EA(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function vA(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}aA.validate=function(e,t){t=Object.assign({},fA,t);const n=[];let o=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let l=0;l<e.length;l++)if("<"===e[l]&&"?"===e[l+1]){if(l+=2,l=pA(e,l),l.err)return l}else{if("<"!==e[l]){if(hA(e[l]))continue;return xA("InvalidChar","char '"+e[l]+"' is not expected.",EA(e,l))}{let s=l;if(l++,"!"===e[l]){l=vA(e,l);continue}{let c=!1;"/"===e[l]&&(c=!0,l++);let a="";for(;l<e.length&&">"!==e[l]&&" "!==e[l]&&"\t"!==e[l]&&"\n"!==e[l]&&"\r"!==e[l];l++)a+=e[l];if(a=a.trim(),"/"===a[a.length-1]&&(a=a.substring(0,a.length-1),l--),r=a,!dA.isName(r)){let t;return t=0===a.trim().length?"Invalid space after '<'.":"Tag '"+a+"' is an invalid name.",xA("InvalidTag",t,EA(e,l))}const u=yA(e,l);if(!1===u)return xA("InvalidAttr","Attributes for '"+a+"' have open quote.",EA(e,l));let d=u.value;if(l=u.index,"/"===d[d.length-1]){const n=l-d.length;d=d.substring(0,d.length-1);const i=CA(d,t);if(!0!==i)return xA(i.err.code,i.err.msg,EA(e,n+i.err.line));o=!0}else if(c){if(!u.tagClosed)return xA("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",EA(e,l));if(d.trim().length>0)return xA("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",EA(e,s));if(0===n.length)return xA("InvalidTag","Closing tag '"+a+"' has not been opened.",EA(e,s));{const t=n.pop();if(a!==t.tagName){let n=EA(e,t.tagStartPos);return xA("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+a+"'.",EA(e,s))}0==n.length&&(i=!0)}}else{const r=CA(d,t);if(!0!==r)return xA(r.err.code,r.err.msg,EA(e,l-d.length+r.err.line));if(!0===i)return xA("InvalidXml","Multiple possible root nodes found.",EA(e,l));-1!==t.unpairedTags.indexOf(a)||n.push({tagName:a,tagStartPos:s}),o=!0}for(l++;l<e.length;l++)if("<"===e[l]){if("!"===e[l+1]){l++,l=vA(e,l);continue}if("?"!==e[l+1])break;if(l=pA(e,++l),l.err)return l}else if("&"===e[l]){const t=wA(e,l);if(-1==t)return xA("InvalidChar","char '&' is not expected.",EA(e,l));l=t}else if(!0===i&&!hA(e[l]))return xA("InvalidXml","Extra text at the end",EA(e,l));"<"===e[l]&&l--}}}var r;return o?1==n.length?xA("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",EA(e,n[0].tagStartPos)):!(n.length>0)||xA("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):xA("InvalidXml","Start tag expected.",1)};const gA='"',mA="'";function yA(e,t){let n="",o="",i=!1;for(;t<e.length;t++){if(e[t]===gA||e[t]===mA)""===o?o=e[t]:o!==e[t]||(o="");else if(">"===e[t]&&""===o){i=!0;break}n+=e[t]}return""===o&&{value:n,index:t,tagClosed:i}}const bA=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function CA(e,t){const n=dA.getAllMatches(e,bA),o={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return xA("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",kA(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return xA("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",kA(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return xA("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",kA(n[e]));const i=n[e][2];if(!SA(i))return xA("InvalidAttr","Attribute '"+i+"' is an invalid name.",kA(n[e]));if(o.hasOwnProperty(i))return xA("InvalidAttr","Attribute '"+i+"' is repeated.",kA(n[e]));o[i]=1}return!0}function wA(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function xA(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function SA(e){return dA.isName(e)}function EA(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function kA(e){return e.startIndex+e[1].length}var DA={};const IA={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};DA.buildOptions=function(e){return Object.assign({},IA,e)},DA.defaultOptions=IA;var NA=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};const LA=uA;function TA(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const o=e[t++];let i="";for(;t<e.length&&e[t]!==o;t++)i+=e[t];return[n,i,t]}function BA(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function AA(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function MA(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function OA(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function RA(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function PA(e){if(LA.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var FA=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let o=1,i=!1,r=!1,l="";for(;t<e.length;t++)if("<"!==e[t]||r)if(">"===e[t]){if(r?"-"===e[t-1]&&"-"===e[t-2]&&(r=!1,o--):o--,0===o)break}else"["===e[t]?i=!0:l+=e[t];else{if(i&&AA(e,t))t+=7,[entityName,val,t]=TA(e,t+1),-1===val.indexOf("&")&&(n[PA(entityName)]={regx:RegExp(`&${entityName};`,"g"),val:val});else if(i&&MA(e,t))t+=8;else if(i&&OA(e,t))t+=8;else if(i&&RA(e,t))t+=9;else{if(!BA)throw new Error("Invalid DOCTYPE");r=!0}o++,l=""}if(0!==o)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}};const HA=/^[-+]?0x[a-fA-F0-9]+$/,_A=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const jA={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};var WA=function(e,t={}){if(t=Object.assign({},jA,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&HA.test(n))return Number.parseInt(n,16);{const o=_A.exec(n);if(o){const i=o[1],r=o[2];let l=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(o[3]);const s=o[4]||o[6];if(!t.leadingZeros&&r.length>0&&i&&"."!==n[2])return e;if(!t.leadingZeros&&r.length>0&&!i&&"."!==n[1])return e;{const o=Number(n),c=""+o;return-1!==c.search(/[eE]/)||s?t.eNotation?o:e:-1!==n.indexOf(".")?"0"===c&&""===l||c===l||i&&c==="-"+l?o:e:r?l===c||i+l===c?o:e:n===c||n===i+c?o:e}}return e}};const zA=uA,VA=NA,$A=FA,ZA=WA;function UA(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const o=t[n];this.lastEntities[o]={regex:new RegExp("&"+o+";","g"),val:e[o]}}}function qA(e,t,n,o,i,r,l){if(void 0!==e&&(this.options.trimValues&&!o&&(e=e.trim()),e.length>0)){l||(e=this.replaceEntitiesValue(e));const o=this.options.tagValueProcessor(t,e,n,i,r);if(null==o)return e;if(typeof o!=typeof e||o!==e)return o;if(this.options.trimValues)return rM(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?rM(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function YA(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}const KA=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function GA(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=zA.getAllMatches(e,KA),o=n.length,i={};for(let e=0;e<o;e++){const o=this.resolveNameSpace(n[e][1]);let r=n[e][4],l=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),"__proto__"===l&&(l="#__proto__"),void 0!==r){this.options.trimValues&&(r=r.trim()),r=this.replaceEntitiesValue(r);const e=this.options.attributeValueProcessor(o,r,t);i[l]=null==e?r:typeof e!=typeof r||e!==r?e:rM(r,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const XA=function(e){e=e.replace(/\r\n?/g,"\n");const t=new VA("!xml");let n=t,o="",i="";for(let r=0;r<e.length;r++){if("<"===e[r])if("/"===e[r+1]){const t=nM(e,">",r,"Closing Tag is not closed.");let l=e.substring(r+2,t).trim();if(this.options.removeNSPrefix){const e=l.indexOf(":");-1!==e&&(l=l.substr(e+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&(o=this.saveTextToParentTag(o,n,i));const s=i.substring(i.lastIndexOf(".")+1);if(l&&-1!==this.options.unpairedTags.indexOf(l))throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let c=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(c=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=i.lastIndexOf("."),i=i.substring(0,c),n=this.tagsNodeStack.pop(),o="",r=t}else if("?"===e[r+1]){let t=oM(e,r,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(o=this.saveTextToParentTag(o,n,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new VA(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName)),this.addChild(n,e,i)}r=t.closeIndex+1}else if("!--"===e.substr(r+1,3)){const t=nM(e,"--\x3e",r+4,"Comment is not closed.");if(this.options.commentPropName){const l=e.substring(r+4,t-2);o=this.saveTextToParentTag(o,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}r=t}else if("!D"===e.substr(r+1,2)){const t=$A(e,r);this.docTypeEntities=t.entities,r=t.i}else if("!["===e.substr(r+1,2)){const t=nM(e,"]]>",r,"CDATA is not closed.")-2,l=e.substring(r+9,t);o=this.saveTextToParentTag(o,n,i);let s=this.parseTextData(l,n.tagname,i,!0,!1,!0,!0);null==s&&(s=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):n.add(this.options.textNodeName,s),r=t+2}else{let l=oM(e,r,this.options.removeNSPrefix),s=l.tagName;const c=l.rawTagName;let a=l.tagExp,u=l.attrExpPresent,d=l.closeIndex;this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&o&&"!xml"!==n.tagname&&(o=this.saveTextToParentTag(o,n,i,!1));const f=n;if(f&&-1!==this.options.unpairedTags.indexOf(f.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),s!==t.tagname&&(i+=i?"."+s:s),this.isItStopNode(this.options.stopNodes,i,s)){let t="";if(a.length>0&&a.lastIndexOf("/")===a.length-1)"/"===s[s.length-1]?(s=s.substr(0,s.length-1),i=i.substr(0,i.length-1),a=s):a=a.substr(0,a.length-1),r=l.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(s))r=l.closeIndex;else{const n=this.readStopNodeData(e,c,d+1);if(!n)throw new Error(`Unexpected end of ${c}`);r=n.i,t=n.tagContent}const o=new VA(s);s!==a&&u&&(o[":@"]=this.buildAttributesMap(a,i,s)),t&&(t=this.parseTextData(t,s,i,!0,u,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),o.add(this.options.textNodeName,t),this.addChild(n,o,i)}else{if(a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===s[s.length-1]?(s=s.substr(0,s.length-1),i=i.substr(0,i.length-1),a=s):a=a.substr(0,a.length-1),this.options.transformTagName&&(s=this.options.transformTagName(s));const e=new VA(s);s!==a&&u&&(e[":@"]=this.buildAttributesMap(a,i,s)),this.addChild(n,e,i),i=i.substr(0,i.lastIndexOf("."))}else{const e=new VA(s);this.tagsNodeStack.push(n),s!==a&&u&&(e[":@"]=this.buildAttributesMap(a,i,s)),this.addChild(n,e,i),n=e}o="",r=d}}else o+=e[r]}return t.child};function JA(e,t,n){const o=this.options.updateTag(t.tagname,n,t[":@"]);!1===o||("string"==typeof o?(t.tagname=o,e.addChild(t)):e.addChild(t))}const QA=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function eM(e,t,n,o){return e&&(void 0===o&&(o=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,o))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function tM(e,t,n){const o="*."+n;for(const n in e){const i=e[n];if(o===i||t===i)return!0}return!1}function nM(e,t,n,o){const i=e.indexOf(t,n);if(-1===i)throw new Error(o);return i+t.length-1}function oM(e,t,n,o=">"){const i=function(e,t,n=">"){let o,i="";for(let r=t;r<e.length;r++){let t=e[r];if(o)t===o&&(o="");else if('"'===t||"'"===t)o=t;else if(t===n[0]){if(!n[1])return{data:i,index:r};if(e[r+1]===n[1])return{data:i,index:r}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,o);if(!i)return;let r=i.data;const l=i.index,s=r.search(/\s/);let c=r,a=!0;-1!==s&&(c=r.substring(0,s),r=r.substring(s+1).trimStart());const u=c;if(n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),a=c!==i.data.substr(e+1))}return{tagName:c,tagExp:r,closeIndex:l,attrExpPresent:a,rawTagName:u}}function iM(e,t,n){const o=n;let i=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const r=nM(e,">",n,`${t} is not closed`);if(e.substring(n+2,r).trim()===t&&(i--,0===i))return{tagContent:e.substring(o,n),i:r};n=r}else if("?"===e[n+1]){n=nM(e,"?>",n+1,"StopNode is not closed.")}else if("!--"===e.substr(n+1,3)){n=nM(e,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===e.substr(n+1,2)){n=nM(e,"]]>",n,"StopNode is not closed.")-2}else{const o=oM(e,n,">");if(o){(o&&o.tagName)===t&&"/"!==o.tagExp[o.tagExp.length-1]&&i++,n=o.closeIndex}}}function rM(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&ZA(e,n)}return zA.isExist(e)?e:""}var lM=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,16))}},this.addExternalEntities=UA,this.parseXml=XA,this.parseTextData=qA,this.resolveNameSpace=YA,this.buildAttributesMap=GA,this.isItStopNode=tM,this.replaceEntitiesValue=QA,this.readStopNodeData=iM,this.saveTextToParentTag=eM,this.addChild=JA}},sM={};function cM(e,t,n){let o;const i={};for(let r=0;r<e.length;r++){const l=e[r],s=aM(l);let c="";if(c=void 0===n?s:n+"."+s,s===t.textNodeName)void 0===o?o=l[s]:o+=""+l[s];else{if(void 0===s)continue;if(l[s]){let e=cM(l[s],t,c);const n=dM(e,t);l[":@"]?uM(e,l[":@"],c,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==i[s]&&i.hasOwnProperty(s)?(Array.isArray(i[s])||(i[s]=[i[s]]),i[s].push(e)):t.isArray(s,c,n)?i[s]=[e]:i[s]=e}}}return"string"==typeof o?o.length>0&&(i[t.textNodeName]=o):void 0!==o&&(i[t.textNodeName]=o),i}function aM(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function uM(e,t,n,o){if(t){const i=Object.keys(t),r=i.length;for(let l=0;l<r;l++){const r=i[l];o.isArray(r,n+"."+r,!0,!0)?e[r]=[t[r]]:e[r]=t[r]}}}function dM(e,t){const{textNodeName:n}=t,o=Object.keys(e).length;return 0===o||!(1!==o||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}sM.prettify=function(e,t){return cM(e,t)};const{buildOptions:fM}=DA,hM=lM,{prettify:pM}=sM,vM=aA;var gM=class{constructor(e){this.externalEntities={},this.options=fM(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=vM.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new hM(this.options);n.addExternalEntities(this.externalEntities);const o=n.parseXml(e);return this.options.preserveOrder||void 0===o?o:pM(o,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}};function mM(e,t,n,o){let i="",r=!1;for(let l=0;l<e.length;l++){const s=e[l],c=yM(s);if(void 0===c)continue;let a="";if(a=0===n.length?c:`${n}.${c}`,c===t.textNodeName){let e=s[c];CM(a,t)||(e=t.tagValueProcessor(c,e),e=wM(e,t)),r&&(i+=o),i+=e,r=!1;continue}if(c===t.cdataPropName){r&&(i+=o),i+=`<![CDATA[${s[c][0][t.textNodeName]}]]>`,r=!1;continue}if(c===t.commentPropName){i+=o+`\x3c!--${s[c][0][t.textNodeName]}--\x3e`,r=!0;continue}if("?"===c[0]){const e=bM(s[":@"],t),n="?xml"===c?"":o;let l=s[c][0][t.textNodeName];l=0!==l.length?" "+l:"",i+=n+`<${c}${l}${e}?>`,r=!0;continue}let u=o;""!==u&&(u+=t.indentBy);const d=o+`<${c}${bM(s[":@"],t)}`,f=mM(s[c],t,a,u);-1!==t.unpairedTags.indexOf(c)?t.suppressUnpairedNode?i+=d+">":i+=d+"/>":f&&0!==f.length||!t.suppressEmptyNode?f&&f.endsWith(">")?i+=d+`>${f}${o}</${c}>`:(i+=d+">",f&&""!==o&&(f.includes("/>")||f.includes("</"))?i+=o+t.indentBy+f+o:i+=f,i+=`</${c}>`):i+=d+"/>",r=!0}return i}function yM(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const o=t[n];if(e.hasOwnProperty(o)&&":@"!==o)return o}}function bM(e,t){let n="";if(e&&!t.ignoreAttributes)for(let o in e){if(!e.hasOwnProperty(o))continue;let i=t.attributeValueProcessor(o,e[o]);i=wM(i,t),!0===i&&t.suppressBooleanAttributes?n+=` ${o.substr(t.attributeNamePrefix.length)}`:n+=` ${o.substr(t.attributeNamePrefix.length)}="${i}"`}return n}function CM(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let o in t.stopNodes)if(t.stopNodes[o]===e||t.stopNodes[o]==="*."+n)return!0;return!1}function wM(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const o=t.entities[n];e=e.replace(o.regex,o.val)}return e}var xM=function(e,t){let n="";return t.format&&t.indentBy.length>0&&(n="\n"),mM(e,t,"",n)};const SM=xM,EM={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function kM(e){this.options=Object.assign({},EM,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=NM),this.processTextOrObjNode=DM,this.options.format?(this.indentate=IM,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function DM(e,t,n){const o=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,o.attrStr,n):this.buildObjectNode(o.val,t,o.attrStr,n)}function IM(e){return this.options.indentBy.repeat(e)}function NM(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}kM.prototype.build=function(e){return this.options.preserveOrder?SM(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},kM.prototype.j2x=function(e,t){let n="",o="";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(void 0===e[i])this.isAttribute(i)&&(o+="");else if(null===e[i])this.isAttribute(i)?o+="":"?"===i[0]?o+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)o+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){const r=this.isAttribute(i);if(r)n+=this.buildAttrPairStr(r,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);o+=this.replaceEntitiesValue(t)}else o+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const n=e[i].length;let r="",l="";for(let s=0;s<n;s++){const n=e[i][s];if(void 0===n);else if(null===n)"?"===i[0]?o+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof n)if(this.options.oneListGroup){const e=this.j2x(n,t+1);r+=e.val,this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(l+=e.attrStr)}else r+=this.processTextOrObjNode(n,i,t);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(i,n);e=this.replaceEntitiesValue(e),r+=e}else r+=this.buildTextValNode(n,i,"",t)}this.options.oneListGroup&&(r=this.buildObjectNode(r,i,l,t)),o+=r}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),o=t.length;for(let r=0;r<o;r++)n+=this.buildAttrPairStr(t[r],""+e[i][t[r]])}else o+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:o}},kM.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},kM.prototype.buildObjectNode=function(e,t,n,o){if(""===e)return"?"===t[0]?this.indentate(o)+"<"+t+n+"?"+this.tagEndChar:this.indentate(o)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,r="";return"?"===t[0]&&(r="?",i=""),!n&&""!==n||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===r.length?this.indentate(o)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(o)+"<"+t+n+r+this.tagEndChar+e+this.indentate(o)+i:this.indentate(o)+"<"+t+n+r+">"+e+i}},kM.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},kM.prototype.buildTextValNode=function(e,t,n,o){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(o)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(o)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(o)+"<"+t+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),""===i?this.indentate(o)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(o)+"<"+t+n+">"+i+"</"+t+this.tagEndChar}},kM.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};var LM,TM={XMLParser:gM,XMLValidator:aA,XMLBuilder:kM};
/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2020 Olivier Scherrer <pode.fr@gmail.com>
*/function BM(e){return new TM.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)}function AM(e,t,n=!1){const{getlastmodified:o=null,getcontentlength:i="0",resourcetype:r=null,getcontenttype:l=null,getetag:s=null}=e,c=r&&"object"==typeof r&&void 0!==r.collection?"directory":"file",a={filename:t,basename:nA.basename(t),lastmod:o,size:parseInt(i,10),type:c,etag:"string"==typeof s?s.replace(/"/g,""):null};return"file"===c&&(a.mime=l&&"string"==typeof l?l.split(";")[0]:""),n&&(void 0!==e.displayname&&(e.displayname=String(e.displayname)),a.props=e),a}function MM(e){let t=e;return"/"!==t[0]&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.slice(0,-1)),t}!function(e){e.Array="array",e.Object="object",e.Original="original"}(LM||(LM={}));class OM{constructor(e,t){this.authorization="",this.url=e.replace(/\/$/,""),this.path=function(e){let t=new URL(e).pathname;return t.length<=0&&(t="/"),MM(t)}(this.url),this.options=t,this.initAuthorization()}initAuthorization(){const{username:e,password:t}=this.options,n=window.btoa(`${e}:${t}`);this.authorization=`Basic ${n}`}async getStat(e){var t,n,o;const i=await cA(`${this.url}${e}`,{method:"PROPFIND",type:"text",headers:{Accept:"text/plain,application/xml",Depth:"0",Authorization:this.authorization}}),r=Cc(i)?i:null==i?void 0:i.content;if(!r)return{code:404};const l=BM(r),s=VM(l);if(200!==s.code)return s;let c=null===(t=null==l?void 0:l.multistatus)||void 0===t?void 0:t.response;if(Array.isArray(c)&&(c=c[0]),void 0===c)return{code:404};const a=null===(n=c.propstat)||void 0===n?void 0:n.prop,u=null===(o=c.propstat)||void 0===o?void 0:o.status;if(!a||!u)return{code:404};const[,d]=u.split(" ",3);if(parseInt(d,10)>=400)return{code:400};return{code:200,data:AM(a,MM(e))}}async getDirectoryContents(e){var t;const n=await cA(tA.join(this.url,e),{method:"PROPFIND",type:"text",headers:{Accept:"text/plain,application/xml",Depth:"1",Authorization:this.authorization}}),o=Cc(n)?n:null==n?void 0:n.content;if(!o)return{code:404};const i=BM(o),r=VM(i);if(200!==r.code&&201!==r.code)return r;let l=null===(t=null==i?void 0:i.multistatus)||void 0===t?void 0:t.response;if(void 0===l)return{code:404};Array.isArray(l)||(l=[l]);const s=tA.join(this.path,"/"),c=(a=e,a.startsWith("/")?a:"/"+a).replace(/\/$/,"");var a;const u=l.map((e=>{const t=function(e){return e.replace(/^https?:\/\/[^\/]+/,"")}(e.href);return AM(e.propstat.prop,"/"===s?decodeURIComponent(MM(t)):MM(tA.relative(decodeURIComponent(s),decodeURIComponent(t))))})).filter((e=>{if(e.basename){if("file"===e.type)return!0;if(e.filename!==c)return!0}return!1}));return{code:200,data:u}}async createDirectory(e){const t=await cA(tA.join(this.url,e),{method:"MKCOL",type:"text",headers:{Authorization:this.authorization}}),n=Cc(t)?t:null==t?void 0:t.content;return void 0===n?{code:403}:""===n?{code:200}:VM(n)}async deleteFile(e){const t=await cA(tA.join(this.url,e),{method:"DELETE",type:"text",headers:{Authorization:this.authorization}}),n=Cc(t)?t:null==t?void 0:t.content;return void 0===n?{code:403}:""===n?{code:200}:VM(n)}async putFileContents(e,t){t instanceof Uint8Array&&(t=t.buffer);const n={Authorization:this.authorization};(t instanceof Uint8Array||t instanceof ArrayBuffer)&&(n["Content-Type"]="application/octet-stream");const o={method:"PUT",type:"text",headers:n,body:t},i=await cA(tA.join(this.url,e),o),r=Cc(i)?i:null==i?void 0:i.content;return void 0===r?{code:403}:""===r?{code:200}:VM(r)}async getFileContents(e,t){var n;const o={Authorization:this.authorization};"arrayBuffer"===t&&(o.Accept="application/octet-stream");const i={method:"GET",type:t,cache:"no-cache",headers:o},r=await cA(tA.join(this.url,e),i),l=null!==(n=null==r?void 0:r.content)&&void 0!==n?n:r;return void 0===l?{code:404}:{code:200,data:l}}}const RM="config";function PM(e){window.localStorage.setItem(RM,JSON.stringify(e))}function FM(e){const t=HM(),n=$c(t,e);window.localStorage.setItem(RM,JSON.stringify(n))}function HM(){let e=null;try{const t=window.localStorage.getItem(RM);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}async function _M(e){var t,n,o;const i=await async function(){try{return await cA("./api/config.json",{cache:"reload",type:"json"})}catch(e){console.error(e)}return null}(),r=HM(),l=null===(t=null==i?void 0:i.api)||void 0===t?void 0:t[e],s=null===(n=null==r?void 0:r.api)||void 0===n?void 0:n[e];return i&&(r?l&&l!==s&&(r.api=null!==(o=r.api)&&void 0!==o?o:{},r.api[e]=l,PM(r)):PM(i)),!s||s!==l}function jM(){return!!rh}function WM(){let e=document.querySelector("#root");e||(e=document.body);const{clientWidth:t,clientHeight:n}=e;return{clientWidth:t,clientHeight:n}}function zM(e){if(!(null==e?void 0:e.trim()))return!1;try{return new URL(e),!0}catch(e){return!1}}function VM(e){var t,n,o,i;const r=Cc(e)?BM(e):e;let l=200,s=null===(n=null===(t=null==r?void 0:r.html)||void 0===t?void 0:t.head)||void 0===n?void 0:n.title;void 0===s&&Cc(e)&&(s=e),Cc(s)&&(s.includes("100")?l=100:s.includes("101")?l=101:s.includes("200")||s.includes("201")?l=200:s.includes("202")?l=202:s.includes("204")?l=204:s.includes("301")?l=301:s.includes("302")?l=302:s.includes("303")?l=303:s.includes("304")?l=304:s.includes("307")?l=307:s.includes("308")?l=308:s.includes("400")?l=400:s.includes("401")?l=401:s.includes("403")?l=403:s.includes("404")?l=404:s.includes("405")?l=405:s.includes("408")?l=408:s.includes("409")?l=409:s.includes("410")?l=410:s.includes("414")?l=414:s.includes("422")?l=422:s.includes("423")?l=423:s.includes("424")?l=424:s.includes("429")?l=429:s.includes("500")?l=500:s.includes("501")?l=501:s.includes("502")?l=502:s.includes("503")?l=503:s.includes("504")?l=504:s.includes("505")&&(l=505));let c=null===(o=null==r?void 0:r.error)||void 0===o?void 0:o.exception;return void 0===c&&Cc(e)&&(c=e),Cc(c)&&(c=c.replace(/\s+/g,"").toLowerCase()),Cc(c)&&(c.includes("continue")?l=100:c.includes("switchingprotocols")?l=101:c.includes("processing")?l=102:c.includes("ok")||c.includes("created")?l=200:c.includes("accepted")?l=202:c.includes("nocontent")?l=204:c.includes("movedpermanently")?l=301:c.includes("found")&&!c.includes("notfound")?l=302:c.includes("seeother")?l=303:c.includes("notmodified")?l=304:c.includes("temporaryredirect")?l=307:c.includes("permanentredirect")?l=308:c.includes("badrequest")?l=400:c.includes("unauthorized")||c.includes("notauthenticated")||c.includes("unauthenticated")?l=401:c.includes("forbidden")?l=403:c.includes("notfound")?l=404:c.includes("methodnotallowed")?l=405:c.includes("requesttimeout")?l=408:c.includes("conflict")?l=409:c.includes("gone")?l=410:c.includes("uritoolong")?l=414:c.includes("unprocessableentity")?l=422:c.includes("blockedtemporarily")?l=429:c.includes("locked")?l=423:c.includes("faileddependency")?l=424:c.includes("toomanyrequests")?l=429:c.includes("internalservererror")?l=500:c.includes("notimplemented")?l=501:c.includes("badgateway")?l=502:c.includes("serviceunavailable")?l=503:c.includes("gatewaytimeout")?l=504:c.includes("httpversionnotsupported")&&(l=505)),{code:l,msg:null!==(i={100:"",101:"",102:"",200:"",201:"",202:"",204:"",301:"",302:"URI",303:"GET",304:"",307:"",308:"",400:"",401:"",403:"",404:"",405:"",408:"",409:"",410:"",414:"",422:"",423:"",424:"",429:"",500:"",501:"",502:"",503:"",504:"",505:"HTTP"}[l])&&void 0!==i?i:""}}function $M({width:e=33,type:t="deep",style:n}){const o="deep"===t?"#132652":"#F4F4F4",i="deep"===t?"#23396B":"#FFFFFF";return X("svg",{width:e,viewBox:"0 0 168 243",style:n,children:[G("path",{d:"M89.9002 241.566L86.5002 239.566L83.2002 241.566C86.5 243.166 86.5002 243.166 89.9002 241.566Z",fill:o}),G("path",{d:"M92.6532 240.005C86.4837 243.566 86.4886 243.566 86.4886 236.566L63.0665 157.137C86.6999 143.132 86.6999 143.132 110 157.137L140.571 174.825C173.05 193.6 173.05 193.6 140.571 212.346L92.6532 240.005Z",fill:o}),G("path",{d:"M32.4961 12.316C-2.70083e-06 -6.43398 4.92856e-06 -6.43398 4.92856e-06 31.066L4.92856e-06 186.566C4.92856e-06 193.566 4.92856e-06 193.566 6.06161 197.066L80.5 240.047C82.0098 240.919 83.1456 241.575 84 241.962C84.4651 242.177 84.6902 242.286 85 242.406C85.6478 242.665 86.0065 242.764 86.5981 242.766L86.6563 62.316C86.6563 43.566 86.6563 43.566 70.4082 34.191L32.4961 12.316Z",fill:i})]})}function ZM({width:e=20,fill:t=Hf,style:n}){return X("svg",{viewBox:"0 0 1024 1024",width:e,style:n,children:[G("path",{d:"M782.426059 824.924989l-584.588225-584.727395c-11.987009-11.990079-11.984962-31.42778 0.005116-43.414789 11.990079-11.987009 31.42778-11.984962 43.414789 0.005117l584.588225 584.727395c11.987009 11.990079 11.984962 31.42778-0.005116 43.414788-11.989055 11.988032-31.42778 11.984962-43.414789-0.005116z",fill:t}),G("path",{d:"M197.768249 824.856427c-11.987009-11.990079-11.984962-31.42778 0.005117-43.414788l584.727394-584.589249c11.990079-11.987009 31.42778-11.984962 43.414789 0.005117 11.987009 11.990079 11.984962 31.42778-0.005116 43.414788l-584.727395 584.589249c-11.990079 11.987009-31.42778 11.984962-43.414789-0.005117z",fill:t})]})}function UM({width:e=12,fill:t=Hf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M6 11.1176C7.01218 11.1176 8.00162 10.8175 8.84321 10.2552C9.68481 9.69283 10.3407 8.89357 10.7281 7.95844C11.1154 7.02331 11.2168 5.99432 11.0193 5.0016C10.8218 4.00887 10.3344 3.09699 9.61872 2.38128C8.90301 1.66556 7.99113 1.17816 6.9984 0.98069C6.00568 0.783224 4.97669 0.884571 4.04156 1.27191C3.10644 1.65926 2.30717 2.3152 1.74483 3.15679C1.1825 3.99838 0.882355 4.98783 0.882355 6C0.882355 7.35729 1.42153 8.65898 2.38128 9.61872C3.34102 10.5785 4.64272 11.1176 6 11.1176ZM6 12C4.81331 12 3.65328 11.6481 2.66658 10.9888C1.67989 10.3295 0.910851 9.39246 0.456725 8.2961C0.00259969 7.19974 -0.11622 5.99335 0.115291 4.82946C0.346802 3.66557 0.918247 2.59648 1.75736 1.75736C2.59648 0.918247 3.66557 0.346802 4.82946 0.115291C5.99335 -0.11622 7.19974 0.00259969 8.2961 0.456725C9.39246 0.910851 10.3295 1.67989 10.9888 2.66658C11.6481 3.65328 12 4.81331 12 6C12 6.78793 11.8448 7.56815 11.5433 8.2961C11.2417 9.02405 10.7998 9.68549 10.2426 10.2426C9.68549 10.7998 9.02405 11.2417 8.2961 11.5433C7.56815 11.8448 6.78793 12 6 12Z"}),G("path",{fill:t,d:"M6.62118 5.99999L8.30824 7.68705C8.39061 7.76943 8.43689 7.88115 8.43689 7.99764C8.43689 8.11413 8.39061 8.22586 8.30824 8.30823C8.22586 8.3906 8.11414 8.43688 7.99765 8.43688C7.88116 8.43688 7.76943 8.3906 7.68706 8.30823L6 6.62117L4.31294 8.30823C4.27216 8.34902 4.22374 8.38137 4.17044 8.40344C4.11715 8.42552 4.06004 8.43688 4.00236 8.43688C3.94467 8.43688 3.88756 8.42552 3.83427 8.40344C3.78098 8.38137 3.73255 8.34902 3.69177 8.30823C3.65098 8.26744 3.61863 8.21902 3.59655 8.16573C3.57448 8.11244 3.56312 8.05532 3.56312 7.99764C3.56312 7.93996 3.57448 7.88284 3.59655 7.82955C3.61863 7.77626 3.65098 7.72784 3.69177 7.68705L5.37883 5.99999L3.69177 4.31294C3.65098 4.27215 3.61863 4.22373 3.59655 4.17044C3.57448 4.11715 3.56312 4.06003 3.56312 4.00235C3.56312 3.94467 3.57448 3.88755 3.59655 3.83426C3.61863 3.78097 3.65098 3.73255 3.69177 3.69176C3.73255 3.65097 3.78098 3.61862 3.83427 3.59655C3.88756 3.57447 3.94467 3.56311 4.00236 3.56311C4.06004 3.56311 4.11715 3.57447 4.17044 3.59655C4.22374 3.61862 4.27216 3.65097 4.31294 3.69176L6 5.37882L7.68706 3.69176C7.72785 3.65097 7.77627 3.61862 7.82956 3.59655C7.88285 3.57447 7.93997 3.56311 7.99765 3.56311C8.05533 3.56311 8.11245 3.57447 8.16574 3.59655C8.21903 3.61862 8.26745 3.65097 8.30824 3.69176C8.34902 3.73255 8.38138 3.78097 8.40345 3.83426C8.42553 3.88755 8.43689 3.94467 8.43689 4.00235C8.43689 4.06003 8.42553 4.11715 8.40345 4.17044C8.38138 4.22373 8.34902 4.27215 8.30824 4.31294L6.62118 5.99999Z"})]})}function qM(){return G("svg",{width:"11.5",viewBox:"0 0 12 12",children:G("path",{fill:zf,stroke:zf,d:"M10.7449 10.979C10.6643 11.0244 10.5562 11.0532 10.4101 11.0546H1.58238C1.36044 11.0546 1.1842 10.9962 1.06322 10.8739C0.942181 10.7516 0.870126 10.5591 0.870126 10.2775V1.57498C0.870126 1.35303 0.907153 1.20974 1.00642 1.11926C1.10703 1.02755 1.28151 0.980727 1.58238 0.980727H6.25813C6.41043 0.980727 6.54909 0.948491 6.65068 0.873318C6.75411 0.796776 6.81439 0.679162 6.81439 0.520351C6.81439 0.361199 6.75413 0.24356 6.65066 0.167093C6.54906 0.0920083 6.41039 0.0599756 6.25813 0.0599756H1.58238C0.749321 0.0599756 0.0600004 0.740613 0.0600004 1.57424V10.4243C0.0600004 11.3329 0.750633 11.9393 1.58238 11.9393H10.484C11.3979 11.9393 12.0151 11.2583 11.9326 10.4223V5.778C11.9326 5.6257 11.9004 5.48704 11.8252 5.38545C11.7487 5.28202 11.6311 5.22175 11.4723 5.22175C11.3101 5.22175 11.1906 5.28175 11.113 5.38525C11.0367 5.48692 11.0045 5.62571 11.0045 5.778V10.2768C11.0045 10.4535 10.9966 10.647 10.9187 10.797C10.8803 10.8708 10.8251 10.9338 10.7449 10.979ZM7.07676 2.34623L7.07637 2.34623C6.91938 2.34776 6.77887 2.3868 6.67672 2.46771C6.57328 2.54964 6.51313 2.67147 6.51313 2.82873C6.51313 2.9873 6.57317 3.10994 6.67672 3.19196C6.779 3.27298 6.91967 3.31123 7.07676 3.31123H8.79201V4.89373C8.79201 5.04776 8.83242 5.18677 8.91647 5.28803C9.00135 5.39029 9.12743 5.44998 9.28926 5.44998C9.44765 5.44998 9.57352 5.39014 9.65914 5.28821C9.74404 5.18714 9.78651 5.04819 9.78651 4.89373V3.38498H11.3764C11.5321 3.38498 11.6712 3.33626 11.7719 3.24565C11.873 3.15464 11.9326 3.02375 11.9326 2.8656C11.9326 2.70746 11.873 2.57657 11.7719 2.48556C11.6712 2.39495 11.5321 2.34623 11.3764 2.34623H9.78651V0.616226C9.78651 0.46177 9.74404 0.322822 9.65914 0.221748C9.57352 0.119822 9.44765 0.0599756 9.28926 0.0599756C9.12743 0.0599756 9.00135 0.119664 8.91647 0.221929C8.83242 0.323192 8.79201 0.462198 8.79201 0.616226V2.34623L7.07676 2.34623Z",strokeWidth:"0.08"})})}function YM({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M5.59091 2.1648H4.73864V6.42616H9V5.57389H6.19416L10.7205 1.04752L10.1186 0.444275L5.59091 4.97197V2.1648Z"}),G("path",{fill:t,d:"M10.2784 6.01597V10.4744C10.2784 10.8273 10.0281 11.1146 9.72177 11.1136H1.46005C1.15377 11.1136 0.903413 10.8273 0.903413 10.4744V1.55752C0.903413 1.20462 1.15377 0.918313 1.46005 0.918313H5.59091V0.06604H1.46005C0.683686 0.06604 0.0511398 0.734541 0.0511398 1.55752V10.4744C0.0511398 11.2974 0.683686 11.9659 1.46005 11.9659H9.72177C10.4981 11.9659 11.1307 11.2974 11.1307 10.4744V6.01597H10.2784Z"})]})}function KM({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M10.2784 0.460205H6.86932V1.31248H9.67649L5.1488 5.84018L5.75071 6.44343L10.2784 1.91573V4.72157H11.1307V0.460205H10.2784Z"}),G("path",{fill:t,d:"M10.2784 10.4584C10.2784 10.8113 10.0281 11.0976 9.72177 11.0976H1.46005C1.15377 11.0976 0.903413 10.8113 0.903413 10.4584V1.54153C0.903413 1.18863 1.15377 0.902322 1.46005 0.902322H5.59091V0.0500488H1.46005C0.683686 0.0500488 0.0511398 0.71855 0.0511398 1.54153V10.4584C0.0511398 11.2814 0.683686 11.9499 1.46005 11.9499H9.72177C10.4981 11.9499 11.1307 11.2814 11.1307 10.4584V5.99998H10.2784V10.4584Z"})]})}function GM({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M10.6875 0.0341187C11.0136 0.0341005 11.3273 0.158689 11.5646 0.382393C11.8018 0.606097 11.9446 0.912005 11.9638 1.23753L11.9659 1.31253V8.13071C11.9659 8.45679 11.8413 8.77056 11.6176 9.00781C11.3939 9.24506 11.088 9.38786 10.7625 9.40699L10.6875 9.40912H9.40909V10.6875C9.40911 11.0136 9.28452 11.3274 9.06081 11.5646C8.83711 11.8019 8.5312 11.9447 8.20568 11.9638L8.13068 11.9659H1.3125C0.973442 11.9659 0.648274 11.8312 0.408526 11.5915C0.168777 11.3518 0.0340881 11.0266 0.0340881 10.6875V3.86935C0.0340881 3.53029 0.168777 3.20512 0.408526 2.96537C0.648274 2.72563 0.973442 2.59094 1.3125 2.59094H2.59091V1.31253C2.59089 0.986444 2.71548 0.672678 2.93918 0.435428C3.16288 0.198178 3.46879 0.0553797 3.79432 0.0362494L3.86932 0.0341187H10.6875ZM8.13068 3.44321H1.3125C1.19948 3.44321 1.09109 3.48811 1.01117 3.56802C0.931257 3.64794 0.886361 3.75633 0.886361 3.86935V10.6875C0.886361 10.8005 0.931257 10.9089 1.01117 10.9889C1.09109 11.0688 1.19948 11.1137 1.3125 11.1137H8.13068C8.2437 11.1137 8.35209 11.0688 8.432 10.9889C8.51192 10.9089 8.55682 10.8005 8.55682 10.6875V3.86935C8.55682 3.75633 8.51192 3.64794 8.432 3.56802C8.35209 3.48811 8.2437 3.44321 8.13068 3.44321ZM10.6875 0.886391H3.86932C3.76494 0.886405 3.6642 0.924725 3.5862 0.994082C3.5082 1.06344 3.45837 1.15901 3.44616 1.26267L3.44318 1.31253V2.59094H8.13068C8.45676 2.59092 8.77053 2.71551 9.00778 2.93921C9.24503 3.16291 9.38783 3.46882 9.40696 3.79435L9.40909 3.86935V8.55685H10.6875C10.7919 8.55683 10.8926 8.51851 10.9706 8.44915C11.0486 8.3798 11.0984 8.28423 11.1107 8.18057L11.1136 8.13071V1.31253C11.1136 1.20815 11.0753 1.10741 11.0059 1.02941C10.9366 0.951417 10.841 0.901586 10.7374 0.889374L10.6875 0.886391Z"})})}function XM({width:e=12.5,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M5.98142 11.637C5.76277 11.637 5.57127 11.4755 5.53268 11.2568C5.52268 11.1997 5.52411 11.1439 5.53411 11.0896C5.55841 10.4708 5.54268 4.73722 5.52554 0.932913C5.52411 0.682818 5.72561 0.479884 5.97571 0.478455H5.97714C6.2258 0.478455 6.42874 0.67996 6.43017 0.928626C6.43017 0.928626 6.4416 3.49103 6.44874 6.05486C6.4516 7.33678 6.45303 8.6187 6.4516 9.58192C6.44731 11.597 6.44732 11.597 6.02001 11.6356C6.00715 11.637 5.99429 11.637 5.98142 11.637V11.637Z"}),G("path",{fill:t,d:"M3.40186 6.52079H2.46579C0.45074 6.51651 0.450739 6.51651 0.412153 6.0892C0.390716 5.85483 0.559352 5.64189 0.790869 5.60187C0.848034 5.59187 0.905198 5.5933 0.958075 5.6033C1.57688 5.62903 7.30907 5.61188 11.1148 5.59473H11.1162C11.3649 5.59473 11.5678 5.79623 11.5693 6.0449C11.5707 6.29499 11.3692 6.49793 11.1191 6.49936C11.1191 6.49936 8.55668 6.51079 5.99285 6.51794C5.09251 6.51936 4.19216 6.52079 3.40186 6.52079V6.52079ZM7.46913 2.40208C7.35337 2.40208 7.23761 2.35778 7.14901 2.26917L6 1.12159L4.85099 2.2706C4.67378 2.44781 4.38795 2.44781 4.21074 2.2706C4.03353 2.09339 4.03353 1.80757 4.21074 1.63036L5.67987 0.161228C5.85708 -0.0159823 6.14291 -0.0159823 6.32012 0.161228L7.78925 1.63036C7.96646 1.80757 7.96646 2.09339 7.78925 2.2706C7.70064 2.35778 7.58489 2.40208 7.46913 2.40208V2.40208ZM6 11.9843C5.88424 11.9843 5.76848 11.94 5.67987 11.8514L4.21074 10.3823C4.03353 10.2051 4.03353 9.91923 4.21074 9.74202C4.38795 9.56481 4.67378 9.56481 4.85099 9.74202L6 10.891L7.14901 9.74202C7.32622 9.56481 7.61204 9.56481 7.78925 9.74202C7.96646 9.91923 7.96646 10.2051 7.78925 10.3823L6.32012 11.8514C6.23151 11.94 6.11575 11.9843 6 11.9843Z"}),G("path",{fill:t,d:"M10.0558 7.92702C9.94007 7.92702 9.82432 7.88272 9.73571 7.79412C9.5585 7.61691 9.5585 7.33108 9.73571 7.15387L10.8847 6.00486L9.73571 4.85585C9.5585 4.67864 9.5585 4.39282 9.73571 4.21561C9.91292 4.0384 10.1987 4.0384 10.376 4.21561L11.8451 5.68617C12.0223 5.86338 12.0223 6.1492 11.8451 6.32641L10.376 7.79555C10.2874 7.88272 10.1716 7.92702 10.0558 7.92702V7.92702ZM1.94417 7.92702C1.82841 7.92702 1.71265 7.88272 1.62405 7.79412L0.154919 6.32641C-0.0222918 6.1492 -0.0222918 5.86338 0.154919 5.68617L1.62405 4.21704C1.80126 4.03983 2.08708 4.03983 2.26429 4.21704C2.4415 4.39425 2.4415 4.68007 2.26429 4.85728L1.11528 6.00629L2.26429 7.1553C2.4415 7.33251 2.4415 7.61834 2.26429 7.79555C2.17569 7.88272 2.05993 7.92702 1.94417 7.92702V7.92702Z"})]})}function JM({width:e=11,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M10.5732 11.9451H1.42683C0.672256 11.9451 0.0548782 11.3277 0.0548782 10.5732V1.42682C0.0548782 0.672249 0.672256 0.0548706 1.42683 0.0548706H6C6.25152 0.0548706 6.45732 0.260663 6.45732 0.512188C6.45732 0.763712 6.25152 0.969505 6 0.969505H1.42683C1.17531 0.969505 0.969512 1.1753 0.969512 1.42682V10.5732C0.969512 10.8247 1.17531 11.0305 1.42683 11.0305H10.5732C10.8247 11.0305 11.0305 10.8247 11.0305 10.5732V5.99999C11.0305 5.74847 11.2363 5.54268 11.4878 5.54268C11.7393 5.54268 11.9451 5.74847 11.9451 5.99999V10.5732C11.9451 11.3277 11.3277 11.9451 10.5732 11.9451Z"}),G("path",{fill:t,d:"M4.46799 7.30334C4.28506 7.12042 4.28506 6.82316 4.46799 6.6631L10.7561 0.374988C10.939 0.192061 11.2363 0.192061 11.3963 0.374988C11.5793 0.557915 11.5793 0.855171 11.3963 1.01523L5.1311 7.30334C4.94817 7.48627 4.65092 7.48627 4.46799 7.30334Z"})]})}function QM({width:e=12.5,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M7.27841 9.40904C7.04276 9.40904 6.85227 9.21855 6.85227 8.9829V4.2954C6.85227 4.05975 7.04276 3.86926 7.27841 3.86926C7.51406 3.86926 7.70454 4.05975 7.70454 4.2954V8.9829C7.70454 9.21855 7.51406 9.40904 7.27841 9.40904Z"}),G("path",{fill:t,d:"M4.72159 9.40904C4.48594 9.40904 4.29546 9.21855 4.29546 8.9829V4.2954C4.29546 4.05975 4.48594 3.86926 4.72159 3.86926C4.95725 3.86926 5.14773 4.05975 5.14773 4.2954V8.9829C5.14773 9.21855 4.95725 9.40904 4.72159 9.40904Z"}),G("path",{fill:t,d:"M11.5398 2.16474H9.40909V1.31247C9.40909 0.607637 8.8402 0.0340576 8.14048 0.0340576H3.86932C3.16449 0.0340576 2.59091 0.607637 2.59091 1.31247V2.16474H0.460224C0.224571 2.16474 0.0340881 2.35522 0.0340881 2.59088C0.0340881 2.82653 0.224571 3.01701 0.460224 3.01701H11.5398C11.7754 3.01701 11.9659 2.82653 11.9659 2.59088C11.9659 2.35522 11.7754 2.16474 11.5398 2.16474ZM3.44318 1.31247C3.44318 1.07767 3.63451 0.88633 3.86932 0.88633H8.14048C8.374 0.88633 8.55682 1.0734 8.55682 1.31247V2.16474H3.44318V1.31247Z"}),G("path",{fill:t,d:"M8.98466 11.9659H3.0179C2.31307 11.9659 1.73949 11.3923 1.73949 10.6875V4.28905C1.73949 4.05382 1.9304 3.86292 2.16562 3.86292C2.40085 3.86292 2.59176 4.05382 2.59176 4.28905V10.6875C2.59176 10.9227 2.78309 11.1136 3.0179 11.1136H8.98466C9.21988 11.1136 9.41079 10.9227 9.41079 10.6875V4.30652C9.41079 4.0713 9.60128 3.88039 9.83693 3.88039C10.0726 3.88039 10.2631 4.0713 10.2631 4.30652V10.6875C10.2631 11.3923 9.68949 11.9659 8.98466 11.9659Z"})]})}function eO(){return G("svg",{width:"13",viewBox:"0 0 12 11",children:G("path",{fill:zf,d:"M6.2929 0.00630784H11.0046C11.5414 0.00630784 11.9766 0.498285 11.9766 1.10506V9.89502C11.9766 10.5018 11.5414 10.9938 11.0046 10.9938L7.11909 10.9938H1.00846C0.471602 10.9938 0.036459 10.5018 0.036459 9.89502V1.10506C0.036459 0.498285 0.471615 0.00632266 1.00846 0.00632266H6.27602C6.28165 0.00619323 6.28728 0.00619323 6.2929 0.00632266V0.00630784ZM5.63879 0.948104H1.00846C0.931915 0.948104 0.869792 1.01832 0.869792 1.10506V9.89502C0.869792 9.98175 0.931902 10.052 1.00846 10.052H6.6718L6.57766 8.45554C6.38769 8.47347 6.19714 8.48241 6.00651 8.48235C5.12422 8.48235 4.32292 8.29367 3.61716 7.9785C3.36827 7.86735 3.14833 7.74769 2.95893 7.62705L2.94708 7.61947L2.92387 7.60448C2.92005 7.60201 2.91628 7.59953 2.91253 7.59708L2.89035 7.58242C2.86944 7.56851 2.84865 7.55436 2.82798 7.53998L2.80859 7.52635L2.79915 7.51964L2.78081 7.50646L2.76725 7.49656L2.75452 7.48714L2.7426 7.47819L2.73697 7.47392L2.72007 7.46087L2.70955 7.45251C2.52245 7.30109 2.47941 7.00693 2.6134 6.79549C2.74604 6.58618 3.00247 6.5364 3.18913 6.68236L3.19807 6.68939L3.20641 6.69575L3.21775 6.70422L3.23087 6.71383L3.23762 6.7187L3.25162 6.72868L3.25887 6.73379L3.27387 6.74424L3.28952 6.75496L3.29759 6.76042L3.31423 6.77158L3.3228 6.77726L3.34042 6.78879L3.35869 6.80059L3.36806 6.8066C3.52524 6.90669 3.71096 7.00776 3.9234 7.10263C4.53574 7.37607 5.23435 7.54056 6.00651 7.54056C6.18229 7.54056 6.35425 7.53204 6.52227 7.51564L6.44966 6.28485H5.17348C4.96819 6.28485 4.79383 6.11596 4.76192 5.88748L4.761 5.88053C4.69422 5.35211 4.71074 4.76233 4.79805 4.12074C4.89531 3.40602 5.07669 2.65042 5.31776 1.88235C5.41664 1.56744 5.52369 1.25589 5.63879 0.948104ZM11.0046 0.948104H6.54845L6.53251 0.987938L6.51548 1.03086L6.50392 1.06022L6.4922 1.09015L6.48628 1.10534C6.34684 1.46389 6.21904 1.82808 6.10315 2.19718C5.87828 2.91361 5.71011 3.61423 5.62169 4.26389C5.56999 4.64392 5.54706 4.99745 5.5549 5.3195L5.55553 5.34307H6.83949C7.05667 5.34307 7.23702 5.53147 7.25475 5.77526L7.25524 5.78266L7.3486 7.3658C7.60083 7.29814 7.84847 7.21019 8.08961 7.10263C8.29599 7.01046 8.47715 6.91246 8.63141 6.81518L8.65432 6.80061L8.6726 6.78879L8.69022 6.77726L8.70719 6.76597L8.71543 6.76042L8.73142 6.74956L8.74675 6.73897L8.75415 6.73379L8.76848 6.72366L8.7754 6.7187L8.7911 6.7073L8.80662 6.69575L8.81905 6.6862L8.82389 6.68236C9.01055 6.5364 9.26698 6.58618 9.39962 6.79549C9.53228 7.00481 9.49142 7.29522 9.30905 7.44792L9.30172 7.45394L9.29296 7.46087L9.2815 7.46976L9.27606 7.47391L9.26456 7.48259L9.25224 7.49179L9.23909 7.50144L9.23221 7.50645C9.22322 7.51298 9.21395 7.51961 9.20443 7.52635L9.18503 7.53998C9.16436 7.55436 9.14357 7.56851 9.12266 7.58242L9.1005 7.59708C9.09675 7.59953 9.09297 7.60201 9.08915 7.60448L9.06595 7.61949L9.05409 7.62705C8.86469 7.74769 8.64475 7.86735 8.39586 7.97851C8.08374 8.11788 7.75292 8.23253 7.40469 8.31705L7.50698 10.052H11.0046C11.0799 10.052 11.1412 9.98399 11.1432 9.8992L11.1432 9.89502V1.10506C11.1432 1.01832 11.0811 0.948104 11.0046 0.948104ZM8.7832 2.51773C9.01102 2.51773 9.19613 2.72436 9.19982 2.98083L9.19987 2.98863V3.61648C9.19987 3.87654 9.01332 4.08737 8.7832 4.08737C8.55539 4.08737 8.37027 3.88074 8.36659 3.62428L8.36654 3.61648V2.98862C8.36654 2.72855 8.55309 2.51773 8.7832 2.51773ZM3.22982 2.51773C3.45763 2.51773 3.64275 2.72436 3.64643 2.98083L3.64649 2.98863V3.61648C3.64649 3.87654 3.45994 4.08737 3.22982 4.08737C3.00201 4.08737 2.81689 3.88074 2.8132 3.62428L2.81315 3.61648V2.98862C2.81315 2.72855 2.9997 2.51773 3.22982 2.51773Z"})})}function tO({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 11",style:n,children:[G("path",{fill:t,d:"M11.0687 1.5412H7.48352C7.48352 0.717021 6.81593 0.0494385 5.99176 0.0494385H0.782967C0.370879 0.0494385 0.0329666 0.387351 0.0329666 0.799439V7.84614H11.9588V2.43131C11.9588 1.9368 11.5632 1.5412 11.0687 1.5412Z"}),G("path",{fill:"white",d:"M1.52472 6.6923V2.21702H10.467V6.6923H1.52472Z"}),G("path",{fill:_f,d:"M10.9451 10.5412H1.0467C0.486263 10.5412 0.0329666 10.0879 0.0329666 9.52746V3.09065H11.9588V9.5357C11.9588 10.0879 11.5055 10.5412 10.9451 10.5412Z"})]})}function nO({width:e=6,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 6 12",style:n,children:G("path",{d:"M0 1.5L4.5 6L0 10.5L0 12L6 6L0 -1.2666e-07L0 1.5Z",fill:t})})}function oO(){return X("svg",{width:13,viewBox:"0 0 12 12",children:[G("path",{fill:zf,d:"M0 6.00895C-2.43206e-09 6.12436 0.0227314 6.23864 0.0668964 6.34526C0.111061 6.45188 0.175795 6.54876 0.257401 6.63037C0.339008 6.71198 0.435888 6.77671 0.542512 6.82087C0.649136 6.86504 0.763414 6.88777 0.878823 6.88777C0.994232 6.88777 1.10851 6.86504 1.21513 6.82087C1.32176 6.77671 1.41864 6.71198 1.50024 6.63037C1.58185 6.54876 1.64658 6.45188 1.69075 6.34526C1.73491 6.23864 1.75765 6.12436 1.75765 6.00895C1.75765 5.89354 1.73491 5.77926 1.69075 5.67264C1.64658 5.56601 1.58185 5.46913 1.50024 5.38753C1.41864 5.30592 1.32176 5.24119 1.21513 5.19702C1.10851 5.15286 0.994232 5.13013 0.878823 5.13013C0.763414 5.13013 0.649136 5.15286 0.542512 5.19702C0.435888 5.24119 0.339008 5.30592 0.257401 5.38753C0.175795 5.46913 0.111061 5.56601 0.0668964 5.67264C0.0227314 5.77926 -2.43206e-09 5.89354 0 6.00895H0Z"}),G("path",{fill:zf,d:"M4.24386 6.00898C4.24386 6.47514 4.42904 6.92221 4.75867 7.25184C5.0883 7.58147 5.53537 7.76665 6.00153 7.76665C6.4677 7.76665 6.91477 7.58147 7.24439 7.25184C7.57402 6.92221 7.7592 6.47514 7.7592 6.00898C7.7592 5.54282 7.57402 5.09575 7.24439 4.76612C6.91477 4.43649 6.4677 4.25131 6.00153 4.25131C5.53537 4.25131 5.0883 4.43649 4.75867 4.76612C4.42904 5.09575 4.24386 5.54282 4.24386 6.00898V6.00898Z"}),G("path",{fill:zf,d:"M10.2454 6.00895C10.2454 6.24203 10.338 6.46556 10.5028 6.63037C10.6676 6.79518 10.8912 6.88777 11.1242 6.88777C11.3573 6.88777 11.5808 6.79518 11.7457 6.63037C11.9105 6.46556 12.0031 6.24203 12.0031 6.00895C12.0031 5.77587 11.9105 5.55234 11.7457 5.38753C11.5808 5.22272 11.3573 5.13013 11.1242 5.13013C10.8912 5.13013 10.6676 5.22272 10.5028 5.38753C10.338 5.55234 10.2454 5.77587 10.2454 6.00895Z"})]})}function iO(){return G("svg",{width:"12",viewBox:"0 0 12 12",children:G("path",{fill:zf,d:"M0.0104141 6.335C0.0104141 6.68906 0.147836 7.02863 0.392449 7.27899C0.637061 7.52935 0.968827 7.67 1.31476 7.67C1.6607 7.67 1.99246 7.52935 2.23708 7.27899C2.48169 7.02863 2.61911 6.68906 2.61911 6.335C2.61911 5.98094 2.48169 5.64137 2.23708 5.39101C1.99246 5.14065 1.6607 5 1.31476 5C0.968827 5 0.637061 5.14065 0.392449 5.39101C0.147836 5.64137 0.0104141 5.98094 0.0104141 6.335ZM4.70607 6.335C4.70607 6.68906 4.84349 7.02863 5.0881 7.27899C5.33271 7.52935 5.66448 7.67 6.01041 7.67C6.35635 7.67 6.68811 7.52935 6.93273 7.27899C7.17734 7.02863 7.31476 6.68906 7.31476 6.335C7.31476 5.98094 7.17734 5.64137 6.93273 5.39101C6.68811 5.14065 6.35635 5 6.01041 5C5.66448 5 5.33271 5.14065 5.0881 5.39101C4.84349 5.64137 4.70607 5.98094 4.70607 6.335ZM9.40172 6.335C9.40172 6.68906 9.53914 7.02863 9.78375 7.27899C10.0284 7.52935 10.3601 7.67 10.7061 7.67C11.052 7.67 11.3838 7.52935 11.6284 7.27899C11.873 7.02863 12.0104 6.68906 12.0104 6.335C12.0104 5.98094 11.873 5.64137 11.6284 5.39101C11.3838 5.14065 11.052 5 10.7061 5C10.3601 5 10.0284 5.14065 9.78375 5.39101C9.53914 5.64137 9.40172 5.98094 9.40172 6.335Z"})})}function rO({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M0 1.28C0 0.573076 0.573076 0 1.28 0H10.72C11.4269 0 12 0.573076 12 1.28V10.72C12 11.4269 11.4269 12 10.72 12H1.28C0.573076 12 0 11.4269 0 10.72V1.28Z"}),G("path",{d:"M6.79601 10.8226L6.66001 10.7426L6.52801 10.8226C6.66 10.8866 6.66001 10.8866 6.79601 10.8226Z",fill:"#F4F4F4"}),G("path",{d:"M6.90613 10.7602C6.65935 10.9026 6.65955 10.9026 6.65955 10.6226L5.72266 7.44549C6.668 6.88528 6.668 6.88528 7.6 7.44549L8.82285 8.15298C10.122 8.904 10.122 8.904 8.82285 9.65385L6.90613 10.7602Z",fill:"#F4F4F4"}),G("path",{d:"M4.49984 1.65264C3.2 0.902641 3.2 0.902641 3.2 2.40264V8.62264C3.2 8.90264 3.2 8.90264 3.44246 9.04264L6.42 10.7619C6.48039 10.7968 6.52582 10.823 6.56 10.8385C6.5786 10.8471 6.58761 10.8514 6.6 10.8562C6.62591 10.8666 6.64026 10.8705 6.66392 10.8706L6.66625 3.65264C6.66625 2.90264 6.66625 2.90264 6.01633 2.52764L4.49984 1.65264Z",fill:"white"})]})}function lO({width:e=12,fill:t=_f,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M0.642861 0H11.3571C11.515 0 11.6664 0.0627124 11.778 0.174341C11.8897 0.28597 11.9524 0.437371 11.9524 0.595238V10.119C11.9524 10.2769 11.8897 10.4283 11.778 10.5399C11.6664 10.6516 11.515 10.7143 11.3571 10.7143H0.642861C0.484994 10.7143 0.333593 10.6516 0.221964 10.5399C0.110335 10.4283 0.0476227 10.2769 0.0476227 10.119V0.595238C0.0476227 0.437371 0.110335 0.28597 0.221964 0.174341C0.333593 0.0627124 0.484994 0 0.642861 0V0ZM3.02381 7.44048V5.05952L4.21429 6.25L5.40477 5.05952V7.44048H6.59524V3.27381H5.40477L4.21429 4.46429L3.02381 3.27381H1.83334V7.44048H3.02381V7.44048ZM9.57143 5.65476V3.27381H8.38096V5.65476H7.19048L8.97619 7.44048L10.7619 5.65476H9.57143V5.65476Z"})})}function sO({width:e=13,fill:t=_f,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M0.75 0H11.25L10.295 10.7815L5.9885 12L1.7065 10.781L0.75 0ZM4.2655 4.875L4.1495 3.516L9.179 3.5175L9.294 2.2065L2.706 2.205L3.055 6.21H7.618L7.455 7.923L6 8.325L4.5225 7.92L4.4285 6.865H3.124L3.289 8.9505L6 9.6755L8.6895 8.954L9.0615 4.8755H4.2655V4.875Z"})})}function cO({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 13",style:n,children:G("path",{fill:t,d:"M11.1537 7.26559L1.60773 12.777C1.47083 12.856 1.29703 12.8568 1.16032 12.7781C1.0236 12.6993 0.937375 12.55 0.937564 12.3922L0.935701 1.36626C0.93589 1.2085 1.02346 1.05838 1.16036 0.979338C1.29727 0.900296 1.47106 0.899523 1.60778 0.978238L11.152 6.48662C11.2887 6.56533 11.375 6.71468 11.3748 6.87244C11.3746 7.0302 11.2906 7.18654 11.1537 7.26559V7.26559Z"})})}U({current:{layout:{status:WB.NONE}}});const aO="M8.2 0.027771H1.53333C1.3327 0.027771 1.13404 0.0672881 0.948677 0.144066C0.763318 0.220844 0.594897 0.333379 0.45303 0.475247C0.311163 0.617114 0.198627 0.785535 0.121849 0.970893C0.0450712 1.15625 0.0055542 1.35492 0.0055542 1.55555V10.4444C0.0055542 10.6451 0.0450712 10.8437 0.121849 11.0291C0.198627 11.2145 0.311163 11.3829 0.45303 11.5247C0.594897 11.6666 0.763318 11.7791 0.948677 11.8559C1.13404 11.9327 1.3327 11.9722 1.53333 11.9722H8.2C8.40063 11.9722 8.5993 11.9327 8.78465 11.8559C8.97001 11.7791 9.13843 11.6666 9.2803 11.5247C9.42217 11.3829 9.5347 11.2145 9.61148 11.0291C9.68826 10.8437 9.72778 10.6451 9.72778 10.4444V1.55555C9.72778 1.35492 9.68826 1.15625 9.61148 0.970893C9.5347 0.785535 9.42217 0.617114 9.2803 0.475247C9.13843 0.333379 8.97001 0.220844 8.78465 0.144066C8.5993 0.0672881 8.40063 0.027771 8.2 0.027771V0.027771ZM1.53333 0.861104H8.2C8.29119 0.861104 8.3815 0.879067 8.46575 0.913966C8.55001 0.948865 8.62656 1.00002 8.69104 1.0645C8.75553 1.12899 8.80668 1.20554 8.84158 1.2898C8.87648 1.37405 8.89444 1.46435 8.89444 1.55555V10.4444C8.89444 10.5356 8.87648 10.6259 8.84158 10.7102C8.80668 10.7944 8.75553 10.871 8.69104 10.9355C8.62656 11 8.55001 11.0511 8.46575 11.086C8.3815 11.1209 8.29119 11.1389 8.2 11.1389H1.53333C1.44214 11.1389 1.35183 11.1209 1.26758 11.086C1.18333 11.0511 1.10677 11 1.04229 10.9355C0.977801 10.871 0.926648 10.7944 0.891749 10.7102C0.85685 10.6259 0.838888 10.5356 0.838888 10.4444V1.55555C0.838888 1.46435 0.85685 1.37405 0.891749 1.2898C0.926648 1.20554 0.977801 1.12899 1.04229 1.0645C1.10677 1.00002 1.18333 0.948865 1.26758 0.913966C1.35183 0.879067 1.44214 0.861104 1.53333 0.861104V0.861104Z",uO="M7.08889 5.44446C7.19589 5.44451 7.29877 5.48573 7.37622 5.55957C7.45366 5.63341 7.49972 5.73422 7.50487 5.8411C7.51001 5.94798 7.47383 6.05274 7.40384 6.13368C7.33384 6.21462 7.23539 6.26552 7.12889 6.27585L7.08889 6.27779H2.64444C2.53744 6.27774 2.43455 6.23652 2.35711 6.16268C2.27967 6.08884 2.23361 5.98803 2.22846 5.88115C2.22332 5.77427 2.2595 5.6695 2.32949 5.58857C2.39949 5.50763 2.49794 5.45673 2.60444 5.4464L2.64444 5.44446H7.08889ZM7.08889 7.94446C7.19589 7.94451 7.29877 7.98573 7.37622 8.05957C7.45366 8.13341 7.49972 8.23422 7.50487 8.3411C7.51001 8.44798 7.47383 8.55274 7.40384 8.63368C7.33384 8.71462 7.23539 8.76552 7.12889 8.77585L7.08889 8.77779H2.64444C2.53744 8.77774 2.43455 8.73652 2.35711 8.66268C2.27967 8.58884 2.23361 8.48803 2.22846 8.38115C2.22332 8.27427 2.2595 8.16951 2.32949 8.08857C2.39949 8.00763 2.49794 7.95673 2.60444 7.9464L2.64444 7.94446H7.08889ZM4.86666 2.94446C4.97367 2.94451 5.07655 2.98573 5.15399 3.05957C5.23144 3.13341 5.2775 3.23422 5.28264 3.3411C5.28779 3.44798 5.25161 3.55274 5.18162 3.63368C5.11162 3.71462 5.01317 3.76552 4.90666 3.77585L4.86666 3.77779H2.64444C2.53744 3.77774 2.43455 3.73652 2.35711 3.66268C2.27967 3.58884 2.23361 3.48803 2.22846 3.38115C2.22332 3.27427 2.2595 3.1695 2.32949 3.08857C2.39949 3.00763 2.49794 2.95673 2.60444 2.9464L2.64444 2.94446H4.86666Z";function dO({fill:e=Hf,style:t,width:n=13.5}){return X("svg",{width:n,viewBox:"0 0 10 12",style:t,children:[G("path",{fill:e,d:aO}),G("path",{fill:e,d:uO})]})}function fO({fill:e=Hf,style:t,width:n=13.5}){return X("svg",{width:n,viewBox:"0 0 10 12",style:t,children:[G("path",{fill:e,d:"M1.53333 0.027771H8.2C8.40063 0.027771 8.5993 0.0672881 8.78466 0.144066C8.97002 0.220844 9.13844 0.333379 9.2803 0.475247C9.42217 0.617114 9.53471 0.785535 9.61148 0.970894C9.68826 1.15625 9.72778 1.35492 9.72778 1.55555V10.4444C9.72778 10.6451 9.68826 10.8437 9.61148 11.0291C9.53471 11.2145 9.42217 11.3829 9.2803 11.5247C9.13844 11.6666 8.97002 11.7791 8.78466 11.8559C8.5993 11.9327 8.40063 11.9722 8.2 11.9722H5.20797C4.70312 11.9722 4.70312 11.9722 4.70312 11.5555C4.70312 11.1389 4.72176 11.1389 5.20797 11.1389H8.2C8.2912 11.1389 8.3815 11.1209 8.46575 11.086C8.55001 11.0511 8.62656 11 8.69105 10.9355C8.75553 10.871 8.80668 10.7944 8.84158 10.7102C8.87648 10.6259 8.89444 10.5356 8.89444 10.4444V1.55555C8.89444 1.46435 8.87648 1.37405 8.84158 1.2898C8.80668 1.20554 8.75553 1.12899 8.69105 1.0645C8.62656 1.00002 8.55001 0.948865 8.46575 0.913966C8.3815 0.879067 8.2912 0.861104 8.2 0.861104H1.53333C1.44214 0.861104 1.35184 0.879067 1.26758 0.913966C1.18333 0.948865 1.10677 1.00002 1.04229 1.0645C0.977803 1.12899 0.92665 1.20554 0.891751 1.2898C0.856852 1.37405 0.838889 1.46435 0.838889 1.55555V3.52777V5.76563C0.838889 6.26563 0.838889 6.26562 0.422223 6.26562H0.422204C0.00555591 6.26562 0 6.26562 0 5.76563C0 5.26563 0.00555611 3.77777 0.00555611 3.77777V1.55555C0.0055561 1.35492 0.0450731 1.15625 0.121851 0.970894C0.198629 0.785535 0.311165 0.617114 0.453032 0.475247C0.594899 0.333379 0.76332 0.220844 0.948679 0.144066C1.13404 0.0672881 1.3327 0.027771 1.53333 0.027771Z"}),G("path",{fill:e,d:"M7.08889 5.44446C7.1959 5.44451 7.29878 5.48573 7.37622 5.55957C7.45366 5.63341 7.49973 5.73422 7.50487 5.8411C7.51001 5.94798 7.47384 6.05274 7.40384 6.13368C7.33385 6.21462 7.2354 6.26552 7.12889 6.27585L7.08889 6.27779H2.64445C2.53744 6.27774 2.43456 6.23652 2.35712 6.16268C2.27967 6.08884 2.23361 5.98803 2.22847 5.88115C2.22332 5.77427 2.2595 5.6695 2.32949 5.58857C2.39949 5.50763 2.49794 5.45673 2.60445 5.4464L2.64445 5.44446H7.08889ZM4.86667 2.94446C4.97367 2.94451 5.07656 2.98573 5.154 3.05957C5.23144 3.13341 5.2775 3.23422 5.28265 3.3411C5.28779 3.44798 5.25161 3.55274 5.18162 3.63368C5.11162 3.71462 5.01317 3.76552 4.90667 3.77585L4.86667 3.77779H2.64445C2.53744 3.77774 2.43456 3.73652 2.35712 3.66268C2.27967 3.58884 2.23361 3.48803 2.22847 3.38115C2.22332 3.27427 2.2595 3.1695 2.32949 3.08857C2.39949 3.00763 2.49794 2.95673 2.60445 2.9464L2.64445 2.94446H4.86667Z"}),G("path",{fill:e,d:"M7.41622 8.10601C7.33878 8.03217 7.23589 7.99095 7.12889 7.99089L5.154 7.98895L5.114 7.99089C5.00749 8.00122 4.90904 8.05212 4.83905 8.13306C4.76905 8.214 4.73288 8.31876 4.73802 8.42564C4.74316 8.53252 4.78923 8.63333 4.86667 8.70717C4.94411 8.78101 5.04699 8.82223 5.154 8.82228L7.12889 8.82423L7.16889 8.82228C7.2754 8.81196 7.37385 8.76105 7.44384 8.68012C7.51384 8.59918 7.55001 8.49442 7.54487 8.38754C7.53973 8.28066 7.49366 8.17985 7.41622 8.10601Z"}),G("path",{fill:e,d:"M0.360988 7C0.0409945 7 -0.121002 7.40498 0.105993 7.64097L1.25597 8.83893C0.699981 9.87289 0.788979 11.1058 1.54596 11.8288C1.59996 11.8788 1.65496 11.9258 1.71296 11.9698C1.81896 12.0518 1.96095 11.9548 1.92895 11.8228C1.78696 11.2328 1.92995 10.5429 2.35095 9.97888L3.38392 11.0538C3.61092 11.2908 3.99991 11.1238 3.99991 10.7888V7.37599C4.00097 7.32766 3.9925 7.27959 3.97498 7.23454C3.95747 7.18949 3.93124 7.14833 3.89781 7.11341C3.86438 7.0785 3.8244 7.05051 3.78015 7.03105C3.7359 7.01159 3.68825 7.00104 3.63992 7H0.360988Z"})]})}const hO="M7.58869 11.7531C7.38361 11.7531 7.18253 11.6719 7.03205 11.5187L5.99601 10.4614C5.99468 10.4601 5.98802 10.4534 5.97736 10.4534C5.96671 10.4534 5.96005 10.4587 5.95872 10.4614L4.92134 11.5121C4.68697 11.7491 4.32875 11.8117 4.02779 11.6666L2.77069 11.0593C2.47106 10.9142 2.29661 10.5946 2.33656 10.263L2.51634 8.7928C2.51634 8.79014 2.51767 8.78215 2.51101 8.77282C2.50435 8.7635 2.49636 8.7635 2.49237 8.7635L1.02486 8.60903C0.693272 8.5744 0.42161 8.33204 0.347036 8.00711L0.0380872 6.64481C-0.035155 6.31988 0.104671 5.98429 0.38965 5.80851L1.65075 5.03215C1.65341 5.03081 1.66007 5.02682 1.66273 5.01483C1.6654 5.00418 1.66007 4.99752 1.65874 4.99486L0.863727 3.75107C0.68395 3.47009 0.703925 3.10654 0.911667 2.84553L1.78258 1.75356C1.99032 1.49255 2.34056 1.39401 2.65483 1.5072L4.04776 2.00791C4.05043 2.00924 4.05842 2.0119 4.06774 2.00658C4.07839 2.00125 4.08106 1.99326 4.08106 1.9906L4.55913 0.595001C4.66699 0.279394 4.96263 0.0676575 5.29688 0.0676575H6.69247C7.02539 0.0676575 7.32236 0.279394 7.43022 0.595001L7.91096 2.00658C7.91229 2.00924 7.91495 2.01723 7.92427 2.02256C7.93493 2.02788 7.94159 2.02522 7.94425 2.02389L9.34517 1.52584C9.65945 1.41398 10.0097 1.51519 10.2161 1.7762L11.083 2.87084C11.2908 3.13184 11.3081 3.49539 11.127 3.77638L10.328 5.02016C10.3266 5.02282 10.3213 5.02948 10.324 5.04014C10.3266 5.05079 10.3333 5.05478 10.3359 5.05745L11.5904 5.83648C11.874 6.01226 12.0139 6.34917 11.9379 6.6741L11.6237 8.03508C11.5491 8.36 11.2761 8.60104 10.9432 8.63433L9.47035 8.78481C9.46769 8.78481 9.4597 8.78614 9.45171 8.79413C9.44505 8.80345 9.44638 8.81144 9.44638 8.81411L9.62216 10.2789C9.66211 10.6105 9.48633 10.9288 9.18537 11.0726L7.92561 11.6759C7.81774 11.7278 7.70322 11.7531 7.58869 11.7531ZM5.97736 9.70766H5.9787C6.18777 9.70766 6.38219 9.79023 6.52868 9.93937L7.56472 10.9967C7.57404 11.0074 7.59002 11.01 7.60334 11.0034L8.86311 10.4001C8.87642 10.3935 8.88308 10.3802 8.88175 10.3668L8.7073 8.90067C8.68333 8.69292 8.74059 8.48918 8.8711 8.32671C9.0016 8.16425 9.18804 8.06304 9.39578 8.04173L10.8686 7.89125C10.8833 7.88992 10.8939 7.87927 10.8979 7.86595L11.2122 6.50498C11.2148 6.49166 11.2095 6.47701 11.1975 6.46902L9.9431 5.68999C9.76598 5.57947 9.64214 5.40768 9.59686 5.20393C9.55158 5.00019 9.58754 4.79111 9.70073 4.61666L10.5024 3.37155C10.5104 3.35956 10.5091 3.34358 10.5011 3.33293L9.63415 2.23829C9.62483 2.22764 9.61018 2.22231 9.59686 2.22764L8.1946 2.72568C7.99885 2.79493 7.78711 2.78428 7.59935 2.69372C7.41158 2.60317 7.27175 2.4447 7.20384 2.24761L6.7231 0.836035C6.71911 0.822718 6.70579 0.813396 6.69114 0.813396H5.29555C5.2809 0.813396 5.26891 0.822718 5.26359 0.836035L4.78818 2.23296C4.72026 2.43005 4.58044 2.58852 4.39267 2.67907C4.2049 2.76963 3.99317 2.78028 3.79608 2.7097L2.40314 2.20899C2.38983 2.20367 2.37518 2.20899 2.36586 2.21965L1.49494 3.31162C1.48562 3.32227 1.48562 3.33825 1.49228 3.35024L2.28729 4.59402C2.39915 4.76981 2.43644 4.97888 2.38983 5.18263C2.34322 5.38637 2.21937 5.55816 2.04226 5.66736L0.779831 6.44372C0.767846 6.45171 0.761187 6.46503 0.765182 6.47968L1.07413 7.84198C1.07679 7.8553 1.08878 7.86595 1.10343 7.86728L2.57094 8.02176C2.77868 8.04307 2.96378 8.14561 3.09428 8.3094C3.22479 8.4732 3.28205 8.67694 3.25675 8.88335L3.07697 10.3535C3.07564 10.3682 3.0823 10.3815 3.09562 10.3868L4.35272 10.9941C4.36604 11.0007 4.38068 10.9981 4.39134 10.9874L5.42871 9.93671C5.57387 9.78889 5.76962 9.70766 5.97736 9.70766Z";function pO({fill:e=Hf,style:t,width:n=14.5}){return X("svg",{width:n,viewBox:"0 0 12 12",style:t,children:[G("path",{fill:e,d:"M5.98802 7.93918C4.86941 7.93918 3.95987 7.02965 3.95987 5.91104C3.95987 4.79244 4.86941 3.8829 5.98802 3.8829C7.10663 3.8829 8.01617 4.79244 8.01617 5.91104C8.01617 7.02965 7.10663 7.93918 5.98802 7.93918ZM5.98802 4.62731C5.2809 4.62731 4.70561 5.20259 4.70561 5.90971C4.70561 6.61683 5.2809 7.19211 5.98802 7.19211C6.69514 7.19211 7.27043 6.61683 7.27043 5.90971C7.27043 5.20259 6.69647 4.62731 5.98802 4.62731Z"}),G("path",{fill:e,d:hO})]})}function vO({width:e=12}){return G("svg",{width:e,viewBox:"0 0 12 12",children:G("path",{fill:_f,d:"M9.33981 10.069C9.33981 10.471 9.01283 10.7982 8.6106 10.7982H3.36024C3.16691 10.798 2.98156 10.7211 2.84486 10.5844C2.70815 10.4477 2.63125 10.2624 2.63102 10.069V2.33932H9.33981V10.069V10.069ZM4.08945 1.02673C4.08945 0.988053 4.10482 0.950957 4.13217 0.923606C4.15952 0.896255 4.19662 0.880889 4.2353 0.880889H7.73554C7.77422 0.880889 7.81131 0.896255 7.83866 0.923606C7.86602 0.950957 7.88138 0.988053 7.88138 1.02673V1.46426H4.08945V1.02673V1.02673ZM11.5275 1.46426H8.75644V1.02673C8.75644 0.463777 8.29849 0.00582886 7.73554 0.00582886H4.2353C3.67234 0.00582886 3.21439 0.463777 3.21439 1.02673V1.46426H0.443367C0.327327 1.46426 0.216039 1.51036 0.133986 1.59241C0.0519333 1.67447 0.00583649 1.78575 0.00583649 1.90179C0.00583649 2.01783 0.0519333 2.12912 0.133986 2.21117C0.216039 2.29323 0.327327 2.33932 0.443367 2.33932H1.75596V10.069C1.75596 10.9537 2.47584 11.6733 3.36024 11.6733H8.6106C9.49499 11.6733 10.2149 10.9537 10.2149 10.069V2.33932H11.5275C11.6435 2.33932 11.7548 2.29323 11.8368 2.21117C11.9189 2.12912 11.965 2.01783 11.965 1.90179C11.965 1.78575 11.9189 1.67447 11.8368 1.59241C11.7548 1.51036 11.6435 1.46426 11.5275 1.46426V1.46426ZM5.98542 9.48565C6.10146 9.48565 6.21274 9.43955 6.2948 9.3575C6.37685 9.27545 6.42295 9.16416 6.42295 9.04812V4.38113C6.42295 4.26509 6.37685 4.1538 6.2948 4.07175C6.21274 3.9897 6.10146 3.9436 5.98542 3.9436C5.86938 3.9436 5.75809 3.9897 5.67604 4.07175C5.59398 4.1538 5.54789 4.26509 5.54789 4.38113V9.04812C5.54789 9.16416 5.59398 9.27545 5.67604 9.3575C5.75809 9.43955 5.86938 9.48565 5.98542 9.48565ZM3.94361 9.48565C4.05965 9.48565 4.17094 9.43955 4.25299 9.3575C4.33504 9.27545 4.38114 9.16416 4.38114 9.04812V4.38113C4.38114 4.26509 4.33504 4.1538 4.25299 4.07175C4.17094 3.9897 4.05965 3.9436 3.94361 3.9436C3.82757 3.9436 3.71628 3.9897 3.63423 4.07175C3.55218 4.1538 3.50608 4.26509 3.50608 4.38113V9.04812C3.50608 9.16416 3.55218 9.27545 3.63423 9.3575C3.71628 9.43955 3.82757 9.48565 3.94361 9.48565V9.48565ZM8.02722 9.48565C8.14326 9.48565 8.25455 9.43955 8.33661 9.3575C8.41866 9.27545 8.46475 9.16416 8.46475 9.04812V4.38113C8.46476 4.32367 8.45345 4.26677 8.43147 4.21367C8.40949 4.16058 8.37726 4.11234 8.33663 4.0717C8.296 4.03107 8.24777 3.99883 8.19468 3.97684C8.14159 3.95485 8.08469 3.94353 8.02722 3.94353C7.96976 3.94353 7.91286 3.95485 7.85977 3.97684C7.80668 3.99883 7.75845 4.03107 7.71782 4.0717C7.67719 4.11234 7.64496 4.16058 7.62298 4.21367C7.60099 4.26677 7.58968 4.32367 7.58969 4.38113V9.04812C7.58969 9.16416 7.63579 9.27545 7.71784 9.3575C7.7999 9.43955 7.91118 9.48565 8.02722 9.48565"})})}function gO({width:e=12,fill:t=zf}){return G("svg",{width:e,viewBox:"0 0 12 12",children:G("path",{fill:t,d:"M6 11.9655C2.71724 11.9655 0.034483 9.2827 0.034483 5.99994C0.034483 2.71718 2.71724 0.0344238 6 0.0344238C9.28276 0.0344238 11.9655 2.71718 11.9655 5.99994C11.9655 9.2827 9.28276 11.9655 6 11.9655ZM6 11.1103C8.81379 11.1103 11.1103 8.81373 11.1103 5.99994C11.1103 3.18615 8.81379 0.889596 6 0.889596C3.18621 0.889596 0.889655 3.18615 0.889655 5.99994C0.889655 8.81373 3.18621 11.1103 6 11.1103ZM8.97931 5.99994C8.97931 6.25511 8.8069 6.42753 8.55172 6.42753H3.44138C3.18621 6.42753 3.01379 6.25511 3.01379 5.99994C3.01379 5.74477 3.18621 5.57235 3.44138 5.57235H8.55172C8.81379 5.57235 8.97931 5.74477 8.97931 5.99994Z"})})}function mO({width:e=12,fill:t=zf}){return X("svg",{width:e,viewBox:"0 0 12 12",children:[G("path",{fill:t,d:"M5.99655 3.01739C6.25172 3.01739 6.42414 3.18981 6.42414 3.44498V8.55532C6.42414 8.8105 6.25172 8.98291 5.99655 8.98291C5.74138 8.98291 5.56897 8.8105 5.56897 8.55532V3.44498C5.56897 3.18291 5.74138 3.01739 5.99655 3.01739Z"}),G("path",{fill:t,d:"M6 11.9655C2.71724 11.9655 0.034483 9.2827 0.034483 5.99994C0.034483 2.71718 2.71724 0.0344238 6 0.0344238C9.28276 0.0344238 11.9655 2.71718 11.9655 5.99994C11.9655 9.2827 9.28276 11.9655 6 11.9655ZM6 11.1103C8.81379 11.1103 11.1103 8.81373 11.1103 5.99994C11.1103 3.18615 8.81379 0.889596 6 0.889596C3.18621 0.889596 0.889655 3.18615 0.889655 5.99994C0.889655 8.81373 3.18621 11.1103 6 11.1103Z"})]})}function yO({width:e=12,fill:t=_f,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M9.57143 8.38094V1.23808C9.57143 1.08175 9.54064 0.926943 9.48081 0.782508C9.42098 0.638073 9.33329 0.506836 9.22275 0.39629C9.1122 0.285744 8.98096 0.198054 8.83653 0.138227C8.69209 0.0784 8.53729 0.0476074 8.38095 0.0476074H1.2381C1.08176 0.0476074 0.926958 0.0784 0.782523 0.138227C0.638088 0.198054 0.506851 0.285744 0.396305 0.39629C0.285759 0.506836 0.198069 0.638073 0.138242 0.782508C0.0784152 0.926943 0.0476227 1.08175 0.0476227 1.23808V8.38094C0.0476227 8.53727 0.0784152 8.69208 0.138242 8.83651C0.198069 8.98095 0.285759 9.11219 0.396305 9.22273C0.506851 9.33328 0.638088 9.42097 0.782523 9.48079C0.926958 9.54062 1.08176 9.57141 1.2381 9.57141H8.38095C8.69669 9.57141 8.99949 9.44599 9.22275 9.22273C9.446 8.99947 9.57143 8.69667 9.57143 8.38094ZM1.2381 1.23808H8.38095V8.38094H1.2381V1.23808ZM10.7619 2.42856V9.57141C10.7619 9.88715 10.6365 10.1899 10.4132 10.4132C10.19 10.6365 9.88716 10.7619 9.57143 10.7619H2.42857C2.42857 10.9182 2.45937 11.073 2.51919 11.2175C2.57902 11.3619 2.66671 11.4931 2.77726 11.6037C2.8878 11.7142 3.01904 11.8019 3.16347 11.8617C3.30791 11.9216 3.46271 11.9524 3.61905 11.9524H9.57143C10.2029 11.9524 10.8085 11.7015 11.255 11.255C11.7015 10.8085 11.9524 10.2029 11.9524 9.57141V3.61903C11.9524 3.4627 11.9216 3.30789 11.8618 3.16346C11.8019 3.01902 11.7142 2.88779 11.6037 2.77724C11.4932 2.6667 11.3619 2.57901 11.2175 2.51918C11.073 2.45935 10.9182 2.42856 10.7619 2.42856V2.42856Z"})})}function bO({width:e=12.5,fill:t=_f,style:n}){return G("svg",{width:e,viewBox:"-1 0 12 12",style:n,children:G("path",{fill:t,d:"M7.37825 1.05801L5.82133 0.061157C5.64022 -0.0545086 5.39976 -0.00124151 5.28409 0.179866L4.81686 0.911908C4.7012 1.09302 4.75446 1.33348 4.93557 1.44914L6.49097 2.44448C6.67208 2.56014 6.91254 2.50688 7.02821 2.32577L7.49543 1.59373C7.61262 1.41414 7.55935 1.17216 7.37825 1.05801ZM6.56554 2.74277L4.63271 1.50698C4.55509 1.45828 4.4516 1.4811 4.4029 1.5572C4.3542 1.63482 4.37703 1.73831 4.45313 1.78701L6.38596 3.02281C6.46358 3.07151 6.56707 3.04868 6.61577 2.97258C6.66599 2.89496 6.64316 2.79147 6.56554 2.74277ZM5.9583 3.07151L4.58858 2.19488C4.35724 2.04726 4.04525 2.11574 3.89763 2.34707L0.450487 7.74074C0.441356 7.75444 0.432224 7.76966 0.424614 7.78488C0.394176 7.82902 0.371347 7.87772 0.36526 7.9249L0.00304378 10.5076C-0.0258726 10.6963 0.18263 10.8287 0.340909 10.7222L2.51877 9.30527C2.52942 9.29766 2.54008 9.28853 2.55073 9.2794C2.59334 9.24592 2.63139 9.20483 2.66335 9.15613L6.11049 3.76398C6.25964 3.53113 6.19115 3.22065 5.9583 3.07151ZM0.920759 9.63553C0.899452 9.60814 0.872058 9.58378 0.840097 9.564C0.808137 9.54421 0.774655 9.529 0.741173 9.52139L0.878145 8.60824L1.68628 9.12569L0.920759 9.63553ZM10.451 11.9793H0.0958807C0.0426137 11.9793 0 11.9367 0 11.8834V11.3325C0 11.2792 0.0441356 11.2366 0.0958807 11.2366H10.4495C10.5027 11.2366 10.5454 11.2792 10.5454 11.3325V11.8834C10.5469 11.9367 10.5027 11.9793 10.451 11.9793V11.9793Z"})})}function CO(){return G("svg",{width:12.5,viewBox:"0 0 12 12",children:G("path",{fill:_f,d:"M4.88672 0.0117188C4.31716 0.0117188 3.85547 0.473426 3.85547 1.04297V5.09766H1.04297C0.473438 5.09766 0.0117188 5.55936 0.0117188 6.12891V10.957C0.0117188 11.5266 0.473438 11.9883 1.04297 11.9883H4.73074C4.78161 11.996 4.8337 12 4.88672 12H10.9453C11.2331 12 11.4933 11.8821 11.6804 11.6921C11.8704 11.505 11.9883 11.2448 11.9883 10.957V6.12891C11.9883 6.07589 11.9843 6.02381 11.9766 5.97293V1.04297C11.9766 0.473426 11.5149 0.0117188 10.9453 0.0117188H4.88672ZM7.81683 7.57897V4.56013C7.81683 4.24215 8.07437 3.98438 8.39207 3.98438C8.70976 3.98438 8.96732 4.24215 8.96732 4.56013V8.73047H5.31679L5.68777 9.10145C5.91246 9.32613 5.91238 9.69047 5.68762 9.91521C5.46288 10.14 5.09855 10.14 4.87386 9.91536L3.11719 8.15868L4.87448 6.40139C5.09924 6.17664 5.46357 6.17657 5.68825 6.40124C5.91292 6.62592 5.91286 6.99026 5.68811 7.215L5.32413 7.57897H7.81683V7.57897Z"})})}function wO({width:e=12,fill:t=_f,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M7.49903 4.65002C7.40736 4.55896 7.30965 4.47687 7.20896 4.40076C7.10533 4.30172 6.96443 4.24088 6.8093 4.24088C6.49089 4.24088 6.23279 4.49737 6.23279 4.81376C6.23279 4.95376 6.2834 5.08199 6.36736 5.1815C6.36733 5.18148 6.36738 5.18151 6.36736 5.1815C6.40769 5.2293 6.45574 5.27057 6.50961 5.30319C6.56397 5.34774 6.61732 5.3916 6.66722 5.44118L6.71475 5.48843C7.31224 6.08143 7.13387 7.10311 6.53637 7.69686L3.98672 10.2297C3.38923 10.8227 2.41786 10.8227 1.82034 10.2297L1.77244 10.1821C1.17491 9.58836 1.17491 8.62239 1.77244 8.0301L2.89885 6.91115C3.04338 6.79716 3.13616 6.62121 3.13616 6.42364C3.13616 6.08 2.85582 5.80142 2.51 5.80142C2.3795 5.80142 2.25837 5.84112 2.15806 5.90899C2.15774 5.90832 2.15741 5.90769 2.15707 5.90701L2.14507 5.91817C2.10073 5.94985 2.06064 5.987 2.02601 6.02888L0.855424 7.11735C-0.244929 8.21153 -0.244929 10.0011 0.855424 11.0937L0.902951 11.141C2.0033 12.2336 3.80341 12.2336 4.90376 11.141L7.45266 8.60734C8.55149 7.51397 8.64466 5.78917 7.54584 4.6965L7.49903 4.65002Z"}),G("path",{fill:t,d:"M11.1732 0.934624L11.1256 0.887396C10.0253 -0.206036 8.22519 -0.206036 7.12483 0.887396L4.57594 3.421C3.47559 4.51443 3.41499 6.09341 4.51534 7.18755L4.56211 7.23331C4.61208 7.28295 4.66395 7.32976 4.7169 7.37465C4.75523 7.41719 4.80025 7.4536 4.85029 7.4824C4.85067 7.4827 4.85107 7.48301 4.85145 7.48332C4.93122 7.5289 5.02381 7.55497 5.12245 7.55497C5.42304 7.55497 5.6667 7.31281 5.6667 7.01414C5.6667 6.92984 5.64727 6.85004 5.61263 6.7789C5.54068 6.61836 5.40599 6.52063 5.31283 6.42805L5.26605 6.38231C4.66856 5.78859 4.89545 4.926 5.49294 4.33228L8.04334 1.7994C8.63935 1.20564 9.61105 1.20564 10.2086 1.7994L10.2561 1.84587C10.8536 2.43964 10.8536 3.40599 10.2561 3.99899L9.1334 5.11541C8.98066 5.22786 8.88161 5.40824 8.88161 5.61162C8.88161 5.95248 9.15969 6.22882 9.50272 6.22882C9.6221 6.22882 9.73358 6.19527 9.82824 6.13726C9.82896 6.13846 9.82962 6.13958 9.83034 6.1408L9.84775 6.12483C9.90139 6.08914 9.94904 6.04532 9.9891 5.99522L11.1723 4.91027C12.2735 3.81685 12.2735 2.02804 11.1732 0.934624Z"})]})}function xO({width:e=13,fill:t=Hf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M4.90125 4.83703H4.90504C4.90504 4.43018 4.98745 4.11596 5.15202 3.89403C5.33477 3.62897 5.63356 3.49652 6.04813 3.49652C6.38332 3.49652 6.64241 3.5889 6.82519 3.77382C7.00188 3.96493 7.09035 4.21759 7.09035 4.53191C7.09035 4.75992 7.00491 4.98491 6.83428 5.20672L6.67882 5.3824C6.10576 5.9001 5.76148 6.28218 5.6457 6.52889C5.52386 6.7569 5.46294 7.04965 5.46294 7.40706V7.5643H6.44121V7.40706C6.44121 7.17907 6.48974 6.97557 6.58732 6.79684C6.67276 6.61815 6.80066 6.45786 6.97153 6.31606C7.4043 5.93399 7.66011 5.69371 7.73948 5.595C7.97104 5.29305 8.08682 4.91717 8.08682 4.46722C8.08682 3.90643 7.90379 3.46571 7.53828 3.14529C7.17883 2.81858 6.70309 2.65527 6.11209 2.65527C5.43539 2.65527 4.90505 2.85246 4.52133 3.24691C4.14974 3.62241 3.95814 4.13052 3.946 4.77118C3.9455 4.77939 3.94524 4.78774 3.94524 4.79609C3.94524 4.79987 3.94524 4.80367 3.9455 4.80733C3.94524 4.8172 3.94524 4.82705 3.94524 4.83703H3.94701C3.96749 5.08526 4.17325 5.28029 4.42427 5.28029C4.67501 5.28029 4.88077 5.08526 4.90125 4.83703Z"}),G("path",{fill:t,d:"M6.01603 0.0667725C2.72809 0.0667725 0.0625076 2.73223 0.0625076 6.0203C0.0625076 9.30849 2.72809 11.9738 6.01603 11.9738C9.30421 11.9738 11.9696 9.30849 11.9696 6.0203C11.9696 2.73223 9.3042 0.0667725 6.01603 0.0667725ZM6.01603 11.1973C3.1568 11.1973 0.839039 8.87952 0.839039 6.0203C0.839039 3.16107 3.1568 0.843317 6.01603 0.843317C8.87524 0.843317 11.193 3.16107 11.193 6.0203C11.193 8.87952 8.87523 11.1973 6.01603 11.1973Z"}),G("path",{fill:t,d:"M6.43211 8.2484C6.56002 8.36543 6.62398 8.52242 6.62398 8.71982C6.62398 8.90463 6.55698 9.06487 6.42301 9.20037C6.28879 9.32373 6.13028 9.38541 5.94753 9.38541C5.75845 9.38541 5.6002 9.32069 5.47204 9.19127C5.34388 9.06185 5.28018 8.90463 5.28018 8.71982C5.28018 8.52242 5.34388 8.36543 5.47204 8.2484C5.59414 8.12504 5.75236 8.06335 5.94753 8.06335C6.14849 8.06335 6.31026 8.12504 6.43211 8.2484Z"})]})}function SO({width:e=13,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 9",style:n,children:G("path",{fill:t,d:"M6 0.0332031C7.71051 0.0332031 9.14233 1.25025 9.49176 2.89002C10.8844 3.05195 11.9659 4.25366 11.9659 5.71531C11.9659 7.28178 10.7173 8.55593 9.18153 8.55593H2.81847C1.28267 8.55593 0.03409 7.28178 0.03409 5.71531C0.03409 4.25281 1.11648 3.05281 2.50824 2.88917C2.85767 1.25025 4.28949 0.0340553 6 0.0340553V0.0332031ZM6 0.885476C4.70795 0.885476 3.61108 1.80593 3.34091 3.06815L3.21307 3.66559L2.60625 3.73718C1.65 3.84798 0.886363 4.68065 0.886363 5.71445C0.886363 6.82837 1.77017 7.70451 2.81847 7.70451H9.18153C10.2298 7.70451 11.1136 6.82837 11.1136 5.71616C11.1136 4.6815 10.35 3.84968 9.39375 3.73803L8.78608 3.66644L8.65824 3.069C8.38892 1.80593 7.29204 0.885476 6 0.885476Z"})})}function EO({width:e=12,fill:t=_f,style:n,fully:o}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M1.14307 5.88991C1.15719 5.27291 1.28426 4.67427 1.52287 4.11092C1.76713 3.53204 2.11728 3.01387 2.56344 2.5663C3.0096 2.11873 3.52918 1.76858 4.10806 1.52432C4.7067 1.27159 5.34206 1.14311 5.99859 1.14311C6.65512 1.14311 7.29047 1.27159 7.88771 1.52432C8.46517 1.76858 8.98475 2.11873 9.43091 2.5663C9.57069 2.70608 9.70199 2.85433 9.82342 3.00964L8.97346 3.67323C8.89862 3.73112 8.92404 3.84972 9.01581 3.87231L11.4965 4.47942C11.5671 4.49637 11.6363 4.44272 11.6363 4.37071L11.6476 1.81659C11.6476 1.72199 11.5389 1.66834 11.4655 1.72764L10.6691 2.35028C9.5834 0.960976 7.89477 0.0700684 5.99718 0.0700684C2.76252 0.0700684 0.130742 2.66231 0.0700303 5.88426C0.0686184 5.9478 0.119447 6.00004 0.182982 6.00004H1.03012C1.09224 6.00004 1.14166 5.95062 1.14307 5.88991ZM11.817 6.00004H10.9699C10.9078 6.00004 10.8583 6.04945 10.8569 6.11017C10.8428 6.72717 10.7157 7.32581 10.4771 7.88916C10.2329 8.46804 9.88272 8.98761 9.43656 9.43377C8.9904 9.87993 8.47082 10.2315 7.89194 10.4758C7.2933 10.7285 6.65794 10.857 6.00141 10.857C5.34488 10.857 4.70953 10.7285 4.11088 10.4758C3.53342 10.2315 3.01384 9.88134 2.56768 9.43377C2.4279 9.294 2.29659 9.14575 2.17517 8.99044L3.02513 8.32685C3.09996 8.26896 3.07455 8.15036 2.98277 8.12777L0.502071 7.52065C0.431476 7.50371 0.362293 7.55736 0.362293 7.62937L0.35241 10.1849C0.35241 10.2795 0.461126 10.3332 0.534545 10.2739L1.33085 9.65121C2.4166 11.0391 4.10523 11.93 6.00282 11.93C9.23889 11.93 11.8693 9.33635 11.93 6.11581C11.9314 6.05228 11.8806 6.00004 11.817 6.00004Z"}),o&&G("path",{fill:t,d:"M9 7.33571C9 7.07857 8.82857 6.90714 8.57143 6.90714H3.42857C3.17143 6.90714 3 7.07857 3 7.33571C3 7.59286 3.17143 7.76429 3.42857 7.76429H8.57143C8.82857 7.76429 9 7.59286 9 7.33571Z"}),o&&G("path",{fill:t,d:"M9 4.67857C9 4.42143 8.82857 4.25 8.57143 4.25H3.42857C3.17143 4.25 3 4.42143 3 4.67857C3 4.93571 3.17143 5.10714 3.42857 5.10714H8.57143C8.82857 5.10714 9 4.93571 9 4.67857Z"})]})}function kO({width:e=13,fill:t=Hf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M6 11.9659C2.71091 11.9659 0.0340918 9.28906 0.0340918 5.99997C0.0340918 2.71088 2.71091 0.0340576 6 0.0340576C9.28909 0.0340576 11.9659 2.71088 11.9659 5.99997C11.9659 9.28906 9.28909 11.9659 6 11.9659ZM6 0.542694C2.98977 0.542694 0.542728 2.98974 0.542728 5.99997C0.542728 9.01019 2.98977 11.4572 6 11.4572C9.01023 11.4572 11.4573 9.01019 11.4573 5.99997C11.4573 2.98974 9.01023 0.542694 6 0.542694ZM6 11.9659C4.29205 11.9659 2.96591 9.33747 2.96591 5.99997C2.96591 2.66247 4.29136 0.0340576 6 0.0340576C7.70864 0.0340576 9.03409 2.66247 9.03409 5.99997C9.03409 9.33747 7.68409 11.9659 6 11.9659ZM6 0.542694C4.62546 0.542694 3.47455 3.04428 3.47455 5.99997C3.47455 8.95565 4.61932 11.4572 6 11.4572C7.38068 11.4572 8.52545 8.95565 8.52545 5.99997C8.52545 3.04428 7.35068 0.542694 6 0.542694ZM6 3.85633C4.405 3.85345 2.83638 3.44922 1.43864 2.68088C1.31182 2.60178 1.26341 2.45042 1.33636 2.3236C1.41477 2.1961 1.56614 2.14769 1.69364 2.22065C2.98977 2.94133 4.49796 3.32315 6 3.32315C7.51758 3.3269 9.0107 2.94094 10.3364 2.20224C10.4639 2.12383 10.6152 2.17838 10.6943 2.30519C10.7727 2.43269 10.7182 2.58406 10.5914 2.66247C9.18834 3.44681 7.60738 3.85766 6 3.85565V3.85633ZM1.61523 9.94906C1.56906 9.94958 1.52355 9.9381 1.48316 9.91575C1.44276 9.8934 1.40886 9.86095 1.38477 9.82156C1.30568 9.69474 1.36023 9.54338 1.48773 9.46428C2.86227 8.72519 4.41955 8.31951 5.97545 8.31951C7.53205 8.31951 9.08864 8.70133 10.4639 9.44042C10.5914 9.51883 10.6398 9.67019 10.5668 9.79769C10.4877 9.92451 10.3364 9.97292 10.2095 9.89997C8.91104 9.19163 7.45459 8.82294 5.97545 8.82815C4.49796 8.82815 3.01977 9.20997 1.71818 9.90065C1.69364 9.94838 1.66364 9.94838 1.61523 9.94838V9.94906ZM11.7116 6.30883H0.28841C0.254521 6.3107 0.220617 6.30541 0.188913 6.29329C0.157209 6.28117 0.128417 6.2625 0.104418 6.2385C0.0804177 6.2145 0.0617494 6.18571 0.0496315 6.15401C0.0375135 6.1223 0.0322184 6.0884 0.0340918 6.05451C0.0340918 5.90315 0.137046 5.80019 0.28841 5.80019H11.7116C11.863 5.80019 11.9659 5.90247 11.9659 6.05451C11.9656 6.12185 11.9386 6.18633 11.891 6.23395C11.8434 6.28156 11.7789 6.30847 11.7116 6.30883Z"}),G("path",{fill:t,d:"M0.8 5.80005H11.2C11.7333 5.80005 12 6.0756 12 6.62672V11.1734C12 11.7245 11.7333 12 11.2 12H0.8C0.266667 12 0 11.7245 0 11.1734V6.62672C0 6.0756 0.266667 5.80005 0.8 5.80005Z"}),G("path",{fill:"white",stroke:"white","stroke-width":"0.3",d:"M1.1 6.30005V11.4667H2.2424C2.7584 11.4667 3.1544 11.228 3.4312 10.7578C3.6936 10.3094 3.8272 9.67905 3.8272 8.88338C3.8272 8.07325 3.7024 7.44395 3.4592 7.00891C3.1912 6.53151 2.8 6.30005 2.2792 6.30005H1.1ZM1.4776 6.81362H2.2192C2.652 6.81362 2.9656 6.98721 3.168 7.34165C3.3576 7.67541 3.4536 8.18898 3.4536 8.88338C3.4536 9.55608 3.348 10.0707 3.1456 10.4179C2.9288 10.7723 2.6064 10.9531 2.1776 10.9531H1.4776V6.81362ZM5.3824 6.30005L3.8272 11.4667H4.3144L4.7352 10.02H6.5504L6.9712 11.4667H7.4632L5.908 6.30005H5.3824ZM4.8784 9.51992L5.6368 6.93658H5.6592L6.4064 9.51992H4.8784ZM7.464 6.30005L8.9896 11.4667H9.5736L11.1 6.30005H10.58L9.2904 10.8229H9.2728L7.984 6.30005H7.464Z"})]})}function DO({width:e=12.5,fill:t=Hf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M6.01603 0.0667725C2.72809 0.0667725 0.0625095 2.73223 0.0625095 6.0203C0.0625095 9.30849 2.72809 11.9738 6.01603 11.9738C9.30422 11.9738 11.9696 9.30849 11.9696 6.0203C11.9696 2.73223 9.3042 0.0667725 6.01603 0.0667725ZM6.01603 11.1973C3.1568 11.1973 0.839041 8.87952 0.839041 6.0203C0.839041 3.16107 3.1568 0.843317 6.01603 0.843317C8.87525 0.843317 11.193 3.16107 11.193 6.0203C11.193 8.87952 8.87523 11.1973 6.01603 11.1973Z"}),G("path",{fill:t,d:"M6.48192 2.98509C6.60984 3.10212 6.67379 3.25911 6.67379 3.45651C6.67379 3.64132 6.6068 3.80157 6.47283 3.93707C6.3386 4.06043 6.18009 4.12211 5.99734 4.12211C5.80827 4.12211 5.65001 4.05738 5.52186 3.92796C5.3937 3.79855 5.33 3.64132 5.33 3.45651C5.33 3.25911 5.3937 3.10212 5.52186 2.98509C5.64396 2.86173 5.80218 2.80005 5.99734 2.80005C6.19831 2.80005 6.36008 2.86173 6.48192 2.98509Z"}),G("path",{fill:t,d:"M5.9794 4.80005C5.71573 4.80005 5.5 5.01578 5.5 5.27945V8.70852C5.5 8.97219 5.71573 9.18792 5.9794 9.18792C6.24307 9.18792 6.45881 8.97219 6.45881 8.70852V5.27945C6.45881 5.01578 6.24307 4.80005 5.9794 4.80005Z"})]})}function IO({width:e=12,fill:t=Hf,style:n={position:"relative",top:-.5}}){return X("svg",{width:e,viewBox:"0 0 12 13",style:n,children:[G("path",{fill:t,d:"M4.73684 9.37949C4.73684 9.47329 4.73684 9.47329 4.73684 9.37949L4.82707 9.47329C4.82707 9.47329 4.91729 9.56708 5.00752 9.56708H5.09774C5.18797 9.56708 5.18797 9.47329 5.27819 9.47329C5.36842 9.37949 5.45865 9.37949 5.45865 9.37949L7.53383 5.62769C7.62406 5.4401 7.62406 5.15871 7.35338 5.06492C7.17293 4.87733 6.90225 4.97112 6.81203 5.15871L5.09774 8.25395L3.38346 5.15871C3.20301 4.97112 2.93233 4.87733 2.75188 4.97112C2.57143 5.15871 2.4812 5.3463 2.57143 5.62769L4.73684 9.37949ZM2.57143 11.3492H7.62406C7.89474 11.3492 8.07519 11.1616 8.07519 10.8802C8.07519 10.5988 7.89474 10.4112 7.62406 10.4112H2.57143C2.30075 10.4112 2.1203 10.5988 2.1203 10.8802C2.1203 11.1616 2.30075 11.3492 2.57143 11.3492Z"}),G("path",{fill:t,d:"M9.24812 1.7821H0.857143C0.406015 1.7821 0.0451126 2.15728 0.0451126 2.62626V12.0996C0.0451126 12.5685 0.406015 12.9437 0.857143 12.9437H9.24812C9.69925 12.9437 10.0602 12.5685 10.0602 12.0996V2.62626C10.0602 2.15728 9.69925 1.7821 9.24812 1.7821ZM9.24812 12.0996H0.857143V2.62626H9.24812V12.0996Z"}),G("path",{fill:t,d:"M10.9624 0H2.1203C1.93985 0 1.7594 0.18759 1.7594 0.468976C1.7594 0.750361 1.93985 0.937951 2.21053 0.937951H11.0526V10.8802C11.0526 11.1616 11.2331 11.3492 11.5038 11.3492C11.7744 11.3492 11.9549 11.1616 11.9549 10.8802V0.844156C11.7744 0.37518 11.4135 0 10.9624 0Z"})]})}function NO({width:e=11,fill:t=Hf,style:n={position:"relative",top:-.5}}){return X("svg",{width:e,viewBox:"0 0 11 13",style:n,children:[G("path",{fill:t,d:"M8.01524 5.40002H2.98476C2.87357 5.40002 2.76695 5.44556 2.68833 5.52661C2.60971 5.60766 2.56555 5.71758 2.56555 5.83221C2.56555 5.94683 2.60971 6.05675 2.68833 6.1378C2.76695 6.21885 2.87357 6.26439 2.98476 6.26439H8.01524C8.12642 6.26439 8.23305 6.21885 8.31167 6.1378C8.39028 6.05675 8.43445 5.94683 8.43445 5.83221C8.43445 5.71758 8.39028 5.60766 8.31167 5.52661C8.23305 5.44556 8.12642 5.40002 8.01524 5.40002ZM8.01524 7.99311H2.98476C2.87357 7.99311 2.76695 8.03864 2.68833 8.11969C2.60971 8.20074 2.56555 8.31067 2.56555 8.42529C2.56555 8.53991 2.60971 8.64984 2.68833 8.73089C2.76695 8.81194 2.87357 8.85747 2.98476 8.85747H8.01524C8.12642 8.85747 8.23305 8.81194 8.31167 8.73089C8.39028 8.64984 8.43445 8.53991 8.43445 8.42529C8.43445 8.31067 8.39028 8.20074 8.31167 8.11969C8.23305 8.03864 8.12642 7.99311 8.01524 7.99311Z"}),G("path",{fill:t,d:"M9.69207 0.017334H1.30793C0.614557 0.017334 0.0503044 0.599049 0.0503044 1.31388V11.6862C0.0503044 12.401 0.614557 12.9828 1.30793 12.9828H9.69207C10.3854 12.9828 10.9497 12.401 10.9497 11.6862V1.31388C10.9497 0.599049 10.3854 0.017334 9.69207 0.017334ZM2.98476 0.881696H8.01524V2.17824H2.98476V0.881696ZM10.1113 11.6862C10.1113 11.8008 10.0671 11.9108 9.9885 11.9918C9.90988 12.0729 9.80325 12.1184 9.69207 12.1184H1.30793C1.07694 12.1184 0.888719 11.9248 0.888719 11.6862V1.31388C0.888719 1.07574 1.07694 0.881696 1.30793 0.881696H2.14634V2.17824C2.14634 2.65493 2.52237 3.0426 2.98476 3.0426H8.01524C8.47763 3.0426 8.85366 2.65493 8.85366 2.17824V0.881696H9.69207C9.92348 0.881696 10.1113 1.07574 10.1113 1.31388V11.6862Z"})]})}function LO({width:e=12,fill:t=Hf,style:n={position:"relative",top:-.5}}){return X("svg",{width:e,viewBox:"0 0 12 13",style:n,children:[G("path",{fill:t,d:"M9.67737 12.9632H1.44458C0.687433 12.9632 0.0728626 12.3428 0.0728626 11.5785V2.34711C0.0728626 1.58279 0.687433 0.962402 1.44458 0.962402H7.84595C8.09915 0.962402 8.30319 1.16837 8.30319 1.42397C8.30319 1.67957 8.09915 1.88554 7.84595 1.88554H1.44458C1.19384 1.88554 0.987343 2.09399 0.987343 2.34711V11.5785C0.987343 11.8341 1.19384 12.0401 1.44458 12.0401H9.67491C9.92811 12.0401 10.1321 11.8341 10.1321 11.5785V4.19091C10.1321 3.93531 10.3362 3.72934 10.5894 3.72934C10.8426 3.72934 11.0466 3.93531 11.0466 4.19091V11.576C11.0491 12.3404 10.4321 12.9632 9.67737 12.9632Z"}),G("path",{fill:t,d:"M6.99047 5.57562C6.87247 5.57562 6.75693 5.53095 6.66597 5.43914C6.48652 5.25798 6.48652 4.96764 6.66597 4.78649L11.2113 0.200563C11.3908 0.0194088 11.6784 0.0194088 11.8579 0.200563C12.0373 0.381717 12.0373 0.672059 11.8579 0.853213L7.3125 5.44162C7.224 5.53095 7.106 5.57562 6.99047 5.57562Z"}),G("path",{fill:t,d:"M5.10251 5.57561H2.35907C2.10586 5.57561 1.90182 5.36964 1.90182 5.11404C1.90182 4.85844 2.10586 4.65247 2.35907 4.65247H5.10251C5.35571 4.65247 5.55975 4.85844 5.55975 5.11404C5.55975 5.36964 5.35571 5.57561 5.10251 5.57561Z"}),G("path",{fill:t,d:"M7.84841 8.34502H2.35907C2.10586 8.34502 1.90182 8.13905 1.90182 7.88345C1.90182 7.62784 2.10586 7.42188 2.35907 7.42188H7.84595C8.09915 7.42188 8.30319 7.62784 8.30319 7.88345C8.30319 8.13905 8.09915 8.34502 7.84841 8.34502Z"})]})}function TO({width:e=13,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M2.07608 11.9782C1.53556 11.9782 1.01718 11.7635 0.634969 11.3813C0.252762 10.9991 0.0380402 10.4807 0.0380402 9.94021V2.05977C0.0380402 1.79213 0.0907557 1.52711 0.193177 1.27985C0.295598 1.03258 0.445719 0.807907 0.634969 0.618658C1.01718 0.23645 1.53556 0.0217285 2.07608 0.0217285H6.96739C7.50791 0.0217285 8.02629 0.23645 8.4085 0.618658C8.79071 1.00086 9.00543 1.51925 9.00543 2.05977V5.18477H10.2283C10.4715 5.18475 10.7055 5.27792 10.8821 5.44511C11.0588 5.61231 11.1646 5.84083 11.178 6.08369L11.1793 6.13586V9.94021C11.1793 10.4807 10.9646 10.9991 10.5824 11.3813C10.2002 11.7635 9.68182 11.9782 9.1413 11.9782H2.07608ZM8.19021 2.05977C8.19021 1.74543 8.06916 1.44316 7.85219 1.21572C7.63522 0.98827 7.33899 0.853113 7.025 0.838304L6.96739 0.836946H2.07608C1.75177 0.836946 1.44074 0.965779 1.21141 1.1951C0.982091 1.42443 0.853258 1.73546 0.853258 2.05977V9.94021C0.853258 10.2645 0.982091 10.5756 1.21141 10.8049C1.44074 11.0342 1.75177 11.163 2.07608 11.163H8.19021V2.05977ZM10.2283 5.99999H9.00543V11.163H9.1413C9.46561 11.163 9.77664 11.0342 10.006 10.8049C10.2353 10.5756 10.3641 10.2645 10.3641 9.94021V6.13586C10.3641 6.09982 10.3498 6.06527 10.3243 6.03978C10.2989 6.0143 10.2643 5.99999 10.2283 5.99999ZM5.20108 5.99999C5.30919 5.99999 5.41287 6.04293 5.48931 6.11937C5.56575 6.19582 5.60869 6.29949 5.60869 6.4076C5.60869 6.5157 5.56575 6.61938 5.48931 6.69582C5.41287 6.77226 5.30919 6.81521 5.20108 6.81521H2.21195C2.10385 6.81521 2.00017 6.77226 1.92373 6.69582C1.84729 6.61938 1.80434 6.5157 1.80434 6.4076C1.80434 6.29949 1.84729 6.19582 1.92373 6.11937C2.00017 6.04293 2.10385 5.99999 2.21195 5.99999H5.20108ZM6.83152 3.01086C6.93962 3.01086 7.0433 3.0538 7.11974 3.13024C7.19618 3.20669 7.23913 3.31036 7.23913 3.41847C7.23913 3.52657 7.19618 3.63025 7.11974 3.70669C7.0433 3.78313 6.93962 3.82608 6.83152 3.82608H2.21195C2.10385 3.82608 2.00017 3.78313 1.92373 3.70669C1.84729 3.63025 1.80434 3.52657 1.80434 3.41847C1.80434 3.31036 1.84729 3.20669 1.92373 3.13024C2.00017 3.0538 2.10385 3.01086 2.21195 3.01086H6.83152Z"})})}function BO(){return G("svg",{style:{position:"relative",left:.5},width:"12",viewBox:"0 0 12 12",children:G("path",{fill:Hf,d:"M10.6667 1C10.7104 1 10.7538 1.00862 10.7942 1.02537C10.8347 1.04213 10.8714 1.06668 10.9024 1.09763C10.9333 1.12858 10.9579 1.16533 10.9746 1.20577C10.9914 1.24621 11 1.28956 11 1.33333V7.33333C11 7.37711 10.9914 7.42045 10.9746 7.4609C10.9579 7.50134 10.9333 7.53808 10.9024 7.56904C10.8714 7.59999 10.8347 7.62454 10.7942 7.64129C10.7538 7.65805 10.7104 7.66667 10.6667 7.66667H1.33333C1.28956 7.66667 1.24621 7.65805 1.20577 7.64129C1.16533 7.62454 1.12858 7.59999 1.09763 7.56904C1.06668 7.53808 1.04213 7.50134 1.02537 7.4609C1.00862 7.42045 1 7.37711 1 7.33333V1.33333C1 1.28956 1.00862 1.24621 1.02537 1.20577C1.04213 1.16533 1.06668 1.12858 1.09763 1.09763C1.12858 1.06668 1.16533 1.04213 1.20577 1.02537C1.24621 1.00862 1.28956 1 1.33333 1H10.6667ZM10.6667 0H1.33333C0.979711 0 0.640573 0.140476 0.390524 0.390524C0.140476 0.640573 0 0.979711 0 1.33333V7.33333C-2.0519e-09 7.50843 0.0344876 7.68181 0.101494 7.84358C0.1685 8.00535 0.266713 8.15233 0.390524 8.27614C0.514336 8.39995 0.661321 8.49817 0.823089 8.56517C0.984856 8.63218 1.15824 8.66667 1.33333 8.66667H5.5V10.6667H3.16667C3.03406 10.6667 2.90688 10.7193 2.81311 10.8131C2.71935 10.9069 2.66667 11.0341 2.66667 11.1667C2.66667 11.2993 2.71935 11.4265 2.81311 11.5202C2.90688 11.614 3.03406 11.6667 3.16667 11.6667H8.83333C8.96594 11.6667 9.09312 11.614 9.18689 11.5202C9.28065 11.4265 9.33333 11.2993 9.33333 11.1667C9.33333 11.0341 9.28065 10.9069 9.18689 10.8131C9.09312 10.7193 8.96594 10.6667 8.83333 10.6667H6.5V8.66667H10.6667C10.8418 8.66667 11.0151 8.63218 11.1769 8.56517C11.3387 8.49817 11.4857 8.39995 11.6095 8.27614C11.7333 8.15233 11.8315 8.00535 11.8985 7.84358C11.9655 7.68181 12 7.50843 12 7.33333V1.33333C12 0.979711 11.8595 0.640573 11.6095 0.390524C11.3594 0.140476 11.0203 0 10.6667 0Z"})})}function AO({width:e=12,fill:t=Hf}){return G("svg",{width:e,viewBox:"0 0 12 12",children:G("path",{fill:t,d:"M11.1996 5.29346H6.71914V0.813148C6.71914 0.382708 6.43124 0.0339355 6.07639 0.0339355H5.93333C5.57822 0.0339355 5.29058 0.382695 5.29058 0.813148V5.29346H0.810022C0.379705 5.29346 0.0308094 5.58135 0.0308094 5.93633V6.07927C0.0308094 6.43426 0.379705 6.72214 0.810022 6.72214H5.29033V11.2025C5.29033 11.6329 5.57822 11.9817 5.93333 11.9817H6.07613C6.43124 11.9817 6.71914 11.6329 6.71914 11.2025V6.72213H11.1996C11.6298 6.72213 11.9788 6.43424 11.9788 6.07926V5.93632C11.9788 5.58135 11.6298 5.29346 11.1996 5.29346Z"})})}function MO({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 11",style:n,children:[G("path",{fill:t,d:"M4.45594 5.98841L5.22797 6.76044C5.28341 6.81587 5.32738 6.88169 5.35738 6.95412C5.38739 7.02655 5.40283 7.10418 5.40283 7.18258C5.40283 7.26097 5.38739 7.3386 5.35738 7.41103C5.32738 7.48346 5.28341 7.54928 5.22797 7.60471C5.17254 7.66015 5.10672 7.70412 5.03429 7.73412C4.96186 7.76413 4.88423 7.77957 4.80583 7.77957C4.72744 7.77957 4.64981 7.76413 4.57737 7.73412C4.50494 7.70412 4.43913 7.66015 4.3837 7.60471L2.59245 5.81346C2.53695 5.75806 2.49292 5.69226 2.46288 5.61983C2.43284 5.54739 2.41738 5.46974 2.41738 5.39133C2.41738 5.31291 2.43284 5.23526 2.46288 5.16283C2.49292 5.09039 2.53695 5.02459 2.59245 4.96919L4.3837 3.17794C4.43913 3.1225 4.50494 3.07853 4.57737 3.04853C4.64981 3.01853 4.72744 3.00308 4.80583 3.00308C4.88423 3.00308 4.96186 3.01853 5.03429 3.04853C5.10672 3.07853 5.17254 3.1225 5.22797 3.17794C5.28341 3.23337 5.32738 3.29919 5.35738 3.37162C5.38739 3.44405 5.40283 3.52168 5.40283 3.60008C5.40283 3.67847 5.38739 3.75611 5.35738 3.82854C5.32738 3.90097 5.28341 3.96678 5.22797 4.02221L4.45594 4.79424H11.3737C11.5321 4.79424 11.684 4.85715 11.7959 4.96912C11.9079 5.0811 11.9708 5.23297 11.9708 5.39133C11.9708 5.54968 11.9079 5.70155 11.7959 5.81353C11.684 5.9255 11.5321 5.98841 11.3737 5.98841H4.45594ZM8.98542 0.0175781C9.14376 0.0176022 9.2956 0.0805197 9.40756 0.192492C9.51951 0.304464 9.58241 0.456321 9.58241 0.614661C9.58241 0.773002 9.51951 0.924858 9.40756 1.03683C9.2956 1.1488 9.14376 1.21172 8.98542 1.21174H0.626253C0.467912 1.21172 0.316065 1.1488 0.20411 1.03683C0.0921549 0.924858 0.0292606 0.773002 0.0292606 0.614661C0.0292606 0.456321 0.0921549 0.304464 0.20411 0.192492C0.316065 0.0805197 0.467912 0.0176022 0.626253 0.0175781H8.98542Z"}),G("path",{fill:t,fillOpacity:.5,d:"M9.40756 9.74584C9.2956 9.63386 9.14376 9.57095 8.98542 9.57092H0.626253C0.467912 9.57095 0.316065 9.63386 0.20411 9.74584C0.0921549 9.85781 0.0292606 10.0097 0.0292606 10.168C0.0292606 10.3263 0.0921549 10.4782 0.20411 10.5902C0.316065 10.7021 0.467912 10.7651 0.626253 10.7651H8.98542C9.14376 10.7651 9.2956 10.7021 9.40756 10.5902C9.51952 10.4782 9.58241 10.3263 9.58241 10.168C9.58241 10.0097 9.51952 9.85781 9.40756 9.74584Z"})]})}function OO({width:e=11,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M11.7913 11.2762C11.5612 11.4757 11.2129 11.4509 11.0134 11.2207L6.15183 5.50987C6.08289 5.43042 5.95933 5.43059 5.89091 5.51056L0.98834 11.2216C0.789983 11.4527 0.441867 11.4792 0.210766 11.2808C-0.0203344 11.0825 -0.046874 10.7344 0.151483 10.5033L5.75666 3.97368C5.89384 3.81392 6.1408 3.81341 6.27867 3.97247L11.8468 10.4984C12.0462 10.7283 12.0214 11.0766 11.7913 11.2762Z"}),G("path",{fill:t,d:"M11.7913 7.49598C11.5612 7.69554 11.2129 7.67073 11.0134 7.44049L6.15183 1.72967C6.08289 1.65022 5.95933 1.65039 5.89091 1.73035L0.98834 7.44135C0.789983 7.67245 0.441867 7.69899 0.210766 7.50063C-0.0203344 7.30228 -0.046874 6.95416 0.151483 6.72306L5.75666 0.193648C5.89384 0.0338934 6.1408 0.0333763 6.27867 0.192441L11.8468 6.71841C12.0462 6.94813 12.0214 7.29642 11.7913 7.49598Z"})]})}function RO({width:e=11,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M0.208696 0.194426C0.438763 -0.00513717 0.787051 0.0196788 0.986614 0.249918L5.84817 5.96074C5.91711 6.04019 6.04067 6.04001 6.10909 5.96005L11.0117 0.249056C11.21 0.0179556 11.5581 -0.00858394 11.7892 0.189773C12.0203 0.38813 12.0469 0.736246 11.8485 0.967347L6.24333 7.49693C6.10616 7.65668 5.8592 7.6572 5.72133 7.49814L0.153204 0.972344C-0.0461869 0.742278 -0.0213707 0.39399 0.208696 0.194426Z"}),G("path",{fill:t,d:"M0.208696 3.97458C0.438763 3.77501 0.787051 3.79983 0.986614 4.03007L5.84817 9.74089C5.91711 9.82034 6.04067 9.82017 6.10909 9.7402L11.0117 4.02921C11.21 3.79811 11.5581 3.77157 11.7892 3.96992C12.0203 4.16828 12.0469 4.5164 11.8485 4.7475L6.24333 11.2771C6.10616 11.4368 5.8592 11.4374 5.72133 11.2783L0.153204 4.75232C-0.0461869 4.52243 -0.0213707 4.17414 0.208696 3.97458Z"})]})}function PO({width:e=12,fill:t=zf}){return G("svg",{width:e,viewBox:"0 0 12 12",children:G("path",{fill:t,d:"M8.23506 0.985232L9.64194 2.40148L9.64311 2.40265L9.64428 2.40382L9.65248 2.41202L9.65365 2.41319L9.65482 2.41436L11.0687 3.81889H10.5111C10.1808 3.81889 9.86802 3.96298 9.65482 4.21483L7.37759 6.89269C7.06365 7.26169 6.87505 7.73025 6.84576 8.21405L6.78251 9.26012L2.79383 5.27028L3.83991 5.20702C4.32253 5.17773 4.79227 4.98914 5.16127 4.6752L7.83913 2.39796C8.09098 2.18359 8.23506 1.87199 8.23506 1.54166V0.985232ZM8.08981 0.0539551C7.98438 0.0539551 7.87778 0.0797263 7.78056 0.13244C7.60133 0.230839 7.45607 0.419437 7.48536 0.779062V1.54166C7.48536 1.65177 7.43733 1.75602 7.35299 1.82748L4.67513 4.10472C4.42796 4.31557 4.1187 4.43974 3.79422 4.45966L2.49043 4.53814C2.30769 4.54868 2.13198 4.62014 1.99844 4.74548C1.90707 4.83217 1.82741 4.94814 1.81335 5.10042C1.7993 5.25036 1.8567 5.39796 1.9633 5.50456L1.96564 5.5069L3.71808 7.23592L0.0808281 11.9649L0.0538855 12.0001L0.089028 11.9731L4.81804 8.33588L6.54705 10.0883L6.5494 10.0907C6.64545 10.1867 6.77431 10.2429 6.90902 10.2429C6.92425 10.2429 6.93948 10.2418 6.95353 10.2406C7.10465 10.2265 7.22179 10.1469 7.30847 10.0555C7.43382 9.92198 7.50527 9.74626 7.51581 9.56352L7.5943 8.25973C7.61421 7.93525 7.73838 7.626 7.94924 7.37883L10.2265 4.70097C10.2979 4.61663 10.4022 4.5686 10.5123 4.5686H11.2749C11.3065 4.57094 11.337 4.57211 11.3663 4.57211C11.6673 4.57211 11.8325 4.4374 11.9215 4.2734C12.0621 4.01686 12.0094 3.69706 11.8032 3.49089L11.802 3.48972L10.182 1.88019L10.1738 1.87199L8.56423 0.253096L8.56306 0.251925C8.43421 0.123069 8.26318 0.0539551 8.08981 0.0539551Z"})})}function FO({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M0.779063 3.51795L5.36219 0.228414C5.54809 0.094969 5.77116 0.0231934 6 0.0231934C6.22884 0.0231934 6.45191 0.094969 6.63781 0.228414L11.2209 3.51795C11.4426 3.67706 11.6232 3.88667 11.7479 4.12944C11.8725 4.37221 11.9375 4.64116 11.9375 4.91404V10.2187C11.9375 11.1679 11.168 11.9375 10.2188 11.9375H1.78125C0.832031 11.9375 0.0625 11.1679 0.0625 10.2187V4.9142C0.0625118 4.64129 0.12751 4.37231 0.252115 4.12951C0.376721 3.88671 0.557352 3.67707 0.779063 3.51795ZM1.32578 4.27951C1.22499 4.35183 1.14287 4.44713 1.08621 4.55749C1.02956 4.66786 1.00001 4.79014 1 4.9142V10.2187C1 10.4259 1.08231 10.6246 1.22882 10.7712C1.37534 10.9177 1.57405 11 1.78125 11H10.2188C10.426 11 10.6247 10.9177 10.7712 10.7712C10.9177 10.6246 11 10.4259 11 10.2187V4.9142C11 4.79014 10.9704 4.66786 10.9138 4.55749C10.8571 4.44713 10.775 4.35183 10.6742 4.27951L6.09109 0.989976C6.06454 0.970923 6.03268 0.960675 6 0.960675C5.96732 0.960675 5.93546 0.970923 5.90891 0.989976L1.32578 4.27966V4.27951Z"})})}function HO({width:e=13.5,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M9.07422 4.1849C9.24006 4.18793 9.40484 4.15788 9.55893 4.09651C9.71303 4.03514 9.85335 3.94368 9.9717 3.82747C10.0901 3.71126 10.1841 3.57264 10.2482 3.41969C10.3124 3.26674 10.3455 3.10253 10.3455 2.93667C10.3455 2.7708 10.3124 2.6066 10.2482 2.45365C10.1841 2.3007 10.0901 2.16207 9.9717 2.04586C9.85335 1.92965 9.71303 1.83819 9.55893 1.77682C9.40484 1.71545 9.24006 1.68541 9.07422 1.68844C8.74712 1.69441 8.43543 1.82855 8.20622 2.06199C7.97701 2.29543 7.84859 2.60951 7.84859 2.93667C7.84859 3.26382 7.97701 3.57791 8.20622 3.81134C8.43543 4.04478 8.74712 4.17892 9.07422 4.1849ZM11.2578 0.0253334H1.06533C0.659553 0.0253334 0.336897 0.355552 0.336897 0.761333V9.27245C0.336897 9.67822 0.659553 10.0084 1.06533 10.0084H11.2578C11.6636 10.0084 11.9862 9.67822 11.9862 9.27245V0.761333C11.9862 0.355552 11.6636 0.0253334 11.2578 0.0253334ZM8.57778 5.16533C8.53706 5.1162 8.48627 5.07638 8.42884 5.04854C8.37141 5.02071 8.30868 5.00552 8.24489 5.004C8.11245 5.004 8.01912 5.06622 7.912 5.152L7.42578 5.56311C7.32445 5.636 7.24355 5.68533 7.12712 5.68533C7.02187 5.68599 6.92004 5.64804 6.84089 5.57867C6.80278 5.54394 6.76543 5.50837 6.72889 5.472L5.33022 3.95911C5.27608 3.89731 5.20929 3.84786 5.13438 3.81412C5.05946 3.78038 4.97816 3.76313 4.896 3.76355C4.72178 3.76355 4.56045 3.84978 4.45912 3.96667L1.16889 7.93378V1.16177C1.19467 0.984875 1.33245 0.857323 1.50933 0.857323H10.8107C10.9902 0.857323 11.1356 0.990208 11.1462 1.16932L11.1538 7.9391L8.57688 5.16533H8.57778Z"})})}function _O({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M8.19876 2.38663H7.18975L6.61374 3.44529C6.29595 4.04116 6.10328 4.43642 6.02979 4.63305H6.00993C5.84905 4.26759 5.46173 3.51679 4.85395 2.38663H3.77542L5.19756 4.83167H3.48543V5.62418H5.48954V6.71661H3.48742V7.51706H5.49152V9.10604H6.48663V7.51706H8.42121V6.71661H6.48663V5.62418H8.42121V4.83366H6.76271L8.19876 2.38663ZM0.0810376 0.28917V3.12352C0.0810376 3.27249 0.202198 3.39365 0.351165 3.39365H0.708686C0.857653 3.39365 0.978813 3.27249 0.978813 3.12352V1.20482C0.978813 1.05585 1.09997 0.934694 1.24894 0.934694H3.72378C3.87275 0.934694 3.99391 0.813534 3.99391 0.664567V0.313005C3.99391 0.164037 3.87473 0.0448636 3.72577 0.0428773L0.355137 0.019043C0.202198 0.019043 0.0810376 0.140202 0.0810376 0.28917ZM0.315413 10.9731H3.14976C3.29873 10.9731 3.41989 10.8519 3.41989 10.703V10.3454C3.41989 10.1965 3.29873 10.0753 3.14976 10.0753H1.23106C1.0821 10.0753 0.960937 9.95416 0.960937 9.80519V7.33234C0.960937 7.18337 0.839777 7.06221 0.69081 7.06221H0.339247C0.19028 7.06221 0.0711064 7.18138 0.0691201 7.33035L0.0452855 10.701C0.0432992 10.8499 0.164459 10.9731 0.315413 10.9731ZM11.911 10.7387V7.90437C11.911 7.7554 11.7899 7.63424 11.6409 7.63424H11.2834C11.1344 7.63424 11.0132 7.7554 11.0132 7.90437V9.82307C11.0132 9.97203 10.8921 10.0932 10.7431 10.0932H8.27026C8.12129 10.0932 8.00013 10.2144 8.00013 10.3633V10.7149C8.00013 10.8639 8.11931 10.983 8.26827 10.985L11.6389 11.0088C11.7899 11.0088 11.911 10.8877 11.911 10.7387ZM11.6766 0.0547948H8.84229C8.69333 0.0547948 8.57217 0.175955 8.57217 0.324922V0.682443C8.57217 0.83141 8.69333 0.95257 8.84229 0.95257H10.761C10.91 0.95257 11.0311 1.07373 11.0311 1.2227V3.69754C11.0311 3.84651 11.1523 3.96767 11.3012 3.96767H11.6528C11.8018 3.96767 11.9209 3.84849 11.9229 3.69952L11.9468 0.328894C11.9488 0.175955 11.8276 0.0547948 11.6766 0.0547948Z"})})}function jO({width:e=12,fill:t=zf}){return G("svg",{width:e,viewBox:"0 0 12 12",children:G("path",{fill:t,d:"M6 0.0406494C5.76744 0.0406494 5.56395 0.244138 5.56395 0.476696V2.51158C5.56395 2.74414 5.76744 2.94763 6 2.94763C6.23256 2.94763 6.43605 2.74414 6.43605 2.51158V0.476696C6.43605 0.244138 6.23256 0.0406494 6 0.0406494ZM8.47093 3.96507C8.58721 3.96507 8.70349 3.936 8.7907 3.84879L10.2151 2.42437C10.3895 2.24995 10.3895 1.98832 10.2151 1.81391C10.0407 1.63949 9.77907 1.63949 9.60465 1.81391L8.18023 3.23832C8.00581 3.41274 8.00581 3.67437 8.18023 3.84879C8.23837 3.936 8.35465 3.96507 8.47093 3.96507ZM11.5233 5.56391H9.48837C9.25581 5.56391 9.05232 5.76739 9.05232 5.99995C9.05232 6.23251 9.25581 6.436 9.48837 6.436H11.5233C11.7558 6.436 11.9593 6.23251 11.9593 5.99995C11.9593 5.76739 11.7558 5.56391 11.5233 5.56391ZM8.76163 8.15111C8.58721 7.9767 8.32558 7.9767 8.15116 8.15111C7.97674 8.32553 7.97674 8.58716 8.15116 8.76158L9.57558 10.186C9.66279 10.2732 9.77907 10.3023 9.89535 10.3023C10.0116 10.3023 10.1279 10.2732 10.2151 10.186C10.3895 10.0116 10.3895 9.74995 10.2151 9.57553L8.76163 8.15111ZM6 9.05228C5.76744 9.05228 5.56395 9.25577 5.56395 9.48832V11.5232C5.56395 11.7558 5.76744 11.9593 6 11.9593C6.23256 11.9593 6.43605 11.7558 6.43605 11.5232V9.48832C6.43605 9.25577 6.23256 9.05228 6 9.05228ZM3.23837 8.15111L1.81395 9.57553C1.63953 9.74995 1.63953 10.0116 1.81395 10.186C1.90116 10.2732 2.01744 10.3023 2.13372 10.3023C2.25 10.3023 2.36628 10.2732 2.45349 10.186L3.87791 8.76158C4.05233 8.58716 4.05233 8.32553 3.87791 8.15111C3.70349 7.9767 3.38372 7.9767 3.23837 8.15111ZM2.94767 5.99995C2.94767 5.76739 2.74419 5.56391 2.51163 5.56391H0.476744C0.244185 5.56391 0.0406971 5.76739 0.0406971 5.99995C0.0406971 6.23251 0.244185 6.436 0.476744 6.436H2.51163C2.74419 6.436 2.94767 6.23251 2.94767 5.99995ZM2.39535 1.78484C2.22093 1.61042 1.9593 1.61042 1.78488 1.78484C1.61046 1.95925 1.61046 2.22088 1.78488 2.3953L3.2093 3.81972C3.29651 3.90693 3.41279 3.936 3.52907 3.936C3.64535 3.936 3.76163 3.90693 3.84884 3.81972C4.02326 3.6453 4.02326 3.38367 3.84884 3.20925L2.39535 1.78484Z"})})}function WO({width:e=12,fill:t=zf}){return G("svg",{width:e,viewBox:"0 0 12 9",children:G("path",{fill:t,d:"M6 8.96422C3.81741 8.96422 1.87024 7.58685 0.162807 4.89607C0.0875492 4.77765 0.0475807 4.64024 0.0475807 4.49993C0.0475807 4.35962 0.0875492 4.22221 0.162807 4.1038C1.87023 1.41303 3.8174 0.0356445 6 0.0356445C8.18259 0.0356445 10.1298 1.41302 11.8372 4.1038C11.9125 4.22221 11.9524 4.35962 11.9524 4.49993C11.9524 4.64024 11.9125 4.77765 11.8372 4.89607C10.1298 7.58683 8.1826 8.96422 6 8.96422ZM6 0.928502C4.19315 0.928502 2.5198 2.09828 0.976047 4.49993C2.5198 6.90158 4.19315 8.07136 6 8.07136C7.80685 8.07136 9.4802 6.90158 11.024 4.49993C9.4802 2.09828 7.80685 0.928502 6 0.928502ZM6 6.58326C4.83915 6.58326 3.89806 5.65053 3.89806 4.49993C3.89806 3.34933 4.83915 2.4166 6 2.4166C7.16085 2.4166 8.10194 3.34933 8.10194 4.49993C8.10194 5.65053 7.16085 6.58326 6 6.58326ZM6 5.6904C6.66339 5.6904 7.20119 5.15737 7.20119 4.49993C7.20119 3.84249 6.66339 3.30946 6 3.30946C5.33661 3.30946 4.79881 3.84249 4.79881 4.49993C4.79881 5.15737 5.33661 5.6904 6 5.6904Z"})})}function zO({width:e=12,fill:t=zf}){return G("svg",{width:e,viewBox:"0 0 12 7",children:G("path",{fill:t,d:"M11.7927 3.51827L10.5427 2.26826C11.0305 1.81094 11.4878 1.29265 11.8537 0.713384C11.9756 0.499974 11.9146 0.225583 11.7012 0.0731397C11.4878 -0.0488068 11.2134 0.0121596 11.061 0.225584C9.96341 2.02435 8.07317 3.09143 5.96952 3.09143C3.89634 3.09143 1.97561 2.02435 0.908531 0.256067C0.786585 0.0426569 0.481712 -0.0183234 0.268287 0.103623C0.0548776 0.225584 -0.00610281 0.530457 0.115858 0.743867C0.481712 1.32314 0.908531 1.84143 1.42683 2.29874L0.207321 3.51827C0.0243945 3.70119 0.0243945 3.97558 0.207321 4.15851C0.298785 4.24997 0.420731 4.28046 0.542678 4.28046C0.664624 4.28046 0.786585 4.24997 0.878048 4.15851L2.18902 2.84752C2.7378 3.21338 3.34756 3.51827 3.9878 3.70119L3.5 5.56094C3.43902 5.80485 3.59147 6.04874 3.83536 6.10973C3.86586 6.10973 3.92682 6.14021 3.95732 6.14021C4.17073 6.14021 4.35366 6.01826 4.38414 5.80485L4.90244 3.9146C5.26829 3.97558 5.63415 4.00607 6.03048 4.00607C6.42683 4.00607 6.82317 3.97558 7.21951 3.9146L7.7378 5.80485C7.79878 6.01826 7.98171 6.14021 8.16464 6.14021C8.19512 6.14021 8.2561 6.14021 8.28658 6.10973C8.53049 6.04874 8.68292 5.80485 8.62196 5.56094L8.13414 3.6707C8.77438 3.48777 9.35366 3.1829 9.90244 2.81704L11.2134 4.12801C11.3049 4.21948 11.4268 4.24997 11.5488 4.24997C11.6707 4.24997 11.7927 4.21948 11.8841 4.12801C11.9756 3.97558 11.9756 3.70119 11.7927 3.51827Z"})})}function VO({width:e=12,fill:t=zf}){return G("svg",{width:e,viewBox:"0 0 12 9",children:G("path",{fill:t,d:"M4.29705 8.27557C4.13833 8.27557 3.9796 8.21528 3.85844 8.09482L0.215586 4.46985C-0.0267316 4.22872 -0.0267316 3.83788 0.215586 3.59685C0.457903 3.35571 0.85046 3.35581 1.09278 3.59675L4.29705 6.78527L10.8912 0.223574C11.1335 -0.0175584 11.526 -0.0175584 11.7683 0.223574C12.0107 0.46461 12.0107 0.85545 11.7683 1.09658L4.73565 8.09472C4.61448 8.21528 4.45576 8.27557 4.29705 8.27557Z"})})}function $O({width:e=11,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 11 12",style:n,children:[G("path",{fill:t,d:"M5.35 3.30005H10.85C11.2167 3.30005 11.4 3.45005 11.4 3.75005C11.4 4.05005 11.2167 4.20005 10.85 4.20005H5.35C4.98333 4.20005 4.8 4.05005 4.8 3.75005C4.8 3.45005 4.98333 3.30005 5.35 3.30005Z"}),G("path",{fill:t,d:"M5.35 0.600098H10.85C11.2167 0.600098 11.4 0.750098 11.4 1.0501C11.4 1.3501 11.2167 1.5001 10.85 1.5001H5.35C4.98333 1.5001 4.8 1.3501 4.8 1.0501C4.8 0.750098 4.98333 0.600098 5.35 0.600098Z"}),G("path",{fill:t,d:"M1.2 0.5V11.5C1.2 11.8333 1.05 12 0.749999 12C0.449999 12 0.299999 11.8333 0.299999 11.5V0.5C0.299999 0.166667 0.449999 0 0.749999 0C1.05 0 1.2 0.166667 1.2 0.5Z"}),G("path",{fill:t,d:"M2.55 3.30005H3.45C3.75 3.30005 3.9 3.45005 3.9 3.75005C3.9 4.05005 3.75 4.20005 3.45 4.20005H2.55C2.25 4.20005 2.1 4.05005 2.1 3.75005C2.1 3.45005 2.25 3.30005 2.55 3.30005Z"}),G("path",{fill:t,d:"M2.55 0.600098H3.45C3.75 0.600098 3.9 0.750098 3.9 1.0501C3.9 1.3501 3.75 1.5001 3.45 1.5001H2.55C2.25 1.5001 2.1 1.3501 2.1 1.0501C2.1 0.750098 2.25 0.600098 2.55 0.600098Z"}),G("path",{fill:t,d:"M5.35 7.80005H10.85C11.2167 7.80005 11.4 7.95005 11.4 8.25005C11.4 8.55005 11.2167 8.70005 10.85 8.70005H5.35C4.98333 8.70005 4.8 8.55005 4.8 8.25005C4.8 7.95005 4.98333 7.80005 5.35 7.80005Z"}),G("path",{fill:t,d:"M2.55 7.80005H3.45C3.75 7.80005 3.9 7.95005 3.9 8.25005C3.9 8.55005 3.75 8.70005 3.45 8.70005H2.55C2.25 8.70005 2.1 8.55005 2.1 8.25005C2.1 7.95005 2.25 7.80005 2.55 7.80005Z"}),G("path",{fill:t,d:"M5.35 10.5H10.85C11.2167 10.5 11.4 10.65 11.4 10.95C11.4 11.25 11.2167 11.4 10.85 11.4H5.35C4.98333 11.4 4.8 11.25 4.8 10.95C4.8 10.65 4.98333 10.5 5.35 10.5Z"}),G("path",{fill:t,d:"M2.55 10.5H3.45C3.75 10.5 3.9 10.65 3.9 10.95C3.9 11.25 3.75 11.4 3.45 11.4H2.55C2.25 11.4 2.1 11.25 2.1 10.95C2.1 10.65 2.25 10.5 2.55 10.5Z"})]})}function ZO({width:e=13,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 10",style:n,children:G("path",{fill:t,d:"M3.04882 0.029092C3.55262 0.0178972 4.05375 0.105238 4.52406 0.286205C5.02502 0.532699 5.50196 0.825261 5.94872 1.16011C6.34551 0.839227 6.77808 0.565308 7.2378 0.34381C7.68204 0.139867 8.16453 0.0325946 8.65333 0.029092H8.78751C9.40434 0.025484 10.0159 0.143158 10.5873 0.375422C11.0759 0.602799 11.5341 0.890231 11.9515 1.23106C11.9595 1.23767 11.9659 1.24594 11.9702 1.25529C11.9746 1.26464 11.9769 1.27483 11.9768 1.28515L11.9909 9.66733C11.9909 9.68009 11.9874 9.69262 11.9809 9.70357C11.9743 9.71451 11.9649 9.72346 11.9536 9.72946C11.9424 9.73545 11.9297 9.73826 11.9169 9.73759C11.9042 9.73692 11.8919 9.73279 11.8813 9.72564C11.397 9.40512 10.8836 9.13109 10.3477 8.90723C9.92223 8.74025 9.47523 8.63429 9.02003 8.59251H8.89358C8.30794 8.59588 7.73097 8.73436 7.20759 8.99715C6.7623 9.26866 6.35604 9.59953 6 9.98065C5.98795 9.99349 5.97152 10.0013 5.95395 10.0026C5.93639 10.0039 5.91898 9.9986 5.90517 9.98767C5.40248 9.57978 4.86136 9.2217 4.28943 8.91847C3.80269 8.75436 3.30032 8.64089 2.7903 8.57987H2.78538C2.35478 8.57696 1.92647 8.64289 1.51668 8.77516C1.03525 9.0342 0.584861 9.34719 0.174208 9.70808C0.164003 9.71681 0.151509 9.72243 0.138208 9.72427C0.124906 9.72612 0.111354 9.72412 0.0991562 9.7185C0.0869586 9.71288 0.0766271 9.70388 0.0693854 9.69257C0.0621437 9.68126 0.0582953 9.66812 0.0582962 9.65469V1.33925C0.0582949 1.3225 0.064274 1.30631 0.0751561 1.29358C0.407735 0.911342 0.808691 0.594484 1.25746 0.359265C1.75995 0.171399 2.28828 0.0617056 2.82402 0.0340095C2.82402 0.0340095 2.91183 0.029092 3.04882 0.029092ZM5.56937 1.7755C4.9104 1.11183 4.01903 0.730641 3.08394 0.71262C3.00456 0.71262 2.92518 0.71262 2.8472 0.722455C2.43823 0.69718 2.02908 0.769111 1.65325 0.932362C1.27742 1.09561 0.945591 1.34554 0.684922 1.66169C0.684922 2.09864 0.700377 7.36525 0.693352 8.42883C1.29298 7.96975 2.04304 7.7524 2.79522 7.81977C3.8111 7.89165 4.78363 8.25971 5.59256 8.87843C5.59607 6.45201 5.59607 2.06633 5.56937 1.7755ZM11.3158 1.65958C10.7091 1.08966 9.91587 0.759829 9.08396 0.731588C9.02425 0.731588 8.96383 0.727373 8.90412 0.727373C8.42834 0.711672 7.95474 0.798385 7.51539 0.981641C7.07603 1.1649 6.68118 1.44042 6.35757 1.78955C6.33088 2.12815 6.33088 6.44217 6.33509 8.85876C6.99018 8.21358 7.8606 7.83329 8.77908 7.79097C9.68194 7.77887 10.5646 8.05823 11.2961 8.5876L11.3151 1.65958H11.3158Z"})})}function UO({width:e=7,fill:t=Hf,style:n}){return X("svg",{width:e,viewBox:"0 0 7 12",style:n,children:[G("path",{fill:t,d:"M0.232433 5.57218C0.01054 5.79408 0.01054 6.15327 0.232433 6.37516L5.62167 11.7644C5.84357 11.9863 6.20276 11.9863 6.42465 11.7644C6.64654 11.5425 6.64654 11.1833 6.42465 10.9614L1.03541 5.57218C0.813517 5.35029 0.454327 5.35029 0.232433 5.57218Z"}),G("path",{fill:t,d:"M0.232433 6.39477C0.454327 6.61666 0.813517 6.61666 1.03541 6.39477L6.42465 1.00553C6.64654 0.783637 6.64654 0.424446 6.42465 0.202553C6.20276 -0.0193406 5.84357 -0.0193406 5.62167 0.202553L0.232433 5.59179C0.01054 5.81368 0.01054 6.17288 0.232433 6.39477Z"})]})}function qO({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M0.0104141 6.335C0.0104141 6.68906 0.147836 7.02863 0.392449 7.27899C0.637061 7.52935 0.968827 7.67 1.31476 7.67C1.6607 7.67 1.99246 7.52935 2.23708 7.27899C2.48169 7.02863 2.61911 6.68906 2.61911 6.335C2.61911 5.98094 2.48169 5.64137 2.23708 5.39101C1.99246 5.14065 1.6607 5 1.31476 5C0.968827 5 0.637061 5.14065 0.392449 5.39101C0.147836 5.64137 0.0104141 5.98094 0.0104141 6.335ZM4.70607 6.335C4.70607 6.68906 4.84349 7.02863 5.0881 7.27899C5.33271 7.52935 5.66448 7.67 6.01041 7.67C6.35635 7.67 6.68811 7.52935 6.93273 7.27899C7.17734 7.02863 7.31476 6.68906 7.31476 6.335C7.31476 5.98094 7.17734 5.64137 6.93273 5.39101C6.68811 5.14065 6.35635 5 6.01041 5C5.66448 5 5.33271 5.14065 5.0881 5.39101C4.84349 5.64137 4.70607 5.98094 4.70607 6.335ZM9.40172 6.335C9.40172 6.68906 9.53914 7.02863 9.78375 7.27899C10.0284 7.52935 10.3601 7.67 10.7061 7.67C11.052 7.67 11.3838 7.52935 11.6284 7.27899C11.873 7.02863 12.0104 6.68906 12.0104 6.335C12.0104 5.98094 11.873 5.64137 11.6284 5.39101C11.3838 5.14065 11.052 5 10.7061 5C10.3601 5 10.0284 5.14065 9.78375 5.39101C9.53914 5.64137 9.40172 5.98094 9.40172 6.335Z"})})}function YO({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M6 0C4.4087 0 2.88258 0.632141 1.75736 1.75736C0.632141 2.88258 0 4.4087 0 6C0 7.5913 0.632141 9.11742 1.75736 10.2426C2.88258 11.3679 4.4087 12 6 12C6.78793 12 7.56815 11.8448 8.2961 11.5433C9.02405 11.2417 9.68549 10.7998 10.2426 10.2426C10.7998 9.68549 11.2417 9.02405 11.5433 8.2961C11.8448 7.56815 12 6.78793 12 6C12 5.21207 11.8448 4.43185 11.5433 3.7039C11.2417 2.97595 10.7998 2.31451 10.2426 1.75736C9.68549 1.20021 9.02405 0.758251 8.2961 0.456723C7.56815 0.155195 6.78793 -1.17411e-08 6 0ZM10.3484 3.06395C10.8653 3.82423 11.1715 4.70791 11.2358 5.625H8.23342C8.21879 4.94536 8.156 4.26761 8.04553 3.59684C8.82711 3.48868 9.59842 3.31105 10.3484 3.06395ZM9.83211 2.41737C9.21947 2.61079 8.57368 2.75842 7.89868 2.85789C7.74947 2.19474 7.545 1.545 7.28763 0.91579C8.26184 1.16292 9.14484 1.684 9.83211 2.41737ZM4.51737 5.625C4.53789 4.965 4.59711 4.31526 4.71079 3.69158C5.13948 3.72975 5.56962 3.74924 6 3.75C6.43737 3.75 6.86684 3.72868 7.28921 3.69158C7.40211 4.31526 7.46289 4.965 7.48184 5.62579H4.51737V5.625ZM7.48184 6.375C7.4658 7.02363 7.40141 7.67016 7.28921 8.30921C6.86054 8.27078 6.43039 8.25103 6 8.25C5.56184 8.25 5.13158 8.2721 4.71079 8.30842C4.59856 7.66962 4.53391 7.02337 4.51737 6.375H7.48184ZM5.63526 0.768947C5.75684 0.761053 5.87684 0.75 6 0.75C6.12237 0.75 6.24237 0.760263 6.36316 0.768947C6.68368 1.43289 6.94105 2.17263 7.13289 2.95737C6.75947 2.98974 6.38289 3.00947 6 3.00947C5.61711 3.00947 5.23974 2.98974 4.86711 2.95737C5.05816 2.17263 5.31711 1.43368 5.63526 0.768947ZM4.71158 0.91579C4.45421 1.545 4.24974 2.19474 4.10053 2.85789C3.44563 2.76265 2.79937 2.61534 2.16789 2.41737C2.85494 1.68413 3.73765 1.16305 4.71158 0.91579ZM1.65158 3.06395C2.40158 3.31105 3.17211 3.48868 3.95368 3.59684C3.84316 4.24737 3.78474 4.92789 3.76579 5.62579H0.764211C0.828575 4.70846 1.13474 3.82455 1.65158 3.06395ZM1.65158 8.93605C1.13488 8.17568 0.828712 7.29205 0.764211 6.375H3.76579C3.78474 7.07211 3.84316 7.75342 3.95368 8.40395C3.17211 8.51132 2.40158 8.68974 1.65158 8.93605ZM2.16789 9.58342C2.79947 9.38526 3.44526 9.23763 4.10053 9.14211C4.25842 9.82895 4.46211 10.4818 4.71158 11.0842C3.73765 10.8369 2.85494 10.3159 2.16789 9.58263V9.58342ZM6.36395 11.2318C6.24237 11.2397 6.12237 11.25 6 11.25C5.87684 11.25 5.75684 11.2405 5.63526 11.2318C5.30384 10.5307 5.04614 9.79702 4.86632 9.04263C5.23895 9.01105 5.61711 8.99053 5.99921 8.99053C6.38132 8.99053 6.75947 9.01026 7.13211 9.04263C6.94105 9.82816 6.68289 10.5671 6.36395 11.2318ZM7.28763 11.085C7.545 10.4558 7.74947 9.80605 7.89868 9.14289C8.5729 9.24237 9.21947 9.38921 9.83211 9.58263C9.14494 10.3163 8.26193 10.8377 7.28763 11.085ZM10.3484 8.93605C9.5983 8.68982 8.82757 8.51147 8.04553 8.40316C8.15605 7.75342 8.21447 7.07211 8.23342 6.375H11.2358C11.1713 7.29205 10.8651 8.17568 10.3484 8.93605Z"})})}function KO({width:e=14,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M6 11.9395C4.40667 11.9395 2.9088 11.322 1.7821 10.2009C0.654969 9.07884 0.0340881 7.58736 0.0340881 6C0.0340881 4.41307 0.654969 2.92117 1.78167 1.79958C2.90838 0.678415 4.40625 0.0609436 5.99957 0.0609436C7.59289 0.0609436 9.09076 0.678415 10.217 1.79958C11.3446 2.92117 11.9651 4.41307 11.9651 5.99958C11.9655 7.58694 11.3446 9.07884 10.217 10.2004C9.09119 11.3216 7.59332 11.9395 6 11.9395ZM6 0.91279C4.63338 0.91279 3.349 1.44205 2.38338 2.40341C1.41818 3.36393 0.886361 4.64148 0.886361 6C0.886361 7.35853 1.41775 8.63608 2.38295 9.59617C3.34858 10.5575 4.63295 11.0868 5.99957 11.0868C7.36576 11.0868 8.65056 10.5575 9.61619 9.59617C10.5814 8.63523 11.1132 7.3581 11.1128 5.99958C11.1128 4.64106 10.5814 3.36393 9.61619 2.40384C8.65099 1.44248 7.36619 0.91279 6 0.91279Z"}),G("path",{fill:t,d:"M8.98295 5.57387H6.42613V3.01705C6.42613 2.78182 6.23522 2.59092 6 2.59092C5.76477 2.59092 5.57386 2.78182 5.57386 3.01705V5.57387H3.01704C2.78182 5.57387 2.59091 5.76478 2.59091 6.00001C2.59091 6.23523 2.78182 6.42614 3.01704 6.42614H5.57386V8.98296C5.57386 9.21861 5.76477 9.4091 6 9.4091C6.23522 9.4091 6.42613 9.21861 6.42613 8.98296V6.42614H8.98295C9.21861 6.42614 9.40909 6.23523 9.40909 6.00001C9.40909 5.76478 9.21861 5.57387 8.98295 5.57387Z"})]})}function GO({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M6.89898 8.09839C7.06439 7.93298 7.33258 7.93268 7.4983 8.09839C7.66401 8.26411 7.66371 8.5323 7.4983 8.69771L6.29966 9.89635C6.13425 10.0618 5.86605 10.0621 5.70034 9.89635L4.5017 8.69771C4.33599 8.532 4.33629 8.26381 4.5017 8.09839C4.66712 7.93298 4.93531 7.93268 5.10102 8.09839L6 8.99737L6.89898 8.09839Z"}),G("path",{fill:t,d:"M8.92674 2.92075C8.69239 2.92075 8.50296 3.1106 8.50296 3.34453V4.61588H7.23161C6.99726 4.61588 6.80783 4.80573 6.80783 5.03966C6.80783 5.27359 6.99726 5.46344 7.23161 5.46344H8.92674C9.16109 5.46344 9.35052 5.27359 9.35052 5.03966V3.34453C9.35052 3.1106 9.16109 2.92075 8.92674 2.92075ZM8.92674 7.15857H2.99379C2.75986 7.15857 2.57001 6.96914 2.57001 6.73479C2.57001 6.50044 2.75986 6.31101 2.99379 6.31101H8.92674C9.16109 6.31101 9.35052 6.50044 9.35052 6.73479C9.35052 6.96914 9.16109 7.15857 8.92674 7.15857ZM5.53648 5.46344H5.1127C4.87877 5.46344 4.68892 5.27359 4.68892 5.03966C4.68892 4.80573 4.87877 4.61588 5.1127 4.61588H5.53648C5.77041 4.61588 5.96027 4.80573 5.96027 5.03966C5.96027 5.27359 5.77041 5.46344 5.53648 5.46344ZM3.41757 5.46344H2.99379C2.75986 5.46344 2.57001 5.27359 2.57001 5.03966C2.57001 4.80573 2.75986 4.61588 2.99379 4.61588H3.41757C3.6515 4.61588 3.84135 4.80573 3.84135 5.03966C3.84135 5.27359 3.6515 5.46344 3.41757 5.46344ZM5.53648 3.76831H5.1127C4.87877 3.76831 4.68892 3.57846 4.68892 3.34453C4.68892 3.1106 4.87877 2.92075 5.1127 2.92075H5.53648C5.77041 2.92075 5.96027 3.1106 5.96027 3.34453C5.96027 3.57846 5.77041 3.76831 5.53648 3.76831ZM7.65539 3.76831H7.23161C6.99726 3.76831 6.80783 3.57846 6.80783 3.34453C6.80783 3.1106 6.99726 2.92075 7.23161 2.92075H7.65539C7.88975 2.92075 8.07918 3.1106 8.07918 3.34453C8.07918 3.57846 7.88975 3.76831 7.65539 3.76831ZM3.41757 3.76831H2.99379C2.75986 3.76831 2.57001 3.57846 2.57001 3.34453C2.57001 3.1106 2.75986 2.92075 2.99379 2.92075H3.41757C3.6515 2.92075 3.84135 3.1106 3.84135 3.34453C3.84135 3.57846 3.6515 3.76831 3.41757 3.76831ZM5.96196 11.9374C2.69036 11.9374 0.029007 9.27609 0.029007 6.00449C0.029007 2.73289 2.69036 0.0715332 5.96196 0.0715332C9.23356 0.0715332 11.8949 2.73289 11.8949 6.00449C11.8949 9.27609 9.23356 11.9374 5.96196 11.9374ZM5.96196 0.919098C3.15779 0.919098 0.876572 3.20032 0.876572 6.00449C0.876572 8.80865 3.15779 11.0899 5.96196 11.0899C8.76613 11.0899 11.0473 8.80865 11.0473 6.00449C11.0473 3.20032 8.76613 0.919098 5.96196 0.919098Z"})]})}function XO({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M5.10102 9.90161C4.93561 10.067 4.66742 10.0673 4.5017 9.90161C4.33599 9.73589 4.33629 9.4677 4.5017 9.30229L5.70034 8.10365C5.86575 7.93824 6.13395 7.93794 6.29966 8.10365L7.4983 9.30229C7.66401 9.468 7.66371 9.73619 7.4983 9.90161C7.33288 10.067 7.06469 10.0673 6.89898 9.90161L6 9.00263L5.10102 9.90161Z"}),G("path",{fill:t,d:"M8.92674 2.92075C8.69239 2.92075 8.50296 3.1106 8.50296 3.34453V4.61588H7.23161C6.99726 4.61588 6.80783 4.80573 6.80783 5.03966C6.80783 5.27359 6.99726 5.46344 7.23161 5.46344H8.92674C9.16109 5.46344 9.35052 5.27359 9.35052 5.03966V3.34453C9.35052 3.1106 9.16109 2.92075 8.92674 2.92075ZM8.92674 7.15857H2.99379C2.75986 7.15857 2.57001 6.96914 2.57001 6.73479C2.57001 6.50044 2.75986 6.31101 2.99379 6.31101H8.92674C9.16109 6.31101 9.35052 6.50044 9.35052 6.73479C9.35052 6.96914 9.16109 7.15857 8.92674 7.15857ZM5.53648 5.46344H5.1127C4.87877 5.46344 4.68892 5.27359 4.68892 5.03966C4.68892 4.80573 4.87877 4.61588 5.1127 4.61588H5.53648C5.77041 4.61588 5.96027 4.80573 5.96027 5.03966C5.96027 5.27359 5.77041 5.46344 5.53648 5.46344ZM3.41757 5.46344H2.99379C2.75986 5.46344 2.57001 5.27359 2.57001 5.03966C2.57001 4.80573 2.75986 4.61588 2.99379 4.61588H3.41757C3.6515 4.61588 3.84135 4.80573 3.84135 5.03966C3.84135 5.27359 3.6515 5.46344 3.41757 5.46344ZM5.53648 3.76831H5.1127C4.87877 3.76831 4.68892 3.57846 4.68892 3.34453C4.68892 3.1106 4.87877 2.92075 5.1127 2.92075H5.53648C5.77041 2.92075 5.96027 3.1106 5.96027 3.34453C5.96027 3.57846 5.77041 3.76831 5.53648 3.76831ZM7.65539 3.76831H7.23161C6.99726 3.76831 6.80783 3.57846 6.80783 3.34453C6.80783 3.1106 6.99726 2.92075 7.23161 2.92075H7.65539C7.88975 2.92075 8.07918 3.1106 8.07918 3.34453C8.07918 3.57846 7.88975 3.76831 7.65539 3.76831ZM3.41757 3.76831H2.99379C2.75986 3.76831 2.57001 3.57846 2.57001 3.34453C2.57001 3.1106 2.75986 2.92075 2.99379 2.92075H3.41757C3.6515 2.92075 3.84135 3.1106 3.84135 3.34453C3.84135 3.57846 3.6515 3.76831 3.41757 3.76831ZM5.96196 11.9374C2.69036 11.9374 0.029007 9.27609 0.029007 6.00449C0.029007 2.73289 2.69036 0.0715332 5.96196 0.0715332C9.23356 0.0715332 11.8949 2.73289 11.8949 6.00449C11.8949 9.27609 9.23356 11.9374 5.96196 11.9374ZM5.96196 0.919098C3.15779 0.919098 0.876572 3.20032 0.876572 6.00449C0.876572 8.80865 3.15779 11.0899 5.96196 11.0899C8.76613 11.0899 11.0473 8.80865 11.0473 6.00449C11.0473 3.20032 8.76613 0.919098 5.96196 0.919098Z"})]})}function JO({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M8.30224 11.5746C8.08419 11.5746 7.8778 11.4382 7.79501 11.2155L4.42281 2.132L1.04944 11.2155C0.942167 11.5047 0.628501 11.6481 0.34865 11.5385C0.0687995 11.4277 -0.0711259 11.1047 0.0361502 10.8155L3.91558 0.36777C3.99604 0.150886 4.19776 0.0074625 4.42281 0.0074625C4.64786 0.0074625 4.84958 0.150886 4.93004 0.366604L8.80947 10.8144C8.91675 11.1035 8.77682 11.4265 8.49697 11.5373C8.43167 11.563 8.36637 11.5746 8.30224 11.5746ZM11.3981 11.5746C11.18 11.5746 10.9737 11.4382 10.8909 11.2155L8.29758 4.23321L7.96759 5.12057C7.86031 5.40975 7.54665 5.55317 7.26679 5.44356C6.98694 5.33279 6.84702 5.00979 6.95429 4.72062L7.79151 2.46782C7.87197 2.25093 8.0737 2.10868 8.29874 2.10868C8.52379 2.10868 8.72552 2.2521 8.80597 2.46782L11.9053 10.8155C12.0126 11.1047 11.8727 11.4277 11.5928 11.5385C11.5275 11.563 11.4622 11.5746 11.3981 11.5746Z"}),G("path",{fill:t,d:"M6.75023 8.09165H2.09421C1.79454 8.09165 1.552 7.84095 1.552 7.53195C1.552 7.22295 1.79454 6.97225 2.09421 6.97225H6.74906C7.04874 6.97225 7.29127 7.22295 7.29127 7.53195C7.29127 7.84095 7.0499 8.09165 6.75023 8.09165ZM9.85424 8.96269H8.86543C8.56576 8.96269 8.32322 8.71199 8.32322 8.40299C8.32322 8.09398 8.56576 7.84328 8.86543 7.84328H9.85424C10.1539 7.84328 10.3965 8.09398 10.3965 8.40299C10.3965 8.71199 10.1539 8.96269 9.85424 8.96269Z"})]})}function QO({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M11.8664 3.68664H7.48848C7.42512 3.68664 7.37327 3.73848 7.37327 3.80184V5.41475C7.37327 5.47811 7.42512 5.52995 7.48848 5.52995H8.17972C8.24309 5.52995 8.29493 5.47811 8.29493 5.41475V4.60829H9.15899V9.21659H8.49654C8.43318 9.21659 8.38134 9.26843 8.38134 9.3318V10.023C8.38134 10.0864 8.43318 10.1382 8.49654 10.1382H10.8583C10.9217 10.1382 10.9735 10.0864 10.9735 10.023V9.3318C10.9735 9.26843 10.9217 9.21659 10.8583 9.21659H10.1959V4.60829H11.0599V5.41475C11.0599 5.47811 11.1118 5.52995 11.1751 5.52995H11.8664C11.9297 5.52995 11.9816 5.47811 11.9816 5.41475V3.80184C11.9816 3.73848 11.9297 3.68664 11.8664 3.68664ZM8.06452 1.95853V0.115207C8.06452 0.0518433 8.01267 0 7.94931 0H0.115207C0.0518433 0 0 0.0518433 0 0.115207V1.95853C0 2.02189 0.0518433 2.07373 0.115207 2.07373H0.921659C0.985023 2.07373 1.03687 2.02189 1.03687 1.95853V1.03687H3.45622V9.10138H2.13134C2.06797 9.10138 2.01613 9.15323 2.01613 9.21659V10.023C2.01613 10.0864 2.06797 10.1382 2.13134 10.1382H5.93318C5.99654 10.1382 6.04839 10.0864 6.04839 10.023V9.21659C6.04839 9.15323 5.99654 9.10138 5.93318 9.10138H4.60829V1.03687H7.02765V1.95853C7.02765 2.02189 7.07949 2.07373 7.14286 2.07373H7.94931C8.01267 2.07373 8.06452 2.02189 8.06452 1.95853Z"})})}function eR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 11 12",style:n,children:G("path",{fill:t,stroke:t,"stroke-width":"0.08",d:"M8.69489 1.54432H9.76023C9.81754 1.5427 9.8746 1.55259 9.92802 1.57341C9.98145 1.59423 10.0302 1.62555 10.0713 1.66551C10.1124 1.70548 10.1451 1.75329 10.1674 1.8061C10.1897 1.85892 10.2012 1.91567 10.2012 1.97301C10.2012 2.03035 10.1897 2.0871 10.1674 2.13992C10.1451 2.19274 10.1124 2.24054 10.0713 2.28051C10.0302 2.32048 9.98145 2.35179 9.92802 2.37261C9.8746 2.39343 9.81754 2.40332 9.76023 2.4017H6.76261C6.65192 2.39729 6.54723 2.35021 6.47047 2.27033C6.39371 2.19045 6.35085 2.08396 6.35085 1.97318C6.35085 1.8624 6.39371 1.75592 6.47047 1.67604C6.54723 1.59616 6.65192 1.54908 6.76261 1.54466H8.69489V1.54432ZM8.70375 2.39318V3.45852C8.70537 3.51584 8.69547 3.57289 8.67466 3.62632C8.65384 3.67974 8.62252 3.72845 8.58255 3.76956C8.54259 3.81067 8.49478 3.84335 8.44196 3.86566C8.38915 3.88798 8.33239 3.89948 8.27506 3.89948C8.21772 3.89948 8.16096 3.88798 8.10815 3.86566C8.05533 3.84335 8.00753 3.81067 7.96756 3.76956C7.92759 3.72845 7.89627 3.67974 7.87546 3.62632C7.85464 3.57289 7.84475 3.51584 7.84636 3.45852V0.460228C7.84951 0.348624 7.89606 0.242647 7.97611 0.164821C8.05616 0.0869942 8.16341 0.0434542 8.27506 0.0434542C8.3867 0.0434542 8.49395 0.0869942 8.574 0.164821C8.65406 0.242647 8.7006 0.348624 8.70375 0.460228V2.39318ZM7.99398 12C8.07375 12 8.14329 11.9847 8.20295 11.954C8.32227 11.9138 8.41602 11.8449 8.48625 11.7474C8.55545 11.6526 8.59193 11.537 8.59091 11.4188C8.59144 11.3498 8.57604 11.2817 8.54591 11.2197L4.875 0.466023C4.82998 0.349595 4.75233 0.248625 4.65136 0.175228C4.55615 0.105195 4.44092 0.0676627 4.32273 0.0681821C4.20548 0.0673731 4.09172 0.108069 4.00159 0.183068C3.90818 0.258068 3.8342 0.354887 3.78545 0.466023L0.0988625 11.2193C0.0494307 11.3656 0.0596579 11.5258 0.126817 11.6639C0.194317 11.8023 0.313294 11.9066 0.456817 11.9536C0.517158 11.9843 0.583635 12 0.651135 11.9997C0.77146 11.9997 0.888604 11.961 0.985282 11.8894C1.08196 11.8177 1.15305 11.7169 1.18807 11.6018L2.11364 8.80261H6.54579L7.47136 11.6018C7.51057 11.7245 7.57773 11.8203 7.6725 11.8926C7.76523 11.9632 7.87807 12.001 7.99364 11.9997L7.99398 12ZM6.20284 7.77784H2.45693L4.32273 2.13341L6.20284 7.77784Z"})})}function tR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M2.51429 3.27273V8.72727H4.19048L2.09524 12L0 8.72727H1.67619V3.27273H0L2.09524 0L4.19048 3.27273H2.51429Z"}),G("path",{fill:t,d:"M5.5 1.5C5.5 1.224 5.62133 1 5.77083 1H11.7292C11.8787 1 12 1.224 12 1.5C12 1.776 11.8787 2 11.7292 2H5.77083C5.62133 2 5.5 1.776 5.5 1.5ZM5.5 4.5C5.5 4.776 5.62133 5 5.77083 5H11.7292C11.8787 5 12 4.776 12 4.5C12 4.224 11.8787 4 11.7292 4H5.77083C5.62133 4 5.5 4.224 5.5 4.5ZM5.5 7.5C5.5 7.776 5.62133 8 5.77083 8H11.7292C11.8787 8 12 7.776 12 7.5C12 7.224 11.8787 7 11.7292 7H5.77083C5.62133 7 5.5 7.224 5.5 7.5ZM5.5 10.5C5.5 10.776 5.62133 11 5.77083 11H11.7292C11.8787 11 12 10.776 12 10.5C12 10.224 11.8787 10 11.7292 10H5.77083C5.62133 10 5.5 10.224 5.5 10.5Z"})]})}function nR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M5.37878 2.4H6.69507L9.39693 9.65417H8.15982L7.51652 7.83576H4.55734L3.91404 9.65417H2.67693L5.37878 2.4ZM4.90373 6.86053H7.17012L6.06167 3.68085H6.02208L4.90373 6.86053Z"}),G("path",{fill:t,d:"M12 0.0230507H10.7585V12H12V0Z"}),G("path",{fill:t,d:"M0 0H1.24155V12H0V0Z"})]})}function oR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M11 9.78041V10.77H4V9.78041H11ZM11 5.52916V6.51875H4V5.52916H11ZM11 1.27V2.25958H4V1.27H11Z"}),G("path",{fill:t,d:"M2.39091 0.900002C2.61673 0.900002 2.8 1.08327 2.8 1.30909V2.29091C2.8 2.51673 2.61673 2.7 2.39091 2.7H1.40909C1.18327 2.7 1 2.51673 1 2.29091V1.30909C1 1.08327 1.18327 0.900002 1.40909 0.900002H2.39091Z"}),G("path",{fill:t,d:"M2.39091 5.1C2.61673 5.1 2.8 5.28327 2.8 5.50909V6.49091C2.8 6.71673 2.61673 6.9 2.39091 6.9H1.40909C1.18327 6.9 1 6.71673 1 6.49091V5.50909C1 5.28327 1.18327 5.1 1.40909 5.1H2.39091Z"}),G("path",{fill:t,d:"M2.39091 9.4C2.61673 9.4 2.8 9.58327 2.8 9.80909V10.7909C2.8 11.0167 2.61673 11.2 2.39091 11.2H1.40909C1.18327 11.2 1 11.0167 1 10.7909V9.80909C1 9.58327 1.18327 9.4 1.40909 9.4H2.39091Z"})]})}function iR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M11.3667 6.3814H3.64003C2.84102 6.3814 2.84102 5.18289 3.64003 5.18289H11.3667C12.1657 5.18289 12.1657 6.3814 11.3667 6.3814ZM11.3616 11.3219H3.63501C2.836 11.3219 2.836 10.1234 3.63501 10.1234H11.3616C12.1606 10.1234 12.1606 11.3219 11.3616 11.3219ZM11.3616 1.45419H3.63501C2.836 1.45419 2.836 0.255685 3.63501 0.255685H11.3616C12.1606 0.255685 12.1606 1.45419 11.3616 1.45419ZM0.886361 1.72053C0.415667 1.72053 0.0340881 1.33895 0.0340881 0.868256C0.0340881 0.397562 0.415667 0.0159836 0.886361 0.0159836C1.35706 0.0159836 1.73863 0.397562 1.73863 0.868256C1.73863 1.33895 1.35706 1.72053 0.886361 1.72053ZM0.886361 11.5882C0.415667 11.5882 0.0340881 11.2067 0.0340881 10.736C0.0340881 10.2653 0.415667 9.8837 0.886361 9.8837C1.35706 9.8837 1.73863 10.2653 1.73863 10.736C1.73863 11.2067 1.35706 11.5882 0.886361 11.5882ZM0.886361 6.64773C0.415667 6.64773 0.0340881 6.26615 0.0340881 5.79546C0.0340881 5.32476 0.415667 4.94319 0.886361 4.94319C1.35706 4.94319 1.73863 5.32476 1.73863 5.79546C1.73863 6.26615 1.35706 6.64773 0.886361 6.64773Z"})})}function rR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M4.16471 6.92157L5.29412 8.4902H0L1.2 3L2.32941 4.4902C2.96471 3.86274 4.37647 3.07843 6.77647 3.07843C10.5176 3.07843 12 7.31373 12 7.31373C12 7.31373 9.81177 4.56863 7.41176 4.56863C5.57647 4.56863 4.51765 6.13725 4.16471 6.92157Z"})})}function lR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M7.86282 6.93098L6.70588 8.4902H12L10.7809 3L9.66565 4.50275C9.00635 3.91373 7.65035 3.08941 5.22353 3.08941C1.44847 3.08941 0 7.3498 0 7.3498C0 7.3498 2.16494 4.60392 4.58259 4.60392C6.39176 4.60314 7.44635 6.15137 7.86282 6.93098V6.93098Z"})})}function sR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M5.98462 6.46154V5.53846H10.9692V0.923077H9.30769V0H1V3.69231H9.30769V1.84615H10.1385V4.61538H5.15385V6.46154H4.32308V12H6.81538V6.46154H5.98462Z"})})}function cR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M2.72 10.2222L0 7.2L6.48 0L11.28 5.33333L6.96 10.2222H2.72ZM6.56 9.33333L7.68 8.08889L4 4L1.12 7.11111L3.12 9.33333H6.56ZM0.8 11.1111H11.2V12H0.8V11.1111Z"})})}const aR="M8.92911 8.22917C8.95429 8.24679 8.97896 8.26643 9.00112 8.2896L11.8533 11.1412C12.0451 11.3331 12.0481 11.6549 11.8518 11.8513C11.8053 11.8982 11.7501 11.9355 11.6892 11.9611C11.6283 11.9866 11.5629 11.9998 11.4969 12C11.4309 12.0002 11.3655 11.9873 11.3044 11.9621C11.2434 11.937 11.1879 11.9 11.1412 11.8533L8.28909 9.00114C8.26703 8.97908 8.24713 8.95496 8.22966 8.92912C7.32995 9.66926 6.20062 10.0731 5.03559 10.0712C2.25444 10.0712 0 7.81675 0 5.0356C0 2.25444 2.25444 0 5.03559 0C7.81675 0 10.0712 2.25444 10.0712 5.0356C10.0712 6.24765 9.64316 7.36002 8.92911 8.22917V8.22917ZM5.03559 9.06406C6.10401 9.06406 7.12867 8.63964 7.88416 7.88415C8.63964 7.12867 9.06407 6.10401 9.06407 5.03559C9.06407 3.96717 8.63964 2.94251 7.88416 2.18703C7.12867 1.43154 6.10401 1.00711 5.03559 1.00711C3.96718 1.00711 2.94252 1.43154 2.18703 2.18703C1.43155 2.94251 1.00712 3.96717 1.00712 5.03559C1.00712 6.10401 1.43155 7.12867 2.18703 7.88415C2.94252 8.63964 3.96718 9.06406 5.03559 9.06406V9.06406Z";function uR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:aR})})}function dR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M4.65678 5.18644H3.92458L3.40169 3.78305H1.2661L0.773728 5.18644H0.0415249L1.99491 0.0584717H2.70339L4.65678 5.18644ZM3.19661 3.20339L2.42203 1.07203C2.38636 0.955038 2.35973 0.835477 2.34237 0.714404H2.32542C2.30169 0.868641 2.27458 0.987285 2.24322 1.07203L1.47542 3.20339H3.19661ZM7.9678 11.9661V6.7822H9.76864C10.3068 6.7822 10.7373 6.89067 11.0576 7.10847C11.3797 7.32627 11.5407 7.61525 11.5407 7.97373C11.5407 8.25932 11.4449 8.51101 11.2534 8.73051C11.0619 8.94915 10.7992 9.10339 10.4636 9.19576V9.20932C10.8805 9.24915 11.2136 9.3822 11.4636 9.60932C11.7127 9.83644 11.8364 10.1229 11.8364 10.4712C11.8364 10.9178 11.6475 11.2788 11.2686 11.5542C10.8924 11.8288 10.4068 11.9661 9.8161 11.9661H7.9678ZM8.76017 7.36779V8.99067H9.48051C9.86271 8.99067 10.1636 8.91186 10.3805 8.75508C10.4855 8.68217 10.5705 8.58405 10.6276 8.46974C10.6848 8.35542 10.7123 8.22857 10.7076 8.10084C10.7076 7.61271 10.3229 7.36864 9.55254 7.36864H8.76017V7.36779ZM8.76017 9.57373V11.3805H9.70932C10.1229 11.3805 10.4432 11.3 10.6695 11.1381C10.778 11.0632 10.8658 10.9621 10.9248 10.8442C10.9838 10.7262 11.012 10.5953 11.0068 10.4636C11.0068 9.87034 10.5305 9.57373 9.57797 9.57373H8.76017ZM5.05085 10.6186L5.13559 10.1186C4.20415 9.88255 3.36925 9.36248 2.74667 8.63057C2.12408 7.89865 1.74466 6.99114 1.66102 6.0339H2.50847C2.59422 6.79175 2.90474 7.50663 3.4001 8.08656C3.89546 8.66649 4.553 9.08496 5.28813 9.28813L5.41525 8.57627L7 9.91525L5.05085 10.6186Z"})})}function fR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 10 12",style:n,children:G("path",{fill:t,d:"M9.54545 2.31818V0.136364C9.54545 0.0613636 9.48409 0 9.40909 0H0.136364C0.0613636 0 0 0.0613636 0 0.136364V2.31818C0 2.39318 0.0613636 2.45455 0.136364 2.45455H1.09091C1.16591 2.45455 1.22727 2.39318 1.22727 2.31818V1.22727H4.09091V10.7727H2.52273C2.44773 10.7727 2.38636 10.8341 2.38636 10.9091V11.8636C2.38636 11.9386 2.44773 12 2.52273 12H7.02273C7.09773 12 7.15909 11.9386 7.15909 11.8636V10.9091C7.15909 10.8341 7.09773 10.7727 7.02273 10.7727H5.45455V1.22727H8.31818V2.31818C8.31818 2.39318 8.37955 2.45455 8.45455 2.45455H9.40909C9.48409 2.45455 9.54545 2.39318 9.54545 2.31818Z"})})}function hR({width:e=8,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 8 12",style:n,children:G("path",{fill:t,d:"M1.35187 5.33801H6.64813V0.70378C6.64813 0.528199 6.71788 0.359808 6.84203 0.235653C6.96619 0.111498 7.13458 0.041748 7.31016 0.041748C7.48574 0.041748 7.65413 0.111498 7.77829 0.235653C7.90244 0.359808 7.9722 0.528199 7.9722 0.70378V11.2963C7.9722 11.4719 7.90244 11.6403 7.77829 11.7644C7.65413 11.8886 7.48574 11.9583 7.31016 11.9583C7.13458 11.9583 6.96619 11.8886 6.84203 11.7644C6.71788 11.6403 6.64813 11.4719 6.64813 11.2963V6.66207H1.35187V11.2963C1.35187 11.4719 1.28212 11.6403 1.15797 11.7644C1.03381 11.8886 0.86542 11.9583 0.689838 11.9583C0.514256 11.9583 0.345865 11.8886 0.22171 11.7644C0.097555 11.6403 0.0278053 11.4719 0.0278053 11.2963V0.70378C0.0278053 0.528199 0.097555 0.359808 0.22171 0.235653C0.345865 0.111498 0.514256 0.041748 0.689838 0.041748C0.86542 0.041748 1.03381 0.111498 1.15797 0.235653C1.28212 0.359808 1.35187 0.528199 1.35187 0.70378V5.33801Z"})})}function pR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M5.93348 5.07273C6.52639 5.07273 6.98819 4.97782 7.31791 4.78691C7.83562 4.48691 8.09496 3.948 8.09496 3.16909C8.09496 2.38473 7.81923 1.85673 7.26874 1.584C6.9583 1.43127 6.4965 1.35491 5.88431 1.35491H3.37768V5.07273H5.93348ZM6.40588 10.6113C7.26778 10.6113 7.8819 10.3222 8.24922 9.74509C8.47963 9.38073 8.59532 8.93891 8.59532 8.42182C8.59532 7.55018 8.25886 6.95673 7.58592 6.64145C7.22728 6.47236 6.75488 6.38836 6.16582 6.38836H3.37672V10.6113H6.40588ZM2 0H6.45601C7.67076 0 8.53459 0.418909 9.04748 1.25782C9.34924 1.75309 9.49964 2.32473 9.49964 2.97273C9.49964 3.72982 9.31357 4.35055 8.94143 4.83491C8.74861 5.09236 8.46999 5.32582 8.1075 5.53855C8.63967 5.77309 9.03784 6.03709 9.30104 6.33055C9.76669 6.85309 10 7.57527 10 8.49491C10 9.26836 9.79079 9.96764 9.37141 10.5938C8.74572 11.532 7.74982 12 6.38467 12H2V0Z"})})}function vR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M7.2957 1.09091H8.4V0H4.8V1.09091H5.9457L4.1052 10.9091H3V12H6.6V10.9091H5.4543L7.2957 1.09091Z"})})}function gR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M2.8422 5.45455H0V6.54545H5.4747L6.1767 6.732C6.8886 6.92291 7.4115 7.14764 7.7454 7.40618C8.0757 7.66909 8.2404 8.11091 8.2404 8.73055C8.2404 9.55636 7.8489 10.1302 7.0668 10.4509C6.63268 10.6215 6.17852 10.7051 5.7222 10.6985C4.6233 10.6985 3.8565 10.3211 3.4218 9.56727C3.1932 9.16473 3.0636 8.64 3.033 7.99527H1.8C1.7865 9.22473 2.1204 10.1978 2.8017 10.9156C3.4839 11.6389 4.4262 12 5.6304 12C6.6627 12 7.5699 11.7284 8.3493 11.1862C9.1296 10.644 9.5193 9.74291 9.5193 8.48291C9.5193 7.68982 9.3303 7.044 8.9523 6.54545H11.7V5.45455H7.1118L7.0803 5.44582L5.7222 5.08145C4.8087 4.83382 4.2219 4.62764 3.9627 4.46182C3.5667 4.20436 3.3696 3.79636 3.3696 3.23782C3.3696 2.73164 3.5388 2.28764 3.8772 1.90582C4.2156 1.524 4.7718 1.332 5.5449 1.332C6.5025 1.332 7.182 1.62873 7.5816 2.22327C7.7967 2.54836 7.938 3.01636 8.0037 3.62509H9.2367C9.2367 2.35964 8.8821 1.43891 8.172 0.862909C7.4619 0.288 6.5988 0 5.5845 0C4.4811 0 3.6288 0.328364 3.0267 0.984C2.4246 1.63964 2.1231 2.47855 2.1231 3.50182C2.1231 4.33527 2.3625 4.98655 2.8422 5.45455Z"})})}function mR({width:e=13,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M3.35718 0V5.55785C3.35718 6.21046 3.46927 6.75323 3.69264 7.18615C4.02482 7.83877 4.58364 8.16554 5.37073 8.16554C6.31409 8.16554 6.95555 7.81292 7.29509 7.10677C7.47755 6.72277 7.56918 6.20677 7.56918 5.55785V0H8.69909V5.05015C8.69909 6.156 8.56327 7.00708 8.29082 7.60246C7.79009 8.688 6.84673 9.23077 5.45991 9.23077C4.07309 9.23077 3.13136 8.688 2.63555 7.60246C2.36309 7.00708 2.22727 6.156 2.22727 5.05015V0H3.35718V0ZM1 11.0769H10V12H1V11.0769Z"})})}function yR({width:e=11,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M7.32782 7.08218L5.72451 1.78036L4.02007 7.08218H7.32782ZM4.97636 0H6.5944L10.4274 12H8.85945L7.78829 8.40545H3.61065L2.46684 12H1L4.97636 0Z"})})}function bR({width:e=14.5,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,fill:"none",children:[G("path",{stroke:t,d:"M5.6667 1L5.56205 1.33639L1.11349 6.1027C0.96217 6.26483 0.96217 6.5277 1.11349 6.68983L4.67539 10.5061C4.82671 10.6683 5.07205 10.6683 5.22337 10.5061L9.44675 5.9811H10.1656L10.0905 5.73984L5.6667 1Z"}),G("path",{fill:t,d:"M4.92103 10.5437L7.93666 7.28917H2.01357L4.92103 10.5437Z"}),G("path",{fill:t,d:"M10.2381 7.91561L10.4188 7.78655C10.5906 7.66384 10.8227 7.71358 10.9372 7.89765C10.9782 7.96345 11 8.04076 11 8.11983V9.23962C11 9.81283 10.5663 10.2775 10.0313 10.2775C9.66908 10.2775 9.37544 9.96291 9.37544 9.57482C9.37544 9.48543 9.39136 9.39685 9.42235 9.31385L9.65876 8.6806C9.77521 8.36869 9.97721 8.10196 10.2381 7.91561Z"})]})}function CR({width:e=13,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,fill:"none",children:G("path",{fill:t,d:"M6.63788 0.0565796L11.9949 5.41365L8.21818 9.04597L7.53636 8.36415L5.76818 10.1111L4.81667 9.11769L3.99344 9.899H0.0166702L2.86061 7.07426L1.82728 5.99446L3.51818 4.34648L2.86111 3.68941L6.63788 0.0565796V0.0565796ZM4.25909 5.10456L3.31818 6.02072L5.75758 8.5687L6.73485 7.60203L4.25859 5.10456H4.25909ZM6.62273 1.57224L4.41566 3.69345L7.03182 6.33082L8.23232 7.53082L10.4495 5.3985L6.62273 1.57224V1.57224Z"})})}function wR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M0 0.540001C0 0.816001 0.224 1.04 0.5 1.04H11.5C11.776 1.04 12 0.816001 12 0.540001C12 0.264001 11.776 0.0400009 11.5 0.0400009H0.5C0.224 0.0400009 0 0.264001 0 0.540001ZM0 3.54C0 3.264 0.224 3.04 0.5 3.04H8.5C8.776 3.04 9 3.264 9 3.54C9 3.816 8.776 4.04 8.5 4.04H0.5C0.224 4.04 0 3.816 0 3.54ZM0 6.54C0 6.264 0.224 6.04 0.5 6.04H11.5C11.776 6.04 12 6.264 12 6.54C12 6.816 11.776 7.04 11.5 7.04H0.5C0.224 7.04 0 6.816 0 6.54ZM0 9.54C0 9.264 0.224 9.04 0.5 9.04H8.5C8.776 9.04 9 9.264 9 9.54C9 9.816 8.776 10.04 8.5 10.04H0.5C0.224 10.04 0 9.816 0 9.54Z"})})}function xR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M12 0.540001C12 0.816001 11.776 1.04 11.5 1.04H0.5C0.224 1.04 0 0.816001 0 0.540001C0 0.264001 0.224 0.0400009 0.5 0.0400009H11.5C11.776 0.0400009 12 0.264001 12 0.540001ZM12 3.54C12 3.264 11.776 3.04 11.5 3.04H3.5C3.224 3.04 3 3.264 3 3.54C3 3.816 3.224 4.04 3.5 4.04H11.5C11.776 4.04 12 3.816 12 3.54ZM12 6.54C12 6.264 11.776 6.04 11.5 6.04H0.5C0.224 6.04 0 6.264 0 6.54C0 6.816 0.224 7.04 0.5 7.04H11.5C11.776 7.04 12 6.816 12 6.54ZM12 9.54C12 9.264 11.776 9.04 11.5 9.04H3.5C3.224 9.04 3 9.264 3 9.54C3 9.816 3.224 10.04 3.5 10.04H11.5C11.776 10.04 12 9.816 12 9.54Z"})})}function SR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M0 0.540001C0 0.264001 0.224 0.0400009 0.5 0.0400009H11.5C11.776 0.0400009 12 0.264001 12 0.540001C12 0.816001 11.776 1.04 11.5 1.04H0.5C0.224 1.04 0 0.816001 0 0.540001ZM2 3.54C2 3.816 2.224 4.04 2.5 4.04H9.5C9.776 4.04 10 3.816 10 3.54C10 3.264 9.776 3.04 9.5 3.04H2.5C2.224 3.04 2 3.264 2 3.54ZM0 6.54C0 6.816 0.224 7.04 0.5 7.04H11.5C11.776 7.04 12 6.816 12 6.54C12 6.264 11.776 6.04 11.5 6.04H0.5C0.224 6.04 0 6.264 0 6.54ZM2 9.54C2 9.816 2.224 10.04 2.5 10.04H9.5C9.776 10.04 10 9.816 10 9.54C10 9.264 9.776 9.04 9.5 9.04H2.5C2.224 9.04 2 9.264 2 9.54Z"})})}function ER({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,d:"M0 0.540001C0 0.264001 0.224 0.0400009 0.5 0.0400009H11.5C11.776 0.0400009 12 0.264001 12 0.540001C12 0.816001 11.776 1.04 11.5 1.04H0.5C0.224 1.04 0 0.816001 0 0.540001ZM0 3.54C0 3.816 0.224 4.04 0.5 4.04H11.5C11.776 4.04 12 3.816 12 3.54C12 3.264 11.776 3.04 11.5 3.04H0.5C0.224 3.04 0 3.264 0 3.54ZM0 6.54C0 6.816 0.224 7.04 0.5 7.04H11.5C11.776 7.04 12 6.816 12 6.54C12 6.264 11.776 6.04 11.5 6.04H0.5C0.224 6.04 0 6.264 0 6.54ZM0 9.54C0 9.816 0.224 10.04 0.5 10.04H11.5C11.776 10.04 12 9.816 12 9.54C12 9.264 11.776 9.04 11.5 9.04H0.5C0.224 9.04 0 9.264 0 9.54Z"})})}function kR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M11.438 1.5H0.562C0.252 1.5 0 1.276 0 1C0 0.724 0.252 0.5 0.563 0.5H11.437C11.748 0.5 12 0.724 12 1C12 1.276 11.748 1.5 11.437 1.5"}),G("path",{fill:t,d:"M8.476 4.51997C8.56458 4.60816 8.61692 4.72633 8.6227 4.8512C8.62848 4.97606 8.58728 5.09856 8.50722 5.19456C8.42717 5.29055 8.31405 5.35308 8.19018 5.36981C8.06631 5.38655 7.94066 5.35628 7.838 5.28497L7.769 5.22697L6.001 3.45897L4.234 5.22697C4.15127 5.3098 4.04209 5.36097 3.92551 5.37157C3.80892 5.38217 3.69231 5.35152 3.596 5.28497L3.526 5.22697C3.44332 5.14412 3.39234 5.03488 3.38192 4.9183C3.3715 4.80171 3.40232 4.68517 3.469 4.58897L3.526 4.51897L5.648 2.39897C5.73073 2.31614 5.8399 2.26497 5.95649 2.25437C6.07308 2.24377 6.18969 2.27442 6.286 2.34097L6.355 2.39797L8.476 4.51997Z"}),G("path",{fill:t,d:"M6 2.70502C6.11703 2.70497 6.23036 2.75769 6.32026 2.854C6.41016 2.95031 6.47094 3.08411 6.492 3.23209L6.5 3.34779V11.0611C6.50023 11.2217 6.45367 11.3766 6.36949 11.4953C6.28531 11.614 6.16961 11.6879 6.04518 11.7024C5.92074 11.7169 5.79659 11.671 5.69717 11.5737C5.59775 11.4764 5.53026 11.3348 5.508 11.1768L5.5 11.0611V3.34779C5.5 3.17732 5.55268 3.01382 5.64645 2.89328C5.74021 2.77274 5.86739 2.70502 6 2.70502Z"})]})}function DR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M11.438 6.5H0.562C0.252 6.5 0 6.276 0 6C0 5.724 0.252 5.5 0.563 5.5H11.437C11.748 5.5 12 5.724 12 6C12 6.276 11.748 6.5 11.437 6.5"}),G("path",{fill:t,d:"M8.476 9.26765C8.56458 9.35584 8.61692 9.47401 8.6227 9.59888C8.62848 9.72374 8.58728 9.84624 8.50722 9.94224C8.42717 10.0382 8.31405 10.1008 8.19018 10.1175C8.06631 10.1342 7.94066 10.104 7.838 10.0327L7.769 9.97465L6.001 8.20665L4.234 9.97465C4.15127 10.0575 4.04209 10.1087 3.92551 10.1193C3.80892 10.1299 3.69231 10.0992 3.596 10.0327L3.526 9.97465C3.44332 9.8918 3.39234 9.78256 3.38192 9.66598C3.3715 9.5494 3.40232 9.43285 3.469 9.33665L3.526 9.26665L5.648 7.14665C5.73073 7.06383 5.8399 7.01265 5.95649 7.00205C6.07308 6.99146 6.18969 7.0221 6.286 7.08865L6.355 7.14565L8.476 9.26765Z"}),G("path",{fill:t,d:"M6 7.5C6.11703 7.49997 6.23036 7.52634 6.32026 7.57449C6.41016 7.62265 6.47094 7.68954 6.492 7.76354L6.5 7.82139V11.678C6.50023 11.7583 6.45367 11.8358 6.36949 11.8951C6.28531 11.9545 6.16961 11.9914 6.04518 11.9987C5.92074 12.0059 5.79659 11.983 5.69717 11.9343C5.59775 11.8857 5.53026 11.8149 5.508 11.7359L5.5 11.678V7.82139C5.5 7.73615 5.55268 7.6544 5.64645 7.59413C5.74021 7.53386 5.86739 7.5 6 7.5Z"}),G("path",{fill:t,d:"M3.52718 2.73235C3.43859 2.64416 3.38625 2.52599 3.38047 2.40112C3.37469 2.27626 3.41589 2.15376 3.49595 2.05776C3.57601 1.96177 3.68912 1.89924 3.81299 1.88251C3.93686 1.86577 4.06251 1.89604 4.16517 1.96735L4.23418 2.02535L6.00218 3.79335L7.76918 2.02535C7.85191 1.94252 7.96108 1.89135 8.07767 1.88075C8.19425 1.87015 8.31086 1.9008 8.40718 1.96735L8.47718 2.02535C8.55985 2.1082 8.61084 2.21744 8.62125 2.33402C8.63167 2.4506 8.60085 2.56715 8.53418 2.66335L8.47718 2.73335L6.35518 4.85335C6.27244 4.93617 6.16327 4.98735 6.04668 4.99795C5.9301 5.00854 5.81349 4.9779 5.71718 4.91135L5.64818 4.85435L3.52718 2.73235Z"}),G("path",{fill:t,d:"M6 4.20001C5.88297 4.20004 5.76964 4.17543 5.67974 4.13049C5.58984 4.08554 5.52906 4.0231 5.508 3.95404L5.5 3.90005V0.300526C5.49977 0.225568 5.54633 0.153275 5.63051 0.0978828C5.71469 0.0424903 5.83039 0.00801262 5.95482 0.00123983C6.07926 -0.00553296 6.20341 0.01589 6.30283 0.0612894C6.40225 0.106689 6.46974 0.172774 6.492 0.246533L6.5 0.300526L6.5 3.90005C6.5 3.97961 6.44732 4.0559 6.35355 4.11216C6.25979 4.16841 6.13261 4.20001 6 4.20001Z"})]})}function IR({width:e=12,fill:t=zf,style:n}){return G(kR,{width:e,fill:t,style:{...n,transform:"rotate(180deg)"}})}function NR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 11",style:n,children:[G("path",{fill:t,d:"M3.5 0.68C3.5 0.956 3.738 1.18 4.03125 1.18H11.4688C11.762 1.18 12 0.956 12 0.68C12 0.404 11.762 0.18 11.4688 0.18H4.03125C3.738 0.18 3.5 0.404 3.5 0.68ZM3.5 3.68C3.5 3.956 3.738 4.18 4.03125 4.18H11.4688C11.762 4.18 12 3.956 12 3.68C12 3.404 11.762 3.18 11.4688 3.18H4.03125C3.738 3.18 3.5 3.404 3.5 3.68Z"}),G("path",{fill:t,d:"M0 6.54C0 6.264 0.224 6.04 0.5 6.04H11.5C11.776 6.04 12 6.264 12 6.54C12 6.816 11.776 7.04 11.5 7.04H0.5C0.224 7.04 0 6.816 0 6.54ZM0 9.54C0 9.816 0.224 10.04 0.5 10.04H11.5C11.776 10.04 12 9.816 12 9.54C12 9.264 11.776 9.04 11.5 9.04H0.5C0.224 9.04 0 9.264 0 9.54Z"}),G("path",{fill:t,d:"M2.47159 2.07841L0.484089 0.0900564C0.426987 0.0329542 0.361362 0.00482941 0.282953 0.00482941C0.207952 0.00482941 0.141475 0.0329542 0.0835209 0.0900564C0.0272708 0.145454 -1.90735e-06 0.211931 -1.90735e-06 0.288635L-1.90735e-06 4.26704C-1.90735e-06 4.34375 0.0272708 4.41023 0.0835209 4.46648C0.141475 4.52358 0.2071 4.55 0.282953 4.55C0.360509 4.55 0.426987 4.52273 0.484089 4.46648L2.47159 2.47727C2.52869 2.42102 2.55682 2.35369 2.55682 2.27784C2.55682 2.20199 2.52869 2.13466 2.47159 2.07841Z"})]})}function LR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 11",style:n,children:[G("path",{fill:t,d:"M3.5 3.54C3.5 3.816 3.738 4.04 4.03125 4.04H11.4688C11.762 4.04 12 3.816 12 3.54C12 3.264 11.762 3.04 11.4688 3.04H4.03125C3.738 3.04 3.5 3.264 3.5 3.54ZM3.5 6.54C3.5 6.816 3.738 7.04 4.03125 7.04H11.4688C11.762 7.04 12 6.816 12 6.54C12 6.264 11.762 6.04 11.4688 6.04H4.03125C3.738 6.04 3.5 6.264 3.5 6.54Z"}),G("path",{fill:t,d:"M0 0.540001C0 0.264001 0.224 0.0400009 0.5 0.0400009H11.5C11.776 0.0400009 12 0.264001 12 0.540001C12 0.816001 11.776 1.04 11.5 1.04H0.5C0.224 1.04 0 0.816001 0 0.540001ZM0 9.54C0 9.816 0.224 10.04 0.5 10.04H11.5C11.776 10.04 12 9.816 12 9.54C12 9.264 11.776 9.04 11.5 9.04H0.5C0.224 9.04 0 9.264 0 9.54Z"}),G("path",{fill:t,d:"M2.47159 4.82358L0.484089 2.83523C0.426987 2.77812 0.361362 2.75 0.282953 2.75C0.207952 2.75 0.141475 2.77812 0.0835209 2.83523C0.0272708 2.89062 -1.90735e-06 2.9571 -1.90735e-06 3.03381L-1.90735e-06 7.01222C-1.90735e-06 7.08892 0.0272708 7.1554 0.0835209 7.21165C0.141475 7.26875 0.2071 7.29517 0.282953 7.29517C0.360509 7.29517 0.426987 7.2679 0.484089 7.21165L2.47159 5.22244C2.52869 5.16619 2.55682 5.09886 2.55682 5.02301C2.55682 4.94716 2.52869 4.87983 2.47159 4.82358Z"})]})}function TR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 11",style:n,children:[G("path",{fill:t,d:"M3.5 3.54C3.5 3.816 3.738 4.04 4.03125 4.04H11.4688C11.762 4.04 12 3.816 12 3.54C12 3.264 11.762 3.04 11.4688 3.04H4.03125C3.738 3.04 3.5 3.264 3.5 3.54ZM3.5 6.54C3.5 6.816 3.738 7.04 4.03125 7.04H11.4688C11.762 7.04 12 6.816 12 6.54C12 6.264 11.762 6.04 11.4688 6.04H4.03125C3.738 6.04 3.5 6.264 3.5 6.54Z"}),G("path",{fill:t,d:"M0 0.540001C0 0.264001 0.224 0.0400009 0.5 0.0400009H11.5C11.776 0.0400009 12 0.264001 12 0.540001C12 0.816001 11.776 1.04 11.5 1.04H0.5C0.224 1.04 0 0.816001 0 0.540001ZM0 9.54C0 9.816 0.224 10.04 0.5 10.04H11.5C11.776 10.04 12 9.816 12 9.54C12 9.264 11.776 9.04 11.5 9.04H0.5C0.224 9.04 0 9.264 0 9.54Z"}),G("path",{fill:t,d:"M0.0852273 5.22159L2.07273 7.20994C2.12983 7.26705 2.19545 7.29517 2.27386 7.29517C2.34886 7.29517 2.41534 7.26705 2.4733 7.20994C2.52955 7.15455 2.55682 7.08807 2.55682 7.01136V3.03295C2.55682 2.95625 2.52955 2.88977 2.4733 2.83352C2.41534 2.77642 2.34972 2.75 2.27386 2.75C2.19631 2.75 2.12983 2.77727 2.07273 2.83352L0.0852273 4.82273C0.028125 4.87898 0 4.94631 0 5.02216C0 5.09801 0.028125 5.16534 0.0852273 5.22159Z"})]})}function BR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,stroke:t,"stroke-width":"0.1",d:"M4.9125 1.10625V4.73125C4.9125 4.83093 4.83093 4.9125 4.73125 4.9125H1.10625C1.00656 4.9125 0.924997 4.83093 0.924997 4.73125V1.10625C0.924997 1.00656 1.00656 0.924997 1.10625 0.924997H4.73125C4.83093 0.924997 4.9125 1.00656 4.9125 1.10625ZM0.199997 0.924997V4.9125C0.199997 5.31238 0.525114 5.6375 0.924997 5.6375H4.9125C5.31238 5.6375 5.6375 5.31238 5.6375 4.9125V0.924997C5.6375 0.525114 5.31238 0.199997 4.9125 0.199997H0.924997C0.525114 0.199997 0.199997 0.525114 0.199997 0.924997ZM11.075 1.10625V4.73125C11.075 4.83093 10.9934 4.9125 10.8937 4.9125H7.26875C7.16906 4.9125 7.0875 4.83093 7.0875 4.73125V1.10625C7.0875 1.00656 7.16906 0.924997 7.26875 0.924997H10.8937C10.9934 0.924997 11.075 1.00656 11.075 1.10625ZM6.3625 0.924997V4.9125C6.3625 5.31238 6.68761 5.6375 7.0875 5.6375H11.075C11.4749 5.6375 11.8 5.31238 11.8 4.9125V0.924997C11.8 0.525114 11.4749 0.199997 11.075 0.199997H7.0875C6.68761 0.199997 6.3625 0.525114 6.3625 0.924997ZM4.9125 7.26875V10.8937C4.9125 10.9934 4.83093 11.075 4.73125 11.075H1.10625C1.00656 11.075 0.924997 10.9934 0.924997 10.8937V7.26875C0.924997 7.16906 1.00656 7.0875 1.10625 7.0875H4.73125C4.83093 7.0875 4.9125 7.16906 4.9125 7.26875ZM0.199997 7.0875V11.075C0.199997 11.4749 0.525114 11.8 0.924997 11.8H4.9125C5.31238 11.8 5.6375 11.4749 5.6375 11.075V7.0875C5.6375 6.68761 5.31238 6.3625 4.9125 6.3625H0.924997C0.525114 6.3625 0.199997 6.68761 0.199997 7.0875ZM11.075 7.26875V10.8937C11.075 10.9934 10.9934 11.075 10.8937 11.075H7.26875C7.16906 11.075 7.0875 10.9934 7.0875 10.8937V7.26875C7.0875 7.16906 7.16906 7.0875 7.26875 7.0875H10.8937C10.9934 7.0875 11.075 7.16906 11.075 7.26875ZM6.3625 7.0875V11.075C6.3625 11.4749 6.68761 11.8 7.0875 11.8H11.075C11.4749 11.8 11.8 11.4749 11.8 11.075V7.0875C11.8 6.68761 11.4749 6.3625 11.075 6.3625H7.0875C6.68761 6.3625 6.3625 6.68761 6.3625 7.0875Z"})})}function AR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M11.7698 2.78713C12.0063 3.02364 12.0063 3.40569 11.7698 3.6422L9.20275 6.20922C8.96624 6.44573 8.58419 6.44573 8.34768 6.20922L5.78066 3.6422C5.54415 3.40569 5.54415 3.02364 5.78066 2.78713L8.34768 0.220106C8.58419 -0.0164024 8.96624 -0.0164024 9.20275 0.220106L11.7698 2.78713ZM8.77522 0.933269L6.49383 3.21466L8.77522 5.49606L11.0566 3.21466L8.77522 0.933269Z"}),G("path",{fill:t,stroke:t,"stroke-width":"0.1",d:"M4.56875 1.49937V4.93687C4.56875 5.03141 4.49141 5.10875 4.39687 5.10875H0.959375C0.864844 5.10875 0.7875 5.03141 0.7875 4.93687V1.49937C0.7875 1.40484 0.864844 1.3275 0.959375 1.3275H4.39687C4.49141 1.3275 4.56875 1.40484 4.56875 1.49937ZM0.0999999 1.3275V5.10875C0.0999999 5.48795 0.408301 5.79625 0.7875 5.79625H4.56875C4.94795 5.79625 5.25625 5.48795 5.25625 5.10875V1.3275C5.25625 0.9483 4.94795 0.639999 4.56875 0.639999H0.7875C0.408301 0.639999 0.0999999 0.9483 0.0999999 1.3275Z"}),G("path",{fill:t,stroke:t,"stroke-width":"0.1",d:"M4.56875 7.65938V11.0969C4.56875 11.1914 4.49141 11.2688 4.39687 11.2688H0.959375C0.864844 11.2688 0.7875 11.1914 0.7875 11.0969V7.65938C0.7875 7.56485 0.864844 7.4875 0.959375 7.4875H4.39687C4.49141 7.4875 4.56875 7.56485 4.56875 7.65938ZM0.0999999 7.4875V11.2688C0.0999999 11.648 0.408301 11.9563 0.7875 11.9563H4.56875C4.94795 11.9563 5.25625 11.648 5.25625 11.2688V7.4875C5.25625 7.1083 4.94795 6.8 4.56875 6.8H0.7875C0.408301 6.8 0.0999999 7.1083 0.0999999 7.4875Z"}),G("path",{fill:t,stroke:t,"stroke-width":"0.1",d:"M10.7688 7.65938V11.0969C10.7688 11.1914 10.6914 11.2688 10.5969 11.2688H7.15938C7.06484 11.2688 6.9875 11.1914 6.9875 11.0969V7.65938C6.9875 7.56485 7.06484 7.4875 7.15938 7.4875H10.5969C10.6914 7.4875 10.7688 7.56485 10.7688 7.65938ZM6.3 7.4875V11.2688C6.3 11.648 6.6083 11.9563 6.9875 11.9563H10.7688C11.1479 11.9563 11.4562 11.648 11.4562 11.2688V7.4875C11.4562 7.1083 11.1479 6.8 10.7688 6.8H6.9875C6.6083 6.8 6.3 7.1083 6.3 7.4875Z"})]})}function MR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M6.85959 7.73697C6.85959 7.7359 6.85959 7.73483 6.85959 7.73376V7.73268V7.72947C6.85966 6.39936 7.20375 5.09188 7.85844 3.93405C8.51314 2.77623 9.45617 1.80742 10.5959 1.12175C10.7906 1.00421 11.0241 0.968833 11.2449 1.02341C11.4657 1.07798 11.6558 1.21803 11.7733 1.41275C11.8909 1.60747 11.9262 1.84091 11.8717 2.06171C11.8171 2.28251 11.677 2.47259 11.4823 2.59013C10.4645 3.20304 9.65106 4.10375 9.1447 5.17856C9.66182 5.12084 10.1843 5.22144 10.643 5.46705C11.1017 5.71267 11.4751 6.09173 11.7137 6.55411C11.9524 7.0165 12.0451 7.54042 11.9795 8.05662C11.914 8.57281 11.6933 9.05695 11.3467 9.44503C11.0001 9.83311 10.5438 10.1068 10.0383 10.23C9.53275 10.3532 9.00172 10.3201 8.51543 10.135C8.02913 9.94985 7.61048 9.62149 7.31482 9.19332C7.01916 8.76514 6.86042 8.25731 6.85959 7.73697V7.73697ZM1.47768e-06 7.73697C-4.92561e-07 7.7359 -4.92561e-07 7.73483 1.47768e-06 7.73376V7.73268V7.72947C6.32337e-05 6.39936 0.344155 5.09188 0.998849 3.93405C1.65354 2.77623 2.59658 1.80742 3.73634 1.12175C3.93106 1.00421 4.16449 0.968833 4.3853 1.02341C4.49463 1.05043 4.59756 1.09872 4.68823 1.16552C4.7789 1.23233 4.85552 1.31633 4.91372 1.41275C4.97192 1.50916 5.01056 1.6161 5.02744 1.72745C5.04431 1.8388 5.03909 1.95238 5.01207 2.06171C4.98504 2.17104 4.93675 2.27398 4.86995 2.36464C4.80315 2.45531 4.71914 2.53193 4.62272 2.59013C3.6049 3.20304 2.79147 4.10375 2.2851 5.17856C2.80223 5.12084 3.32469 5.22144 3.78341 5.46705C4.24213 5.71267 4.6155 6.09173 4.85415 6.55411C5.09279 7.0165 5.18547 7.54042 5.11994 8.05662C5.0544 8.57281 4.83373 9.05695 4.48711 9.44503C4.14049 9.83311 3.68425 10.1068 3.1787 10.23C2.67316 10.3532 2.14213 10.3201 1.65584 10.135C1.16954 9.94985 0.750884 9.62149 0.455223 9.19332C0.159563 8.76514 0.000825696 8.25731 1.47768e-06 7.73697V7.73697Z"})})}function OR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 9",style:n,children:G("path",{fill:t,d:"M3 8.071V9.071H0V8.071H3ZM7.52 8.071V9.071H4.52V8.071H7.52ZM12 8.071V9.071H9V8.071H12ZM1 4.071V5.071H0V4.071H1ZM3.22 4.071V5.071H2.22V4.071H3.22ZM5.332 4.071V5.071H4.332V4.071H5.332ZM7.521 4.071V5.071H6.521V4.071H7.521ZM9.718 4.071V5.071H8.718V4.071H9.718ZM12 4.071V5.071H11V4.071H12ZM12 0.0709991V1.071H0V0.0709991H12Z"})})}function RR({width:e=12,fill:t=Hf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,stroke:t,"stroke-width":"0.2",d:"M10.06 0.200009C9.09902 0.200009 8.32 0.972591 8.32 1.92562C8.32 2.1073 8.34838 2.28237 8.40087 2.44683L3.53916 5.12545L3.82083 5.62827L8.66614 2.95869C8.98348 3.37913 9.48969 3.65124 10.06 3.65124C11.021 3.65124 11.8 2.87866 11.8 1.92562C11.8 0.972591 11.021 0.200009 10.06 0.200009ZM10.06 3.07604C9.42036 3.07604 8.89999 2.55997 8.89999 1.92562C8.89999 1.29128 9.42036 0.77521 10.06 0.77521C10.6996 0.77521 11.22 1.29128 11.22 1.92562C11.22 2.55997 10.6996 3.07604 10.06 3.07604Z"}),G("path",{fill:t,stroke:t,"stroke-width":"0.2",d:"M8.87728 7.15329C8.00459 7.15329 7.24344 7.62656 6.84031 8.32838L3.93205 6.75849C3.95735 6.63506 3.97007 6.50942 3.97001 6.38346C3.97001 5.74419 3.64637 5.17995 3.1528 4.84285L4.13358 2.55983C4.37878 2.52389 4.61492 2.41243 4.80366 2.22525C5.27082 1.76195 5.27082 1.01079 4.80366 0.547477C4.57008 0.315828 4.26393 0.199997 3.95779 0.199997C3.65165 0.199997 3.3455 0.315828 3.11192 0.547477C2.64476 1.01078 2.64476 1.76194 3.11192 2.22525C3.23221 2.34474 3.37693 2.43726 3.53632 2.49658L2.61387 4.58875C2.44205 4.53908 2.26397 4.51392 2.085 4.51404C1.04395 4.51404 0.199997 5.35101 0.199997 6.38346C0.199997 7.41592 1.04395 8.25289 2.085 8.25289C2.7897 8.25289 3.404 7.86931 3.72744 7.30125L6.61753 8.86229C6.56235 9.06249 6.53446 9.26911 6.53457 9.47664C6.53457 10.7598 7.58345 11.8 8.87729 11.8C10.1711 11.8 11.22 10.7598 11.22 9.47664C11.22 8.19349 10.1711 7.15329 8.87728 7.15329ZM4.04246 2.57273L4.03664 2.56985C4.04044 2.56961 4.04424 2.56932 4.04806 2.56904L4.04246 2.57273ZM3.52202 0.954214C3.63842 0.838779 3.79317 0.77521 3.95778 0.77521C4.12239 0.77521 4.27714 0.838779 4.39352 0.954214C4.63379 1.1925 4.63379 1.58023 4.39352 1.81852C4.27713 1.93395 4.12237 1.99752 3.95776 1.99752C3.79316 1.99752 3.6384 1.93395 3.52202 1.81852C3.28175 1.58023 3.28175 1.1925 3.52202 0.954214ZM2.085 7.67769C1.36542 7.67769 0.779991 7.0971 0.779991 6.38348C0.779991 5.66985 1.36541 5.08927 2.085 5.08927C2.80459 5.08927 3.39001 5.66985 3.39001 6.38348C3.39001 7.0971 2.80458 7.67769 2.085 7.67769ZM10.1237 10.7128C9.79078 11.0429 9.34811 11.2248 8.87728 11.2248C8.40644 11.2248 7.96378 11.0429 7.63085 10.7128C7.29792 10.3826 7.11455 9.94358 7.11455 9.47663C7.11455 9.00969 7.2979 8.57068 7.63085 8.2405C7.96378 7.91032 8.40644 7.72849 8.87728 7.72849C9.34811 7.72849 9.79078 7.91032 10.1237 8.2405C10.4566 8.57068 10.64 9.00969 10.64 9.47663C10.64 9.94358 10.4566 10.3826 10.1237 10.7128Z"})]})}function PR({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 10",style:n,children:G("path",{fill:t,d:"M7.19318 0.886361L8.21591 2.16477H11.1136V8.55682H0.886364V2.16477H3.57102L4.59375 0.886361H7.19318ZM7.59801 0.0340881H4.18892L3.16619 1.3125H0.886364C0.417614 1.3125 0.0340909 1.69602 0.0340909 2.16477V8.55682C0.0340909 9.02557 0.417614 9.40909 0.886364 9.40909H11.1136C11.5824 9.40909 11.9659 9.02557 11.9659 8.55682V2.16477C11.9659 1.69602 11.5824 1.3125 11.1136 1.3125H8.62074L7.59801 0.0340881ZM6 2.59091C4.5831 2.59091 3.44318 3.73082 3.44318 5.14772C3.44318 6.56463 4.5831 7.70454 6 7.70454C7.4169 7.70454 8.55682 6.56463 8.55682 5.14772C8.55682 3.73082 7.4169 2.59091 6 2.59091ZM6 6.85227C5.0625 6.85227 4.29545 6.08522 4.29545 5.14772C4.29545 4.21022 5.0625 3.44318 6 3.44318C6.9375 3.44318 7.70455 4.21022 7.70455 5.14772C7.70455 6.08522 6.9375 6.85227 6 6.85227Z"})})}function FR({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 11",style:n,children:G("path",{fill:t,stroke:t,"stroke-width":"0.1",d:"M10.8388 10.1735H2.76736C2.13064 10.1735 1.61429 9.65715 1.61429 9.02043H1.15307C0.516343 9.02043 0 8.50408 0 7.86736V1.17957C0 0.542852 0.516343 0.0265083 1.15307 0.0265083H9.45515C10.0919 0.0265083 10.6082 0.542852 10.6082 1.17957V1.6408H10.8388C11.4755 1.6408 11.9919 2.15714 11.9919 2.79387V9.02043C11.9919 9.65715 11.4755 10.1735 10.8388 10.1735ZM9.91637 1.41019C9.91637 1.02806 9.60666 0.718348 9.22453 0.718348H1.38368C1.00155 0.718348 0.69184 1.02806 0.69184 1.41019V7.63675C0.69184 8.01887 1.00155 8.32859 1.38368 8.32859H1.61429V2.79387C1.61429 2.15714 2.13064 1.6408 2.76736 1.6408H9.91637V1.41019ZM11.3001 3.02448C11.3001 2.64236 10.9903 2.33264 10.6082 2.33264H2.99797C2.61585 2.33264 2.30613 2.64236 2.30613 3.02448V8.78981C2.30613 9.17194 2.61585 9.48165 2.99797 9.48165H10.6082C10.9903 9.48165 11.3001 9.17194 11.3001 8.78981V3.02448Z"})})}function HR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},children:[G("path",{fill:t,d:"M6.54546 0H5.45455V12H6.54546V0Z"}),G("path",{fill:t,d:"M12 5.45453H0V6.54544H12V5.45453Z"}),G("path",{fill:t,d:"M0 0H12V12H0V0ZM1.09091 1.09091V10.9091H10.9091V1.09091H1.09091Z"})]})}const _R="M1.09091 5.45455H5.45455V1.09091H1.09091V5.45455ZM1.09091 6.54545V10.9091H5.45455V6.54545H1.09091ZM10.9091 5.45455V1.09091H6.54545V5.45455H10.9091ZM10.9091 6.54545H6.54545V10.9091H10.9091V6.54545ZM0 0H12V12H0V0Z";function jR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},children:[G("path",{fill:t,d:_R}),G("path",{d:"M10.9091 5.45453H1.09091V6.54544H10.9091V5.45453Z",fill:"#D8D8D8"}),G("path",{d:"M6.54545 10.9091L6.54545 1.09088H5.45455L5.45455 10.9091H6.54545Z",fill:"#D8D8D8"})]})}function WR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},fill:"none",children:[G("path",{fill:t,d:_R}),G("path",{d:"M11.4545 0.545471H0.545456V11.4546H11.4545V0.545471Z",stroke:"#D8D8D8"})]})}function zR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},fill:"none",children:[G("path",{fill:t,d:_R}),G("path",{d:"M11.4545 0.545471H0.545456V11.4546H11.4545V0.545471Z",stroke:"#D8D8D8"}),G("path",{d:"M10.9091 5.45459H1.09091V6.5455H10.9091V5.45459Z",fill:"#D8D8D8"}),G("path",{d:"M6.54546 10.9091L6.54546 1.09094H5.45455L5.45455 10.9091H6.54546Z",fill:"#D8D8D8"})]})}function VR({width:e=12,fill:t="#D8D8D8",style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},fill:"none",children:[G("path",{d:"M11.4545 0.545471H0.545456V11.4546H11.4545V0.545471Z",stroke:t}),G("path",{d:"M10.9091 5.45459H1.09091V6.5455H10.9091V5.45459Z",fill:t}),G("path",{d:"M6.54546 10.9091L6.54546 1.09094H5.45455L5.45455 10.9091H6.54546Z",fill:t})]})}function $R({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},children:[G("path",{fill:"#D8D8D8",d:_R}),G("path",{d:"M1.09091 0H0V12H1.09091V0Z",fill:t})]})}function ZR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},children:[G("path",{fill:"#D8D8D8",d:_R}),G("path",{d:"M12 0H10.9091V12H12V0Z",fill:t})]})}function UR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},children:[G("path",{fill:"#D8D8D8",d:_R}),G("path",{d:"M12 1.09091V0L0 0V1.09091L12 1.09091Z",fill:t})]})}function qR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:{...n,borderRadius:1.5},children:[G("path",{fill:"#D8D8D8",d:_R}),G("path",{d:"M12 12V10.9091H0V12H12Z",fill:t})]})}function YR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M11.5767 0.00982666H7.62563C7.19196 0.00982666 6.83916 0.377435 6.83916 0.829273V2.95202C6.83916 3.18583 7.0287 3.37535 7.26249 3.37535C7.49628 3.37535 7.68583 3.18583 7.68583 2.95202V0.856493H11.1533V10.9035H7.72426V8.81248C7.72426 8.57868 7.53472 8.38914 7.30093 8.38914C7.06714 8.38914 6.8776 8.57868 6.8776 8.81248V10.9307C6.8776 11.3826 7.2304 11.7502 7.66407 11.7502H11.5767C11.8105 11.7502 12 11.5607 12 11.3269V0.43316C12 0.199353 11.8105 0.00982666 11.5767 0.00982666Z"}),G("path",{fill:t,d:"M7.76304 7.64502C7.84572 7.72768 7.95404 7.76902 8.06239 7.76902C8.17073 7.76902 8.27907 7.72767 8.36173 7.64504C8.52706 7.47971 8.52706 7.21167 8.36175 7.04634L7.66439 6.34897H9.62314C9.85693 6.34897 10.0465 6.15943 10.0465 5.92564C10.0465 5.69185 9.85693 5.50231 9.62314 5.50231H7.66439L8.39436 4.77234C8.55968 4.60701 8.55968 4.33897 8.39436 4.17366C8.22905 4.00834 7.96099 4.00834 7.79568 4.17366L6.34304 5.6263C6.33477 5.63464 6.32683 5.64332 6.31925 5.65229C6.3067 5.6671 6.29517 5.68275 6.28476 5.69913L6.28318 5.70167C6.27258 5.71862 6.26321 5.7363 6.25514 5.75459L6.25463 5.75576C6.24663 5.77403 6.23993 5.79285 6.2346 5.81207C6.23436 5.81291 6.23415 5.81375 6.23392 5.81459C6.2289 5.8331 6.22514 5.85194 6.22267 5.87096C6.22243 5.87282 6.22222 5.8747 6.222 5.87658C6.22101 5.88507 6.22023 5.89357 6.21975 5.90209C6.21971 5.90294 6.21961 5.9038 6.21957 5.90464C6.21915 5.91357 6.21902 5.92252 6.21917 5.93145C6.2192 5.93391 6.21927 5.93636 6.21934 5.93883C6.21961 5.94741 6.22006 5.95598 6.22084 5.96452C6.2209 5.96505 6.22091 5.9656 6.22095 5.96614C6.22206 5.97731 6.2236 5.98843 6.22558 5.99948C6.22899 6.0188 6.23374 6.03786 6.23979 6.05652L6.24045 6.05857C6.24701 6.07843 6.25503 6.09779 6.26446 6.11646L6.2646 6.11673C6.26931 6.12605 6.27436 6.13523 6.27982 6.14425L6.27987 6.14431C6.28483 6.15252 6.29014 6.16058 6.29571 6.16852C6.29645 6.16958 6.29717 6.17064 6.29791 6.17168C6.30343 6.1794 6.3092 6.18698 6.31531 6.19439C6.3162 6.19547 6.31715 6.19649 6.31805 6.19758C6.32478 6.20559 6.33181 6.21335 6.33912 6.22084C6.34044 6.2222 6.34169 6.22361 6.34303 6.22495L7.76304 7.64502ZM4.69907 8.38913C4.46526 8.38913 4.27574 8.57867 4.27574 8.81246V10.9035H0.846666V0.856479H4.31416V2.95201C4.31416 3.18581 4.5037 3.37534 4.73749 3.37534C4.97129 3.37534 5.16083 3.18581 5.16083 2.95201V0.829273C5.16083 0.377421 4.80802 0.00982666 4.37436 0.00982666H0.423333C0.18954 0.00982666 0 0.199353 0 0.43316V11.3269C0 11.5607 0.18954 11.7502 0.423333 11.7502H4.33593C4.7696 11.7502 5.1224 11.3826 5.1224 10.9307V8.81246C5.1224 8.57865 4.93288 8.38913 4.69907 8.38913Z"}),G("path",{fill:t,d:"M5.78042 5.90467C5.78037 5.90382 5.78028 5.90296 5.78023 5.90211C5.77975 5.89359 5.779 5.88508 5.77799 5.8766C5.77776 5.87472 5.77757 5.87286 5.77731 5.87098C5.77215 5.83127 5.76138 5.79248 5.74534 5.75578L5.74483 5.75461C5.73676 5.73633 5.72739 5.71865 5.71679 5.70171L5.71519 5.69915C5.70479 5.68277 5.69327 5.66712 5.68072 5.65232C5.67932 5.65067 5.6779 5.64902 5.67647 5.64737C5.6702 5.64013 5.66368 5.63311 5.65693 5.62631L4.20429 4.17367C4.03896 4.00835 3.77094 4.00836 3.60561 4.17367C3.44029 4.33898 3.4403 4.60702 3.60561 4.77235L4.33559 5.50232H2.37687C2.14308 5.50232 1.95354 5.69186 1.95354 5.92565C1.95354 6.15944 2.14308 6.34898 2.37687 6.34898H4.33562L3.63827 7.04635C3.47294 7.21168 3.47295 7.47972 3.63827 7.64503C3.72093 7.72769 3.82926 7.76903 3.9376 7.76903C4.04595 7.76903 4.15428 7.72769 4.23694 7.64503L5.65696 6.22499C5.65828 6.22366 5.6595 6.22228 5.6608 6.22094C5.66809 6.21345 5.67511 6.2057 5.68184 6.1977C5.68277 6.19658 5.68376 6.19551 5.68467 6.1944C5.69077 6.18699 5.69654 6.17941 5.70206 6.17171L5.70423 6.16859C5.71585 6.15206 5.72627 6.13471 5.7354 6.11669L5.73543 6.11662C5.74492 6.09786 5.75298 6.07843 5.75955 6.05846L5.76011 6.05671C5.7668 6.03613 5.7719 6.01506 5.77536 5.99369C5.77688 5.98455 5.7781 5.97535 5.77902 5.96612L5.77912 5.96465C5.77991 5.95605 5.78036 5.94742 5.78063 5.93879C5.7807 5.93636 5.78077 5.93393 5.7808 5.93149C5.78094 5.92257 5.78087 5.91361 5.78042 5.90467Z"})]})}function KR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 12 12",style:n,children:[G("path",{fill:t,d:"M9.28144 9.64071V10.5389C9.28144 10.5782 9.27369 10.6172 9.25865 10.6535C9.2436 10.6898 9.22155 10.7228 9.19374 10.7506C9.16594 10.7784 9.13294 10.8005 9.09661 10.8155C9.06029 10.8306 9.02135 10.8383 8.98204 10.8383H1.1976C1.15829 10.8383 1.11935 10.8306 1.08303 10.8155C1.0467 10.8005 1.0137 10.7784 0.985896 10.7506C0.958094 10.7228 0.93604 10.6898 0.920994 10.6535C0.905948 10.6172 0.898204 10.5782 0.898204 10.5389V1.25748C0.898204 1.21816 0.905948 1.17923 0.920994 1.1429C0.93604 1.10658 0.958094 1.07357 0.985896 1.04577C1.0137 1.01797 1.0467 0.995916 1.08303 0.98087C1.11935 0.965823 1.15829 0.958079 1.1976 0.958079H8.98204C9.06144 0.958079 9.1376 0.989623 9.19374 1.04577C9.24989 1.10192 9.28144 1.17807 9.28144 1.25748V2.15568C9.28144 2.195 9.28918 2.23393 9.30423 2.27026C9.31927 2.30658 9.34133 2.33959 9.36913 2.36739C9.39693 2.39519 9.42994 2.41725 9.46626 2.43229C9.50259 2.44734 9.54152 2.45509 9.58084 2.45509H9.88024C9.91956 2.45509 9.95849 2.44734 9.99481 2.43229C10.0311 2.41725 10.0641 2.39519 10.0919 2.36739C10.1197 2.33959 10.1418 2.30658 10.1568 2.27026C10.1719 2.23393 10.1796 2.195 10.1796 2.15568V0.958079C10.1796 0.719861 10.085 0.491399 9.91656 0.322953C9.74812 0.154507 9.51965 0.0598755 9.28144 0.0598755H0.898204C0.659985 0.0598755 0.431524 0.154507 0.263078 0.322953C0.0946318 0.491399 0 0.719861 0 0.958079V10.8383C0 11.0765 0.0946318 11.305 0.263078 11.4734C0.431524 11.6419 0.659985 11.7365 0.898204 11.7365H9.28144C9.51965 11.7365 9.74812 11.6419 9.91656 11.4734C10.085 11.305 10.1796 11.0765 10.1796 10.8383V9.64071C10.1796 9.56131 10.1481 9.48515 10.0919 9.42901C10.0358 9.37286 9.95965 9.34131 9.88024 9.34131H9.58084C9.54152 9.34131 9.50259 9.34906 9.46626 9.3641C9.42994 9.37915 9.39693 9.4012 9.36913 9.42901C9.34133 9.45681 9.31927 9.48981 9.30423 9.52614C9.28918 9.56246 9.28144 9.6014 9.28144 9.64071Z"}),G("path",{fill:t,d:"M6.69821 10.8383V0.658691H5.8V10.8383H6.69821Z"}),G("path",{fill:t,d:"M11.976 6.0479V5.7485C11.976 5.66909 11.9445 5.59294 11.8884 5.53679C11.8322 5.48064 11.7561 5.4491 11.6766 5.4491H7.78443C7.74512 5.4491 7.70618 5.45684 7.66986 5.47189C7.63353 5.48693 7.60053 5.50899 7.57272 5.53679C7.54492 5.56459 7.52287 5.5976 7.50782 5.63392C7.49278 5.67025 7.48503 5.70918 7.48503 5.7485V6.0479C7.48503 6.08722 7.49278 6.12615 7.50782 6.16248C7.52287 6.1988 7.54492 6.23181 7.57272 6.25961C7.60053 6.28741 7.63353 6.30946 7.66986 6.32451C7.70618 6.33956 7.74512 6.3473 7.78443 6.3473H11.6766C11.716 6.3473 11.7549 6.33956 11.7912 6.32451C11.8275 6.30946 11.8606 6.28741 11.8884 6.25961C11.9162 6.23181 11.9382 6.1988 11.9533 6.16248C11.9683 6.12615 11.976 6.08722 11.976 6.0479Z"}),G("path",{fill:t,d:"M5.1 6.04881V5.74941C5.1 5.67001 5.07471 5.59385 5.02971 5.5377C4.9847 5.48156 4.92365 5.45001 4.86 5.45001H1.74C1.70848 5.45001 1.67727 5.45776 1.64816 5.4728C1.61904 5.48785 1.59258 5.5099 1.57029 5.5377C1.54801 5.56551 1.53033 5.59851 1.51827 5.63484C1.50621 5.67116 1.5 5.7101 1.5 5.74941V6.04881C1.5 6.08813 1.50621 6.12707 1.51827 6.16339C1.53033 6.19972 1.54801 6.23272 1.57029 6.26052C1.59258 6.28833 1.61904 6.31038 1.64816 6.32543C1.67727 6.34047 1.70848 6.34822 1.74 6.34822H4.86C4.89152 6.34822 4.92273 6.34047 4.95184 6.32543C4.98096 6.31038 5.00742 6.28833 5.02971 6.26052C5.05199 6.23272 5.06967 6.19972 5.08173 6.16339C5.09379 6.12707 5.1 6.08813 5.1 6.04881Z"}),G("path",{fill:t,d:"M10.1796 7.84433V3.95211C10.1796 3.87271 10.1481 3.79655 10.0919 3.7404C10.0358 3.68425 9.95964 3.65271 9.88024 3.65271H9.58083C9.54152 3.65271 9.50258 3.66045 9.46626 3.6755C9.42993 3.69055 9.39693 3.7126 9.36913 3.7404C9.34132 3.7682 9.31927 3.80121 9.30422 3.83754C9.28918 3.87386 9.28143 3.91279 9.28143 3.95211V7.84433C9.28143 7.88364 9.28918 7.92258 9.30422 7.9589C9.31927 7.99523 9.34132 8.02823 9.36913 8.05604C9.39693 8.08384 9.42993 8.10589 9.46626 8.12094C9.50258 8.13598 9.54152 8.14373 9.58083 8.14373H9.88024C9.91955 8.14373 9.95849 8.13598 9.99481 8.12094C10.0311 8.10589 10.0641 8.08384 10.0919 8.05604C10.1197 8.02823 10.1418 7.99523 10.1568 7.9589C10.1719 7.92258 10.1796 7.88364 10.1796 7.84433Z"})]})}function GR({width:e=12,fill:t=zf,style:n}){return X("svg",{width:e,viewBox:"0 0 11 12",style:n,children:[G("path",{fill:t,d:"M0.912913 11.9546C0.74983 11.9312 0.594394 11.8669 0.459527 11.7671C0.323939 11.6684 0.212558 11.537 0.134639 11.3837C0.0510982 11.2203 0.00932789 11.0447 0.00932789 10.857V1.56036C0.00932789 1.3558 0.0467691 1.15979 0.121699 0.972446C0.193135 0.792992 0.296961 0.63 0.427366 0.492597C0.557233 0.354624 0.711284 0.244772 0.880895 0.169191C1.05662 0.0902281 1.24565 0.0497823 1.43657 0.0502978H8.76306C8.95645 0.0502978 9.14166 0.0899121 9.31873 0.169191C9.48835 0.244765 9.6424 0.354618 9.77226 0.492597C9.90266 0.630001 10.0065 0.792992 10.0779 0.972446C10.1526 1.15836 10.1908 1.35837 10.1903 1.56036V10.8539C10.1903 11.0419 10.1484 11.2177 10.0645 11.3813C9.98632 11.5349 9.87457 11.6664 9.73858 11.765C9.60334 11.8647 9.44753 11.9288 9.28414 11.9518C9.10988 11.9769 8.93961 11.9562 8.77338 11.8897L5.12274 10.4287L1.42291 11.8942C1.25678 11.9599 1.0868 11.9801 0.912913 11.9546ZM5.29192 9.42011L9.10997 10.948C9.14114 10.9605 9.17039 10.9567 9.19775 10.9367C9.22511 10.9167 9.23881 10.8891 9.23881 10.8539V1.56036C9.239 1.49423 9.22678 1.42872 9.20286 1.36762C9.17894 1.30652 9.1438 1.25106 9.09946 1.20444C9.05538 1.15756 9.00295 1.12039 8.94521 1.09509C8.88747 1.06978 8.82556 1.05684 8.76306 1.05701H1.43657C1.37407 1.05683 1.31215 1.06976 1.25441 1.09507C1.19666 1.12038 1.14424 1.15755 1.10017 1.20444C1.05585 1.25107 1.02071 1.30654 0.996792 1.36763C0.972873 1.42873 0.960647 1.49424 0.96082 1.56036V10.857C0.96082 10.8922 0.974474 10.9198 1.00173 10.9398C1.02904 10.9598 1.05825 10.9637 1.08932 10.9513L5.12446 9.35307L5.29192 9.42011Z"}),G("path",{fill:t,d:"M3.33974 3.5235C3.33974 3.24549 3.55273 3.02014 3.81549 3.02014H6.28937C6.55212 3.02014 6.76511 3.24549 6.76511 3.5235C6.76511 3.8015 6.55212 4.02685 6.28937 4.02685H3.81549C3.55273 4.02685 3.33974 3.8015 3.33974 3.5235Z"})]})}function XR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 11 12",style:n,children:G("path",{fill:t,d:"M4.73834 0.135672C4.98128 0.0651275 5.23872 0.0651275 5.48166 0.135672L9.17792 1.20842C9.77023 1.38032 10.1796 1.9379 10.1796 2.57307V6.68842C10.1796 7.68674 9.78282 8.64135 9.08193 9.32925L8.9811 9.42786L8.78245 9.61939L8.58808 9.80358L8.39819 9.98004L8.21232 10.1491L8.03064 10.3107L7.85297 10.4649C7.63533 10.6522 7.41208 10.8327 7.18356 11.006L7.02598 11.1226C6.24825 11.6865 5.6168 11.969 5.11009 11.969C4.60338 11.969 3.97193 11.6865 3.19421 11.1226L3.03662 11.006C2.80808 10.8327 2.58484 10.6522 2.36721 10.4649L2.18954 10.3107L2.00786 10.1491L1.82199 9.98004L1.6321 9.80358L1.43773 9.61939L1.33891 9.52451L1.13816 9.32916C0.43736 8.64135 0.0406055 7.68674 0.0406055 6.68842V2.57307C0.0406055 1.9379 0.449953 1.38032 1.04226 1.20842L4.73843 0.135858L4.73834 0.135672ZM5.23839 1.02832C5.15449 1.004 5.0656 1.004 4.9817 1.02832L1.28544 2.10153C1.08067 2.16088 0.939053 2.35363 0.938962 2.57316V6.68879C0.938962 7.43297 1.23479 8.14442 1.7572 8.65716L1.85018 8.74795L2.03314 8.92442L2.21181 9.09372L2.38637 9.25623L2.55655 9.41149L2.72235 9.55958C2.74982 9.58377 2.77674 9.60758 2.80402 9.63084L2.96316 9.7687L3.11819 9.8993L3.26876 10.0225C3.3173 10.0617 3.36612 10.1006 3.41512 10.1391L3.55629 10.2482L3.62564 10.3005L3.76041 10.3991L3.89026 10.4907C3.91125 10.5053 3.93242 10.5196 3.95368 10.5339L4.07687 10.615C4.51961 10.8993 4.86691 11.0416 5.11 11.0416C5.35309 11.0416 5.70066 10.8993 6.14313 10.615L6.26632 10.5339C6.28712 10.52 6.30848 10.5055 6.32974 10.4907L6.45986 10.399L6.52665 10.3506L6.66344 10.2482C6.6868 10.2307 6.71016 10.2131 6.7337 10.1945L6.87751 10.0816C6.90187 10.0626 6.92651 10.0426 6.95115 10.0227L7.1018 9.8993L7.25693 9.7687L7.33595 9.70079L7.49765 9.55958L7.58005 9.48646L7.74813 9.33483L7.92041 9.17586L8.09698 9.01L8.27793 8.83697L8.4628 8.65735C8.9853 8.14451 9.28104 7.43288 9.28104 6.68851V2.57316C9.28104 2.35363 9.1396 2.1607 8.93483 2.10125L5.23857 1.0287L5.23839 1.02832ZM6.92131 4.69651C7.00052 4.76904 7.04971 4.86955 7.05893 4.97768C7.06815 5.08581 7.0367 5.19346 6.97095 5.27883L6.94476 5.30935L5.14467 7.22404C5.07717 7.29626 4.98641 7.34126 4.88901 7.35081C4.79161 7.36036 4.6941 7.33382 4.61433 7.27604L4.58248 7.25056L3.30225 6.11539C3.13562 5.96804 3.11062 5.71167 3.24531 5.53288C3.30952 5.44703 3.40402 5.39006 3.50875 5.37404C3.61348 5.35803 3.72022 5.38424 3.80631 5.44711L3.83761 5.47204L4.8243 6.3473L6.35547 4.71893C6.42847 4.64103 6.52834 4.59513 6.63394 4.59095C6.73954 4.58676 6.8426 4.62462 6.92131 4.69651Z"})})}function JR({width:e=12.5,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:{position:"relative",top:-.5,...n},children:G("path",{fill:t,d:"M10.7752 4.08285L6.83432 6.22191C6.47042 6.41717 6.24852 6.80771 6.24852 7.24262V11.3787C6.24852 11.8225 6.68344 12.1154 7.04734 11.9113L10.9882 9.7722C11.3432 9.57694 11.574 9.1864 11.574 8.75149V4.62427C11.574 4.17161 11.1391 3.88759 10.7752 4.08285ZM4.77515 6.21303L0.834324 4.08285C0.470418 3.88759 0.0355072 4.17161 0.0355072 4.6154V8.76924C0.0355072 9.20416 0.257401 9.59469 0.621306 9.78996L4.56213 11.9201C4.92604 12.1154 5.36095 11.8225 5.36095 11.3787V7.23374C5.36095 6.79883 5.13906 6.4083 4.77515 6.21303ZM10.4112 3.1154C10.5976 3.01777 10.6864 2.84913 10.6686 2.68936C10.6864 2.52072 10.5976 2.36096 10.4112 2.26333L6.39941 0.168654C6.2219 0.0710206 6.00888 0.0266418 5.79586 0.0266418C5.58284 0.0266418 5.36983 0.0710206 5.19231 0.168654L1.18048 2.25445C0.994087 2.35209 0.914205 2.52072 0.923081 2.68049C0.914205 2.84913 0.994087 3.01777 1.18048 3.1154L5.19231 5.2012C5.36983 5.29883 5.58284 5.34321 5.79586 5.34321C6.00888 5.34321 6.2219 5.29883 6.39941 5.2012L10.4112 3.1154Z"})})}function QR({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:{borderRadius:1,...n},children:G("path",{fill:t,d:"M1.8462 8.3076H3.6924V10.1538H1.8462V8.3076ZM6.4614 6.4614H7.3848V10.1538H6.4614V6.4614ZM0 12H5.5386V6.4614H0V12ZM0.9228 11.0772V7.3848H4.6152V11.0772H0.9228ZM6.4614 11.0772H8.3076V12H6.4614V11.0772ZM11.0772 8.3076H12V9.231H11.0772V8.3076ZM9.231 6.4614H12V7.3848H9.231V6.4614ZM8.3076 1.8462H10.1538V3.6924H8.3076V1.8462ZM12 0H6.4614V5.5386H12V0ZM11.0772 4.6152H7.3848V0.9228H11.0772V4.6152ZM0 5.5386H5.5386V0H0V5.5386ZM0.9228 0.9228H4.6152V4.6152H0.9228V0.9228ZM11.0772 11.0772H9.231V12H12V10.1538H11.0772V11.0772ZM8.3076 8.3076V10.1538H10.1538V9.231H9.231V8.3076H8.3076ZM1.8462 1.8462H3.6924V3.6924H1.8462V1.8462Z"})})}function eP({width:e=12,fill:t=zf}){return X("svg",{width:e,viewBox:"0 0 12 12",children:[G("path",{fill:t,d:"M0.5 4C0.225 4 0 3.775 0 3.5V1.25C0 0.55 0.55 0 1.25 0H3.5C3.775 0 4 0.225 4 0.5C4 0.775 3.775 1 3.5 1H1.25C1.125 1 1 1.125 1 1.25V3.5C1 3.775 0.775 4 0.5 4ZM11.5 4C11.225 4 11 3.775 11 3.5V1.25C11 1.125 10.875 1 10.75 1H8.5C8.225 1 8 0.775 8 0.5C8 0.225 8.225 0 8.5 0H10.75C11.45 0 12 0.55 12 1.25V3.5C12 3.775 11.775 4 11.5 4ZM10.75 12H8.5C8.225 12 8 11.775 8 11.5C8 11.225 8.225 11 8.5 11H10.75C10.875 11 11 10.875 11 10.75V8.5C11 8.225 11.225 8 11.5 8C11.775 8 12 8.225 12 8.5V10.75C12 11.45 11.45 12 10.75 12ZM3.5 12H1.25C0.55 12 0 11.45 0 10.75V8.5C0 8.225 0.225 8 0.5 8C0.775 8 1 8.225 1 8.5V10.75C1 10.875 1.125 11 1.25 11H3.5C3.775 11 4 11.225 4 11.5C4 11.775 3.775 12 3.5 12Z"}),G("path",{fill:t,d:"M11.5 6.625H0.5C0.225 6.625 0 6.4 0 6.125C0 5.85 0.225 5.625 0.5 5.625H11.5C11.775 5.625 12 5.85 12 6.125C12 6.4 11.775 6.625 11.5 6.625Z"})]})}function tP({width:e=12,fill:t=Hf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M6.00001 0.0245361C2.69051 0.0245361 0.0245209 2.69052 0.0245209 6.00002C0.0245209 9.30952 2.69051 11.9755 6.00001 11.9755C9.30951 11.9755 11.9755 9.30952 11.9755 6.00002C11.9755 2.69052 9.30951 0.0245361 6.00001 0.0245361ZM6.00001 11.0562C3.21145 11.0562 0.943826 8.78858 0.943826 6.00002C0.943826 4.83557 1.34219 3.79369 1.98571 2.93567L9.06436 10.0143C8.20634 10.6578 7.16446 11.0562 6.00001 11.0562ZM9.73851 9.40145L2.59858 2.26151C3.48724 1.43414 4.68233 0.943842 6.00001 0.943842C8.78857 0.943842 11.0562 3.21146 11.0562 6.00002C11.0562 7.31769 10.5659 8.48215 9.73851 9.40145Z"})})}function nP({width:e=12,fill:t=zf,style:n}){return G("svg",{width:e,viewBox:"0 0 12 12",style:n,children:G("path",{fill:t,d:"M4.32317 3.40853H7.67682V0.512188C7.67682 0.3909 7.725 0.274579 7.81076 0.188816C7.89653 0.103052 8.01285 0.0548706 8.13413 0.0548706C8.25542 0.0548706 8.37174 0.103052 8.45751 0.188816C8.54327 0.274579 8.59145 0.3909 8.59145 0.512188V3.40853H11.4878C11.6091 3.40853 11.7254 3.45672 11.8112 3.54248C11.8969 3.62824 11.9451 3.74456 11.9451 3.86585C11.9451 3.98714 11.8969 4.10346 11.8112 4.18922C11.7254 4.27499 11.6091 4.32317 11.4878 4.32317H8.59145V7.67682H11.4878C11.6091 7.67682 11.7254 7.725 11.8112 7.81076C11.8969 7.89653 11.9451 8.01285 11.9451 8.13413C11.9451 8.25542 11.8969 8.37174 11.8112 8.45751C11.7254 8.54327 11.6091 8.59145 11.4878 8.59145H8.59145V11.4878C8.59145 11.6091 8.54327 11.7254 8.45751 11.8112C8.37174 11.8969 8.25542 11.9451 8.13413 11.9451C8.01285 11.9451 7.89653 11.8969 7.81076 11.8112C7.725 11.7254 7.67682 11.6091 7.67682 11.4878V8.59145H4.32317V11.4878C4.32317 11.6091 4.27499 11.7254 4.18922 11.8112C4.10346 11.8969 3.98714 11.9451 3.86585 11.9451C3.74456 11.9451 3.62824 11.8969 3.54248 11.8112C3.45672 11.7254 3.40853 11.6091 3.40853 11.4878V8.59145H0.512188C0.3909 8.59145 0.274579 8.54327 0.188816 8.45751C0.103052 8.37174 0.0548706 8.25542 0.0548706 8.13413C0.0548706 8.01285 0.103052 7.89653 0.188816 7.81076C0.274579 7.725 0.3909 7.67682 0.512188 7.67682H3.40853V4.32317H0.512188C0.3909 4.32317 0.274579 4.27499 0.188816 4.18922C0.103052 4.10346 0.0548706 3.98714 0.0548706 3.86585C0.0548706 3.74456 0.103052 3.62824 0.188816 3.54248C0.274579 3.45672 0.3909 3.40853 0.512188 3.40853H3.40853V0.512188C3.40853 0.3909 3.45672 0.274579 3.54248 0.188816C3.62824 0.103052 3.74456 0.0548706 3.86585 0.0548706C3.98714 0.0548706 4.10346 0.103052 4.18922 0.188816C4.27499 0.274579 4.32317 0.3909 4.32317 0.512188V3.40853ZM4.32317 4.32317V7.67682H7.67682V4.32317H4.32317Z"})})}function oP({height:e=(Uf?12.5:12),fill:t=zf,style:n}){return G("svg",{height:e,viewBox:"0 0 12 10",style:n,children:G("path",{fill:t,d:"M11.4215 8.92809C11.5562 8.92749 11.6859 8.97973 11.7831 9.07379C11.8803 9.16786 11.9375 9.29637 11.9426 9.43218C11.9476 9.568 11.9001 9.70047 11.8102 9.80163C11.7202 9.90278 11.5948 9.96469 11.4605 9.97428L11.4215 9.97558H0.521378C0.386688 9.97619 0.257037 9.92395 0.159817 9.82988C0.0625963 9.73582 0.00541955 9.60731 0.00036585 9.4715C-0.00468785 9.33568 0.0427772 9.20321 0.132734 9.10205C0.22269 9.0009 0.348093 8.93899 0.482449 8.9294L0.521378 8.92809H11.4215ZM11.4215 4.47626C11.5562 4.47565 11.6859 4.52789 11.7831 4.62196C11.8803 4.71602 11.9375 4.84453 11.9426 4.98035C11.9476 5.11616 11.9001 5.24864 11.8102 5.34979C11.7202 5.45094 11.5948 5.51285 11.4605 5.52244L11.4215 5.52375H0.521378C0.386688 5.52436 0.257037 5.47211 0.159817 5.37805C0.0625963 5.28398 0.00541955 5.15547 0.00036585 5.01966C-0.00468785 4.88385 0.0427772 4.75137 0.132734 4.65021C0.22269 4.54906 0.348093 4.48715 0.482449 4.47757L0.521378 4.47626H11.4215ZM11.4215 0.0244193C11.5562 0.0238112 11.6859 0.0760571 11.7831 0.17012C11.8803 0.264183 11.9375 0.392695 11.9426 0.528508C11.9476 0.664322 11.9001 0.796799 11.8102 0.897953C11.7202 0.999107 11.5948 1.06102 11.4605 1.0706L11.4215 1.07191H0.521378C0.386688 1.07252 0.257037 1.02027 0.159817 0.92621C0.0625963 0.832147 0.00541955 0.703634 0.00036585 0.567821C-0.00468785 0.432008 0.0427772 0.299531 0.132734 0.198377C0.22269 0.0972227 0.348093 0.0353137 0.482449 0.0257287L0.521378 0.0244193H11.4215Z"})})}const iP=(e,t)=>t.some((t=>e instanceof t));let rP,lP;const sP=new WeakMap,cP=new WeakMap,aP=new WeakMap;let uP={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return sP.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pP(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function dP(e){uP=e(uP)}function fP(e){return(lP||(lP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(vP(this),t),pP(this.request)}:function(...t){return pP(e.apply(vP(this),t))}}function hP(e){return"function"==typeof e?fP(e):(e instanceof IDBTransaction&&function(e){if(sP.has(e))return;const t=new Promise(((t,n)=>{const o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",r),e.removeEventListener("abort",r)},i=()=>{t(),o()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",r),e.addEventListener("abort",r)}));sP.set(e,t)}(e),iP(e,rP||(rP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,uP):e)}function pP(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",r)},i=()=>{t(pP(e.result)),o()},r=()=>{n(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",r)}));return aP.set(t,e),t}(e);if(cP.has(e))return cP.get(e);const t=hP(e);return t!==e&&(cP.set(e,t),aP.set(t,e)),t}const vP=e=>aP.get(e);const gP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],yP=new Map;function bP(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(yP.get(t))return yP.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,i=mP.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!i&&!gP.includes(n))return;const r=async function(e,...t){const r=this.transaction(e,i?"readwrite":"readonly");let l=r.store;return o&&(l=l.index(t.shift())),(await Promise.all([l[n](...t),i&&r.done]))[0]};return yP.set(t,r),r}dP((e=>({...e,get:(t,n,o)=>bP(t,n)||e.get(t,n,o),has:(t,n)=>!!bP(t,n)||e.has(t,n)})));const CP=["continue","continuePrimaryKey","advance"],wP={},xP=new WeakMap,SP=new WeakMap,EP={get(e,t){if(!CP.includes(t))return e[t];let n=wP[t];return n||(n=wP[t]=function(...e){xP.set(this,SP.get(this)[t](...e))}),n}};async function*kP(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const n=new Proxy(t,EP);for(SP.set(n,t),aP.set(n,vP(t));t;)yield n,t=await(xP.get(n)||t.continue()),xP.delete(n)}function DP(e,t){return t===Symbol.asyncIterator&&iP(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&iP(e,[IDBIndex,IDBObjectStore])}dP((e=>({...e,get:(t,n,o)=>DP(t,n)?kP:e.get(t,n,o),has:(t,n)=>DP(t,n)||e.has(t,n)})));var IP={exports:{}};!function(e,t){!function(n,o){var i="function",r="undefined",l="object",s="string",c="major",a="model",u="name",d="type",f="vendor",h="version",p="architecture",v="console",g="mobile",m="tablet",y="smarttv",b="wearable",C="embedded",w="Amazon",x="Apple",S="ASUS",E="BlackBerry",k="Browser",D="Chrome",I="Firefox",N="Google",L="Huawei",T="LG",B="Microsoft",A="Motorola",M="Opera",O="Samsung",R="Sharp",P="Sony",F="Xiaomi",H="Zebra",_="Facebook",j="Chromium OS",W="Mac OS",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},V=function(e,t){return typeof e===s&&-1!==$(t).indexOf($(e))},$=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===r?e:e.substring(0,500)},U=function(e,t){for(var n,r,s,c,a,u,d=0;d<t.length&&!a;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!a&&f[n];)if(a=f[n++].exec(e))for(s=0;s<h.length;s++)u=a[++r],typeof(c=h[s])===l&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):o:this[c[0]]=u?c[1].call(this,u,c[2]):o:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):o):this[c]=u||o;d+=2}},q=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(V(t[n][i],e))return"?"===n?o:n}else if(V(t[n],e))return"?"===n?o:n;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,h],[/opios[\/ ]+([\w\.]+)/i],[h,[u,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[u,M+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[u,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,h],[/\bddg\/([\w\.]+)/i],[h,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[u,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[u,"Smart Lenovo "+k]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+k],h],[/\bfocus\/([\w\.]+)/i],[h,[u,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[u,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[u,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[u,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[h,[u,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+k]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+k],h],[/samsungbrowser\/([\w\.]+)/i],[h,[u,O+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],h],[/metasr[\/ ]?([\d\.]+)/i],[h,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,h],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,_],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[u,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,D+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[u,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[h,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[u,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,h],[/(cobalt)\/([\w\.]+)/i],[u,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,$]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",$]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[f,O],[d,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[a,[f,O],[d,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[a,[f,x],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[f,x],[d,m]],[/(macintosh);/i],[a,[f,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[f,R],[d,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[f,L],[d,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[a,[f,L],[d,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[a,/_/g," "],[f,F],[d,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[f,F],[d,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[f,"OPPO"],[d,g]],[/\b(opd2\d{3}a?) bui/i],[a,[f,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[f,"Vivo"],[d,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[a,[f,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[f,A],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[f,A],[d,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[f,T],[d,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[f,T],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[f,"Lenovo"],[d,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[f,"Nokia"],[d,g]],[/(pixel c)\b/i],[a,[f,N],[d,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[f,N],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[f,P],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[f,P],[d,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[f,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[f,w],[d,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[f,w],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[a,f,[d,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[f,E],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[f,S],[d,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[f,S],[d,g]],[/(nexus 9)/i],[a,[f,"HTC"],[d,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[a,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[f,"Acer"],[d,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[f,"Meizu"],[d,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[a,[f,"Ulefone"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,a,[d,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,a,[d,m]],[/(surface duo)/i],[a,[f,B],[d,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[f,"Fairphone"],[d,g]],[/(u304aa)/i],[a,[f,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[a,[f,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[a,[f,"RCA"],[d,m]],[/\b(venue[\d ]{2,7}) b/i],[a,[f,"Dell"],[d,m]],[/\b(q(?:mv|ta)\w+) b/i],[a,[f,"Verizon"],[d,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[f,"Barnes & Noble"],[d,m]],[/\b(tm\d{3}\w+) b/i],[a,[f,"NuVision"],[d,m]],[/\b(k88) b/i],[a,[f,"ZTE"],[d,m]],[/\b(nx\d{3}j) b/i],[a,[f,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[a,[f,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[a,[f,"Swiss"],[d,m]],[/\b((zeki)?tb.*\b) b/i],[a,[f,"Zeki"],[d,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],a,[d,m]],[/\b(ns-?\w{0,9}) b/i],[a,[f,"Insignia"],[d,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[f,"NextBook"],[d,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],a,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],a,[d,g]],[/\b(ph-1) /i],[a,[f,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[f,"Envizen"],[d,m]],[/\b(trio[-\w\. ]+) b/i],[a,[f,"MachSpeed"],[d,m]],[/\btu_(1491) b/i],[a,[f,"Rotor"],[d,m]],[/(shield[\w ]+) b/i],[a,[f,"Nvidia"],[d,m]],[/(sprint) (\w+)/i],[f,a,[d,g]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[f,B],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[f,H],[d,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[f,H],[d,g]],[/smart-tv.+(samsung)/i],[f,[d,y]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[f,O],[d,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,T],[d,y]],[/(apple) ?tv/i],[f,[a,x+" TV"],[d,y]],[/crkey/i],[[a,D+"cast"],[f,N],[d,y]],[/droid.+aft(\w+)( bui|\))/i],[a,[f,w],[d,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[a,[f,R],[d,y]],[/(bravia[\w ]+)( bui|\))/i],[a,[f,P],[d,y]],[/(mitv-\w{5}) bui/i],[a,[f,F],[d,y]],[/Hbbtv.*(technisat) (.*);/i],[f,a,[d,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Z],[a,Z],[d,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,a,[d,v]],[/droid.+; (shield) bui/i],[a,[f,"Nvidia"],[d,v]],[/(playstation [345portablevi]+)/i],[a,[f,P],[d,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[f,B],[d,v]],[/((pebble))app/i],[f,a,[d,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[a,[f,x],[d,b]],[/droid.+; (glass) \d/i],[a,[f,N],[d,b]],[/droid.+; (wt63?0{2,3})\)/i],[a,[f,H],[d,b]],[/(quest( \d| pro)?)/i],[a,[f,_],[d,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[d,C]],[/(aeobc)\b/i],[a,[f,w],[d,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[a,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[d,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[h,q,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,q,Y],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,W],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,h],[/\(bb(10);/i],[h,[u,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[u,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[u,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,j],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,h],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,h]]},G=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof G))return new G(e,t).getResult();var v=typeof n!==r&&n.navigator?n.navigator:o,y=e||(v&&v.userAgent?v.userAgent:""),b=v&&v.userAgentData?v.userAgentData:o,C=t?function(e,t){var n={};for(var o in e)t[o]&&t[o].length%2==0?n[o]=t[o].concat(e[o]):n[o]=e[o];return n}(K,t):K,w=v&&v.userAgent==y;return this.getBrowser=function(){var e={};return e[u]=o,e[h]=o,U.call(e,y,C.browser),e[c]=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:o}(e[h]),w&&v&&v.brave&&typeof v.brave.isBrave==i&&(e[u]="Brave"),e},this.getCPU=function(){var e={};return e[p]=o,U.call(e,y,C.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[a]=o,e[d]=o,U.call(e,y,C.device),w&&!e[d]&&b&&b.mobile&&(e[d]=g),w&&"Macintosh"==e[a]&&v&&typeof v.standalone!==r&&v.maxTouchPoints&&v.maxTouchPoints>2&&(e[a]="iPad",e[d]=m),e},this.getEngine=function(){var e={};return e[u]=o,e[h]=o,U.call(e,y,C.engine),e},this.getOS=function(){var e={};return e[u]=o,e[h]=o,U.call(e,y,C.os),w&&!e[u]&&b&&b.platform&&"Unknown"!=b.platform&&(e[u]=b.platform.replace(/chrome os/i,j).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(e){return y=typeof e===s&&e.length>500?Z(e,500):e,this},this.setUA(y),this};G.VERSION="1.0.38",G.BROWSER=z([u,h,c]),G.CPU=z([p]),G.DEVICE=z([a,f,d,v,g,y,m,b,C]),G.ENGINE=G.OS=z([u,h]),e.exports&&(t=e.exports=G),t.UAParser=G;var X=typeof n!==r&&(n.jQuery||n.Zepto);if(X&&!X.ua){var J=new G;X.ua=J.getResult(),X.ua.get=function(){return J.getUA()},X.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var n in t)X.ua[n]=t[n]}}}("object"==typeof window?window:GB)}(IP,IP.exports);var NP=IP.exports;const LP=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,TP=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(LP);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},BP=e=>"*"===e||"x"===e||"X"===e,AP=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},MP=(e,t)=>{if(BP(e)||BP(t))return 0;const[n,o]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(AP(e),AP(t));return n>o?1:n<o?-1:0},OP=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=MP(e[n]||"0",t[n]||"0");if(0!==o)return o}return 0},RP=(e,t,n)=>{HP(n);const o=((e,t)=>{const n=TP(e),o=TP(t),i=n.pop(),r=o.pop(),l=OP(n,o);return 0!==l?l:i&&r?OP(i.split("."),r.split(".")):i||r?i?-1:1:0})(e,t);return PP[n].includes(o)},PP={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},FP=Object.keys(PP),HP=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===FP.indexOf(e))throw new Error(`Invalid operator, expected one of ${FP.join("|")}`)},_P="reference",jP="catalog",WP="editor",zP="assets",VP="changelog",$P="bootstrap",ZP="segment";const UP=new class{constructor(e){this.name="note",this.version=3,this.db=null,void 0!==e&&(this.name=e)}async open(){return null!==this.db||(this.db=await function(e,t,{blocked:n,upgrade:o,blocking:i,terminated:r}={}){const l=indexedDB.open(e,t),s=pP(l);return o&&l.addEventListener("upgradeneeded",(e=>{o(pP(l.result),e.oldVersion,e.newVersion,pP(l.transaction),e)})),n&&l.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{r&&e.addEventListener("close",(()=>r())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(this.name,this.version,{upgrade(e){const t={[$P]:()=>{e.createObjectStore($P,{keyPath:"version",autoIncrement:!0})},[VP]:()=>{e.createObjectStore(VP,{keyPath:"version",autoIncrement:!0})},[_P]:()=>{e.createObjectStore(_P,{keyPath:"id",autoIncrement:!0})},[jP]:()=>{e.createObjectStore(jP,{keyPath:"id",autoIncrement:!0})},[WP]:()=>{e.createObjectStore(WP,{keyPath:"id",autoIncrement:!0})},[zP]:()=>{e.createObjectStore(zP,{keyPath:"id",autoIncrement:!0})},[ZP]:()=>{e.createObjectStore(ZP,{keyPath:"id",autoIncrement:!0})}};for(const n of e.objectStoreNames)delete t[n];for(const e in t)t[e]()}})),this.db}async set(e,t,n){const o=(await this.open()).transaction(e,"readwrite");if("string"==typeof t){const e=await o.store.put({id:t,data:n});return await o.done,{ok:1,data:e}}const i=Object.keys(t).map((async e=>await o.store.put({id:e,data:t[e]}))),r=await Promise.all(i);return await o.done,{ok:1,data:r}}async get(e,t){const n=(await this.open()).transaction(e,"readonly"),o=n.objectStore(e);if("string"==typeof t){const e=await o.get(t);if("string"==typeof(null==e?void 0:e.data))try{e.data=JSON.parse(e.data)}catch(e){console.warn(e)}return await n.done,(null==e?void 0:e.id)===t?{ok:1,data:e.data}:{ok:0}}const i=t.map((async e=>{const t=await o.get(e);if("string"==typeof(null==t?void 0:t.data))try{t.data=JSON.parse(t.data)}catch(e){console.warn(e)}return t})),r=await Promise.all(i),l={};for(let e=0;e<r.length;e++)void 0!==r[e]&&(l[r[e].id]=r[e].data);return await n.done,{ok:1,data:l}}async getAll(e){const t=(await this.open()).transaction(e,"readonly"),n=await t.objectStore(e).getAll(),o={};for(let e=0;e<n.length;e++){const{id:t,data:i}=n[e];if("string"==typeof i)try{o[t]=JSON.parse(i)}catch(e){console.warn(e)}else o[t]=i}return await t.done,{ok:1,data:o}}async remove(e,t){const n=(await this.open()).transaction(e,"readwrite"),o=n.objectStore(e);if("string"==typeof t)return await o.delete(t),await n.done,{ok:1};const i=t.map((async e=>{await o.delete(e)}));return await Promise.all(i),await n.done,{ok:1}}async setVersion(e,t){const n=(await this.open()).transaction(e,"readwrite"),o=await n.store.put({version:1,data:t});return await n.done,{ok:1,data:o}}async getVersion(e){const t=(await this.open()).transaction(e,"readonly"),n=t.objectStore(e),o=await n.get(1);if("string"==typeof(null==o?void 0:o.data))try{o.data=JSON.parse(o.data)}catch(e){console.warn(e)}return await t.done,o?{ok:1,data:o.data}:{ok:0}}async removeVersion(e){const t=(await this.open()).transaction(e,"readwrite");return await t.objectStore(e).delete(1),await t.done,{ok:1}}async setBootstrap(e){return await this.setVersion($P,e)}async getBootstrap(){return await this.getVersion($P)}async removeBootstrap(){return await this.removeVersion($P)}async setChangelog(e){return await this.setVersion(VP,e)}async getChangelog(){return await this.getVersion(VP)}async removeChangelog(){return await this.removeVersion(VP)}async getAssets(e){const t=(await this.open()).transaction(zP,"readonly"),n=t.objectStore(zP),o=await n.get(e);return await t.done,(null==o?void 0:o.id)===e?{ok:1,data:o.data}:{ok:0}}async setAssets(e,t){const n=(await this.open()).transaction(zP,"readwrite"),o=await n.store.put({id:e,data:t});return await n.done,{ok:1,data:o}}};function qP(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}const YP=new NP.UAParser({browser:[[/(shuli)\/([\w\\.]+)/i],[NP.UAParser.BROWSER.NAME,NP.UAParser.BROWSER.VERSION]]}).getResult();var KP,GP;!function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO"}(KP||(KP={})),function(e){e[e.H=24]="H",e[e.H0=11]="H0",e[e.H1=20]="H1",e[e.H2=18]="H2",e[e.H3=16]="H3",e[e.H4=14]="H4",e[e.H5=13]="H5",e[e.H6=12]="H6"}(GP||(GP={}));const XP="decorate-block-node",JP="reference-block-node",QP="outline-list",eF="toggle-list",tF="div",nF="sheet";function oF(e){return Array.isArray(null==e?void 0:e.children)}function iF(e){return oF(e)&&(e.type===tF||e.type===XP||e.type===JP)}function rF(e,t){var n,o;if(!oF(e))return!1;if(e.type===XP&&(null===(n=e.props)||void 0===n?void 0:n.type)===QP){if(void 0===t)return!0;if((null===(o=e.props)||void 0===o?void 0:o.subclass)===t)return!0}return!1}function lF(e){return oF(e)&&e.type===nF}function sF(e,t){var n,o;if(!oF(e))return!1;if(e.type===XP&&(null===(n=e.props)||void 0===n?void 0:n.type)===eF){if(void 0===t)return!0;if((null===(o=e.props)||void 0===o?void 0:o.subclass)===t)return!0}return!1}function cF(e){const t=e.split(".");return{rowIndex:Number(t[0]),columnIndex:Number(t[1])}}const aF={EDITOR:"editor",FILE:"file",NODE:"node",SHEET:"sheet",REFER:"refer",LINK:"link",PANEL:"panel",EMOJI:"emoji",TOGGLE:"toggle",OUTLINE:"outline",SELECTOR:"selector",OPTION:"option",SLASH:"slash",TOOL_BAR:"tool-bar",NONE:"none"};function uF(e){return{type:aF.NODE,path:e}}function dF(e){return{type:aF.TOGGLE,path:e}}function fF(e){return{type:aF.OUTLINE,path:e}}function hF(e){return{type:aF.SHEET,key:e}}function pF(e,...t){return e.child?{...e,child:pF(e.child,...t)}:0===t.length?e:1===t.length?{...e,child:t[0]}:t.length>1?{...e,child:pF(t[0],...t.slice(1))}:e}async function vF(){return"undefined"!=typeof electron?await electron.file.readBootstrap():"undefined"!=typeof WebPro?new Promise((e=>{WebPro.readBootstrap((t=>{if(0===t.ok||!t.data)return void e({ok:0});let n=t.data;"string"==typeof n&&(n=JSON.parse(n)),e({ok:1,data:n})}))})):await UP.getBootstrap()}async function gF(){if("undefined"!=typeof electron){const{version:e}=YP.browser;if(e&&RP(e,"0.1.0",">=")){const e=await electron.file.readChangelog();if(0===e.ok){const e=await UP.getChangelog();if(1===e.ok&&e.data)return await UP.removeChangelog(),e}return e}}return"undefined"!=typeof WebPro?new Promise((e=>{WebPro.readChangelog((t=>{if(0===t.ok||!t.data)return void e({ok:0});let n=t.data;"string"==typeof n&&(n=JSON.parse(n)),e({ok:1,data:n})}))})):await UP.getChangelog()}async function mF(e,t){if("undefined"!=typeof electron){const n=await electron.file.writeEditor(e,t);if(1===n.ok)return n}if("undefined"!=typeof WebPro){const n=JSON.stringify(t);return new Promise((t=>{WebPro.writeEditor(e,n,(e=>{t(e)}))}))}const n={ok:0};try{await UP.set(WP,e,t),n.ok=1}catch(e){console.error("setEditor noteDB.set(EDITOR: ",e)}return n}async function yF(e){if("undefined"!=typeof electron){const{version:t}=YP.browser;let n="uint8Array";t&&RP(t,"0.0.9","<=")&&(n="string");const o=await electron.file.readEditor(e,n);if(Cc(o.data))try{o.data=JSON.parse(o.data)}catch(e){}return o}return"undefined"!=typeof WebPro?new Promise((t=>{WebPro.readEditor(e,(e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})}))})):await UP.get(WP,e)}async function bF(){if("undefined"!=typeof electron){const e=await electron.file.readEditorIds();return 1===e.ok&&e.data&&(e.data=ia(e.data)),e}if("undefined"!=typeof WebPro)return new Promise((e=>{WebPro.readEditorIds((t=>{if(0===t.ok||!t.data)return void e({ok:0});let n=t.data;"string"==typeof n&&(n=JSON.parse(n)),e({ok:1,data:n})}))}));const e=await UP.getAll(WP);if(1===e.ok&&e.data){return{ok:1,data:ia(Object.keys(e.data))}}return{ok:0}}async function CF(e){return"undefined"!=typeof electron?await electron.file.unlinkEditor(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.unlinkEditor(e,(e=>{t(e)}))})):await UP.remove(WP,e)}async function wF(e,t){if("undefined"!=typeof electron){const n=await electron.file.writeSegment(e,t);if(1===n.ok)return n}if("undefined"!=typeof WebPro){const n=JSON.stringify(t);return new Promise((t=>{WebPro.writeSegment(e,n,(e=>{t(e)}))}))}const n={ok:0};try{await UP.set(ZP,e,t),n.ok=1}catch(e){console.error("setSegment noteDB.set(SEGMENT: ",e)}return n}async function xF(e){if("undefined"!=typeof electron){const t="uint8Array";return await electron.file.readSegment(e,t)}return"undefined"!=typeof WebPro?new Promise((t=>{WebPro.readSegment(e,(e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})}))})):await UP.get(ZP,e)}async function SF(e){return"undefined"!=typeof electron?await electron.file.unlinkSegment(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.unlinkSegment(e,(e=>{t(e)}))})):await UP.remove(ZP,e)}async function EF(e){if("undefined"!=typeof electron){const{version:t}=YP.browser;t&&RP(t,"0.0.9","<=")&&(e=JSON.stringify(e));const n=await electron.file.writeCatalogBatch(e);if(1===n.ok)return n}if("undefined"!=typeof WebPro){const t=JSON.stringify(e);return new Promise((e=>{WebPro.writeCatalogBatch(t,(t=>{e(t)}))}))}const t={ok:0};try{await UP.set(jP,e),t.ok=1}catch(e){console.error("setCatalogs noteDB.set(CATALOG: ",e)}return t}async function kF(e){return"undefined"!=typeof electron?await electron.file.readCatalog(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.readCatalog(e,(e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})}))})):await UP.get(jP,e)}async function DF(e){return"undefined"!=typeof electron?e?await electron.file.readCatalogBatch(e):await electron.file.readAllCatalog():"undefined"!=typeof WebPro?new Promise((t=>{e?WebPro.readCatalogBatch(e,(e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})})):WebPro.readAllCatalog((e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})}))})):e?await UP.get(jP,e):await UP.getAll(jP)}async function IF(e){if("undefined"!=typeof electron){const{version:t}=YP.browser;t&&RP(t,"0.0.9","<=")&&(e=JSON.stringify(e));const n=await electron.file.writeReferenceBatch(e);if(1===n.ok)return n}if("undefined"!=typeof WebPro){const t=JSON.stringify(e);return new Promise((e=>{WebPro.writeReferenceBatch(t,(t=>{e(t)}))}))}const t={ok:0};try{await UP.set(_P,e),t.ok=1}catch(e){console.error("setReferences noteDB.set(REFERENCE: ",e)}return t}async function NF(e){return"undefined"!=typeof electron?await electron.file.readReference(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.readReference(e,(e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})}))})):await UP.get(_P,e)}async function LF(e){return"undefined"!=typeof electron?e?await electron.file.readReferenceBatch(e):await electron.file.readAllReference():"undefined"!=typeof WebPro?new Promise((t=>{e?WebPro.readReferenceBatch(e,(e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})})):WebPro.readAllReference((e=>{if(0===e.ok||!e.data)return void t({ok:0});let n=e.data;"string"==typeof n&&(n=JSON.parse(n)),t({ok:1,data:n})}))})):e?await UP.get(_P,e):await UP.getAll(_P)}async function TF(e,t){if("undefined"!=typeof electron){const n=await electron.file.writeAssets(e,t);if(1===n.ok)return n}if("undefined"!=typeof WebPro)return new Promise((n=>{Tc(t)&&(t=lA(t)),WebPro.writeAssets(e,t,(e=>{n(e)}))}));const n={ok:0};try{await UP.setAssets(e,t),n.ok=1}catch(e){console.error("setAssets noteDB.set(ASSETS: ",e)}return n}async function BF(e,t){return"undefined"!=typeof electron?await electron.file.readAssets(e,t):"undefined"!=typeof WebPro?new Promise((n=>{WebPro.readAssets(e,(e=>{if(0===e.ok||!e.data)return void n({ok:0});let o=e.data;"arrayBuffer"===t&&(o=sA(o)),n({ok:1,data:o})}))})):await UP.getAssets(e)}async function AF(e){return"undefined"!=typeof electron?await electron.file.unlinkAssets(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.unlinkAssets(e,(e=>{t(e)}))})):await UP.remove(zP,e)}async function MF(e,t){if("undefined"!=typeof WebPro)return new Promise((t=>{WebPro.readAssets(e,(n=>{if(0===n.ok||!n.data)return void t({ok:0});let o=`image/${e}`;const i=e.split(".");i.length>1&&(o=i[i.length-1]),t({ok:1,data:`data:${o};base64,${n.data}`})}))}));let n=null;if("undefined"!=typeof electron){if(!t)return await electron.file.getAssetsPath(e);n=await electron.file.readAssets(e,"arrayBuffer")}if(null===n)try{n=await UP.getAssets(e)}catch(e){console.error("offlineImage getNoteAssetsDB: ",e)}if(null!=n&&1===n.ok&&null!=n.data){let t="";try{t=lA(n.data)}catch(e){console.error("offlineImage arrayBufferToBase64: ",e)}if(t.length>0){let n=`image/${e}`;const o=e.split(".");return o.length>1&&(n=o[o.length-1]),{ok:1,data:`data:${n};base64,${t}`}}}return{ok:0}}var OF=Uint8Array,RF=Uint16Array,PF=Int32Array,FF=new OF([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),HF=new OF([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_F=new OF([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jF=function(e,t){for(var n=new RF(31),o=0;o<31;++o)n[o]=t+=1<<e[o-1];var i=new PF(n[30]);for(o=1;o<30;++o)for(var r=n[o];r<n[o+1];++r)i[r]=r-n[o]<<5|o;return{b:n,r:i}},WF=jF(FF,2),zF=WF.b,VF=WF.r;zF[28]=258,VF[258]=28;for(var $F=jF(HF,0),ZF=$F.b,UF=$F.r,qF=new RF(32768),YF=0;YF<32768;++YF){var KF=(43690&YF)>>1|(21845&YF)<<1;KF=(61680&(KF=(52428&KF)>>2|(13107&KF)<<2))>>4|(3855&KF)<<4,qF[YF]=((65280&KF)>>8|(255&KF)<<8)>>1}var GF=function(e,t,n){for(var o=e.length,i=0,r=new RF(t);i<o;++i)e[i]&&++r[e[i]-1];var l,s=new RF(t);for(i=1;i<t;++i)s[i]=s[i-1]+r[i-1]<<1;if(n){l=new RF(1<<t);var c=15-t;for(i=0;i<o;++i)if(e[i])for(var a=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)l[qF[d]>>c]=a}else for(l=new RF(o),i=0;i<o;++i)e[i]&&(l[i]=qF[s[e[i]-1]++]>>15-e[i]);return l},XF=new OF(288);for(YF=0;YF<144;++YF)XF[YF]=8;for(YF=144;YF<256;++YF)XF[YF]=9;for(YF=256;YF<280;++YF)XF[YF]=7;for(YF=280;YF<288;++YF)XF[YF]=8;var JF=new OF(32);for(YF=0;YF<32;++YF)JF[YF]=5;var QF=GF(XF,9,0),eH=GF(XF,9,1),tH=GF(JF,5,0),nH=GF(JF,5,1),oH=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},iH=function(e,t,n){var o=t/8|0;return(e[o]|e[o+1]<<8)>>(7&t)&n},rH=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},lH=function(e){return(e+7)/8|0},sH=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new OF(e.subarray(t,n))},cH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],aH=function(e,t,n){var o=new Error(t||cH[e]);if(o.code=e,Error.captureStackTrace&&Error.captureStackTrace(o,aH),!n)throw o;return o},uH=function(e,t,n,o){var i=e.length,r=o?o.length:0;if(!i||t.f&&!t.l)return n||new OF(0);var l=!n,s=l||2!=t.i,c=t.i;l&&(n=new OF(3*i));var a=function(e){var t=n.length;if(e>t){var o=new OF(Math.max(2*t,e));o.set(n),n=o}},u=t.f||0,d=t.p||0,f=t.b||0,h=t.l,p=t.d,v=t.m,g=t.n,m=8*i;do{if(!h){u=iH(e,d,1);var y=iH(e,d+1,3);if(d+=3,!y){var b=e[(T=lH(d)+4)-4]|e[T-3]<<8,C=T+b;if(C>i){c&&aH(0);break}s&&a(f+b),n.set(e.subarray(T,C),f),t.b=f+=b,t.p=d=8*C,t.f=u;continue}if(1==y)h=eH,p=nH,v=9,g=5;else if(2==y){var w=iH(e,d,31)+257,x=iH(e,d+10,15)+4,S=w+iH(e,d+5,31)+1;d+=14;for(var E=new OF(S),k=new OF(19),D=0;D<x;++D)k[_F[D]]=iH(e,d+3*D,7);d+=3*x;var I=oH(k),N=(1<<I)-1,L=GF(k,I,1);for(D=0;D<S;){var T,B=L[iH(e,d,N)];if(d+=15&B,(T=B>>4)<16)E[D++]=T;else{var A=0,M=0;for(16==T?(M=3+iH(e,d,3),d+=2,A=E[D-1]):17==T?(M=3+iH(e,d,7),d+=3):18==T&&(M=11+iH(e,d,127),d+=7);M--;)E[D++]=A}}var O=E.subarray(0,w),R=E.subarray(w);v=oH(O),g=oH(R),h=GF(O,v,1),p=GF(R,g,1)}else aH(1);if(d>m){c&&aH(0);break}}s&&a(f+131072);for(var P=(1<<v)-1,F=(1<<g)-1,H=d;;H=d){var _=(A=h[rH(e,d)&P])>>4;if((d+=15&A)>m){c&&aH(0);break}if(A||aH(2),_<256)n[f++]=_;else{if(256==_){H=d,h=null;break}var j=_-254;if(_>264){var W=FF[D=_-257];j=iH(e,d,(1<<W)-1)+zF[D],d+=W}var z=p[rH(e,d)&F],V=z>>4;z||aH(3),d+=15&z;R=ZF[V];if(V>3){W=HF[V];R+=rH(e,d)&(1<<W)-1,d+=W}if(d>m){c&&aH(0);break}s&&a(f+131072);var $=f+j;if(f<R){var Z=r-R,U=Math.min(R,$);for(Z+f<0&&aH(3);f<U;++f)n[f]=o[Z+f]}for(;f<$;++f)n[f]=n[f-R]}}t.l=h,t.p=H,t.b=f,t.f=u,h&&(u=1,t.m=v,t.d=p,t.n=g)}while(!u);return f!=n.length&&l?sH(n,0,f):n.subarray(0,f)},dH=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>8},fH=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>8,e[o+2]|=n>>16},hH=function(e,t){for(var n=[],o=0;o<e.length;++o)e[o]&&n.push({s:o,f:e[o]});var i=n.length,r=n.slice();if(!i)return{t:CH,l:0};if(1==i){var l=new OF(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],c=n[1],a=0,u=1,d=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=n[n[a].f<n[d].f?a++:d++],c=n[a!=u&&n[a].f<n[d].f?a++:d++],n[u++]={s:-1,f:s.f+c.f,l:s,r:c};var f=r[0].s;for(o=1;o<i;++o)r[o].s>f&&(f=r[o].s);var h=new RF(f+1),p=pH(n[u-1],h,0);if(p>t){o=0;var v=0,g=p-t,m=1<<g;for(r.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));o<i;++o){var y=r[o].s;if(!(h[y]>t))break;v+=m-(1<<p-h[y]),h[y]=t}for(v>>=g;v>0;){var b=r[o].s;h[b]<t?v-=1<<t-h[b]++-1:++o}for(;o>=0&&v;--o){var C=r[o].s;h[C]==t&&(--h[C],++v)}p=t}return{t:new OF(h),l:p}},pH=function(e,t,n){return-1==e.s?Math.max(pH(e.l,t,n+1),pH(e.r,t,n+1)):t[e.s]=n},vH=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new RF(++t),o=0,i=e[0],r=1,l=function(e){n[o++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++r;else{if(!i&&r>2){for(;r>138;r-=138)l(32754);r>2&&(l(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(l(i),--r;r>6;r-=6)l(8304);r>2&&(l(r-3<<5|8208),r=0)}for(;r--;)l(i);r=1,i=e[s]}return{c:n.subarray(0,o),n:t}},gH=function(e,t){for(var n=0,o=0;o<t.length;++o)n+=e[o]*t[o];return n},mH=function(e,t,n){var o=n.length,i=lH(t+2);e[i]=255&o,e[i+1]=o>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var r=0;r<o;++r)e[i+r+4]=n[r];return 8*(i+4+o)},yH=function(e,t,n,o,i,r,l,s,c,a,u){dH(t,u++,n),++i[256];for(var d=hH(i,15),f=d.t,h=d.l,p=hH(r,15),v=p.t,g=p.l,m=vH(f),y=m.c,b=m.n,C=vH(v),w=C.c,x=C.n,S=new RF(19),E=0;E<y.length;++E)++S[31&y[E]];for(E=0;E<w.length;++E)++S[31&w[E]];for(var k=hH(S,7),D=k.t,I=k.l,N=19;N>4&&!D[_F[N-1]];--N);var L,T,B,A,M=a+5<<3,O=gH(i,XF)+gH(r,JF)+l,R=gH(i,f)+gH(r,v)+l+14+3*N+gH(S,D)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&M<=O&&M<=R)return mH(t,u,e.subarray(c,c+a));if(dH(t,u,1+(R<O)),u+=2,R<O){L=GF(f,h,0),T=f,B=GF(v,g,0),A=v;var P=GF(D,I,0);dH(t,u,b-257),dH(t,u+5,x-1),dH(t,u+10,N-4),u+=14;for(E=0;E<N;++E)dH(t,u+3*E,D[_F[E]]);u+=3*N;for(var F=[y,w],H=0;H<2;++H){var _=F[H];for(E=0;E<_.length;++E){var j=31&_[E];dH(t,u,P[j]),u+=D[j],j>15&&(dH(t,u,_[E]>>5&127),u+=_[E]>>12)}}}else L=QF,T=XF,B=tH,A=JF;for(E=0;E<s;++E){var W=o[E];if(W>255){fH(t,u,L[(j=W>>18&31)+257]),u+=T[j+257],j>7&&(dH(t,u,W>>23&31),u+=FF[j]);var z=31&W;fH(t,u,B[z]),u+=A[z],z>3&&(fH(t,u,W>>5&8191),u+=HF[z])}else fH(t,u,L[W]),u+=T[W]}return fH(t,u,L[256]),u+T[256]},bH=new PF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CH=new OF(0),wH=function(){var e=1,t=0;return{p:function(n){for(var o=e,i=t,r=0|n.length,l=0;l!=r;){for(var s=Math.min(l+2655,r);l<s;++l)i+=o+=n[l];o=(65535&o)+15*(o>>16),i=(65535&i)+15*(i>>16)}e=o,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},xH=function(e,t,n,o,i){if(!i&&(i={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),l=new OF(r.length+e.length);l.set(r),l.set(e,r.length),e=l,i.w=r.length}return function(e,t,n,o,i,r){var l=r.z||e.length,s=new OF(o+l+5*(1+Math.ceil(l/7e3))+i),c=s.subarray(o,s.length-i),a=r.l,u=7&(r.r||0);if(t){u&&(c[0]=r.r>>3);for(var d=bH[t-1],f=d>>13,h=8191&d,p=(1<<n)-1,v=r.p||new RF(32768),g=r.h||new RF(p+1),m=Math.ceil(n/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&p},C=new PF(25e3),w=new RF(288),x=new RF(32),S=0,E=0,k=r.i||0,D=0,I=r.w||0,N=0;k+2<l;++k){var L=b(k),T=32767&k,B=g[L];if(v[T]=B,g[L]=T,I<=k){var A=l-k;if((S>7e3||D>24576)&&(A>423||!a)){u=yH(e,c,0,C,w,x,E,D,N,k-N,u),D=S=E=0,N=k;for(var M=0;M<286;++M)w[M]=0;for(M=0;M<30;++M)x[M]=0}var O=2,R=0,P=h,F=T-B&32767;if(A>2&&L==b(k-F))for(var H=Math.min(f,A)-1,_=Math.min(32767,k),j=Math.min(258,A);F<=_&&--P&&T!=B;){if(e[k+O]==e[k+O-F]){for(var W=0;W<j&&e[k+W]==e[k+W-F];++W);if(W>O){if(O=W,R=F,W>H)break;var z=Math.min(F,W-2),V=0;for(M=0;M<z;++M){var $=k-F+M&32767,Z=$-v[$]&32767;Z>V&&(V=Z,B=$)}}}F+=(T=B)-(B=v[T])&32767}if(R){C[D++]=268435456|VF[O]<<18|UF[R];var U=31&VF[O],q=31&UF[R];E+=FF[U]+HF[q],++w[257+U],++x[q],I=k+O,++S}else C[D++]=e[k],++w[e[k]]}}for(k=Math.max(k,I);k<l;++k)C[D++]=e[k],++w[e[k]];u=yH(e,c,a,C,w,x,E,D,N,k-N,u),a||(r.r=7&u|c[u/8|0]<<3,u-=7,r.h=g,r.p=v,r.i=k,r.w=I)}else{for(k=r.w||0;k<l+a;k+=65535){var Y=k+65535;Y>=l&&(c[u/8|0]=a,Y=l),u=mH(c,u+1,e.subarray(k,Y))}r.i=l}return sH(s,0,o+lH(u)+i)}(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,o,i)},SH=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},EH=function(e){31==e[0]&&139==e[1]&&8==e[2]||aH(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=2+(e[10]|e[11]<<8));for(var o=(t>>3&1)+(t>>4&1);o>0;o-=!e[n++]);return n+(2&t)},kH=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},DH=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&aH(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&aH(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function IH(e,t){t||(t={});var n=wH();n.p(e);var o=xH(e,t,t.dictionary?6:2,4);return function(e,t){var n=t.level,o=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=o<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=wH();i.p(t.dictionary),SH(e,2,i.d())}}(o,t),SH(o,o.length-4,n.d()),o}function NH(e,t){return uH(e.subarray(DH(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}function LH(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?function(e,t){var n=EH(e);return n+8>e.length&&aH(6,"invalid gzip data"),uH(e.subarray(n,-8),{i:2},t&&t.out||new OF(kH(e)),t&&t.dictionary)}(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?function(e,t){return uH(e,{i:2},t&&t.out,t&&t.dictionary)}(e,t):NH(e,t)}var TH="undefined"!=typeof TextEncoder&&new TextEncoder,BH="undefined"!=typeof TextDecoder&&new TextDecoder;try{BH.decode(CH,{stream:!0}),1}catch(e){}function AH(e,t){if(t){for(var n=new OF(e.length),o=0;o<e.length;++o)n[o]=e.charCodeAt(o);return n}if(TH)return TH.encode(e);var i=e.length,r=new OF(e.length+(e.length>>1)),l=0,s=function(e){r[l++]=e};for(o=0;o<i;++o){if(l+5>r.length){var c=new OF(l+8+(i-o<<1));c.set(r),r=c}var a=e.charCodeAt(o);a<128||t?s(a):a<2048?(s(192|a>>6),s(128|63&a)):a>55295&&a<57344?(s(240|(a=65536+(1047552&a)|1023&e.charCodeAt(++o))>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|63&a)):(s(224|a>>12),s(128|a>>6&63),s(128|63&a))}return sH(r,0,l)}function MH(e,t){if(t){for(var n="",o=0;o<e.length;o+=16384)n+=String.fromCharCode.apply(null,e.subarray(o,o+16384));return n}if(BH)return BH.decode(e);var i=function(e){for(var t="",n=0;;){var o=e[n++],i=(o>127)+(o>223)+(o>239);if(n+i>e.length)return{s:t,r:sH(e,n-1)};i?3==i?(o=((15&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|o>>10,56320|1023&o)):t+=1&i?String.fromCharCode((31&o)<<6|63&e[n++]):String.fromCharCode((15&o)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(o)}}(e),r=i.s;return(n=i.r).length&&aH(8),r}const OH={START:"START_COMPRESSION",END:"COMPRESSION_END",DELETE:"DELETE_COMPRESSION"};class RH{constructor(e){this.record={},this.postMessage=e}start(e){for(const t in e){const n=IH(AH(JSON.stringify(e[t])));this.record[t]=n}this.end()}end(){this.postMessage(this.record)}}const PH={START:"START_DECOMPRESSION",END:"DECOMPRESSION_END",DELETE:"DELETE_DECOMPRESSION"};class FH{constructor(e){this.limit=10,this.ids=[],this.record={},this.postMessage=e}delete(e){for(const t of e){delete this.record[t];const e=this.ids.indexOf(t);-1!==e&&this.ids.splice(e,1)}}reduce(){if(this.ids.length>this.limit){const e=this.ids.slice(this.limit);this.delete(e),this.ids=this.ids.slice(0,this.limit)}}start(e,t=!0){for(const t in e){if(this.record[t])continue;const n=e[t];if(!qP(n))continue;let o=null;try{o=NH(n)}catch(e){o=LH(n)}if(o){const e=MH(o),n=JSON.parse(e);this.record[t]=n}this.ids.includes(t)||this.ids.unshift(t)}if(this.end(),!1===t){const t=Object.keys(e);this.delete(t)}}end(){this.postMessage(this.record),this.reduce()}}const HH={CRUD:"crud",LOST:"lost"},_H={START:"START_NOTESEARCH",END:"NOTESEARCH_END",CANCEL:"CANCEL_NOTESEARCH"};class jH{constructor(e){this.selections=[],this.postMessage=e}start(e){const{text:t,node:n,excludeIds:o}=e;try{this.selections=function(e,t,n){var o,i,r,l,s,c,a,u,d,f,h,p,v,g,m,y;const b=[],C=e.length;if(0===C)return[];let w=0,x=0,S=null;const E=[{node:t,path:[]}];for(;E.length;){const t=E.shift();if(void 0===t)continue;let{node:k,path:D,search:I}=t;if(oF(k)){const e=null===(o=k.props)||void 0===o?void 0:o.uid;if(n.includes(e)){w=0,x=0,S=null;continue}}if("string"==typeof k){const n=e.slice(w);if(k.length-x>=C-w){const e=k.indexOf(n,x);if(-1!==e){if(0===w){x=e+C-w;const t={anchor:{path:D.slice(),offset:e},focus:{path:D.slice(),offset:x}};I&&(t.search=JSON.parse(JSON.stringify(I))),b.push(t)}else if(S&&0===e){x=e+C-w;const t={anchor:S,focus:{path:D.slice(),offset:x}};I&&(t.search=JSON.parse(JSON.stringify(I))),b.push(t)}else x=e+1;x<k.length?E.unshift(t):x=0,w=0,S=null;continue}}else if(-1!==n.indexOf(k.slice(x))){0===w&&(S={path:D.slice(),offset:x}),w+=k.length-x,x=0;continue}if(0===w){do{const t=e.slice(0,++w),n=k.indexOf(t,x);if(-1===n){w=0;break}if(n+w===k.length)break}while(w<C);w>0&&(S={path:D.slice(),offset:k.length-w})}else w=0,S=null;x=0;continue}if(lF(k)){const e=null!==(l=null===(r=null===(i=k.props)||void 0===i?void 0:i.value)||void 0===r?void 0:r.cells)&&void 0!==l?l:{};Object.keys(e).sort(((e,t)=>{const{rowIndex:n,columnIndex:o}=cF(e),{rowIndex:i,columnIndex:r}=cF(t);let l=i-n;return 0===l&&(l=r-o),l})).forEach((t=>{var n;const o=null===(n=e[t].state)||void 0===n?void 0:n.editor.node;if(o){const e=[uF(D.slice()),hF(t)];I&&e.unshift(I);const n=pF(e[0],...e.slice(1));E.unshift({node:o,path:[],search:n})}}));continue}if(sF(k)&&!1===(null===(s=k.props)||void 0===s?void 0:s.expand)&&(null===(a=null===(c=k.props)||void 0===c?void 0:c.list)||void 0===a?void 0:a.length)){const e=k.children.slice();if(!1===(null===(u=k.props)||void 0===u?void 0:u.expand)){const t=null!==(f=null===(d=k.props)||void 0===d?void 0:d.list)&&void 0!==f?f:[];for(const n of t)e.push(n)}let t=e.length-1;for(;t>=0;){const n=[uF(D.slice()),dF([t])];I&&n.unshift(I);const o=pF(n[0],...n.slice(1));E.unshift({node:e[t],path:[],search:o}),t--}continue}if(rF(k)&&!1===(null===(h=k.props)||void 0===h?void 0:h.expand)&&(null===(v=null===(p=k.props)||void 0===p?void 0:p.list)||void 0===v?void 0:v.length)){const e=k.children.slice();if(!1===(null===(g=k.props)||void 0===g?void 0:g.expand)){const t=null!==(y=null===(m=k.props)||void 0===m?void 0:m.list)&&void 0!==y?y:[];for(const n of t)e.push(n)}let t=e.length-1;for(;t>=0;){const n=[uF(D.slice()),fF([t])];I&&n.unshift(I);const o=pF(n[0],...n.slice(1));E.unshift({node:e[t],path:[],search:o}),t--}continue}iF(k)&&(w=0,x=0,S=null);const N=k.children;let L=N.length-1;for(;L>=0;)E.unshift({node:N[L],path:[...D,L],search:I}),L--}return b}(t,n,o)}catch(e){console.error(e)}this.end()}end(){this.postMessage({selections:this.selections})}}var WH;let zH;!function(e){e.STRINGIFY="JSON_STRINGIFY",e.PARSE="JSON_PARSE"}(WH||(WH={}));const VH=new Uint8Array(16);function $H(){if(!zH&&(zH="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zH))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zH(VH)}const ZH=[];for(let e=0;e<256;++e)ZH.push((e+256).toString(16).slice(1));var UH={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function qH(e,t,n){if(UH.randomUUID&&!t&&!e)return UH.randomUUID();const o=(e=e||{}).random||(e.rng||$H)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return ZH[e[t+0]]+ZH[e[t+1]]+ZH[e[t+2]]+ZH[e[t+3]]+"-"+ZH[e[t+4]]+ZH[e[t+5]]+"-"+ZH[e[t+6]]+ZH[e[t+7]]+"-"+ZH[e[t+8]]+ZH[e[t+9]]+"-"+ZH[e[t+10]]+ZH[e[t+11]]+ZH[e[t+12]]+ZH[e[t+13]]+ZH[e[t+14]]+ZH[e[t+15]]}(o)}let YH=0;function KH(){if("undefined"!=typeof WebPro){const e=WebPro.getWindowAvoidArea("TYPE_SYSTEM"),t=null==e?void 0:e.topRect.height;return t&&(YH=Math.max(YH,t/window.devicePixelRatio)),YH}return 0}let GH=0;function XH(){if("undefined"!=typeof WebPro){const e=WebPro.getWindowAvoidArea("TYPE_NAVIGATION_INDICATOR"),t=null==e?void 0:e.bottomRect.height;return t&&(GH=t/window.devicePixelRatio),GH}return 0}function JH(e,t){var n;if("undefined"!=typeof WebPro){const o=null==t?void 0:t.payload;return o&&"string"!=typeof o&&(t.payload=JSON.stringify(o)),null===(n=WebPro.setNavigateStack)||void 0===n?void 0:n.call(WebPro,e,t)}}function QH(e){var t;if("undefined"!=typeof WebPro)return null===(t=WebPro.getNavigateStack)||void 0===t?void 0:t.call(WebPro,e)}function e_(){var e;if("undefined"!=typeof WebPro)return null===(e=WebPro.getNavigateUid)||void 0===e?void 0:e.call(WebPro)}const t_=new WeakMap;function n_(e,t){if("undefined"==typeof WebPro)return;if(t_.has(t))return;const n=qH();t_.set(t,n),WebPro.addEventListener(e,n,t)}function o_(e,t){if("undefined"==typeof WebPro)return;if(!t_.has(t))return;const n=t_.get(t);"string"==typeof n&&(t_.delete(t),WebPro.removeEventListener(e,n))}function i_(e,t){"undefined"!=typeof WebPro&&WebPro.postMessage(e,t)}function r_(e){if("undefined"==typeof WebPro)return"undefined"!=typeof electron?electron.shell.openExternal(e):void window.open(e,"_blank");WebPro.open(e)}function l_(e){"undefined"!=typeof WebPro&&WebPro.toast({duration:1500,...e})}function s_(e){var t,n;"undefined"!=typeof WebPro?WebPro.alert({cornerRadius:16,...e}):null===(n=null===(t=e.confirm)||void 0===t?void 0:t.action)||void 0===n||n.call(t)}function c_(e){return"undefined"==typeof WebPro?()=>{}:(WebPro.loading({cornerRadius:16,autoCancel:!1,...e}),()=>{WebPro.loading({visible:!1})})}async function a_(e,t){return"undefined"==typeof WebPro?null:new Promise(((n,o)=>{WebPro.select(e,(e=>{try{null==t||t(e)}catch(e){return void o(e)}n(e)}))}))}async function u_(e,t){return"undefined"==typeof WebPro?null:new Promise(((n,o)=>{WebPro.save(e,(e=>{try{null==t||t(e)}catch(e){return void o(e)}n(e)}))}))}function d_(){"undefined"!=typeof WebPro&&WebPro.hideSoftKeyboard()}function f_(e){"undefined"!=typeof WebPro&&WebPro.showSoftKeyboard(e)}function h_(e,t,n){"undefined"!=typeof WebPro&&WebPro.startVibration(e,t,n)}function p_(e,t){"undefined"!=typeof WebPro&&WebPro.writeToClipboard(e,t)}function v_(e){"undefined"!=typeof WebPro&&WebPro.readFromClipboard(e)}async function g_(e,t,n){return"undefined"==typeof WebPro?null:new Promise(((o,i)=>{WebPro.writeFile(e,t,(e=>{null===e?o(!0):i(e),null==n||n(e)}))}))}async function m_(e,t){return"undefined"==typeof WebPro?null:new Promise(((n,o)=>{WebPro.readFile(e,((e,i)=>{null===e?n(null!=i?i:null):o(e),null==t||t(e,i)}))}))}const{getEditBlockNodeStartPath:y_,getEditBlockNodeEndPath:b_,getEditNodeByPath:C_,getBlockNodeEndPath:w_,getBlockNodeStartPath:x_,getNodeByPath:S_,getNodeLength:E_,isBlockNodeX:k_,getPathFromKey:D_}=hk;function I_(e,t){const n=y_(t),o=b_(t),i=S_(e,n),r=S_(e,o),l=C_(t,n),s=C_(t,o);let c=!1,a=!1;return null===i||(c=E_(i)>E_(l)),null===r||(a=E_(r)>E_(s)),{start:{path:n,slice:c},end:{path:o,slice:a}}}function N_(e,t){for(;k_(t);)t=pc(t.children);const n=D_(t.key),o=S_(e,n);return null!==o&&E_(o)>E_(t)}function L_(e,t){for(;k_(t);)t=dc(t.children);const n=D_(t.key),o=S_(e,n);return null!==o&&E_(o)>E_(t)}const T_=5,B_={position:"relative",display:"flex",fontSize:12,height:28},A_={position:"relative",display:"flex",alignItems:"center",height:"100%",marginRight:T_,color:Hf},M_={position:"absolute",right:0,marginTop:1,height:"60%"},O_={marginRight:T_,userSelect:"none"},R_={position:"relative",height:24,minWidth:24,maxWidth:200,borderRadius:2,overflow:"hidden",display:"flex"},P_={height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},F_={position:"relative",height:"100%"},H_={position:"relative",minWidth:24,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flex:1},__={position:"relative",width:15,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},j_={marginTop:5,borderWidth:"5px 4px",borderStyle:"solid dashed dashed dashed",borderColor:`${jf} transparent transparent transparent`,pointerEvents:"none"},W_={boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",position:"relative",paddingLeft:3},z_={flex:1,display:"flex",justifyContent:"center",alignItems:"center"},V_={display:"flex",flex:1,alignItems:"center",justifyContent:"center"},$_={display:"flex",flex:"none",alignItems:"center",justifyContent:"unset",position:"absolute",top:0,left:0,right:0,bottom:0,paddingLeft:16,width:"auto"},Z_={display:"inline-block",marginLeft:25},U_={position:"absolute",right:17,color:jf},q_={position:"absolute",top:0,zIndex:1},Y_={paddingBottom:10,borderRadius:4,overflow:"hidden",boxShadow:Wf},K_={display:"flex",height:33,margin:"0 15px",position:"relative",fontSize:12,marginTop:-5,marginBottom:5,borderRadius:2,color:Hf},G_={flex:1,borderRadius:2,overflow:"hidden",userSelect:"none",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},X_={width:330,padding:15};function J_({d:e,width:t=12,...n}){var o;return G(wh,{style:{...z_,...n.style},onClick:n.onClick,children:n.children?n.children:G("svg",{width:t,viewBox:"0 0 12 12",children:G("path",{fill:null!==(o=n.fill)&&void 0!==o?o:zf,d:e})})})}function Q_(e){return G(J_,{...e,children:G(oO,{})})}const ej=Uf?180:200;function tj(e){var t,n;const o=null!==(n=null===(t=e.value)||void 0===t?void 0:t.map((t=>{var n;return{name:nj({...t,lang:e.lang}),value:t.name,hotkey:t.inner||null===(n=t.hotkey)||void 0===n?void 0:n.call(t,e)}})))&&void 0!==n?n:[];return G(Lg,{style:{width:ej},options:o,onClick:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.value)}})}function nj(e){return G(e.outer,{...e,menu:!0,style:$_,children:G("span",{style:Z_,children:e.label(e)})})}function oj(e){var t,n;return e.menu?G(ij,{...e}):X(wh,{style:{...e.style,...P_},onClick:t=>{var n;t.stopPropagation(),null===(n=e.onClick)||void 0===n||n.call(e,t)},children:[G(wh,{style:{...F_,flex:1,...null===(t=e.left)||void 0===t?void 0:t.style},children:G(Ev,{...e.left,style:H_,children:e.children})}),G(wh,{style:{...F_,...null===(n=e.right)||void 0===n?void 0:n.style},children:G(Ev,{...e.right,style:__,children:G("div",{style:j_})})})]})}function ij(e){const t=Z(null),n=Z(null),[o,i]=$(!1),[r,l]=$({});return H((()=>{if(!0===o&&null!==n.current){const e=n.current.getBoundingClientRect();if(e.bottom>window.innerHeight){const t=window.innerHeight-e.bottom;r.top!==t&&l({...r,top:t})}}}),[o,r]),"function"!=typeof e.inner?null:X(wh,{ref:t,style:{...e.style,...$_},onPointerEnter:e=>{if(null===t.current)return;const n=t.current.getBoundingClientRect();window.innerWidth-n.right<ej?l({right:"calc(100%)"}):l({left:"calc(100%)"}),i(!0)},onPointerLeave:e=>{i(!1),l({})},children:[G(wh,{children:e.children}),G(Q_,{style:U_}),o&&G("div",{ref:n,style:{...q_,...r},children:G(e.inner,{...e})})]})}function rj(e){return G(wh,{style:{...W_,...e.style},onClick:e.onClick,children:e.children})}function lj(e){const[t,n]=$(e.value),[o,i]=$("theme");return X(Dh,{style:Y_,children:["theme"===o?G(rg,{value:t,onChange:e.onChange}):null,"picker"===o?G(wh,{onClick:e=>e.stopPropagation(),children:G(Zv,{style:X_,value:t,onChange:n})}):null,G("div",{style:K_,children:G(Ev,{type:"light",style:G_,onClick:n=>{var r;"theme"===o?(t=>{var n;t.stopPropagation(),i("picker"),null===(n=e.onMore)||void 0===n||n.call(e)})(n):"picker"===o&&(null===(r=e.onChange)||void 0===r||r.call(e,t))},children:"theme"===o?e.more:e.ok})})]})}function sj(e){return G(J_,{...e,children:G(iO,{})})}const cj="more",aj={cn:{[cj]:""},en:{[cj]:"More"}};function uj(e){return G(tj,{...e})}const dj=U(null),fj=U(null),hj=U(null),pj=e=>t=>(t.more.fold=e,t),vj=e=>t=>(t.more.active=e,t);const gj="more";var mj=Object.freeze({__proto__:null,More:sj,i18n:aj,inner:uj,label:function(e){return aj[e.lang][cj]},name:gj,outer:function(e){const t=R(fj),{more:{active:n}}=R(dj);return F((()=>{const e=()=>{!0===n&&t(vj(!1))};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[n,t]),G(sj,{...e,onClick:e=>{e.stopPropagation(),t(vj(!n))}})}});function yj(e,t,n,o){var i;const r=_d(e),l=_((()=>{const e=Oi(r.current.tools);let t=e.length-1;const i=o.tools.get(gj);if(void 0!==i){if(!(i.getBoundingClientRect().right+20>window.innerWidth))return;t--}for(;t>=0;){const{name:n}=e[t],i=o.tools.get(n);if(void 0===i){t--;continue}if(!(i.getBoundingClientRect().right+20>window.innerWidth))break;t--}t<e.length-1&&n(pj(e.length-1-t))}),[r,o.tools,n]);F((()=>{n(vj(!1),pj(0)),l()}),[l,n,null===(i=e.style)||void 0===i?void 0:i.width]),H(l,[l,0===t.more.fold,e.resize])}function bj(e){const t=Z(null),n=W((()=>{const e={};return{set:(t,n)=>{null===n?delete e[t]:e[t]=n},get:t=>e[t]}}),[]);return{container:t,tools:n}}var Cj=Object.freeze({__proto__:null,useEffects:yj,useHotkey:function(e,t){const n=Wd("keydown");F((()=>(window.addEventListener("keydown",n.listener),()=>{window.removeEventListener("keydown",n.listener)})),[n]),F((()=>{const o=n.subscribe((n=>{e&&hh(e,n)&&t()}));return()=>o.unsubscribe()}),[t,e,n])},useHotkeys:function(e,t){const n=_d(e),o=Wd("keydown");F((()=>(window.addEventListener("keydown",o.listener),()=>{window.removeEventListener("keydown",o.listener)})),[o]),F((()=>{const e=o.subscribe((e=>{const o=n.current;for(let n=0;n<o.length;n++){const i=o[n];i&&(hh(i,e)&&t(i,n))}}));return()=>e.unsubscribe()}),[t,n,o])},useRefs:bj});const wj="redo",xj={cn:{[wj]:""},en:{[wj]:"REDO"}};function Sj(e){return G(J_,{...e,children:G(lR,{width:16})})}function Ej({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:e,children:[G(Sj,{...n}),t]})}const kj="redo";var Dj=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"+Y":"Ctrl+Y"},i18n:xj,label:function(e){return xj[e.lang][wj]},name:kj,outer:Ej});const Ij="undo",Nj={cn:{[Ij]:""},en:{[Ij]:"Undo"}};function Lj(e){return G(J_,{...e,children:G(rR,{width:16})})}function Tj({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:e,children:[G(Lj,{...n}),t]})}const Bj="undo";var Aj=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"+Z":"Ctrl+Z"},i18n:Nj,label:function(e){return Nj[e.lang][Ij]},name:Bj,outer:Tj});const Mj={unicode:"unicode"},Oj={cn:{[Mj.unicode]:""},en:{[Mj.unicode]:"Unicode Table"}};function Rj(e){return G(J_,{...e,children:G(nP,{width:13})})}function Pj({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:e,children:[G(Rj,{...n}),t]})}var Fj=Object.freeze({__proto__:null,i18n:Oj,keys:Mj,label:function(e){return Oj[e.lang][Mj.unicode]},name:"unicode",outer:Pj});const Hj="readonly",_j={cn:{[Hj]:""},en:{[Hj]:"readonly"}};function jj(e){return G(J_,{...e,children:G(ZO,{width:15})})}function Wj({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:e,children:[G(jj,{...n}),t]})}var zj=Object.freeze({__proto__:null,hotkey:function(){return Uf?"+R":"Alt+R"},i18n:_j,label:function(e){return _j[e.lang][Hj]},name:"readonly",outer:Wj});const Vj="add",$j={cn:{[Vj]:""},en:{[Vj]:"Add"}};function Zj(e){return G(J_,{...e,children:G(KO,{})})}const Uj={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,bottom:0,right:0};function qj({onClick:e,...t}){return G(wh,{style:Uj,onClick:t=>{t.stopPropagation(),null==e||e(t)},children:G(Zj,{...t})})}function Yj(e){return G(tj,{...e})}const Kj="add";var Gj=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"++X":"Ctrl+Shift+X"},i18n:$j,inner:Yj,label:function(e){return $j[e.lang][Vj]},name:Kj,outer:qj});const Xj="paintFormat",Jj={cn:{[Xj]:""},en:{[Xj]:"Paint Format"}};function Qj(e){return G(J_,{...e,children:G(sR,{})})}function eW({onClick:e,children:t,...n}){const o={...V_,...n.style};return n.active&&(o.backgroundColor=Pf),X(wh,{style:o,onClick:e,children:[G(Qj,{...n}),t]})}const tW="paint-format";var nW=Object.freeze({__proto__:null,i18n:Jj,label:function(e){return Jj[e.lang][Xj]},name:tW,outer:eW});const oW="clearFormat",iW={cn:{[oW]:""},en:{[oW]:"Clear Format"}};function rW(e){return G(J_,{...e,children:G(cR,{width:13})})}function lW({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:e,children:[G(rW,{...n}),t]})}const sW="clear-format";var cW=Object.freeze({__proto__:null,i18n:iW,label:function(e){return iW[e.lang][oW]},name:sW,outer:lW});const aW="bold",uW={cn:{[aW]:""},en:{[aW]:"Bold"}};function dW(e){return G(J_,{...e,children:G(pR,{})})}function fW({onClick:e,children:t,...n}){const o={...V_,...n.style};return n.active&&(o.backgroundColor=Pf),X(wh,{style:o,onClick:e,children:[G(dW,{...n}),t]})}const hW="bold";var pW=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"+B":"Ctrl+B"},i18n:uW,icon:dW,label:function(e){return uW[e.lang][aW]},name:hW,outer:fW});const vW={fontFamily:"fontFamily",fontFamilyPackage:"fontFamilyPackage"},gW={cn:{[vW.fontFamily]:"",[vW.fontFamilyPackage]:[{name:"Arial",value:"Arial"},{name:"Comic Sans MS",value:"Comic Sans MS"},{name:"Courier New",value:"Courier New"},{name:"Georgia",value:"Georgia"},{name:"Impact",value:"Impact"},{name:"Quicksand",value:"Quicksand"},{name:"Times New Roman",value:"Times New Roman"},{name:"Trebuchet MS",value:"Trebuchet MS"},{name:"Verdana",value:"Verdana"},{name:"",value:"Microsoft YaHei, "},{name:"",value:"FangSong"},{name:"",value:"STFangsong"},{name:"",value:"STsong"},{name:"",value:"STKaiti, Kaiti"},{name:"",value:"SimSun"},{name:"-ExtB",value:"SimSun-ExtB"},{name:"",value:"Kai, Kaiti"},{name:"",value:"Hei"}]},en:{[vW.fontFamily]:"Font",[vW.fontFamilyPackage]:[{name:"Amatic SC",value:"Amatic SC"},{name:"Arial",value:"Arial"},{name:"Caveat",value:"Caveat"},{name:"Comfortaa",value:"Comfortaa"},{name:"Comic Sans MS",value:"Comic Sans MS"},{name:"Courier New",value:"Courier New"},{name:"EB Garamond",value:"EB Garamond"},{name:"Georgia",value:"Georgia"},{name:"Impact",value:"Impact"},{name:"Lobster",value:"Lobster"},{name:"Lora",value:"Lora"},{name:"Merriweather",value:"Merriweather"},{name:"Montserrat",value:"Montserrat"},{name:"Nunito",value:"Nunito"},{name:"Oswald",value:"Oswald"},{name:"Pacifico",value:"Pacifico"},{name:"Playfair Display",value:"Playfair Display"},{name:"Quicksand",value:"Quicksand"},{name:"Roboto",value:"Roboto"},{name:"Roboto Mono",value:"Roboto Mono"},{name:"Spectral",value:"Spectral"},{name:"Times New Roman",value:"Times New Roman"},{name:"Trebuchet MS",value:"Trebuchet MS"},{name:"Verdana",value:"Verdana"}]}};function mW({onClick:e,children:t,...n}){var o,i;let r=null===(o=gW[n.lang][vW.fontFamilyPackage].find((e=>e.value===n.value)))||void 0===o?void 0:o.name;r||(r=null===(i=n.value)||void 0===i?void 0:i.replace(/^"|"$/g,""));const l={fontFamily:n.value,width:70},s={width:Number(l.width)-15,textAlign:"center"};return X(oj,{...n,style:l,onClick:e,children:[!0!==n.menu&&G(rj,{...n,style:s,children:r}),t]})}function yW(e){const t=gW[e.lang][vW.fontFamilyPackage].map((t=>({...t,name:G("div",{style:{fontFamily:t.value},children:t.name}),selected:t.value===e.value})));return G(Lg,{style:{width:140},options:t,onClick:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.value)}})}const bW="font-family";var CW=Object.freeze({__proto__:null,i18n:gW,inner:yW,label:function(e){return gW[e.lang][vW.fontFamily]},name:bW,outer:mW});const wW={fontSize:"fontSize",fontSizePackage:"fontSizePackage"},xW={cn:{[wW.fontSize]:"",[wW.fontSizePackage]:[{name:"9",value:ch(9)},{name:"10",value:ch(10)},{name:"11",value:ch(11)},{name:"12",value:ch(12)},{name:"13",value:ch(13)},{name:"14",value:ch(14)},{name:"16",value:ch(16)},{name:"18",value:ch(18)},{name:"20",value:ch(20)},{name:"22",value:ch(22)},{name:"24",value:ch(24)},{name:"26",value:ch(26)},{name:"28",value:ch(28)},{name:"36",value:ch(36)},{name:"48",value:ch(48)},{name:"72",value:ch(72)}]},en:{[wW.fontSize]:"Font Size",[wW.fontSizePackage]:[{name:"9",value:ch(9)},{name:"10",value:ch(10)},{name:"11",value:ch(11)},{name:"12",value:ch(12)},{name:"14",value:ch(14)},{name:"16",value:ch(16)},{name:"18",value:ch(18)},{name:"20",value:ch(20)},{name:"22",value:ch(22)},{name:"24",value:ch(24)},{name:"26",value:ch(26)},{name:"28",value:ch(28)},{name:"36",value:ch(36)},{name:"48",value:ch(48)},{name:"72",value:ch(72)}]}};function SW({onClick:e,children:t,...n}){var o;let i=null===(o=xW[n.lang][wW.fontSizePackage].find((e=>e.value===n.value)))||void 0===o?void 0:o.name;return i||(i=Di(parseFloat(n.value))),X(oj,{...n,onClick:e,children:[!0!==n.menu&&G(rj,{...n,children:i}),t]})}function EW(e){const t=xW[e.lang][wW.fontSizePackage].map((t=>({...t,selected:t.value===e.value})));return G(Lg,{style:{width:56},options:t,onClick:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.value)}})}const kW="font-size";var DW=Object.freeze({__proto__:null,i18n:xW,icon:function(e){return G(J_,{...e,children:G("svg",{width:13,style:{position:"relative",top:.5},viewBox:"0 0 12 11",children:G("path",{fill:zf,d:"M11.8664 3.68664H7.48848C7.42512 3.68664 7.37327 3.73848 7.37327 3.80184V5.41475C7.37327 5.47811 7.42512 5.52995 7.48848 5.52995H8.17972C8.24309 5.52995 8.29493 5.47811 8.29493 5.41475V4.60829H9.15899V9.21659H8.49654C8.43318 9.21659 8.38134 9.26843 8.38134 9.3318V10.023C8.38134 10.0864 8.43318 10.1382 8.49654 10.1382H10.8583C10.9217 10.1382 10.9735 10.0864 10.9735 10.023V9.3318C10.9735 9.26843 10.9217 9.21659 10.8583 9.21659H10.1959V4.60829H11.0599V5.41475C11.0599 5.47811 11.1118 5.52995 11.1751 5.52995H11.8664C11.9297 5.52995 11.9816 5.47811 11.9816 5.41475V3.80184C11.9816 3.73848 11.9297 3.68664 11.8664 3.68664ZM8.06452 1.95853V0.115207C8.06452 0.0518433 8.01267 0 7.94931 0H0.115207C0.0518433 0 0 0.0518433 0 0.115207V1.95853C0 2.02189 0.0518433 2.07373 0.115207 2.07373H0.921659C0.985023 2.07373 1.03687 2.02189 1.03687 1.95853V1.03687H3.45622V9.10138H2.13134C2.06797 9.10138 2.01613 9.15323 2.01613 9.21659V10.023C2.01613 10.0864 2.06797 10.1382 2.13134 10.1382H5.93318C5.99654 10.1382 6.04839 10.0864 6.04839 10.023V9.21659C6.04839 9.15323 5.99654 9.10138 5.93318 9.10138H4.60829V1.03687H7.02765V1.95853C7.02765 2.02189 7.07949 2.07373 7.14286 2.07373H7.94931C8.01267 2.07373 8.06452 2.02189 8.06452 1.95853Z"})})})},inner:EW,label:function(e){return xW[e.lang][wW.fontSize]},name:kW,outer:SW});const IW="image",NW={cn:{[IW]:""},en:{[IW]:"Image"}};const LW={opacity:0,cursor:"pointer",width:"100%",height:"100%",fontSize:0,position:"absolute",top:0,left:0},TW={opacity:0,width:0,height:0,fontSize:0,position:"absolute",top:0,left:0};function BW(e){return G(J_,{...e,children:G(HO,{style:{position:"relative",right:.5}})})}function AW({children:e,dataType:t,...n}){const o=R(hj),[i,r]=$(""),l=Z(null);j((e=>{Et(o)?o(e):o.current&&Object.assign(o.current,e)}),(()=>({image:{click(){var e;null===(e=l.current)||void 0===e||e.click()}}})),[]);const s=e=>{var t;r(""),null===(t=n.onClick)||void 0===t||t.call(n,e)},c=e=>{var o;const i=null===(o=e.target.files)||void 0===o?void 0:o[0];if(i){const e=new FileReader;e.onload=t=>{var o;return null===(o=n.onLoad)||void 0===o?void 0:o.bind(e)(t,i.type)},"data-url"===t?e.readAsDataURL(i):"array-buffer"===t?e.readAsArrayBuffer(i):"binary-string"===t?e.readAsBinaryString(i):"text"===t&&e.readAsText(i)}};return n.silence?G("input",{style:TW,value:i,ref:l,type:"file",accept:"image/*",title:"",onClick:s,onChange:c}):X(K,{children:[G(BW,{...n}),e,G("input",{style:LW,value:i,ref:l,type:"file",accept:"image/*",title:"",onClick:s,onChange:c})]})}const MW="image";var OW=Object.freeze({__proto__:null,i18n:NW,icon:BW,label:function(e){return NW[e.lang][IW]},name:MW,outer:AW});const RW="italic",PW={cn:{[RW]:""},en:{[RW]:"Italic"}};function FW(e){return G(J_,{...e,children:G(vR,{})})}function HW({onClick:e,children:t,...n}){const o={...V_,...n.style};return n.active&&(o.backgroundColor=Pf),X(wh,{style:o,onClick:e,children:[G(FW,{...n}),t]})}const _W="italic";var jW=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"+I":"Ctrl+I"},i18n:PW,icon:FW,label:function(e){return PW[e.lang][RW]},name:_W,outer:HW});const WW="strikeThrough",zW={cn:{[WW]:""},en:{[WW]:"Strike Through"}};function VW(e){return G(J_,{...e,children:G(gR,{})})}function $W({onClick:e,children:t,...n}){const o={...V_,...n.style};return n.active&&(o.backgroundColor=Pf),X(wh,{style:o,onClick:e,children:[G(VW,{...n}),t]})}const ZW="strike-through";var UW=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"++S":"Ctrl+Shift+S"},i18n:zW,icon:VW,label:function(e){return zW[e.lang][WW]},name:ZW,outer:$W});const qW="strikeUnderline",YW={cn:{[qW]:""},en:{[qW]:"Strike Underline"}};function KW(e){return G(J_,{...e,children:G(mR,{style:{position:"relative",top:.5},width:13})})}function GW({onClick:e,children:t,...n}){const o={...V_,...n.style};return n.active&&(o.backgroundColor=Pf),X(wh,{style:o,onClick:e,children:[G(KW,{...n}),t]})}const XW="strike-underline";var JW=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"+U":"Ctrl+U"},i18n:YW,icon:KW,label:function(e){return YW[e.lang][qW]},name:XW,outer:GW});const QW={textColor:"textColor",autoColor:"autoColor",moreColor:"moreColor",ok:"ok"},ez={cn:{[QW.textColor]:"",[QW.autoColor]:"",[QW.moreColor]:"",[QW.ok]:""},en:{[QW.textColor]:"Text Color",[QW.autoColor]:"Auto Color",[QW.moreColor]:"More Color",[QW.ok]:"OK"}};const tz={top:-1},nz={position:"absolute",bottom:3,height:3,width:14,boxSizing:"border-box"};function oz(e){return G(J_,{...e,children:G(yR,{})})}function iz({onClick:e,children:t,...n}){return X(oj,{...n,onClick:e,children:[G(oz,{...n,style:{position:"relative",...n.style,...tz}}),!0!==n.menu&&G(Uh,{style:{...nz,backgroundColor:n.value}}),t]})}function rz(e){const t=ez[e.lang][QW.ok],n=ez[e.lang][QW.moreColor];return G(lj,{...e,more:n,ok:t})}const lz="text-color";var sz=Object.freeze({__proto__:null,i18n:ez,icon:oz,inner:rz,label:function(e){return ez[e.lang][QW.textColor]},name:lz,outer:iz});const cz={fillColor:"fillColor",autoColor:"autoColor",moreColor:"moreColor",ok:"ok"},az={cn:{[cz.fillColor]:"",[cz.autoColor]:"",[cz.moreColor]:"",[cz.ok]:""},en:{[cz.fillColor]:"Fill Color",[cz.autoColor]:"Auto Color",[cz.moreColor]:"More Color",[cz.ok]:"OK"}};const uz={top:-1},dz={position:"absolute",bottom:3,height:3,width:14,boxSizing:"border-box"};function fz(e){return G(J_,{...e,children:G(bR,{width:14.5,style:{position:"relative",bottom:1}})})}function hz({onClick:e,children:t,...n}){return X(oj,{...n,onClick:e,children:[G(fz,{...n,style:{position:"relative",...n.style,...uz}}),!0!==n.menu&&G(Uh,{style:{...dz,backgroundColor:n.value}}),t]})}function pz(e){const t=az[e.lang][cz.ok],n=az[e.lang][cz.moreColor];return G(lj,{...e,more:n,ok:t})}const vz="fill-color";var gz=Object.freeze({__proto__:null,i18n:az,inner:pz,label:function(e){return az[e.lang][cz.fillColor]},name:vz,outer:hz});const mz={highlightColour:"highlightColour",autoColor:"autoColor",moreColor:"moreColor",ok:"ok"},yz={cn:{[mz.highlightColour]:"",[mz.autoColor]:"",[mz.moreColor]:"",[mz.ok]:""},en:{[mz.highlightColour]:"Highlight Colour",[mz.autoColor]:"Auto Color",[mz.moreColor]:"More Color",[mz.ok]:"OK"}};const bz={top:-1},Cz={position:"absolute",bottom:3,height:3,width:14,boxSizing:"border-box"};function wz(e){return G(J_,{...e,children:G(CR,{})})}function xz({onClick:e,children:t,...n}){return X(oj,{...n,onClick:e,children:[G(wz,{...n,style:{position:"relative",...n.style,...bz}}),!0!==n.menu&&G(Uh,{style:{...Cz,backgroundColor:n.value}}),t]})}function Sz(e){const t=yz[e.lang][mz.ok],n=yz[e.lang][mz.moreColor];return G(lj,{...e,more:n,ok:t})}const Ez="highlight-colour";var kz=Object.freeze({__proto__:null,i18n:yz,icon:wz,inner:Sz,label:function(e){return yz[e.lang][mz.highlightColour]},name:Ez,outer:xz});const Dz={align:"align",alignPackage:"alignPackage",horizontalAlign:"horizontalAlign",alignLeft:"alignLeft",alignCenter:"alignCenter",alignRight:"alignRight"},Iz={cn:{[Dz.align]:"",[Dz.alignPackage]:[{name:"",value:"left"},{name:"",value:"center"},{name:"",value:"right"},{name:"",value:"justify"}]},en:{[Dz.align]:"Align",[Dz.alignPackage]:[{name:"Left",value:"left"},{name:"Center",value:"center"},{name:"Right",value:"right"},{name:"Justify",value:"justify"}]}};const Nz={left:function(e){return G(J_,{...e,children:G(wR,{width:12.5})})},center:function(e){return G(J_,{...e,children:G(SR,{width:12.5})})},right:function(e){return G(J_,{...e,children:G(xR,{width:12.5})})},justify:function(e){return G(J_,{...e,children:G(ER,{width:12.5})})}};function Lz({onClick:e,children:t,...n}){var o,i;const r=null===(o=Iz[n.lang][Dz.alignPackage].find((e=>e.value===n.value)))||void 0===o?void 0:o.value;return X(oj,{...n,onClick:e,children:[r&&(null===(i=Nz[r])||void 0===i?void 0:i.call(Nz,n)),t]})}const{hotkeys:Tz}=hk;const Bz={left:function(e){return Tz.alignLeft},center:function(e){return Tz.alignCenter},right:function(e){return Tz.alignRight},justify:function(e){return Tz.alignJustify}};function Az(e){const t=Iz[e.lang][Dz.alignPackage].map((t=>({lang:e.lang,active:t.value===e.value,name:t.value,label:()=>t.name,hotkey:Bz[t.value],outer:({children:e,...n})=>X(wh,{style:{...V_,...n.style},children:[Nz[t.value](n),e]})})));return G(tj,{...e,value:t})}var Mz=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"++G":"Ctrl+Shift+G"},i18n:Iz,inner:Az,label:function(e){return Iz[e.lang][Dz.align]},name:"align",outer:Lz});const Oz="code",Rz={cn:{[Oz]:""},en:{[Oz]:"Code Block"}};function Pz(e){return G(J_,{...e,children:G("svg",{width:"14",viewBox:"0 0 12 7",children:G("path",{fill:zf,d:"M3.82041 0.146903C3.64948 -0.0240247 3.39309 -0.0240247 3.22216 0.146903L0.145461 3.13814C-0.0254667 3.30907 -0.0254667 3.56546 0.145461 3.73639L3.1367 6.72762C3.30763 6.89855 3.56402 6.89855 3.73495 6.72762C3.90587 6.5567 3.90587 6.3003 3.73495 6.12938L1.08556 3.48L3.82041 0.745151C3.90587 0.574223 3.90587 0.317831 3.82041 0.146903V0.146903ZM6.89711 0.146903C6.72619 0.146903 6.46979 0.232367 6.38433 0.488759L4.84598 6.3003C4.76051 6.5567 4.93144 6.72762 5.18783 6.81309C5.44423 6.89855 5.61515 6.72762 5.70062 6.47123L7.23897 0.659686C7.32443 0.488759 7.15351 0.232367 6.89711 0.146903V0.146903ZM11.9395 3.13814L8.94825 0.146903C8.77732 -0.0240247 8.52093 -0.0240247 8.35 0.146903C8.17907 0.317831 8.17907 0.574223 8.35 0.745151L10.9994 3.48L8.26454 6.21484C8.09361 6.38577 8.09361 6.64216 8.26454 6.81309C8.43546 6.98402 8.69186 6.98402 8.86278 6.81309L11.854 3.82185C12.0249 3.65092 12.025 3.30907 11.9395 3.13814V3.13814Z"})})})}function Fz({children:e,...t}){return X(K,{children:[G(Pz,{...t}),e]})}const Hz="code";var _z=Object.freeze({__proto__:null,hotkey:function(e){return Uf?"++C":"Ctrl+Alt+C"},i18n:Rz,label:function(e){return Rz[e.lang][Oz]},name:Hz,outer:Fz});const jz="emoji",Wz="emoji",zz={cn:{[Wz]:""},en:{[Wz]:"Emoji"}};function Vz(e){return G(J_,{...e,children:G($z,{})})}function $z(e){var t;const n=null!==(t=e.fill)&&void 0!==t?t:zf;return X("svg",{width:13.5,viewBox:"0 0 12 12",children:[G("path",{fill:n,d:"M6 0.9C8.814 0.9 11.1 3.186 11.1 6C11.1 8.814 8.814 11.1 6 11.1C3.186 11.1 0.9 8.814 0.9 6C0.9 3.186 3.186 0.9 6 0.9ZM6 0C2.688 0 0 2.688 0 6C0 9.312 2.688 12 6 12C9.312 12 12 9.312 12 6C12 2.688 9.312 0 6 0Z"}),G("path",{fill:n,d:"M3.75 3.60001C3.336 3.60001 3 3.93601 3 4.35001C3 4.76401 3.336 5.1 3.75 5.1C4.164 5.1 4.5 4.76401 4.5 4.35001C4.5 3.93601 4.164 3.60001 3.75 3.60001ZM8.25 3.60001C7.836 3.60001 7.5 3.93601 7.5 4.35001C7.5 4.76401 7.836 5.1 8.25 5.1C8.664 5.1 9 4.76401 9 4.35001C9 3.93601 8.664 3.60001 8.25 3.60001ZM6 9.3C7.494 9.3 8.7 8.094 8.7 6.6H3.3C3.3 8.094 4.506 9.3 6 9.3Z"})]})}function Zz(e){return G(Vz,{...e})}const Uz={search:"search",recent:"recent",face:"face",people:"people",biology:"biology",food:"food",activity:"activity",objects:"objects",symbols:"symbols",flags:"flags",norecent:"norecent",random:"random",noresult:"noresult"},qz={cn:{[Uz.search]:"",[Uz.recent]:"",[Uz.face]:"",[Uz.people]:"",[Uz.biology]:"",[Uz.food]:"",[Uz.activity]:"",[Uz.objects]:"",[Uz.symbols]:"",[Uz.flags]:"",[Uz.norecent]:"",[Uz.random]:"",[Uz.noresult]:""},en:{[Uz.search]:"Search",[Uz.recent]:"RECENT",[Uz.face]:"FACE",[Uz.people]:"PEOPLE",[Uz.biology]:"BIOLOGY",[Uz.food]:"FOOD",[Uz.activity]:"ACTIVITY",[Uz.objects]:"OBJECTS",[Uz.symbols]:"SYMBOLS",[Uz.flags]:"FLAGS",[Uz.norecent]:"No emojis have been used recently",[Uz.random]:"Pick one at random",[Uz.noresult]:"No emoji searched"}},Yz={[Uz.recent]:"",[Uz.face]:"",[Uz.people]:"",[Uz.biology]:"",[Uz.food]:"",[Uz.activity]:"",[Uz.objects]:"",[Uz.symbols]:"",[Uz.flags]:""},Kz="LOCAL_RECENT_EMOJI_KEY";var Gz=Object.freeze({__proto__:null,INPUT_HEIGHT:44,ITEM_HEIGHT:34,LOCAL_RECENT_EMOJI_KEY:Kz,keyEmoji:Yz}),Xz=J((()=>Promise.resolve().then((function(){return require("./Emoji-va69RICt.js")}))));const Jz=J((()=>Promise.resolve().then((function(){return require("./Fluent-lSuG-iWt.js")})).then((function(e){return e.Fluent$1}))));function Qz(e){const t=_d(e);return W((()=>G(Xz,{...t.current})),[e.lang,e.value])}var eV=Object.freeze({__proto__:null,block:Qz,hotkey:function(e){return Uf?"+E":"Ctrl+E"},i18n:zz,icon:Vz,label:function(e){return zz[e.lang][Wz]},name:jz,outer:Zz});const tV={lineHeight:"lineHeight",lineHeightPackage:"lineHeightPackage"},nV={cn:{[tV.lineHeight]:"",[tV.lineHeightPackage]:[{name:"",value:1.7},{name:"1.0",value:1},{name:"1.15",value:1.15},{name:"1.5",value:1.5},{name:"2.0",value:2},{name:"2.5",value:2.5},{name:"3.0",value:3}]},en:{[tV.lineHeight]:"Line & paragraph spacing",[tV.lineHeightPackage]:[{name:"1.0",value:1.7},{name:"1.15",value:2},{name:"1.5",value:2.5},{name:"2.0",value:3.4},{name:"2.5",value:4.3},{name:"3.0",value:5.1}]}};function oV(e){return G(J_,{...e,children:G(tR,{width:13})})}function iV({onClick:e,children:t,...n}){return X(oj,{...n,onClick:e,children:[G(oV,{...n}),t]})}function rV(e){const t=nV[e.lang][tV.lineHeightPackage].map((t=>({...t,selected:t.value===e.value})));return G(Lg,{style:{width:56},options:t,onClick:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.value)}})}const lV="line-height";var sV=Object.freeze({__proto__:null,i18n:nV,inner:rV,label:function(e){return nV[e.lang][tV.lineHeight]},name:lV,outer:iV});const cV="letterSpacing",aV={cn:{[cV]:""},en:{[cV]:"Letter Spacing"}};function uV(e){return G(J_,{...e,children:G(nR,{width:13})})}function dV({onClick:e,children:t,...n}){return X(oj,{...n,onClick:e,children:[G(uV,{...n}),t]})}const fV={display:"flex",alignItems:"center",padding:"25px 10px 13px 10px",borderRadius:4,boxShadow:Wf},hV={width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:2},pV={width:12,height:2,backgroundColor:zf},vV={position:"absolute",height:12,width:2,backgroundColor:zf},gV={height:4,width:120,borderRadius:2,marginLeft:8,marginRight:8,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:Mf,position:"relative"},mV={width:12,height:12,borderRadius:"50%",backgroundColor:"#fff",boxShadow:Wf,position:"absolute",left:0,transform:"translate(-50%, 0)",display:"flex",justifyContent:"center",alignItems:"center"},yV={width:4,height:4,borderRadius:"50%",backgroundColor:"#fff"},bV={position:"absolute",top:"calc(-100% - 6px)"},CV=50,wV=-10;function xV(e){return e>0?Math.min(CV,e)/CV*50+50:e<0?50-Math.max(wV,e)/wV*50:50}function SV(e){return e>50?Math.min(CV,(e-50)/50*CV):e<50?Math.max(wV,(50-e)/50*wV):0}function EV(e){const t={track:Z(null),thumb:Z(null)},n=function(e,t){const n=_d(e),{track:o,thumb:i}=t,r=Wd("pointermove"),l=Wd("pointerup"),s=Wd("pointermove"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("pointerdown"),d=Wd("pointerdown"),f=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",r.listener),window.addEventListener("pointerup",l.listener),()=>{window.removeEventListener("pointermove",r.listener),window.removeEventListener("pointerup",l.listener)})),[r,l]),F((()=>{const e=d.pipe(ju((()=>{var e,t,o;let i=Math.max(wV,(null!==(e=n.current.value)&&void 0!==e?e:0)-.1);return null===(o=(t=n.current).onChange)||void 0===o||o.call(t,i),Bu(0,Xa).pipe(Wu(l)).pipe(bu((()=>(i=Math.max(wV,i-.1),i))))}))).subscribe((e=>{var t,o;null===(o=(t=n.current).onChange)||void 0===o||o.call(t,e)}));return()=>e.unsubscribe()}),[n,d,l]),F((()=>{const e=f.pipe(ju((()=>{var e,t,o;let i=Math.min(CV,(null!==(e=n.current.value)&&void 0!==e?e:0)+.1);return null===(o=(t=n.current).onChange)||void 0===o||o.call(t,i),Bu(0,Xa).pipe(Wu(l)).pipe(bu((()=>(i=Math.min(CV,i+.1),i))))}))).subscribe((e=>{var t,o;null===(o=(t=n.current).onChange)||void 0===o||o.call(t,e)}));return()=>e.unsubscribe()}),[n,f,l]),F((()=>{const e=s.pipe(ju((()=>c.pipe(Wu(a)).pipe(Wu(u))))).subscribe((e=>{var t,r;const l=o.current,s=i.current;if(null===l||null===s)return;const c=l.getBoundingClientRect(),a=l.clientWidth-s.clientWidth,u=e.clientX-c.left-s.clientWidth/2,d=100*Math.min(1,Math.max(0,u/a));null===(r=(t=n.current).onChange)||void 0===r||r.call(t,SV(d))}));return()=>e.unsubscribe()}),[n,r,l,i,a,o,c,s,u]),F((()=>{const e=c.pipe(ju((({pageX:e})=>{let t=-1,s=0;return r.pipe(Wu(l)).pipe(bu((r=>{const l=o.current,c=i.current;return null===l||null===c?0:(-1===t&&(t=n.current.value),0===s&&(s=l.clientWidth-c.clientWidth),SV((r.pageX-e)/s*100+xV(t)))})))}))).subscribe((e=>{var t,o;null===(o=(t=n.current).onChange)||void 0===o||o.call(t,e)}));return()=>e.unsubscribe()}),[n,r,l,i,o,c]),{track:zd([c,s]),thumb:zd([a]),origin:zd([u]),decrease:zd([d]),increase:zd([f])}}(e,t);return X(Dh,{style:fV,onClick:e=>e.stopPropagation(),children:[G(Ev,{type:"background",style:hV,...n.decrease,children:G("div",{style:pV})}),X(wh,{style:gV,ref:t.track,...n.track,children:[G(wh,{style:yV,onClick:()=>{var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e,0)},...n.origin}),G(wh,{style:{...mV,left:`${xV(e.value)}%`},ref:t.thumb,...n.thumb,children:G("span",{style:bV,children:e.value})})]}),X(Ev,{type:"background",style:hV,...n.increase,children:[G("div",{style:pV}),G("div",{style:vV})]})]})}const kV="letter-spacing";var DV=Object.freeze({__proto__:null,i18n:aV,inner:EV,label:function(e){return aV[e.lang][cV]},name:kV,outer:dV});function IV(e){return G(J_,{...e,children:G(uR,{width:13})})}const NV="search",LV={cn:{[NV]:""},en:{[NV]:"Search"}};function TV({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:t=>{t.stopPropagation(),null==e||e(t)},children:[G(IV,{...n}),t]})}const BV={display:"flex",padding:"4px 0",borderRadius:4,boxShadow:Wf,width:300,flexDirection:"column"};function AV(e){return G(Dh,{style:{...BV,...e.style},onClick:e=>e.stopPropagation(),children:e.children})}const MV="search";var OV=Object.freeze({__proto__:null,Search:IV,hotkey:function(e){return Uf?"+F":"Ctrl+F"},i18n:LV,inner:AV,label:function(e){return LV[e.lang][NV]},name:MV,outer:TV});const RV={border:"border",borderAll:"borderAll",borderOutline:"borderOutline",borderInside:"borderInside",borderNone:"borderNone",borderLeft:"borderLeft",borderRight:"borderRight",borderTop:"borderTop",borderBottom:"borderBottom",borderColor:"borderColor",borderStyle:"borderStyle",borderShow:"borderShow",borderHide:"borderHide",moreColor:"moreColor",ok:"ok"},PV={cn:{[RV.border]:"",[RV.borderAll]:"",[RV.borderOutline]:"",[RV.borderInside]:"",[RV.borderNone]:"",[RV.borderLeft]:"",[RV.borderRight]:"",[RV.borderTop]:"",[RV.borderBottom]:"",[RV.borderColor]:"",[RV.borderStyle]:"",[RV.moreColor]:"",[RV.borderShow]:"",[RV.borderHide]:"",[RV.ok]:""},en:{[RV.border]:"Borders",[RV.borderAll]:"Border All",[RV.borderOutline]:"Border Outline",[RV.borderInside]:"Border Bold Outline",[RV.borderNone]:"Border None",[RV.borderLeft]:"Border Left",[RV.borderRight]:"Border Right",[RV.borderTop]:"Border Top",[RV.borderBottom]:"Border Bottom",[RV.borderColor]:"Border Color",[RV.borderStyle]:"Border Style",[RV.moreColor]:"More Color",[RV.borderShow]:"Border Show",[RV.borderHide]:"Border Hide",[RV.ok]:"OK"}};function FV(e,t){var n,o,i,r,l,s,c,a;switch(e){case RV.borderAll:null===(n=t.all)||void 0===n||n.call(t);break;case RV.borderOutline:null===(o=t.outline)||void 0===o||o.call(t);break;case RV.borderInside:null===(i=t.inside)||void 0===i||i.call(t);break;case RV.borderNone:null===(r=t.none)||void 0===r||r.call(t);break;case RV.borderLeft:null===(l=t.left)||void 0===l||l.call(t);break;case RV.borderRight:null===(s=t.right)||void 0===s||s.call(t);break;case RV.borderTop:null===(c=t.top)||void 0===c||c.call(t);break;case RV.borderBottom:null===(a=t.bottom)||void 0===a||a.call(t)}}function HV(e){return G(J_,{...e,children:G(jR,{})})}function _V({onClick:e,children:t,...n}){return X(oj,{...n,onClick:e,children:[G(HV,{...n}),t]})}const jV={position:"relative",boxShadow:Wf,borderRadius:4,padding:"7px 0"},WV={margin:"2px 7px 0 7px"},zV={display:"flex",paddingBottom:6},VV={width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:2,margin:"0 4px",borderStyle:""},$V={height:30,position:"relative",fontSize:12},ZV={display:"flex",alignItems:"center",height:"100%",paddingLeft:16},UV=[[{key:RV.borderNone,icon:function(e){return G(J_,{...e,children:G(zR,{})})}},{key:RV.borderAll,icon:function(e){return G(J_,{...e,children:G(HR,{})})}},{key:RV.borderOutline,icon:HV},{key:RV.borderInside,icon:function(e){return G(J_,{...e,children:G(WR,{})})}}],[{key:RV.borderLeft,icon:function(e){return G(J_,{...e,children:G($R,{})})}},{key:RV.borderRight,icon:function(e){return G(J_,{...e,children:G(ZR,{})})}},{key:RV.borderTop,icon:function(e){return G(J_,{...e,children:G(UR,{})})}},{key:RV.borderBottom,icon:function(e){return G(J_,{...e,children:G(qR,{})})}}]];function qV(e){var t;const n=PV[e.lang];return X(Dh,{style:jV,children:[G("div",{style:WV,children:UV.map(((t,o)=>G("div",{style:zV,children:t.map(((t,o)=>G(Vk,{tips:n[t.key],children:G(Ev,{style:VV,onClick:()=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{...e.value,type:t.key})},children:G(t.icon,{...e})})},o)))},o)))}),G(Ev,{style:$V,children:G(wh,{style:ZV,onClick:()=>{var t,n;return null===(t=e.onChange)||void 0===t?void 0:t.call(e,{...e.value,visible:!(null===(n=e.value)||void 0===n?void 0:n.visible)})},children:(null===(t=e.value)||void 0===t?void 0:t.visible)?n[RV.borderHide]:n[RV.borderShow]})}),G(Ev,{style:$V,children:G(oj,{...e,onChange:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{...e.value,color:t})},inner:YV,menu:!0,children:G("span",{children:n[RV.borderColor]})})})]})}function YV(e){const t=PV[e.lang][RV.ok],n=PV[e.lang][RV.moreColor];return G("div",{onPointerDown:e=>e.stopPropagation(),children:G(lj,{...e,more:n,ok:t})})}var KV=Object.freeze({__proto__:null,i18n:PV,inner:qV,keys:RV,label:function(e){return PV[e.lang][RV.border]},name:"border",outer:_V,switchType:FV});const GV="merge",XV="headsUp",JV="mergeWithFreeze",QV={cn:{[GV]:"",[XV]:"",[JV]:""},en:{[GV]:"Merge Cells",[XV]:"Heads Up!",[JV]:"You can't merge frozen rows or columns."}};function e$(e){return G(J_,{...e,children:G(YR,{width:12.5})})}function t$({onClick:e,children:t,...n}){return X(wh,{style:{...V_,...n.style},onClick:e,children:[G(e$,{...n}),t]})}const n$="merge";var o$=Object.freeze({__proto__:null,i18n:QV,label:function(e){return QV[e.lang][GV]},name:n$,outer:t$});const i$={verticalAlign:"verticalAlign",verticalPackage:"verticalPackage",verticalTop:"verticalTop",verticalMiddle:"verticalMiddle",verticalBottom:"verticalBOttom"},r$={cn:{[i$.verticalAlign]:"",[i$.verticalPackage]:[{name:"",value:"top"},{name:"",value:"middle"},{name:"",value:"bottom"}]},en:{[i$.verticalAlign]:"Vertical Align",[i$.verticalPackage]:[{name:"Top",value:"top"},{name:"Middle",value:"middle"},{name:"Bottom",value:"bottom"}]}};const l$={top:function(e){return G(J_,{...e,children:G(kR,{})})},middle:function(e){return G(J_,{...e,children:G(DR,{width:13})})},bottom:function(e){return G(J_,{...e,children:G(IR,{})})}};function s$({onClick:e,children:t,...n}){var o,i,r;const l=null===(o=r$[n.lang][i$.verticalPackage].find((e=>e.value===n.value)))||void 0===o?void 0:o.value;return X(oj,{...n,onClick:e,children:[null!==(r=l&&(null===(i=l$[l])||void 0===i?void 0:i.call(l$,n)))&&void 0!==r?r:l$.middle(n),t]})}const c$={top:function(e){return Uf?"++T":"Ctrl+Shift+T"},middle:function(e){return Uf?"++M":"Ctrl+Shift+M"},bottom:function(e){return Uf?"++B":"Ctrl+Shift+B"}};function a$(e){const t=r$[e.lang][i$.verticalPackage].map((t=>({lang:e.lang,active:t.value===e.value,name:t.value,label:()=>t.name,hotkey:c$[t.value],outer:({children:e,...n})=>X(wh,{style:{...V_,...n.style},children:[l$[t.value](n),e]})})));return G(tj,{...e,value:t})}var u$=Object.freeze({__proto__:null,i18n:r$,inner:a$,keys:i$,label:function(e){return r$[e.lang][i$.verticalAlign]},name:"vertical",outer:s$});function d$(e){const[t,n]=qd((()=>({more:{fold:0,active:!1}}))),o=function(e,t){if(e.sliceTools)return e.sliceTools(e,t);let{fold:n}=t.more;if(n<=0)return e.tools;const o=[],i=[...e.tools];let r=i.length-1;for(;r>=0&&n>=0;){let e=i[r].length-1;for(;e>=0&&n>=0;)o.push(i[r][e]),i[r]=i[r].slice(0,-1),e--,n--;if(!(n>=0))break;0===i[r].length&&i.splice(r,1),r--}return i[r]=[...i[r],{...mj,active:t.more.active,inner:e=>uj({...e,value:o})}],i}(e,t),i=bj();return yj(e,t,n,i),G(fj,{value:n,children:G(dj,{value:t,children:G(hj,{value:e.ref,children:G("div",{style:{...B_,...e.style,width:"unset",justifyContent:t.more.fold>0?"flex-start":"center"},ref:i.container,children:o.map(((t,n)=>{const r=n===o.length-1;return X("div",{style:{...A_,marginRight:r?0:T_},children:[t.map(((n,o)=>G("div",{ref:e=>{i.tools.set(n.name,e)},children:G(f$,{lang:e.lang,last:r&&o===t.length-1,tipsDirection:e.tipsDirection,...n})},n.name))),!r&&G(Uh,{type:"right",style:M_})]},n)}))})})})})}function f$(e){const t=e.active?{borderRadius:2,opacity:e.disable?.6:1}:{opacity:e.disable?.6:1};let n=e.label(e);return e.hotkey&&(n=`${n} (${e.hotkey(e)})`),"function"==typeof e.inner?G(_g,{view:G(e.inner,{...e}),active:e.active,style:{...O_,marginRight:e.last?0:T_},children:G(Vk,{tips:n,hide:e.hideTips||e.active,direction:e.tipsDirection,children:G("div",{style:t,children:G(Ev,{style:{...R_,...e.style},children:G(e.outer,{...e})})})})}):G(Vk,{tips:n,style:{...O_,marginRight:e.last?0:T_},hide:e.hideTips,direction:e.tipsDirection,children:G("div",{style:t,children:G(Ev,{style:{...R_,...e.style},children:G(e.outer,{...e})})})})}function h$(e){let t="";return!0===e.underline&&(t+="underline "),!0===e.lineThrough&&(t+="line-through "),""===t&&(t="none"),{textDecorationLine:t.trim()}}function p$(e,t){var n,o;const i=null!==(o=null===(n=e.editor.selectionStyle)||void 0===n?void 0:n[t])&&void 0!==o?o:e.editor.style[t];if(void 0!==i)return i}function v$(e,t){var n,o;const i=t.editor.selectionStyle;if(e.name===hW){const e=null==i?void 0:i.fontWeight;if("bolder"===e||"bold"===e)return!0;if(!isNaN(Number(e)))return Number(e)>=700}else{if(e.name===_W)return"italic"===(null==i?void 0:i.fontStyle);if(e.name===XW)return(null!==(n=null==i?void 0:i.textDecorationLine)&&void 0!==n?n:"").indexOf("underline")>=0;if(e.name===ZW)return(null!==(o=null==i?void 0:i.textDecorationLine)&&void 0!==o?o:"").indexOf("line-through")>=0}return!1}function g$(e,t){let{fold:n}=t.more;if(n<=0)return e.tools;const o=[],i=[...e.tools];let r=i.length-1;for(;r>=0&&n>=0;){let e=i[r].length-1;for(;e>=0&&n>=0;){i[r][e].name!==MV?(o.push(i[r][e]),i[r]=i[r].slice(0,-1),e--,n--):(e--,n--)}if(!(n>=0))break;0===i[r].length&&i.splice(r,1),r--}return i[r]=[...i[r],{...mj,active:t.more.active,inner:e=>uj({...e,value:o})}],i}const m$=44,y$="entry",b$="afoqwelkrmfaodi",C$="MOBILE_FILE_TREE",w$="MOBILE_FILE_STICKY",x$="MOBILE_FILE_CONTENT",S$="MOBILE_FILE_SCROLLBAR",E$={EDITOR:"editor",FILE:"file",NODE:"node",SHEET:"sheet",REFER:"refer",LINK:"link",PANEL:"panel",EMOJI:"emoji",TOGGLE:"toggle",OUTLINE:"outline",SELECTOR:"selector",OPTION:"option",SLASH:"slash",TOOL_BAR:"tool-bar",NONE:"none"},k$=">",D$=222,I$=30,N$=800,L$=1e4,T$={PASTE_NODE:"paste-node",PASTE_LINK:"paste-link",PASTE_BACK:"paste-back",PASTE_SHEET:"paste-sheet"},B$="SAFARI_MODAL_VISIBLE",A$="shuli",M$="editor",O$="assets",R$="catalog",P$="reference",F$="segment",H$=`/${A$}/bootstrap.json`,_$=`/${A$}/changelog.json`,j$=`/${A$}/${M$}`,W$=`/${A$}/${O$}`,z$=`/${A$}/${R$}`,V$=`/${A$}/${F$}`,$$=`/${A$}/${R$}/index.json`,Z$=`/${A$}/${P$}`,U$=`/${A$}/${P$}/index.json`,q$={1:Bf,2:"#f57c00",3:`linear-gradient(135deg, ${Bf} , #f57c00)`},Y$={paddingBottom:400},K$={display:"flex",flex:1,height:"100%"},G$={position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1e6},X$={flex:1,position:"relative"},J$={position:"absolute",left:qf?.5:0,right:0,paddingTop:8,paddingBottom:8,zIndex:10001},Q$={marginLeft:5,marginRight:5,transform:"translateY(0)",transition:"transform 300ms"},eZ={position:"absolute",top:8,left:0,right:0,transform:"translateY(0)",transition:"transform 300ms",display:"flex",justifyContent:"center",alignItems:"center"},tZ={display:"flex",alignItems:"center",position:"relative",top:Kf?-.3:-.5},nZ={display:"inline-block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",verticalAlign:"middle"},oZ={display:"inline-block",paddingLeft:4,paddingRight:4,position:"relative",top:1.5},iZ={position:"relative",top:1.5},rZ={position:"relative",overflow:"hidden",height:300},lZ={position:"absolute",top:0},sZ={position:"fixed",left:0,opacity:0,height:400,resize:"none",pointerEvents:"none"},cZ={width:18,height:18,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",right:8,backgroundColor:"#fff",cursor:"pointer",opacity:.8},aZ={lineHeight:1.5},uZ={marginTop:10},dZ={position:"relative",paddingLeft:18,display:"flex",alignItems:"center"},fZ={position:"absolute",left:0,display:"flex",alignItems:"center"},hZ={fontSize:14,marginTop:15},pZ={width:"100%",boxSizing:"border-box",position:"relative",top:0,left:0,right:0,zIndex:1,fontSize:14,fontWeight:Vf},vZ={position:"absolute",top:0,left:0,right:0,zIndex:2,fontSize:14,backgroundColor:Tf},gZ={flex:1,height:28,boxSizing:"border-box",backgroundColor:Af,borderRadius:15,display:"flex",alignItems:"center",paddingLeft:10,paddingRight:10,marginLeft:8,marginRight:8,marginTop:8,position:"absolute",left:0,right:0,zIndex:1},mZ={position:"relative",top:1.5},yZ={outline:"none",border:"none",height:"100%",padding:"0 6px",color:Hf,backgroundColor:"transparent",position:"absolute",left:24,width:"calc(100% - 36px)",fontSize:14,fontWeight:Vf},bZ={position:"absolute",left:30,color:jf,pointerEvents:"none",fontSize:14},CZ={display:"flex",flex:1,fontSize:14,alignItems:"center",height:"100%"},wZ={display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:2,pointerEvents:"visible"},xZ={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:Tf,textAlign:"center",paddingTop:100,color:_f},SZ={height:28,display:"flex",alignItems:"center",color:_f,position:"relative",top:8},EZ={display:"flex",marginTop:8,marginLeft:8,marginRight:8,marginBottom:8,position:"absolute",left:0,right:0,top:36,zIndex:1},kZ={flex:1,height:28,boxSizing:"border-box",backgroundColor:Af,borderRadius:15,display:"flex",alignItems:"center",paddingLeft:10,paddingRight:10,position:"relative"},DZ={width:D$,height:"100%",flexShrink:0,zIndex:1e3,backgroundColor:Tf,position:"relative"},IZ={position:"absolute",right:-2,top:0,bottom:0,width:4,cursor:"col-resize"},NZ={position:"absolute",bottom:0,opacity:0,pointerEvents:"none"},LZ={position:"absolute",width:200,height:"50vh",maxHeight:"80vh",zIndex:1e5,left:0,top:0,boxShadow:Wf,borderRadius:8,overflow:"hidden",transition:"transform 200ms, opacity 100ms",transformOrigin:"right center"},TZ={position:"absolute",top:0},BZ={height:30,flex:1,position:"absolute",top:0,left:0,right:0,cursor:"move",display:"flex",alignItems:"center",justifyContent:"flex-end",zIndex:1},AZ={width:20,height:20,borderRadius:4,marginRight:4,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},MZ={position:"absolute",top:0,bottom:0,left:0,width:5,zIndex:100,cursor:"col-resize"},OZ={position:"absolute",top:0,bottom:0,right:0,width:5,zIndex:100,cursor:"col-resize"},RZ={position:"absolute",left:0,right:0,top:0,height:5,zIndex:100,cursor:"row-resize"},PZ={position:"absolute",left:0,right:0,bottom:0,height:5,zIndex:100,cursor:"row-resize"},FZ={position:"absolute",right:0,top:0,bottom:0,width:22,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",marginRight:6,pointerEvents:"none",zIndex:100001},HZ={position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",pointerEvents:"visible",cursor:"pointer",paddingRight:6,transition:"transform 200ms, opacity 100ms",transformOrigin:"right center"},_Z={height:3,display:"flex",justifyContent:"flex-end",marginTop:6,marginBottom:6,borderRadius:3},jZ={width:3,height:3,borderRadius:"50%",marginLeft:1},WZ={width:750,height:Math.min(document.body.clientHeight,Math.min(640,document.body.clientHeight-250)),top:0,padding:"24px 0 24px 0"},zZ={display:"flex",flexDirection:"column",paddingTop:0,position:"absolute",boxSizing:"border-box",bottom:0,top:0,left:0,right:0,overflow:"auto"},VZ={display:"flex",alignItems:"center",paddingTop:24,paddingLeft:24,paddingRight:24,paddingBottom:8,marginBottom:16,fontSize:18,fontWeight:"bolder",position:"sticky",top:0,width:"100%",boxSizing:"border-box",zIndex:100},$Z={marginRight:10,display:"flex",alignItems:"center",marginBottom:3},ZZ={flexShrink:0,borderRadius:10,marginBottom:25,marginLeft:24,marginRight:24,boxSizing:"border-box",boxShadow:"0 0 3px 1px rgba(0, 0, 0, 0.1)"},UZ={flexShrink:0,height:60,borderRadius:10,marginLeft:24,marginRight:24,marginBottom:25,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",boxShadow:"0 0 3px 1px rgba(0, 0, 0, 0.1)"},qZ={height:36,borderTopLeftRadius:10,borderTopRightRadius:10,backgroundColor:Af,marginBottom:25,display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:0},YZ={display:"flex",marginLeft:10,alignItems:"center"},KZ={display:"flex",marginRight:10},GZ={display:"flex",height:40,marginBottom:25,fontSize:14,color:_f,position:"relative"},XZ={position:"absolute",left:15,bottom:-18,color:"red",fontSize:11},JZ={display:"flex",alignItems:"center",justifyContent:"flex-end",width:100,marginRight:30},QZ={flex:1,marginRight:30,position:"relative",display:"flex",alignItems:"center"},eU={width:26,height:26,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:4},tU={marginLeft:5,fontSize:14,color:_f,display:"flex",alignItems:"center"},nU={marginLeft:5},oU={border:"1px solid #fff",borderRadius:3,padding:"2px 4px",color:"#fff",fontSize:10,marginLeft:5,marginRight:3,cursor:"pointer"},iU={outline:"none",border:"none",width:"100%",height:40,boxSizing:"border-box",backgroundColor:Tf,borderRadius:20,position:"relative",color:Hf,padding:"4px 15px 4px 15px",boxShadow:"inset 0 0 3px 1px rgba(0, 0, 0, 0.1)"},rU={boxShadow:"none"},lU={height:40,maxHeight:240,width:"100%",color:Hf,backgroundColor:Tf,borderRadius:20,boxSizing:"border-box",padding:"4px 15px 4px 15px",boxShadow:"inset 0 0 3px 1px rgba(0, 0, 0, 0.1)",cursor:"pointer",position:"absolute",display:"flex",alignItems:"flex-start",alignSelf:"flex-start",transition:"height 200ms",willChange:"height",overflow:"hidden",zIndex:2},sU={height:40,width:"100%",color:Hf,backgroundColor:Tf,borderRadius:20,boxSizing:"border-box",padding:"4px 15px 4px 15px",boxShadow:"inset 0 0 3px 1px rgba(0, 0, 0, 0.1)",cursor:"pointer",position:"absolute",display:"flex",alignItems:"flex-start",alignSelf:"flex-start",transition:"height 200ms",willChange:"height",overflow:"hidden",zIndex:1},cU={display:"flex",position:"relative",top:6,overflow:"hidden"},aU={display:"flex",position:"relative",top:6,overflow:"hidden"},uU={minHeight:40,position:"absolute",top:40,left:0,right:0,maxHeight:200,overflow:"auto"},dU={minHeight:40,position:"absolute",top:40,left:0,right:0},fU={display:"flex",height:40,justifyContent:"flex-start",alignItems:"center",paddingLeft:15,paddingRight:15,boxSizing:"border-box",position:"relative"},hU={position:"absolute",right:13.5,alignSelf:"center",display:"flex"},pU={position:"absolute",right:12,top:13.5,display:"flex"},vU={position:"absolute",right:12,top:13.5,display:"flex"},gU={position:"relative",display:"inline-flex"},mU={position:"absolute",right:-3.5,top:-3,border:"1px solid #fff",width:6,height:6,borderRadius:"50%"},yU={display:"inline-flex",animationName:"rotate",animationDuration:"1s",animationTimingFunction:"linear",animationIterationCount:"infinite"},bU={display:"inline-flex",transition:"transform 1s linear",transform:"rotate(0deg)"},CU={display:"inline-flex",animation:"rotate 1.2s linear infinite",cursor:"pointer"},wU={width:14,display:"flex",marginRight:1,alignItems:"center",justifyContent:"center"},xU={display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"transform 200ms"},SU={transform:"rotate(90deg)"},EU={transform:"rotate(-90deg)"},kU={position:"absolute",right:12,display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",width:15,height:15},DU={display:"flex",marginBottom:25,marginLeft:30,marginRight:30},IU={flex:1,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:20},NU={position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:20,paddingBottom:20},LU={width:200,height:200,borderRadius:8,overflow:"hidden"},TU={marginTop:Kf?20:10,fontSize:14},BU={fontSize:12,marginTop:10,color:"red"},AU={position:"absolute",left:"100%",width:180,top:0,paddingTop:6,paddingBottom:6,borderRadius:4,boxShadow:Wf,zIndex:1},MU={display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:16,paddingRight:16,height:30,fontSize:12},OU=U({}),RU=U({}),PU=U(null),FU=U(null),HU=U(null),_U=U(null),jU=U(null),WU=U(null),zU=U(null),VU=U(null),$U=U(null),ZU=U(null),UU=U(null),qU=U(null),YU=U(null),KU=U(null),GU=U(null),XU=(e,t)=>n=>(n.changelog=e,t&&(n=wq({changelog:!0})(n)),n),JU=(e,t)=>n=>(n.changelog||(n.changelog={}),n.changelog[e]||(n.changelog[e]={}),n.changelog[e][t]||(n.changelog[e][t]={}),n),QU=(e,t,n=0)=>o=>{var i,r,l,s,c,a,u;o=JU("update",e)(o);const{uuid:d,sn:f}=fRe(t);if(n>=0){const t=o.changelog.update[e],r=Date.now();void 0===t[d]&&(t[d]={});const l=null!==(i=t[d][f])&&void 0!==i?i:[];l[n]=Math.floor(r/1e3),t[d][f]=l}const h=null===(l=null===(r=o.changelog.delete)||void 0===r?void 0:r[e])||void 0===l?void 0:l[d];if(h){const t=h.indexOf(f);-1!==t&&h.splice(t,1),Pc(null===(c=null===(s=o.changelog.delete)||void 0===s?void 0:s[e])||void 0===c?void 0:c[d])&&(null===(u=null===(a=o.changelog.delete)||void 0===a?void 0:a[e])||void 0===u||delete u[d])}return o=wq({changelog:!0})(o)},eq=(e,t)=>n=>{var o,i,r,l,s,c,a,u,d,f,h,p;n=JU("delete",e)(n);const{uuid:v,sn:g}=fRe(t);if(!(null===(l=null===(r=null===(i=null===(o=n.changelog.update)||void 0===o?void 0:o[e])||void 0===i?void 0:i[v])||void 0===r?void 0:r[g])||void 0===l?void 0:l[1]))return n;const m=n.changelog.delete[e],y=null!==(s=m[v])&&void 0!==s?s:[];return-1===y.indexOf(g)&&y.push(g),m[v]=y,null===(u=null===(a=null===(c=n.changelog.update)||void 0===c?void 0:c[e])||void 0===a?void 0:a[v])||void 0===u||delete u[g],Pc(null===(f=null===(d=n.changelog.update)||void 0===d?void 0:d[e])||void 0===f?void 0:f[v])&&(null===(p=null===(h=n.changelog.update)||void 0===h?void 0:h[e])||void 0===p||delete p[v]),n=wq({changelog:!0})(n)},tq=(e,t)=>n=>{var o,i,r,l,s,c,a,u,d,f,h,p,v;const{uuid:g,sn:m}=fRe(t),y=null===(i=null===(o=n.changelog.delete)||void 0===o?void 0:o[e])||void 0===i?void 0:i[g];if(y){const t=y.indexOf(m);-1!==t&&y.splice(t,1),Pc(null===(l=null===(r=n.changelog.delete)||void 0===r?void 0:r[e])||void 0===l?void 0:l[g])&&(null===(c=null===(s=n.changelog.delete)||void 0===s?void 0:s[e])||void 0===c||delete c[g])}return null===(d=null===(u=null===(a=n.changelog.update)||void 0===a?void 0:a[e])||void 0===u?void 0:u[g])||void 0===d||delete d[m],Pc(null===(h=null===(f=n.changelog.update)||void 0===f?void 0:f[e])||void 0===h?void 0:h[g])&&(null===(v=null===(p=n.changelog.update)||void 0===p?void 0:p[e])||void 0===v||delete v[g]),n=wq({changelog:!0})(n)},nq=(e,t,n)=>o=>{var i,r;const l=null===(r=null===(i=(o=JU("record",e)(o)).changelog)||void 0===i?void 0:i.record)||void 0===r?void 0:r[e];return l?(l[t]=n,o):o},oq=(e,t)=>n=>{var o,i,r;return null===(r=null===(i=null===(o=n.changelog)||void 0===o?void 0:o.record)||void 0===i?void 0:i[e])||void 0===r||delete r[t],n},{isNodeEqual:iq,isEmptyNode:rq,transformEditNodeToNode:lq,injectSplitBlockNodeStyle:sq,DetectFlag:cq}=hk,{getBranchByPath:aq,recursiveTree:uq,recursiveTreeSource:dq}=OB,fq=e=>t=>(void 0===t.store&&(t.store={}),t.store.pending=e,t),hq=()=>e=>{const{editor:{uids:t},file:n,store:o}=e;if(!o||!n)return e;const{editor:i,reference:r,crud:l}=o;if(l)return e;const s=n.currentPageId;for(const e in i)e!==s&&delete i[e];const c=Object.values(null!=t?t:{});for(const e in r)c.includes(e)||delete r[e];e=Vq()(e);for(const t of n.tree){const n=X_e(t);e=bq(n)(e)}return e=vq()(e)},pq=()=>e=>{const{file:t,undoredo:n}=e;if(!t||!n)return e;const o=t.currentPageId;for(const e in n)o!==e&&delete n[e];return e},vq=()=>e=>(e=Uq()(e),e=Kq()(e),e=Jq()(e)),gq=e=>t=>{var n,o,i;if(!e)return t;t.store||(t.store={});const{editor:r,catalog:l,reference:s}=e,c={};if(r)for(const e in r)(null===(n=t.store.editor)||void 0===n?void 0:n[e])||(c.editor||(c.editor={}),c.editor[e]=r[e]);if(l)for(const e in l)(null===(o=t.store.catalog)||void 0===o?void 0:o[e])||(c.catalog||(c.catalog={}),c.catalog[e]=l[e]);if(s)for(const e in s)(null===(i=t.store.reference)||void 0===i?void 0:i[e])||(c.reference||(c.reference={}),c.reference[e]=s[e]);return t=mq(c)(t)},mq=(e,t)=>n=>{if(!e)return n;n.store||(n.store={}),n=t?Lq(e)(n):Nq(e)(n),n=Wq(e)(n),n=Hq(e)(n);const{record:o,crud:i}=e;return o&&(n=wq(o)(n)),i&&(n=Eq(i)(n)),n},yq=e=>t=>{void 0===t.store&&(t.store={}),void 0===t.store.reference&&(t.store.reference={});const n=t.store.reference;for(const t in e)void 0===n[t]&&(n[t]=e[t]);return t},bq=e=>t=>{void 0===t.store&&(t.store={}),void 0===t.store.catalog&&(t.store.catalog={});const n=t.store.catalog;for(const t in e)void 0===n[t]&&(n[t]=e[t]);return t},Cq=(e,t)=>n=>{void 0===n.store&&(n.store={}),void 0===n.store.editor&&(n.store.editor={});return n.store.editor[e]=Eje(t),n},wq=e=>t=>(void 0===t.store&&(t.store={}),void 0===t.store.record&&(t.store.record={}),Object.assign(t.store.record,e),t),xq=()=>e=>{var t;return null===(t=e.store)||void 0===t||delete t.record,e},Sq=()=>e=>(void 0===e.store&&(e.store={}),void 0===e.store.crud&&(e.store.crud={}),e),Eq=e=>t=>(e.create&&(t=qq(e.create)(t)),e.update&&(t=Gq(e.update)(t)),e.delete&&(t=$q(e.delete)(t)),t),kq=(e,t,n=!0)=>o=>{var i,r,l;void 0===o.store&&(o.store={}),void 0===o.store.editor&&(o.store.editor={});const s=o.store.editor,c=t.data.children[0];if(Fve(c)){const t=null===(i=c.props)||void 0===i?void 0:i.id;if(t&&t!==e)return o=vq()(o),o=nY()(o)}o=s[e]?Gq({editor:[e]})(o):qq({editor:[e]})(o),n&&(o=QU("editor",e)(o));const a=Eje(t);if(a.data.children.length>L$){const e=null!==(r=navigator.hardwareConcurrency)&&void 0!==r?r:4,t=null!==(l=a.segments)&&void 0!==l?l:[];for(let n=t.length;n<e;n++)t[n]=aRe();a.segments=t}return s[e]=a,o},Dq=(e,t=!0)=>n=>{var o;return void 0===(e=null!=e?e:null===(o=n.file)||void 0===o?void 0:o.currentPageId)||n.editor.detect.flag!==cq.STATIC?n:n=kq(e,n.editor,t)(n)},Iq=e=>t=>{var n,o,i;if(void 0===(e=null!=e?e:null===(n=t.file)||void 0===n?void 0:n.currentPageId))return t;if(!Aje(e,t.store))return t;const r=null===(i=null===(o=t.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[e];if(void 0===r)return t;let l=!1;const{data:s,uids:c={}}=r,a=dc(s.children);if(!rq(a,!0)){const e=vPe();sq(e),s.children.push(e),l=!0}return l&&(t=kq(e,r)(t)),t},Nq=e=>t=>(void 0===t.store&&(t.store={}),void 0===t.store.editor&&(t.store.editor={}),Object.assign(t.store.editor,e.editor),t),Lq=e=>t=>{var n;if(!(null===(n=t.store)||void 0===n?void 0:n.editor)||!e.editor)return t;for(const n in e.editor){const o=t.store.editor[n],i=e.editor[n];o?(o.data=i.data,o.uids=i.uids):t.store.editor[n]=i}return t},Tq=(e,t=!0,n)=>o=>{var i,r,l,s,c;if(null==n?void 0:n(e))return o;const a=null===(r=null===(i=(o=v9(e)(o)).store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[e];if(void 0===a)return o;const{data:u,uids:d}=a;o=Gq({editor:[e]})(o),o=QU("editor",e)(o);for(const t in d){const n=d[t],i=null===(s=null===(l=o.store)||void 0===l?void 0:l.reference)||void 0===s?void 0:s[n];if(!i)continue;const r={...i.data};r.props={...r.props,uid:t},o=Rq(d[t],r,e)(o)}if(!t)return o;const f=null===(c=o.store)||void 0===c?void 0:c.reference,{children:h}=H_e(u,f);return uq(null!=h?h:[],(({type:e,id:i})=>{"page"===e&&(o=Tq(i,t,n)(o))})),o},Bq=(e,t=!0,n)=>o=>{var i,r,l,s,c;if(null==n?void 0:n(e))return o;const a=null===(r=null===(i=o.store)||void 0===i?void 0:i.auth)||void 0===r?void 0:r.delete;if(!(null==a?void 0:a.includes(e)))return o;const u=null===(s=null===(l=(o=v9(e)(o)).store)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[e];if(void 0===u)return o;const{data:d,uids:f}=u;o=$q({editor:[e],catalog:[e]})(o),o=eq("editor",e)(o);for(const t in f)o=Fq(f[t],t,e)(o);if(!t)return o;for(const i of d.children)if(Fve(i)){const r=null===(c=i.props)||void 0===c?void 0:c.id;if(!r||r===e)continue;o=Bq(r,t,n)(o)}return o},Aq=e=>t=>{var n,o;const i=null===(o=null===(n=t.store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[e];return i?(delete i.highlights,delete i.ghighlights,t):t},Mq=(e,t)=>n=>{var o,i,r;if(void 0===(null===(o=n.store)||void 0===o?void 0:o.reference))return n;for(const o in e){const{id:l}=null!==(i=e[o].props)&&void 0!==i?i:{};if(void 0===l)continue;const s=lq(e[o]);void 0===(null===(r=s.props)||void 0===r?void 0:r.uid)&&(s.props||(s.props={}),s.props.uid=o),n=Oq(l,s,null!=t?t:null)(n)}return delete n.editor.ureference,n},Oq=(e,t,n,o=!0)=>i=>{void 0===i.store&&(i.store={}),void 0===i.store.reference&&(i.store.reference={});const r={...t.props},l=r.uid;delete r.uid;const s={...t,props:r},c=MPe(t);let a=i.store.reference[e];if((null==a?void 0:a.count)>0){if(iq(s,a.data))return i;a.data=s,i=Gq({reference:[e]})(i),c&&(i=Gq({assets:[e]})(i))}else n&&l&&(a={data:s,count:1,detail:{[n]:[l]}},i.store.reference[e]=a,i=qq({reference:[e]})(i),c&&(i=qq({assets:[e]})(i)));if(n){let e=a.detail[n];et(e)&&(e=e.filter((e=>!!e)),l&&!e.includes(l)&&(e.push(l),a.count++),a.detail[n]=e)}return o&&(i=QU("reference",l)(i)),i=nq("reference",l,e)(i)},Rq=(e,t,n,o=!0)=>i=>{var r,l,s,c,a,u,d,f;const h=null===(s=null===(l=null===(r=i.store)||void 0===r?void 0:r.reference)||void 0===l?void 0:l[e])||void 0===s?void 0:s.count;t&&void 0!==n&&(i=Oq(e,t,n,o)(i));const p=null===(c=null==t?void 0:t.props)||void 0===c?void 0:c.uid;if(void 0===p)return i;const v=null===(u=null===(a=i.store)||void 0===a?void 0:a.reference)||void 0===u?void 0:u[e];if(v&&void 0!==h&&h>0){const e=null!==(d=v.detail)&&void 0!==d?d:{};n&&p&&(void 0===e[n]?e[n]=[p]:e[n].includes(p)||e[n].push(p),v.detail=e);let t=0;for(const n in e)t+=e[n].length;v.count=t}return(null===(f=null==v?void 0:v.data.props)||void 0===f?void 0:f.type)===Qpe&&(i=Gq({assets:[e]})(i)),i=Gq({reference:[e]})(i),o&&(i=QU("reference",p)(i)),i=nq("reference",p,e)(i)},Pq=(e,t)=>t=>{var n,o,i;const r=null===(o=null===(n=t.store)||void 0===n?void 0:n.reference)||void 0===o?void 0:o[e];return void 0===r?t:((null===(i=null==r?void 0:r.data.props)||void 0===i?void 0:i.type)===Qpe&&(t=$q({assets:[e]})(t)),t=$q({reference:[e]})(t))},Fq=(e,t,n,o=!0)=>i=>{var r,l,s,c;const a=null===(l=null===(r=i.store)||void 0===r?void 0:r.reference)||void 0===l?void 0:l[e];if(!a)return i;const u=null!==(s=a.detail)&&void 0!==s?s:{};if(!u[n])return i;const d=u[n].indexOf(t);u[n].splice(d,1),Pc(u[n])&&delete u[n];let f=0;for(const e in u)f+=u[e].length;return a.count=f,(null===(c=null==a?void 0:a.data.props)||void 0===c?void 0:c.type)===Qpe&&(i=Gq({assets:[e]})(i)),i=Gq({reference:[e]})(i),a.count<=0&&(i=Pq(e)(i)),o&&(i=eq("reference",t)(i)),i},Hq=e=>t=>(void 0===t.store&&(t.store={}),void 0===t.store.reference&&(t.store.reference={}),Object.assign(t.store.reference,e.reference),t),_q=(e,t)=>n=>{var o;const i=null===(o=n.file)||void 0===o?void 0:o.tree;if(void 0===i)return n;const r=V_e(i,e);if(null===r)return n;const l=$_e(i,e);return uq([r],((e,o)=>{(t||"outline"===e.type||e.id===r.id)&&(n=jq(e,o)(n))}),null!=l?l:void 0),n},jq=(e,t,n,o=!0)=>i=>{var r,l,s,c,a,u;const d=null===(r=i.file)||void 0===r?void 0:r.tree;if(!d)return i;let f=null;if(f=e.path?aq(d,e.path):V_e(d,e.id),!f)return i;if("root"!==f.type&&"page"!==f.type)if(f.path){let e=f.path;for(;f&&"outline"===f.type;)e=hc(e),f=aq(d,e);if(e.length&&(t=null!==(l=aq(d,hc(e)))&&void 0!==l?l:void 0),!f)return i}else{let e=!1;const n=f.id;dq(d,((o,i)=>{if(e)return!0;const r=dc(o);if(!r)return!0;if(r.id===n){e=!0;for(let e=o.length-1;e>=0;e--){const n=o[e].type;if("root"===n||"page"===n)return f=o[e],t=o[e-1],!0}return!0}}))}else t||(t=f.path?null!==(s=aq(d,hc(f.path)))&&void 0!==s?s:void 0:null!==(c=$_e(d,f.id))&&void 0!==c?c:void 0);const{id:h,type:p}=f;if(void 0===p)return i;const v=null!==(u=null===(a=i.store)||void 0===a?void 0:a.catalog)&&void 0!==u?u:{},g=X_e(f,t,!n);for(const e in g){const t=g[e].children;(null==t?void 0:t.length)&&t.some((e=>!e))&&delete g[e]}n?Object.assign(v,g):v[h]=g[h],void 0===i.store&&(i.store={}),i.store.catalog=v;for(const e in g)i=Gq({catalog:[e]})(i);return o&&t&&(i=jq(t,void 0,!1,!1)(i)),i},Wq=e=>t=>(void 0===t.store&&(t.store={}),void 0===t.store.catalog&&(t.store.catalog={}),Object.assign(t.store.catalog,e.catalog),t),zq=e=>t=>{var n,o,i,r;const l=null!==(o=null===(n=t.store)||void 0===n?void 0:n.catalog)&&void 0!==o?o:{};if(void 0===l[e])return t;const s=null===(i=l[e].parent)||void 0===i?void 0:i.id;if(s&&l[s]){const n=l[s].children;if(n){const o=n.findIndex((t=>t.id===e));-1!==o&&n.splice(o,1);const i=null===(r=l[e].children)||void 0===r?void 0:r.slice();if(null==i?void 0:i.length)for(const{id:e}of i)t=zq(e)(t)}}return t=$q({catalog:[e]})(t)},Vq=()=>e=>{var t;return null===(t=e.store)||void 0===t||delete t.catalog,e},$q=e=>t=>{var n;void 0===t.store&&(t.store={}),void 0===t.store.crud&&(t.store.crud={}),void 0===t.store.crud.delete&&(t.store.crud.delete={});const o=t.store.crud.delete;for(const t in e){const i=t,r=o[i],l=null!==(n=e[i])&&void 0!==n?n:[];o[i]=r?ia([...r,...l]):l,Pc(o[i])&&delete o[i]}return Pc(o)&&delete t.store.crud.delete,t=Yq(e)(t),t=Xq(e)(t)},Zq=e=>t=>{var n,o,i,r;const l=null===(o=null===(n=t.store)||void 0===n?void 0:n.crud)||void 0===o?void 0:o.delete;if(!l)return t;for(const t in e){const n=t,o=l[n],i=e[n];if(o&&i){for(const e of i){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}Pc(l[n])&&delete l[n]}}return Pc(l)&&(null===(r=null===(i=t.store)||void 0===i?void 0:i.crud)||void 0===r||delete r.delete),t},Uq=()=>e=>{var t,n,o,i;return null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n||delete n.delete,Pc(null===(o=e.store)||void 0===o?void 0:o.crud)&&(null===(i=e.store)||void 0===i||delete i.crud),e},qq=e=>t=>{var n;void 0===t.store&&(t.store={}),void 0===t.store.crud&&(t.store.crud={}),void 0===t.store.crud.create&&(t.store.crud.create={});const o=t.store.crud.create,i=t.store.crud.update;for(const t in e){const r=t,l=o[r],s=null==i?void 0:i[r],c=(null!==(n=e[r])&&void 0!==n?n:[]).filter((e=>!(null==s?void 0:s.includes(e))));o[r]=l?ia([...l,...c]):c,Pc(o[r])&&delete o[r]}return Pc(o)&&delete t.store.crud.create,t=Zq(e)(t)},Yq=e=>t=>{var n,o,i,r;const l=null===(o=null===(n=t.store)||void 0===n?void 0:n.crud)||void 0===o?void 0:o.create;if(!l)return t;for(const t in e){const n=t,o=l[n],i=e[n];if(o&&i){for(const e of i){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}Pc(l[n])&&delete l[n]}}return Pc(l)&&(null===(r=null===(i=t.store)||void 0===i?void 0:i.crud)||void 0===r||delete r.create),t},Kq=()=>e=>{var t,n,o,i;return null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n||delete n.create,Pc(null===(o=e.store)||void 0===o?void 0:o.crud)&&(null===(i=e.store)||void 0===i||delete i.crud),e},Gq=e=>t=>{var n;void 0===t.store&&(t.store={}),void 0===t.store.crud&&(t.store.crud={}),void 0===t.store.crud.update&&(t.store.crud.update={});const o=t.store.crud.update,i=t.store.crud.create;for(const t in e){const r=t,l=o[r],s=null==i?void 0:i[r],c=(null!==(n=e[r])&&void 0!==n?n:[]).filter((e=>!(null==s?void 0:s.includes(e))));o[r]=l?ia([...l,...c]):c,Pc(o[r])&&delete o[r]}return Pc(o)&&delete t.store.crud.update,t=Zq(e)(t)},Xq=e=>t=>{var n,o,i,r;const l=null===(o=null===(n=t.store)||void 0===n?void 0:n.crud)||void 0===o?void 0:o.update;if(!l)return t;for(const t in e){const n=t,o=l[n],i=e[n];if(o&&i){for(const e of i){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}Pc(l[n])&&delete l[n]}}return Pc(l)&&(null===(r=null===(i=t.store)||void 0===i?void 0:i.crud)||void 0===r||delete r.update),t},Jq=()=>e=>{var t,n,o,i;return null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n||delete n.update,Pc(null===(o=e.store)||void 0===o?void 0:o.crud)&&(null===(i=e.store)||void 0===i||delete i.crud),e},Qq=(e,t)=>n=>{var o,i;const r=null===(i=null===(o=n.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[e];if(void 0===r)return n;if(!t||!bHe(t))return n;return r.data=function(e,t){return WHe(e,e,t,n,((e,t)=>{var n;return(rSe(e)||Rve(e))&&(!1===(null===(n=e.props)||void 0===n?void 0:n.expand)&&t&&(t.editor.isEditPending=!0),t&&(t.editor.refresh=aRe(!0))),e}))}(r.data,t),n},eY=e=>t=>{t.store||(t.store={}),t.store.auth||(t.store.auth={}),t.store.auth.delete||(t.store.auth.delete=[]);const n=t.store.auth.delete,o=Tje(e,t.store);for(const e of o)n.includes(e)||n.push(e);return t},tY=e=>t=>{for(const n of e)t=eY(n)(t);return t},nY=()=>e=>{var t,n;return null===(n=null===(t=e.store)||void 0===t?void 0:t.auth)||void 0===n||delete n.delete,e},oY=e=>t=>{var n,o;return null===(o=null===(n=t.store)||void 0===n?void 0:n.editor)||void 0===o||delete o[e],t},{deleteBackward:iY,deleteForward:rY,isCollapsed:lY,isDeleteBackward:sY,isDeleteForward:cY,isEmptyNode:aY,isMoveBackward:uY,isMoveDown:dY,isMoveForward:fY,isMoveUp:hY,isStartPath:pY,isSelectionFocusEditNodeEnd:vY,isSelectionFocusEditNodeStart:gY,isSelectionTouchBlockNodeEnd:mY,isSelectionTouchBlockNodeStart:yY,isSpace:bY,isSplitBlock:CY,isTab:wY,isShiftTab:xY,isCut:SY,resetEditNodeKey:EY,space:kY,splitBlock:DY,tab:IY,shiftTab:NY,isEditNode:LY,insertToBlockNode:TY,createInlineNode:BY,sliceReferencePath:AY,getEditNodeByPath:MY,decorateBlockNode:OY}=hk;function RY(e,t){const n=_d(R(RU)),o=R(PU),i=R(FU),r=R(jU),l=R(pIe),s=Wd("pointermove"),c=Wd("pointerup"),a=Wd("cut"),u=Wd("copy"),d=Wd("paste"),f=Wd("pointerdown"),h=FY(e,t);return F((()=>{const{context:t}=r.provider(),l=n.current.gfocus,s=t.focus,c=e.current.focus,a=[c7({focus:null!=s?s:l}),o7(),o6(["rename","more","moving"]),r4(c,i)],u=f.subscribe((()=>{const e=n.current.gfocus;e&&iHe(e)||o(r4(c,i)),gHe(c)||(r.sheet.current=null),D((()=>o(...a)))}));return()=>u.unsubscribe()}),[e,o,i,n,f,r]),F((()=>{const e=f.pipe(ju((e=>(i.current.agent&&e.stopPropagation(),s.pipe(Wu(c)))))).subscribe((e=>{var t,o,r;const{agent:l}=n.current,s=i.current.agent;void 0!==s&&(null===(t=null==l?void 0:l.propagation)||void 0===t?void 0:t.type)===s&&(null===(r=(o=l.propagation).action)||void 0===r||r.call(o,e))}));return()=>e.unsubscribe()}),[n,i,f,s,c]),F((()=>{const e=f.pipe(ju((()=>c.pipe(Fu(1))))).subscribe((()=>{const{formatPaint:e}=n.current.editor;e&&o(u9(!1),r4())}));return()=>e.unsubscribe()}),[n,o,f,c]),F((()=>{const e=c.subscribe((()=>{i.current.agent&&(delete i.current.agent,o(r7()))}));return()=>e.unsubscribe()}),[e,o,i,f,c]),F((()=>{const i=d.subscribe((async i=>{i.preventDefault();const{editor:{selection:s,node:c},focus:a}=e.current,u=n.current.gfocus;lY(s)&&Fc(u,a)&&aY(c)?null==l||l():Fie(r,o,t)}));return()=>{i.unsubscribe()}}),[r,e,l,n,t,o,a,u,d]),F((()=>(window.addEventListener("pointermove",s.listener),window.addEventListener("pointerup",c.listener),()=>{window.removeEventListener("pointermove",s.listener),window.removeEventListener("pointerup",c.listener)})),[s,c]),{...zd([a,u,d,f]),...h}}function PY(e,t){const n=R(jU),o=_d(R(RU)),i=R(PU),r=R(FU),l=Wd("click"),s=FY(e,t),c=_((()=>{const t=o.current.gfocus,l=e.current.focus;if(!Fc(t,l)){const e=[r4(l,r)];gHe(l)?e.push(bDe(l,[D9(!0)])):(e.push(D9(!0)),n.sheet.current=null),i(...e)}}),[e,n,o,i,r]);F((()=>{const e=l.subscribe((()=>{requestAnimationFrame(c)}));return()=>e.unsubscribe()}),[l,c]);return{...zd([l]),...s,onSelectPhrase:()=>{var t,n;c(),null===(n=(t=e.current).onSelectPhrase)||void 0===n||n.call(t)}}}function FY(e,t){const n=_d(R(RU)),o=R(PU),i=R(FU),r=_d(R(ZU)),l=R(jU),s=Wd("keydown");return F((()=>{const c=s.subscribe((s=>{var c,a,u;const{gfocus:d,modal:f,editor:{node:h}}=n.current,p=e.current,{editable:v,root:g,focus:m,editor:{selection:y,node:b,composing:C}}=p;if(!y||C||!1===v)return;if(null==f?void 0:f.visible)return void s.stopPropagation();const{decorateSafty:w,decorateSelection:x,triggerDecorateSelection:S,isPrevListNodeDecorate:E,isDecorateListNodeSelection:k}=Mye;if(uY(s)||fY(s)||hY(s)||dY(s)){if(lY(y)&&Fc(d,m)){const e=null===(c=r.current)||void 0===c?void 0:c.focus,n=HHe(h,m),l=e&&(null===(a=SHe(m,e))||void 0===a?void 0:a.path);if(uY(s))gY(b,y)?n&&l&&EDe(s,e,l,n,o):kDe(s,m,y.focus,b,o);else if(fY(s))if(vY(b,y))n&&l&&EDe(s,e,l,n,o);else{if(mY(b,y)&&(Phe(p)||Lae(p)||Tae(p))){const e=BY([""]);return void(null===(u=t.current)||void 0===u||u.commit([TY(e)]))}kDe(s,m,y.focus,b,o)}else hY(s)?i.current.slash?s.stopPropagation():gY(b,y)&&n&&l&&EDe(s,e,l,n,o):dY(s)&&(i.current.slash?s.stopPropagation():vY(b,y)&&n&&l&&EDe(s,e,l,n,o))}}else!function(e){if(y&&g&&(CY(s)||sY(s)||cY(s)||bY(s)||SY(s))){let t=[];if(lY(y)){if(sY(s)&&yY(b,y)){const{path:e}=y.focus,n=AY(b,e,!0);if(n&&!pY(n)){const e=MY(b,n);LY(e)&&APe(e)&&t.push(e)}}}else t=gFe(b,y);if(t.length){s.stopPropagation();const n=p$e(t,(async()=>{var i;o(tre({...n,visible:!1}));const r=[];for(const e of t){const t=null===(i=e.props)||void 0===i?void 0:i.id;t&&(r.includes(t)||r.push(t),await l.safty(t,!0))}o(tY(r)),e()}));return void o(tre(n))}}e()}((async()=>{var e,n,r,c;if(CY(s)){if(i.current.slash)return void s.stopPropagation();if(yY(b,y)){const{path:t}=y.focus,n=AY(b,t,!0);if(n&&!pY(n)){const t=MY(b,n);if(LY(t)&&APe(t)){s.stopPropagation();const n=null===(e=t.props)||void 0===e?void 0:e.id;if(n)return await l.safty(n),void o(e6(p,n),z3(n),B9())}}}const a=[];if(Phe(p)&&a.push(Khe()),Lae(p)&&a.push(Nue()),Tae(p)&&a.push(Lue()),k(p,rae,!0)||k(p,lae,!0)){s.stopPropagation();const e=[],n=[];e.push(DY()),e.push(Cme(n)),e.push(EY()),e.push(kme(p)),Eme(p,t,e,o,n)}else if(k(p,Lxe,!0)){s.stopPropagation();const e=[];e.push(nEe(p)),e.push(x(p)),e.push(...a),w(p,t,e)}else if(Phe(p)){s.stopPropagation();const e=[];e.push(DY()),e.push(...a),null===(n=t.current)||void 0===n||n.commit(e)}else if(Lae(p)){s.stopPropagation();const e=[];e.push(DY()),e.push(...a),null===(r=t.current)||void 0===r||r.commit(e)}else if(Tae(p)){s.stopPropagation();const e=[];e.push(DY()),e.push(...a),null===(c=t.current)||void 0===c||c.commit(e)}else if(k(p)){s.stopPropagation();const e=[];S(p,{[uTe]:()=>{e.push(DY())},[VTe]:()=>{e.push(DY())},[JTe]:()=>{e.push(DY()),e.push(BBe())},[rae]:()=>{e.push(DY())},[lae]:()=>{e.push(DY())}}),e.length||e.push(DY()),e.push(x(p)),w(p,t,e)}}else if(sY(s)){if(yY(b,y))if(k(p,rae)){s.stopPropagation();const e=[];e.push(wme()),e.push(kme(p)),Eme(p,t,e,o,[])}else if(k(p)){s.stopPropagation();const e=[];S(p,{[uTe]:()=>{e.push(iY())},[VTe]:()=>{e.push(iY())},[JTe]:()=>{e.push(iY()),e.push(BBe())},[rae]:()=>{e.push(wme())},[lae]:()=>{e.push(xme())},[Lxe]:()=>{e.push(oEe(p))}}),e.length||(k(p,Lxe)?e.push(oEe(p)):e.push(iY())),e.push(EY()),e.push(x(p)),w(p,t,e)}else if(sUe(p)){if(!p.root&&gY(b,y)){s.stopPropagation();const e=[];e.push(OY()),w(p,t,e)}}else if(E(p)){s.stopPropagation();const e=[];E(p,rae)?e.push(wme()):e.push(iY()),e.push(EY()),e.push(x(p)),w(p,t,e)}}else if(cY(s)){if(mY(b,y))if(k(p,rae)){s.stopPropagation();const e=[];e.push(rY()),e.push(kme(p)),Eme(p,t,e,o,[])}else if(k(p)){s.stopPropagation();const e=[];S(p,{[uTe]:()=>{e.push(rY())},[VTe]:()=>{e.push(rY())},[JTe]:()=>{e.push(rY()),e.push(BBe())},[rae]:()=>{e.push(rY())},[lae]:()=>{e.push(rY())},[Lxe]:()=>{e.push(rY())}}),e.length||e.push(rY()),e.push(x(p)),w(p,t,e)}}else if(wY(s)){if((yY(b,y)||!lY(y))&&k(p)){s.stopPropagation();const e=p.editor.style,n=[];E(p,Lxe)?n.push(iEe(p)):n.push(IY(e)),S(p,{[JTe]:()=>{n.push(BBe())}}),n.push(x(p)),w(p,t,n)}}else if(xY(s)){if((yY(b,y)||!lY(y))&&k(p)){s.stopPropagation();const e=p.editor.style,n=[];E(p,Lxe)?n.push(rEe(p)):n.push(NY(e)),S(p,{[JTe]:()=>{n.push(BBe())}}),n.push(x(p)),w(p,t,n)}}else if(bY(s)){const e=p.editor.style;if(yY(b,y)&&k(p)){s.stopPropagation();const e=[kY()];S(p,{[JTe]:()=>{e.push(BBe())}}),e.push(x(p)),w(p,t,e)}EUe(b,y)?(s.stopPropagation(),w(p,t,[Ere(p)])):kUe(b,y)?(s.stopPropagation(),w(p,t,[kre()])):DUe(b,y)?(s.stopPropagation(),w(p,t,[Dre(p)])):IUe(b,y)?(s.stopPropagation(),w(p,t,[Ire()])):TUe(b,y,e)?(s.stopPropagation(),w(p,t,[Bre()])):NUe(b,y,e)?(s.stopPropagation(),w(p,t,[Lre()])):LUe(b,y,e)?(s.stopPropagation(),w(p,t,[Tre()])):BUe(b,y,e)?(s.stopPropagation(),w(p,t,[Are()])):AUe(b,y,e)&&(s.stopPropagation(),w(p,t,[Mre()]))}}))}));return()=>c.unsubscribe()}),[e,t,l,s,r,n,o,i]),{...zd([s])}}function HY(e,t){const n=Wd("wheel");return F((()=>{const e=n.subscribe((e=>{e.preventDefault()}));return()=>e.unsubscribe()}),[n]),zd([n])}function _Y(e){return _d(e),Z({commit(e){et(e)||(e=[e])},slice(){},dispatch(){},setStyle(){},setProps(){},input:{}})}async function jY(e){await VY(e),await WY(e),await zY(e),await $Y(e)}async function WY(e){var t,n,o;const i=null===(o=null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n?void 0:n.delete)||void 0===o?void 0:o.catalog;i&&await async function(e){return"undefined"!=typeof electron?await electron.file.unlinkCatalogBatch(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.unlinkCatalogBatch(e,(e=>{t(e)}))})):await UP.remove(jP,e)}(i)}async function zY(e){var t,n,o;const i=null===(o=null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n?void 0:n.delete)||void 0===o?void 0:o.reference;i&&await async function(e){return"undefined"!=typeof electron?await electron.file.unlinkReferenceBatch(e):"undefined"!=typeof WebPro?new Promise((t=>{WebPro.unlinkReferenceBatch(e,(e=>{t(e)}))})):await UP.remove(_P,e)}(i)}async function VY(e){var t,n,o,i,r;const l=null===(o=null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n?void 0:n.delete)||void 0===o?void 0:o.editor;if(l)for(let t=0;t<l.length;t++){const n=l[t],o=null===(r=null===(i=e.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[n];if(o&&o.segments)for(const e of o.segments)await SF(e);await CF(n)}}async function $Y(e){var t,n,o;const i=null===(o=null===(n=null===(t=e.store)||void 0===t?void 0:t.crud)||void 0===n?void 0:n.delete)||void 0===o?void 0:o.assets;if(i)for(let e=0;e<i.length;e++)await AF(i[e])}async function ZY(e,t,n){var o,i;const r=await yF(e);if(1!==r.ok)return;let l=r.data;if(qP(l)){l=(await t.decompression({[e]:l}))[e]}if(l){if((null===(o=null==l?void 0:l.segments)||void 0===o?void 0:o.length)&&!n){let e=!1;const n={};for(const t of l.segments){const o=await xF(t);1===o.ok&&o.data&&(qP(o.data)&&(e=!0),n[t]=o.data)}const o=[];if(e){const e=new Yje(n,t);await e.decompression();const r=await e.output();for(const e of l.segments)o.push(...null!==(i=r[e])&&void 0!==i?i:[])}else for(const e in n)o.push(...n[e]);o.length&&(l.data.children=o)}return l.data=ud(l.data),l}}async function UY(e){const t=await kF(e);if(1===t.ok)return t.data}async function qY(e){const t=await DF(e);if(1===t.ok)return t.data}async function YY(e){var t;const n={},o=await qY(e);if(!o)return n;const i=[];for(const n in o)if(null===(t=o[n].children)||void 0===t?void 0:t.length)for(const t of o[n].children)"outline"!==t.type&&(e.includes(t.id)||i.includes(t.id)||i.push(t.id));return i.length&&Object.assign(n,await YY(i)),Object.assign(n,o),n}async function KY(e){const t=await LF(e);if(1===t.ok)return t.data}async function GY(e){const t=await NF(e);if(1===t.ok)return t.data}async function XY(e,t,n=!0){const o={editor:{},reference:{}},i=await ZY(e,t);if(void 0===i)return n?(await aK(e,t),await XY(e,t,!1)):void 0;o.editor&&(o.editor[e]=i);const{uids:r}=i;if(r){const e=ia(Object.values(r)),t=await KY(e);o.reference&&(o.reference=t)}return o}const{traverseNode:JY,isReferenceNode:QY,isEditNode:eK,transformEditNodeToNode:tK}=hk;async function nK(e,t){var n;const o=null===(n=e.store)||void 0===n?void 0:n.crud;Pc(o)||(Pc(o.delete)||await jY(e),await rK(e,t),await lK(e),await sK(e))}async function oK(e){const t=FUe(e,!0);t&&(await async function(e){if("undefined"!=typeof electron){const t=await electron.file.writeBootstrap(e);if(1===t.ok)return t}if("undefined"!=typeof WebPro){const t=JSON.stringify(e);return new Promise((e=>{WebPro.writeBootstrap(t,(t=>{e(t)}))}))}const t={ok:0};try{await UP.setBootstrap(e),t.ok=1}catch(e){console.error("setBootstrap noteDB.setBootstrap: ",e)}return t}(t),LVe(t))}async function iK(e){const t=e.changelog;t&&await async function(e){if("undefined"!=typeof electron){const{version:t}=YP.browser;if(t&&RP(t,"0.1.0",">=")){const t=await electron.file.writeChangelog(e);if(1===t.ok)return t}}if("undefined"!=typeof WebPro){const t=JSON.stringify(e);return new Promise((e=>{WebPro.writeChangelog(t,(t=>{e(t)}))}))}const t={ok:0};try{await UP.setChangelog(e),t.ok=1}catch(e){console.error("setChangelog noteDB.setChangelog: ",e)}return t}(t)}async function rK(e,t){var n,o,i,r;const{store:l}=e;if(void 0===l)return;const{editor:s,crud:c}=l;if(void 0===s)return;const a=ia([...null!==(o=null===(n=null==c?void 0:c.update)||void 0===n?void 0:n.editor)&&void 0!==o?o:[],...null!==(r=null===(i=null==c?void 0:c.create)||void 0===i?void 0:i.editor)&&void 0!==r?r:[]]);for(const e of a)s[e]&&await cK(e,s[e],t)}async function lK(e,t){var n,o,i,r;const{store:l}=e;if(void 0===l)return;const{catalog:s,crud:c}=l;if(void 0===s)return;const a=ia([...null!==(o=null===(n=null==c?void 0:c.update)||void 0===n?void 0:n.catalog)&&void 0!==o?o:[],...null!==(r=null===(i=null==c?void 0:c.create)||void 0===i?void 0:i.catalog)&&void 0!==r?r:[]]),u={};for(const e of a)s[e]&&(u[e]=s[e]);Pc(u)||await EF(u)}async function sK(e,t){var n,o,i,r;const{store:l}=e;if(void 0===l)return;const{reference:s,crud:c}=l;if(void 0===s)return;const a=ia([...null!==(o=null===(n=null==c?void 0:c.update)||void 0===n?void 0:n.reference)&&void 0!==o?o:[],...null!==(r=null===(i=null==c?void 0:c.create)||void 0===i?void 0:i.reference)&&void 0!==r?r:[]]),u={};for(const e of a)s[e]&&(u[e]=s[e]);Pc(u)||await IF(u)}async function cK(e,t,n){var o,i,r,l,s,c;let a=!0,u=!0;if("undefined"!=typeof electron){const{version:e}=YP.browser;e&&(RP(e,"0.0.9","<=")&&(a=!1),RP(e,"0.0.21","<=")&&(u=!1))}const d=t.data.children,f=d.length;if(f>L$&&u){const s=null!==(o=navigator.hardwareConcurrency)&&void 0!==o?o:4,c=Math.ceil(f/s),a=[],u=null!==(r=null===(i=t.segments)||void 0===i?void 0:i.slice())&&void 0!==r?r:[],h={};let p=0;for(;p<f;){const e=null!==(l=u.shift())&&void 0!==l?l:aRe();a.push(e),h[e]=d.slice(p,p+c),p+=c}if(rh){for(const e in h){const t=h[e];await wF(e,t)}for(const e of u)await SF(e);const n={...t,segments:a,data:{...t.data,children:[]}};return void await mF(e,n)}const v=new qje(h,n);await v.compression();const g=await v.output();for(const e in g){const t=g[e];await wF(e,t)}for(const e of u)await SF(e);const m={...t,segments:a,data:{...t.data,children:[]}},y=await n.compression({[e]:m});for(const e in y){const t=y[e];await mF(e,t)}return}const h=null!==(c=null===(s=t.segments)||void 0===s?void 0:s.slice())&&void 0!==c?c:[];for(const e of h)await SF(e);if(delete t.segments,rh)return void await mF(e,t);const p={[e]:t},v=a?await n.compression(p):p;for(const e in v){const t=v[e];await mF(e,t)}}async function aK(e,t){var n;let o;const i=await GY(e);if(i)o=i.data;else{const t=await UY(e);if(t){const e=t.title;o=eK(e)?tK(e):t.title}}if(!o)return;const r=dFe(o,e),l=[];JY(r.data,(e=>{var t;if(!QY(e))return;const n=null===(t=e.props)||void 0===t?void 0:t.id;n&&l.push(n)}));const s=await KY(l);for(const t in s){const o=s[t],i=null!==(n=o.detail)&&void 0!==n?n:{};void 0===i[e]?i[e]=[e]:i[e].includes(e)||i[e].push(e);let r=0;for(const e in i)r+=i[e].length;o.count=r,o.detail=i}await cK(e,r,t),Pc(s)||await IF(s)}const{isEditBlockNode:uK,getBlockNodeStartPath:dK,isReferenceNode:fK,getPathFromKey:hK,resetReflowStart:pK,clearEditNodePosition:vK,ReflowStartFlag:gK}=hk;async function mK(e,t,n,o){const{file:i}=t;void 0!==i&&(n(I6(i,!0),vq()),await Promise.all([bK(e,i,o,n),SK(e,i,o,n)]))}async function yK(e,t,n,o){const i=await bF();if(0===i.ok||!i.data)return;const r=[];for(const e of i.data){const t=await yF(e);if(0===t.ok||!t.data)continue;if(qP(t.data)){const n=await o.decompression({[e]:t.data});t.data=n[e]}const n=t.data.uids;for(const e in n)r.push(QU("reference",e)),r.push(nq("reference",e,n[e]));r.push(QU("editor",e))}n(...r)}async function bK(e,t,n,o,i){const{tree:r,branch:l,currentPageId:s}=t,c=jM(),a=[];for(let e=0;e<r.length;e++){const{children:t,type:o}=r[e];if(!(null==t?void 0:t.length)&&"root"===o)continue;const i=null!=l?l:r[e];let u=null;s&&(u=await xK(s));const d={callback:e=>{e.id!==i.id||c?delete e.active:e.active=!0},source:u},f=await CK(r[e],n,d);f.tag=!0,f.type="root",a.push(c6(f,[e])),a.push(N6()),a.push(jq(f,void 0,!0))}if(l&&!c&&a.push(z3(l)),a.push(b6()),a.push(y6()),a.push(g6(!0)),o){const e=r$e();(null==e?void 0:e.file)&&e.file.currentPageId===s&&a.push(L6(e.file)),o(...a,vq())}return a}async function CK(e,t,n){var o,i,r,l,s;const c=null!==(i=null===(o=e.children)||void 0===o?void 0:o.slice())&&void 0!==i?i:[],a=[];for(const e of c)e?e.type||a.push(e.id):a.push(e);let u,d=!1;if(!c.length&&e.uids)for(const t in e.uids){const n=e.uids[t];t!==e.id&&(t===n&&(d=!0))}if(Pc(e.uids)&&(d=!0),a.length>0&&a.length===c.length||d){const n=await kF(e.id);if(1!==n.ok||!n.data)return e;if(u=n.data,"outline"!==e.type&&!(null===(r=u.children)||void 0===r?void 0:r.length)&&u.uids){let n=!1;const o=[];for(const t in u.uids){const i=u.uids[t];o.includes(i)||o.push(i),t!==e.id&&(t===i&&(n=!0))}if(n){const n=await ZY(e.id,t);if(null==n?void 0:n.data){const e=await LF(o);u=H_e(n.data,e.data)}}}}return u&&(e=ii(e,K_e(u))),(null===(l=e.children)||void 0===l?void 0:l.length)&&(e=await wK(e,t,n)),null===(s=null==n?void 0:n.callback)||void 0===s||s.call(n,e),e}async function wK(e,t,n){var o,i,r,l;const s=null!==(i=null===(o=e.children)||void 0===o?void 0:o.slice())&&void 0!==i?i:[],c=s.filter((e=>e&&!e.type)).map((e=>e.id));let a;if(c.length){const t=await DF(c);if(1!==t.ok||!t.data)return e;a=t.data}for(let e=0;e<s.length;e++){let o=s[e];if(!o)continue;const i=null==a?void 0:a[o.id];i&&(o=K_e(i)),"outline"===o.type?null===(r=null==n?void 0:n.callback)||void 0===r||r.call(n,o):((null===(l=null==n?void 0:n.source)||void 0===l?void 0:l.includes(o.id))||!1!==o.expand||(null==n?void 0:n.deep))&&(o=await CK(o,t,n)),s[e]=o}return{...e,children:s}}async function xK(e,t,n){let o={ok:0};(null==t?void 0:t[e])?(o.data=t[e],o.ok=1):o=await kF(e),t&&o.data&&(t[e]=o.data);const i=[e];if(1===o.ok&&o.data){const{parent:r}=o.data,l=null==r?void 0:r.id;if(!l||e===n)return i;const s=await xK(l,t,n);if(!s)return i;i.unshift(...s)}return i}async function SK(e,t,n,o){var i,r,l;const s=[],c=t.currentPageId;if(void 0===c)return s;let a=await ZY(c,n);if(!a){const i=t.tree[0],r=i.id;return r!==c?(t.currentPageId=r,null==o||o(z3(i)),SK(e,t,n,o)):(null==o||o(D4(e)),s)}const{cwnd:u,data:d,reflowStart:f,bounds:h,scrollHeight:p}=a;if((null===(i=null==d?void 0:d.children)||void 0===i?void 0:i.length)<=1){const e=vPe();d.children.push(e)}const v=a.uids;if(v){const e=ia(Object.values(v)),t=await LF(e);if(1===t.ok){const e=t.data;if(e){const t={},n={reference:e,callback(e){var n,o;if(fK(e)){const i=null===(n=e.props)||void 0===n?void 0:n.id,r=null===(o=e.props)||void 0===o?void 0:o.uid;if(!i||!r)return;t[r]=i}}};mFe(a,n),a.uids=t,s.push(yq(e))}}}const g=r$e();let m=!1;if((null===(r=null==g?void 0:g.file)||void 0===r?void 0:r.currentPageId)===c&&(null==g?void 0:g.editor)&&function(){var e;if(!(null==g?void 0:g.editor)||!a)return;const{editor:{scrollTop:t=0,node:n}}=g,o=null==n?void 0:n.children[0];if(!n||!uK(o))return;const i=null===(e=o.position)||void 0===e?void 0:e.top;if(void 0===i)return;const r=hK(o.key),l=i-t;o.position={top:l,left:0,right:0,bottom:0};const s=I_(d,n);a.node=n,a.bounds=s,a.boundsReset=!0,a=D$e(a),pK(r,gK.next)(a),a.node=vK(a.node),a.resizeWidth=!0,m=!0}(),!m)if(void 0===h||void 0!==u){const e=null!==(l=null==f?void 0:f.path)&&void 0!==l?l:dK(d),t=dPe(d,e,null!=u?u:3);if(!t)return s;const n=I_(d,t);a.cwnd=null!=u?u:3,a.node=t,a.bounds=n,a.boundsReset=!0,a.scrollTouchReset=!0,delete a.ureference,delete a.reflowStart}else{const e=h.start.path,t=h.end.path;a=D$e(a,e,t)}const{clientHeight:y,clientWidth:b}=gqe({file:t});return a.clientHeight=y,a.clientWidth=b,a.scrollHeight=Math.max(p,y),a.scrollOffset={top:Kf?0:m$},s.push(Cq(c,a)),s.push(X8(a)),s.push(o9()),s.push(i9()),s.push(d4()),o&&o(...s,vq()),s}const{isReferenceNode:EK,traverseNode:kK,isNode:DK,isReferenceBlockNode:IK,createReferenceBlockNode:NK,transformEditNodeToNode:LK,createBlockNode:TK}=hk;async function BK(e){if("undefined"!=typeof electron)return;if("undefined"!=typeof WebPro)return;const{file:t}=e;if(void 0===t)return;const n=await AK(WP),o=await AK(jP),i=await AK(_P);!function e(t){for(let r=0;r<t.length;r++){const{id:l}=t[r],s=o[l];if(void 0!==s){if(delete o[l],"outline"!==s.type){const c=n[s.id];if(void 0===c)continue;const{data:a}=c,u={};function d(e){xPe(e,(e=>{var t,n,o,i;if(rSe(e)){if(!1===(null===(t=e.props)||void 0===t?void 0:t.expand)){const t=null===(n=e.props)||void 0===n?void 0:n.list;(null==t?void 0:t.length)&&(delete e.props.expand,delete e.props.list,e.children.push(...t),t.forEach((e=>{d(e)})))}}else if(Rve(e)&&!1===(null===(o=e.props)||void 0===o?void 0:o.expand)){const t=null===(i=e.props)||void 0===i?void 0:i.list;if(null==t?void 0:t.length){delete e.props.expand,delete e.props.list;const n=c.data.children,o=n.indexOf(e);-1!==o&&(n.splice(o+1,0,...t),t.forEach((e=>{d(e)})))}}}))}d(a);const f={reference:i,callback(e){var t,n;if(!EK(e))return;const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;o&&i&&(u[i]=o)}};fPe(a,f),xPe(a,(e=>{var t,n;if(EK(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,r=null===(n=e.props)||void 0===n?void 0:n.uid;null==u||u[r];const l=i[o];if(void 0===l)return;l.count--,l.count,l.detail[s.id],0===l.count&&delete i[o],null==u||delete u[r]}})),Pc(u),delete n[s.id]}if(s.children){for(const h of s.children)h.type&&!o[h.id]&&(o[h.id]=h);e(s.children)}}}}(t.tree),Pc(n),Pc(o),Pc(i)}async function AK(e){let t={};if(e===jP){const e=await DF();1===e.ok&&e.data&&(t=e.data)}else if(e===_P){const e=await LF();1===e.ok&&e.data&&(t=e.data)}else if(e===WP){const e=await async function(e){if("undefined"!=typeof electron){const t={};if(!e){const t=await electron.file.readEditorIds();1===t.ok&&t.data&&(e=t.data)}for(const n of null!=e?e:[]){const{version:e}=YP.browser;let o="uint8Array";e&&RP(e,"0.0.9","<=")&&(o="string");const i=await electron.file.readEditor(n,o);if(1===i.ok&&i.data){if(Cc(i.data))try{i.data=JSON.parse(i.data)}catch(e){}t[n]=i.data}}return{ok:1,data:t}}if("undefined"!=typeof WebPro)return new Promise((async t=>{const n={};if(!e){const t=await new Promise((e=>{WebPro.readEditorIds((t=>{if(0===t.ok||!t.data)return void e({ok:0});let n=t.data;"string"==typeof n&&(n=JSON.parse(n))}))}));1===t.ok&&t.data&&(e=t.data)}for(const t of null!=e?e:[])WebPro.readEditor(t,(e=>{if(0===e.ok||!e.data)return;let o=e.data;"string"==typeof o&&(o=JSON.parse(o)),n[t]=o}));return{ok:1,data:n}}));if(!e)return await UP.getAll(WP);const t={};for(const n of null!=e?e:[]){const e=await UP.get(WP,n);1===e.ok&&e.data&&(t[n]=e.data)}return{ok:1,data:t}}();1===e.ok&&e.data&&(t=e.data)}return t}async function MK(e,t,n){var o,i,r;if(!t.length)return;let l=!1;const s=[];for(let e=0;e<t.length;e++){const r=t[e],c=await ZY(r,n);if(!c)continue;const a=null===(o=c.data)||void 0===o?void 0:o.children[0];if(Fve(a)){const e=null===(i=a.props)||void 0===i?void 0:i.id;e&&e!==r&&(l=!0,await cK(e,c,n),await CF(r))}s.push(a)}if(!s.length)return!1;if(l)return;const c=e.id;let a=e.title;IK(a)&&(a=a.children[0]);const u=[_ve({subclass:iae.H,id:c},[NK({id:c,uid:c},[{...ps(a),style:{...a.style,...Ave(iae.H)}}])])],d=LK(TK(u,Y$)),f={},h=RPe(d);h[c]&&(f[c]={data:h[c],count:1,detail:{[c]:[c]}});const p={[c]:c},v=uFe({data:d,uids:p});for(const e of s){const t=null===(r=e.props)||void 0===r?void 0:r.id;t&&t!==c&&(v.data.children.some((e=>{var n;if(DK(e)){const o=null===(n=e.props)||void 0===n?void 0:n.id;if(t===o)return!0}return!1}))||(kK(e,(e=>{var n,o;if(!EK(e))return;const i=null===(n=e.props)||void 0===n?void 0:n.id,r=null===(o=e.props)||void 0===o?void 0:o.uid;if(!i||!r)return;p[r]=i;const l={...e.props};delete l.uid;const s={...e,props:l};f[i]={data:s,count:2,detail:{[c]:[r],[t]:[r]}}})),v.data.children.push(e)))}v.uids={...v.uids,...p};const g=X_e({...H_e(v.data,f),type:"root"});await cK(c,v,n),await EF(g),await IF(f)}class OK{constructor(){this.timer=-1,this.ids=[],this.resolves=[]}async batch(e){if(!e)return await DF();for(const t of e)this.ids.includes(t)||this.ids.push(t);return-1===this.timer&&(this.timer=requestAnimationFrame((async()=>{const e=await DF(this.ids);this.resolves.forEach((t=>t(e))),this.resolves.length=0,this.ids.length=0,this.timer=-1}))),this.pick(e)}async pick(e){return-1===this.timer?await DF(e):new Promise((t=>{this.resolves.push((n=>{if(0===n.ok||!n.data)return{ok:0};const o={};for(const t of e)o[t]=n.data[t];t({ok:1,data:o})}))}))}}const{getBranchByPath:RK}=OB;function PK(e,t,n){const o=_d(e),i=R(jU),r=R(WU),l=Wd("pointermove"),s=Wd("pointerup"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("change");return F((()=>(window.addEventListener("pointermove",l.listener),window.addEventListener("pointerup",s.listener),()=>{window.removeEventListener("pointermove",l.listener),window.removeEventListener("pointerup",s.listener)})),[l,s]),F((()=>{const e=c.pipe(ju((e=>{var t;const n=null===(t=o.current.file)||void 0===t?void 0:t.clientWidth;return l.pipe(Wu(s)).pipe(bu((t=>(null!=n?n:0)+Math.floor(t.clientX-e.clientX))))}))).subscribe((e=>{const t=EFe(o.current);(0,i.dispatch)(X9(e),G9(t),ole("col-resize"),W3(!0))})),t=c.pipe(ju((e=>s))).subscribe((()=>{(0,i.dispatch)(ile())}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[o,i,c,l,s]),F((()=>{const e=i.dispatch;function n(t){const n={visible:!0,title:"",content:t,onOk(t){e(tre({...n,visible:!1}))}};e(tre(n))}function l(t,n){const o={visible:t,showCancelIcon:!1,showFooter:!1,style:{width:230},content:X("div",{style:{height:100,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:_f,fontSize:13},children:[G("span",{style:{display:"flex",animation:"rotate 1.5s linear infinite",marginBottom:10},children:G(jO,{width:20,fill:jf})}),X("span",{children:["",null!=n?n:""]})]})};e(tre(o))}let s={};function c(e){let t=[];const n=e.split(".");return n.length>1&&(e=n.slice(0,-1).join(".")),e.includes("/")?t=e.split("/"):e.includes("\\")&&(t=e.split("\\")),t}async function a(t,l){const a=o.current;await new Promise(((o,u)=>{const d=new FileReader;d.onerror=()=>{o(!1)},d.onabort=()=>{o(!1)},d.onload=async u=>{var d,f,h,p,v,g;const m=null===(d=u.target)||void 0===d?void 0:d.result;if(!m)return void o(!1);const{branch:y,pageId:b}=l;async function C(e){var t;if(void 0===(null===(t=e.bootstrap)||void 0===t?void 0:t.type))return n(" JSON  .sli "),void o(!1);await Jie(i,e,y,b)}if(t.name.endsWith(".sli")){if(!Tc(m))return void o(!1);try{const e=new Uint8Array(m),t=aRe(!0);let n=(await r.decompression({[t]:e},!1))[t];if(n.data){const e=n,t=null===(f=e.data.children[0].props)||void 0===f?void 0:f.id;if(!t)return;n={bootstrap:{file:{currentPageId:t},type:"page"},editor:{[t]:e}}}await C(n)}catch(u){return console.warn(u),n("SLI "),void o(!1)}}else if(t.name.endsWith(".json")){if(!Cc(m))return void o(!1);try{const e=JSON.parse(m);await C(e)}catch(u){return console.warn(u),n("JSON "),void o(!1)}}else if(t.name.endsWith(".md")){if(!Cc(m))return void o(!1);try{const n=t.name.slice(0,-3),o=a.editor.style,r={image:[]},l=bze(n,m,r,o);b&&await i.safty(b),"outline"!==y.type&&await i.safty(y.id);const u=[];if("undefined"!=typeof electron&&t.path)for(const e of r.image){const n=electron.file.readFile;if(!n)break;const o=null===(h=e.props)||void 0===h?void 0:h.src;if(!o||o.match(/^https?:/i))continue;let r=o;if(!o.startsWith("/")){let e=[];const n=t.path;n.includes("/")?e=n.split("/"):n.includes("\\")&&(e=n.split("\\")),e.pop(),e.push(o),r=e.join("/")}const{ok:l,data:s}=await n(r,"arrayBuffer");if(0===l||!s)continue;const c=o.split(".").pop();if(!c)continue;const a=L$e(c),{image:d,hash:f}=await Gde(s,a),g=i.stater.get(),m=await MF(f);if(0!==m.ok&&m.data){if(!(null===(v=null===(p=g.store)||void 0===p?void 0:p.reference)||void 0===v?void 0:v[f])){const e=await GY(f);e&&u.push(yq({[f]:e}))}}else await TF(f,s);const y=g.editor.clientWidth,b=Xde(d,y,f,a).children[0];Object.assign(e,b)}u.push(Uie(l,y,b,!1)),e(...u);const d=l.children[0];if(Fve(d)){const e=null===(g=d.props)||void 0===g?void 0:g.id;if(e){const n=c(t.webkitRelativePath).join("/");s[n]||(s[n]=e)}}}catch(u){return console.warn(u),n("MarkDown "),void o(!1)}}o(!0)},t.name.endsWith(".sli")?d.readAsArrayBuffer(t):t.name.endsWith(".json")||t.name.endsWith(".md")?d.readAsText(t):o(!1)}))}async function d(e){var n,o,r;const l=i.dispatch,a=i.stater.get(),u=null===(n=a.file)||void 0===n?void 0:n.tree,d=null===(o=a.file)||void 0===o?void 0:o.currentPageId;let f=t.input.current;if(!f&&d&&u){if(!d)return;const e=V_e(u,d);if(!e)return;f={pageId:d,branch:e}}if(e&&u&&(null==f?void 0:f.branch)){const t=f.branch.path;if(!t)return;let n=RK(u,t);if(!n||"outline"===n.type)return;const o=c(e).slice(0,-1);for(let e=0;e<o.length;e++){const c=o.slice(0,e+1).join("/");if(!s[c]){const t=aRe();s[c]=t,l(V6(n,t,o[e],!1)),await new Promise((e=>{setTimeout(e)}))}const a=null===(r=i.stater.get().file)||void 0===r?void 0:r.tree;if(a){const e=RK(a,t);if(e){const t=V_e([e],s[c]);t&&"outline"!==t.type&&(n=t)}}}f={branch:n,pageId:n.id}}return f}async function f(e){if(null==e?void 0:e.length){s={},l(!0);for(const t of Array.from(e)){const e=t.webkitRelativePath,n=await d(e);n&&await a(t,n)}delete t.input.current,l(!1)}}const h=u.subscribe((async e=>{const t=e.target.files;await f(t)})),p=Nu(window,"dragover").subscribe((e=>{e.preventDefault()})),v=Nu(window,"drop").subscribe((async e=>{var t;e.preventDefault();const n=null===(t=e.dataTransfer)||void 0===t?void 0:t.files;await f(n)}));return()=>{h.unsubscribe(),p.unsubscribe(),v.unsubscribe()}}),[o,i,r,t.input,u]),{resize:zd([c]),file:zd([a]),input:zd([u])}}function FK(e){const t=_d(e),n=R(jU),o=Wd("keydown");F((()=>(window.addEventListener("keydown",o.listener),()=>{window.removeEventListener("keydown",o.listener)})),[o]),F((()=>{const e=o.subscribe((async e=>{const o=t.current,i=o.file;if(void 0===i)return;let{branch:r,currentPageId:l,tree:s}=i;if(!r||!l)return;if(r.path){const e=OB.getBranchByPath(s,r.path);if(!e)return;r=e}const{type:c,id:a,title:u}=r;if(void 0===c)return;let d=!1;const f=[];let h=l;if("page"===c){const e=$_e(i.tree,a);(null==e?void 0:e.id)&&(h=e.id)}if(hh(UHe.new,e)||hh(UHe.snew,e))f.push(o4(WFe()),C7(o,r,h));else if(hh(UHe.duplicate,e)){if("root"===c)return;d=!0,f.push(o4(WFe()),w7(o,r,h))}else if(hh(UHe.move,e)){if("root"===c)return;d=!0,f.push(o4(zFe()),i6(o,r))}else if(hh(UHe.rename,e)){if("root"===c)return;f.push(o4(zFe()),r6(o,r))}else if(hh(UHe.delete,e)){if("root"===c)return;d=!0;const e=q_e(s,r);if(e){const{id:t,type:o}=e;"page"!==o&&"root"!==o||await n.safty(t)}const t=Y_e(s,r);if(t){const{id:e,type:o}=t;"page"!==o&&"root"!==o||await n.safty(e)}f.push(S6(r.id),E7(o,r,h))}if(0===f.length)return;"page"===c&&await n.safty(a,d),h&&await n.safty(h);const p=n.dispatch;!function(t){var o;if(!(null===(o=n.stater.get().modal)||void 0===o?void 0:o.visible))if(hh(UHe.delete,e)&&"page"===c&&u){const e=p$e([u],(()=>{p(tre({...e,visible:!1}),eY(a)),t()}));p(tre(e))}else t()}((()=>{p(...f)}))}));return()=>e.unsubscribe()}),[n,t,o])}function HK(e,t){return{main:zd([Wd("pointerdown")])}}function _K(e,t,n){const o=_d(e),i=_d(t),r=R(jU),l=Wd("pointermove"),s=Wd("pointerup"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("pointerdown"),d=Wd("pointerdown"),f=Wd("pointerdown"),h=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",l.listener),window.addEventListener("pointerup",s.listener),()=>{window.removeEventListener("pointermove",l.listener),window.removeEventListener("pointerup",s.listener)})),[l,s]),F((()=>{const e=u.pipe(ju((e=>{var t,n,i,r;e.stopPropagation();const{clientWidth:c}=document.documentElement,a=o.current,{target:u}=a,d=null!==(n=null===(t=u.float)||void 0===t?void 0:t.width)&&void 0!==n?n:200,f=null!==(r=null===(i=u.float)||void 0===i?void 0:i.left)&&void 0!==r?r:0;return l.pipe(Wu(s)).pipe(zu(16)).pipe(bu((t=>{const n=Math.max(-f,Math.floor(t.clientX-e.clientX));return{width:Math.min(c,Math.max(I$,d-n)),left:Math.min(f+d-I$,f+n)}})))}))).subscribe((e=>{const t=o.current,{target:i}=t;i&&(r.dispatch(ole("col-resize")),n(Iee(i,e),xee(!0)))})),t=d.pipe(ju((e=>{var t,n,i,r;e.stopPropagation();const{clientWidth:c}=document.documentElement,a=o.current,{target:u}=a,d=null!==(n=null===(t=u.float)||void 0===t?void 0:t.width)&&void 0!==n?n:200,f=null!==(r=null===(i=u.float)||void 0===i?void 0:i.left)&&void 0!==r?r:0;return l.pipe(Wu(s)).pipe(zu(16)).pipe(bu((t=>{const n=Math.floor(t.clientX-e.clientX);return{width:Math.min(c-f,Math.max(I$,d+n))}})))}))).subscribe((e=>{const t=o.current,{target:i}=t;i&&(r.dispatch(ole("col-resize")),n(Iee(i,e),xee(!0)))})),c=f.pipe(ju((e=>{var t,n,i,r;e.stopPropagation();const{clientHeight:c}=document.documentElement,a=o.current,{target:u}=a,d=null!==(n=null===(t=u.float)||void 0===t?void 0:t.height)&&void 0!==n?n:400,f=null!==(r=null===(i=u.float)||void 0===i?void 0:i.top)&&void 0!==r?r:0;return l.pipe(Wu(s)).pipe(zu(16)).pipe(bu((t=>{const n=Math.max(-f,Math.floor(t.clientY-e.clientY));return{height:Math.min(c,Math.max(I$,d-n)),top:Math.min(f+d-I$,f+n)}})))}))).subscribe((e=>{const t=o.current,{target:i}=t;i&&(r.dispatch(ole("row-resize")),n(Iee(i,e),xee(!0)))})),a=h.pipe(ju((e=>{var t,n,i,r;e.stopPropagation();const{clientHeight:c}=document.documentElement,a=o.current,{target:u}=a,d=null!==(n=null===(t=u.float)||void 0===t?void 0:t.height)&&void 0!==n?n:400,f=null!==(r=null===(i=u.float)||void 0===i?void 0:i.top)&&void 0!==r?r:0;return l.pipe(Wu(s)).pipe(zu(16)).pipe(bu((t=>{const n=Math.floor(t.clientY-e.clientY);return{height:Math.min(c-f,Math.max(I$,d+n))}})))}))).subscribe((e=>{const t=o.current,{target:i}=t;i&&(r.dispatch(ole("row-resize")),n(Iee(i,e),xee(!0)))})),p=Au(f,u,d,h).pipe(ju((()=>s.pipe(Fu(1))))).subscribe((()=>{const e=o.current,t=i.current,{target:l}=e,{float:s}=t;l&&s&&(r.dispatch(r8(l,s),jq(l),ile()),n(xee(!1)))}));return()=>{e.unsubscribe(),t.unsubscribe(),c.unsubscribe(),a.unsubscribe(),p.unsubscribe()}}),[n,r,a,o,i,l,s,u,d,f,h]),F((()=>{const e=c.pipe(ju((e=>{var t,n,i,r,c,a,u,d;const{clientHeight:f,clientWidth:h}=document.documentElement,p=o.current,{target:v}=p,g=null!==(n=null===(t=v.float)||void 0===t?void 0:t.top)&&void 0!==n?n:0,m=null!==(r=null===(i=v.float)||void 0===i?void 0:i.left)&&void 0!==r?r:0,y=null!==(a=null===(c=v.float)||void 0===c?void 0:c.width)&&void 0!==a?a:0,b=null!==(d=null===(u=v.float)||void 0===u?void 0:u.height)&&void 0!==d?d:0;return l.pipe(Wu(s)).pipe(bu((t=>{const n=Math.floor(t.clientX-e.clientX),o=Math.floor(t.clientY-e.clientY);return{left:Math.min(h-y,Math.max(0,m+n)),top:Math.min(f-b,Math.max(0,g+o))}})))}))).subscribe((e=>{var t,i;const l=o.current,{target:s}=l;if(s){if(null===(t=s.float)||void 0===t?void 0:t.sticky){const e=!(null===(i=s.float)||void 0===i?void 0:i.sticky);n(Dee({sticky:e})),r.dispatch(r8(s,{sticky:e}))}n(Dee(e),xee(!0))}})),t=c.pipe(ju((()=>s.pipe(Fu(1))))).subscribe((()=>{const e=o.current,t=i.current,{target:l}=e,{float:s}=t;l&&s&&(r.dispatch(r8(l,s),jq(l),ile()),n(xee(!1)))}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[r,n,o,i,l,s,c]),{menu:zd([c]),leftEdge:zd([u]),rightEdge:zd([d]),bottomEdge:zd([h]),topEdge:zd([f])}}function jK(){const e=Wd("pointerenter"),t=Wd("pointerleave");return F((()=>{}),[]),{profile:zd([e,t])}}const WK={note:"note",help:"help",guide:"guide",new:"new",paging:"paging",offpage:"offpage",import:"import",export:"export",collapsedNote:"collapsedNote",expandNote:"expandNote",insertNote:"insertNote",syncNote:"syncNote",ijson:"ijson",ipdf:"ipdf",imarkdown:"imarkdown",idirectory:"idirectory",ihtml:"ihtml",ejson:"ejson",epdf:"epdf",emarkdown:"emarkdown",eapplication:"eapplication",ehtml:"ehtml",duplicate:"Duplicate",move:"move",rename:"rename",profile:"profile",delete:"delete",replace:"replace",replaceAll:"replaceAll",safariTitle:"safariTitle",safariOkText:"safariOkText",safariContent:"safariContent",hotkey:"hotkey",list:"list",search:"search",finder:"finder",float:"float",readonly:"readonly",editable:"editable",transfer:"transfer",directory:"directory",fileStructure:"fileStructure",importExport:"importExport",bulletedList:"bulletedList",numberedList:"numberedList",checkList:"checkList",toggleList:"toggleList",sheet:"sheet",backLink:"backLink",reference:"reference",emoji:"emoji",titleOutline:"titleOutline",richTree:"richTree",cardNote:"cardNote",outlineNote:"outlineNote",imageDirectory:"imageDirectory",emojiDirectory:"emojiDirectory",taskDirectory:"taskDirectory",colorfulDirectory:"colorfulDirectory",syncIncremental:"syncIncremental",syncFully:"syncFully",syncFullyMessage:"syncFullyMessage",syncAlready:"syncAlready",syncAlreadyMessage:"syncAlreadyMessage",webdav123Title:"webdav123Title",webdav123Message:"webdav123Message"},zK={cn:{[WK.note]:"",[WK.help]:"",[WK.guide]:"",[WK.new]:"",[WK.paging]:"",[WK.offpage]:"",[WK.import]:"",[WK.export]:"",[WK.eapplication]:"",[WK.collapsedNote]:"",[WK.expandNote]:"",[WK.insertNote]:"",[WK.syncNote]:"",[WK.duplicate]:"",[WK.profile]:"",[WK.rename]:"",[WK.move]:"",[WK.delete]:"",[WK.replace]:"",[WK.replaceAll]:"",[WK.safariTitle]:" Safari ",[WK.safariOkText]:"",[WK.safariContent]:" Safari  >  >  > ",[WK.hotkey]:"",[WK.list]:"",[WK.search]:"",[WK.directory]:"",[WK.fileStructure]:"",[WK.importExport]:"",[WK.bulletedList]:"",[WK.numberedList]:"",[WK.checkList]:"",[WK.toggleList]:"",[WK.sheet]:"",[WK.backLink]:"",[WK.reference]:"",[WK.emoji]:"",[WK.titleOutline]:"",[WK.richTree]:"",[WK.outlineNote]:"",[WK.cardNote]:"",[WK.imageDirectory]:"",[WK.emojiDirectory]:"",[WK.taskDirectory]:"",[WK.colorfulDirectory]:"",[WK.transfer]:"",[WK.finder]:Uf?" Finder ":"",[WK.float]:"",[WK.readonly]:"",[WK.editable]:"",[WK.syncIncremental]:"",[WK.syncFully]:"",[WK.syncFullyMessage]:"",[WK.syncAlready]:"",[WK.syncAlreadyMessage]:" WebDav WebDav ",[WK.webdav123Title]:"123",[WK.webdav123Message]:"123 webdav 123--shuli"},en:{[WK.note]:"Note",[WK.help]:"Help",[WK.guide]:"Guide",[WK.new]:"New",[WK.paging]:"Paging",[WK.offpage]:"Off Page",[WK.import]:"Import",[WK.export]:"Export",[WK.eapplication]:"Application",[WK.insertNote]:"Insert Note Below",[WK.collapsedNote]:"collapsed Note",[WK.expandNote]:"Expand All",[WK.syncNote]:"Sync All",[WK.duplicate]:"Duplicate",[WK.profile]:"File Profile",[WK.rename]:"Rename",[WK.move]:"Move To",[WK.delete]:"Delete",[WK.replace]:"Replace",[WK.replaceAll]:"Replace All",[WK.safariTitle]:"Notes On Using Safari",[WK.safariOkText]:"No further reminder",[WK.safariContent]:"Due to compatibility issues with the Safari browser's [One Finger Tap], the checkbox for [System Preferences > Trackpad > Cursor & Tap > Tap to Tap] needs to be set to unchecked before using",[WK.hotkey]:"HotKey",[WK.list]:"List",[WK.search]:"Search",[WK.directory]:"Directory Tree",[WK.fileStructure]:"File Structure",[WK.importExport]:"Import/Export",[WK.bulletedList]:"Bulleted List",[WK.numberedList]:"Numbered List",[WK.checkList]:"Check List",[WK.toggleList]:"Toggle List",[WK.sheet]:"Sheet",[WK.backLink]:"Back Link",[WK.reference]:"Reference",[WK.emoji]:"Emoji",[WK.titleOutline]:"Title And Outline",[WK.richTree]:"Rich Directory Tree",[WK.outlineNote]:"Outline Based Note",[WK.cardNote]:"Card Based Note",[WK.imageDirectory]:"Text And ImageDirectory",[WK.emojiDirectory]:"Emoji Directory",[WK.taskDirectory]:"Task Directory",[WK.colorfulDirectory]:"Colorful Directory",[WK.transfer]:"Relocate the notes",[WK.finder]:"Reveal In Finder",[WK.float]:"Floating Menu",[WK.readonly]:"Readonly",[WK.editable]:"Editable",[WK.syncIncremental]:"Sync Incremental",[WK.syncFully]:"Sync Fully",[WK.syncFullyMessage]:"This operation will synchronize all data, which may consume data traffic and time. It is recommended to use only when incremental synchronization is ineffective.",[WK.syncAlready]:"Notebook space is bound.",[WK.syncAlreadyMessage]:"This notebook space has been bound to WebDAV. Please return to the WebDAV configuration list to view the details.",[WK.webdav123Title]:"123",[WK.webdav123Message]:"123 webdav 123--shuli"}};function VK(e,t,n,o){const i=_d(e),r=_d(t);F((()=>{const e=Nu(window,"resize").pipe(zu(0,Xa)).subscribe((()=>{var e,t;const o=r.current,i=WM(),l=EFe(o),s=kFe(o),c=null!==(t=null===(e=o.file)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:D$,a=DFe();n(X9(c,a)),n(G9(l,s)),n(J9(i.clientWidth,i.clientHeight))}));return()=>e.unsubscribe()}),[n,r]),F((()=>{const e=()=>{var e;const t=[o7(),o6(["rename","more","moving"])];if(!(null===(e=r.current.modal)||void 0===e?void 0:e.visible)){const e=jFe();t.push(r4(e))}n(...t)};return window.addEventListener("pointerdown",e),()=>{window.removeEventListener("pointerdown",e)}}),[n,r]),F((()=>{if(!Uf||!Jf||Kf)return;const e=()=>{const{lang:e}=i.current;if(window.localStorage.getItem(B$)!==B$){const t={visible:!0,showCancel:!1,title:zK[e][WK.safariTitle],okText:zK[e][WK.safariOkText],content:zK[e][WK.safariContent],onOk(){window.localStorage.setItem(B$,B$),n(tre({...t,visible:!1}))}};n(tre(t))}};o.current.safari=e;let t=null;return"/"===window.location.pathname&&(t=setTimeout(e,500)),()=>{null!==t&&clearTimeout(t)}}),[i,n,o])}function $K(e,t,n){const{client:o,showEditor:i,showFile:r}=e;H((()=>{let e=200;!1===i&&(e=o.width);const t=o.height;let l=o.width-80;r&&(l-=e);const s=o.height;n(X9(e,t),G9(l,s))}),[i,r,o.width,o.height,n])}function ZK(){return{file:Z(null),input:Z()}}function UK(e){const{bounds:t,boundsReset:n}=e.current,o=ps(t),i=Z(o);return n&&(i.current=o),i}function qK(e){const{editor:{ureference:t}}=e,n=Z(t);return n.current=t,n}function YK(e){return G(Kf?GK:KK,{...e})}function KK(e){const t=_d(e),n=Z(null),o=RY(t,n);return G(XK,{...e,imperator:n,events:o})}function GK(e){const t=_d(e),n=Z(null),o=PY(t,n);return G(XK,{...e,imperator:n,events:o})}function XK(e){var t,n,o,i;const r=_d(e),l=R(jU),s=R(RU),c=_d(s),a=R(HU),u=R(PU),d=R(FU),{imperator:f,events:h}=e,p=qK(e),v=null===(t=s.file)||void 0===t?void 0:t.currentPageId,{dispatch:g,editable:m,virtual:y,focus:b,contextmenu:C,placeholder:w,keyboardHeight:x,scrollPropagation:S,isRightClickFocused:E,showExpandSelectionLoupe:k}=e,{flush:D,gfocus:I,modal:N}=s,L=Fc(I,b),T=Q2(e),B=null==N?void 0:N.visible,{style:A,refresh:M,cwnd:O,bounds:P,reload:F,boundsReset:z,isEditPending:V,isScrolling:$,isScrollPending:Z,isMoving:U,status:q,selection:Y,selectionReflow:K,resizeHeight:X,resizeWidth:J,clientHeight:Q,clientWidth:ee,threshold:te,formatPaint:ne}=T.current,oe=UK(T),ie=W((()=>{const e=c.current.editor.data.children.length;let t=Math.floor(e/L$*100);return t>1e3&&(t=1e3),nc(((e,t,n)=>{e(s9(aRe(!0)),b9("updated"),H9(t),r9(),v4()),n&&requestAnimationFrame((()=>{var e;null===(e=f.current)||void 0===e||e.slice()}))}),t)}),[c,v]),re=W((()=>nc((t=>{const n=c.current,o={...e,editor:T.current};u(p3({dispatch:t,rootdispatch:u,rootstate:n,imperator:f,context:o,sync:ie}))}),16)),[u,c]),le=W((()=>nc((()=>{const e=l.stater.get();if(e.editor.isEditPending)return;o$e(VZe(e))}),100)),[l]),se=_((t=>{const{virtual:n,root:o,main:i,editor:l,dispatch:s}=r.current;if(t.reload)return s(z9());const c=[G8(t),R9()];if(o&&t.isScrolling&&c.push(r4(void 0,d)),n){if(t.slicer){const{data:e}=T.current;oe.current=I_(e,t.node),c.push(c9(!1))}c.push(Q8({...oe.current})),!l.scrollTouchReset||l.location||t.cwnd||t.isScrolling||(c.push(d9(!1)),"native"!==e.scroller&&c.push(p9()));const n=e=>{const{bounds:t}=e.editor;return oe.current=ps(t),e=K3()(e),e=y6()(e)};let o=!1;t.isEditPending&&(o=!0),t.composing&&(o=!1),o?(c.push(b9("pending"),P9(p.current,t.ureference)),ie(s,n,!0),p.current=t.ureference):t.isSelectPending&&c.push(g4()),l.isScrolling&&!t.isScrolling&&(c.push(g4()),i&&le()),t.isScrolling&&t.scrollHeight>t.clientHeight&&t.selection&&!hk.isCollapsed(t.selection)&&Fc(t.selection,cPe(l.data))&&(Fc(oe.current,l.bounds)||c.push(D9(!0)))}s(...c),L&&re(s)}),[r,T,u,oe,p,L,ie,re,le]),ce=_((e=>{Oze(T.current,"copy")}),[c]),ae=_((e=>{Oze(T.current,"cut")}),[c]),ue=_((e=>{Fie(l,u,f)}),[l,u,f]),de=_((e=>{const{data:t,node:n}=T.current,{root:o}=r.current,{clearSelection:i,setSelection:l,setSelectionReflow:s}=hk,c=cPe(o?t:n),a=[i(),l(c),s(!0)];se(Ud(...a)(e))}),[se]),fe=_((e=>{var t,n;const{root:o,file:i,onMultipleClick:l}=r.current;if(o&&2===e){const e=null!==(n=null===(t=null==i?void 0:i.branch)||void 0===t?void 0:t.id)&&void 0!==n?n:null==i?void 0:i.currentPageId;e&&u(S6(e))}return null==l?void 0:l(e)}),[r,u]),he=_((e=>{const{editor:t,virtual:n}=r.current;if(!n)return;const{scrollHeight:o}=t;return o<5e3?void 0:(u(cte(Math.min(1,e))),!0)}),[r,u]),pe=_(((e,t)=>{if(!1===r.current.virtual)return null;const{store:n}=c.current,{data:o}=T.current,{start:i,end:l}=oe.current;if("prev"===e){return uPe(o,i.path.length?i.path:l.path,n)}if("next"===e){return aPe(o,l.path.length?l.path:i.path,n)}if("cwnd"===e&&t){const e=sPe(o,l.path);return 0===e.length?null:dPe(o,e,t,n)}return null}),[r,c,T,oe]),ve=_(((e,t)=>{if(void 0===t)return;const{data:n}=T.current,{path:o,node:i,pop:r,push:l}=t;let s=p.current;if("push-prev"===e){const e=N_(n,i);if(oe.current.start={path:o,slice:e},l){const e=RPe(l);s=ii(s,e)}}else if("push-next"===e){const e=L_(n,i);if(oe.current.end={path:o,slice:e},l){const e=RPe(l);s=ii(s,e)}}else if("pop-prev"===e){const e=N_(n,i);if(oe.current.start={path:o,slice:e},r){const e=RPe(r);s=Kc(s,Object.keys(e))}}else if("pop-next"===e){const e=L_(n,i);if(oe.current.end={path:o,slice:e},r){const e=RPe(r);s=Kc(s,Object.keys(e))}}p.current=s}),[T,oe,p]),ge=_((async(e,t)=>{if(!iVe(e))return;const{root:n,file:o}=r.current;if(!n)return;const{node:i,selection:s,composing:c}=t;if(!s||c)return;const a=EPe(i,s);for(const e of a)e!==(null==o?void 0:o.currentPageId)&&await l.safty(e,!0)}),[r]);H((()=>{const{provider:t,root:n}=e,o=[];if(n&&void 0===t){const t={...e,editor:T.current},n={rootdispatch:u,rootstate:s,dispatch:g,imperator:f,context:t,sync:ie};o.push(p3(n))}o.length&&g(...o)})),H((()=>{var t;const{root:n,file:o}=e,i=[];if("updated"===q&&i.push(b9("normal")),z&&!F&&i.push(e9(!1)),n){const e=null==o?void 0:o.currentPageId;e&&(null===(t=null==D?void 0:D.ids)||void 0===t?void 0:t.includes(e))&&(i.push(D7(e)),i.push(W9())),!(null==D?void 0:D.ids)&&(null==D?void 0:D.after)&&b$e(s)&&i.push(N7())}i.length&&g(...i)})),j(e.ref,(()=>({scrollTo(e){var t;null===(t=f.current)||void 0===t||t.scrollTo(e)},clearVisibleState(){var e;null===(e=f.current)||void 0===e||e.clearVisibleState()},ele(e){var t,n;return null!==(n=null===(t=f.current)||void 0===t?void 0:t.ele(e))&&void 0!==n?n:null},commit(...e){var t;null===(t=f.current)||void 0===t||t.commit(...e)}})));const me=Boolean(O||K||X||J||$||U||V||Z),ye={backgroundColor:null===(n=e.style)||void 0===n?void 0:n.backgroundColor,paddingTop:null!==(i=null===(o=T.current.scrollOffset)||void 0===o?void 0:o.top)&&void 0!==i?i:0};return W((()=>{var e,t,n;const{focus:o,scroller:i,selecter:l,onSelectExpand:s,onLoupeMounted:u}=r.current,{editor:{ghighlights:d,clientWidth:p}}=c.current,v=(null!==(t=null===(e=a.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:p)/2;let g;if(d){const e=kHe(o).child;e&&(g=null===(n=null==d?void 0:d.find((t=>Fc(t.search,e))))||void 0===n?void 0:n.highlights)}const b=aFe(T.current,{focusing:L,highlights:g});let D=A;ne&&(D={...A,cursor:`url(${rTe})  5 10, text`}),A.fontWeight=$f;const I={...r.current,editor:T.current};return G(qU,{value:ie,children:G(VU,{value:f,children:G(ZU,{value:I,children:G(UU,{value:{scroller:i,selecter:l,contextmenu:C},children:G(pk,{editable:m&&L&&!B,ref:f,style:ye,editStyle:D,virtual:y,performance:"pending"!==q,value:b,scroller:i,selecter:l,keyboardHeight:x,contextmenu:C,placeholder:w,scrollPropagation:S,isRightClickFocused:E,showExpandSelectionLoupe:k,...h,onCopy:ce,onCut:ae,onPaste:ue,onSelectAll:de,onSelectExpand:s,onLoupeMounted:u,onScrollBar:he,onChange:se,onMultipleClick:fe,renderElement:(e,t)=>$ze(e,t,m,L),requestEditNode:pe,responseEditNode:ve,extractReference:RPe,preprocessKeyDown:ge,portalWidth:p,portalOffset:v,portal:(e,t,n)=>oD(e,a,t,void 0,void 0,n)})})})})})}),[Hd(me),M,L,B,q,C,Q,ee,te,ne,x,S,E,k,ie,JSON.stringify(ye),JSON.stringify(P),JSON.stringify(Y)])}const JK={position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"#fff"},QK={overflow:"hidden"},eG={position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"auto",color:Hf},tG={paddingTop:16,paddingBottom:2,display:"flex",fontWeight:Vf,flexDirection:"column"},nG={display:"flex",position:"relative",width:"100%",paddingLeft:20,paddingRight:20,boxSizing:"border-box"},oG={display:"flex",marginRight:6,alignItems:"center"},iG={color:_f,paddingTop:8,paddingLeft:20,marginBottom:-2,fontSize:12},rG=44,lG="rgb(242, 243, 245)",sG="#ffffff",cG="rgba(255, 255, 255, 0.75)",aG=44,uG=5,dG=12,fG=12,hG=44,pG=Af,vG="rgba(211, 211, 211, 0.3)",gG="rgba(211, 211, 211, 0.5)",mG="rgba(211, 211, 211, 0.6)",yG={default:vG,hover:mG,active:gG},bG={default:Rf,hover:mG,active:vG},CG={position:"relative",width:"100%",height:"100%"},wG={position:"absolute",top:0,left:0,right:0,zIndex:1e3},xG={display:"flex",justifyContent:"space-between",alignItems:"center",height:rG},SG={width:40,marginLeft:3,display:"flex",justifyContent:"center",alignItems:"center",height:rG},EG={marginRight:5,display:"flex"},kG={width:40,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",height:rG},DG={position:"absolute",top:0,left:0,bottom:0,right:0},IG={position:"relative",height:"100%",width:"100%",overflow:"scroll"},NG={position:"absolute",top:0,left:0,bottom:0,right:0,color:Hf},LG={width:"100%",display:"flex"},TG={width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingTop:36,paddingBottom:48},BG={width:72,height:72,borderRadius:"50%",backgroundColor:Tf,display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",marginBottom:13,paddingLeft:6},AG={fontSize:18,color:"#fff"},MG={position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",zIndex:1,backgroundColor:Bf},OG={position:"relative",display:"flex",flex:1},RG={position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:lG,color:Hf},PG={width:"100%"},FG={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",paddingTop:44,paddingBottom:44},HG={paddingLeft:6,width:75,height:75,boxSizing:"border-box",borderRadius:15,display:"flex",justifyContent:"center",alignItems:"center"},_G={marginTop:8,fontSize:12,color:_f},jG={position:"absolute",display:"flex",justifyContent:"center",bottom:30,left:0,right:0,fontSize:12,color:_f},WG={position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"#fff",display:"flex",flexDirection:"column",color:Hf},zG={fontSize:14,textAlign:"center",marginTop:60},VG={marginTop:60,marginLeft:12,marginRight:12,height:44,borderRadius:22,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14},$G={position:"absolute",top:0,left:0,bottom:0,right:0,paddingTop:4,color:Hf},ZG={position:"absolute",clip:"rect(0 0 0 0)"},UG={position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"#fff"},qG={position:"absolute",top:0,right:0,bottom:0,left:0,color:Hf,fontWeight:Vf,backgroundColor:lG},YG={position:"absolute",top:0,right:0,bottom:0,left:0},KG={position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column"},GG={position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column"},XG={position:"relative",height:"100%",width:"100%",overflow:"auto"},JG={backgroundColor:Tf,borderRadius:8,paddingTop:24,paddingLeft:fG,paddingRight:fG,margin:fG,position:"relative"},QG={backgroundColor:Tf,borderRadius:8,paddingTop:6,paddingBottom:6,paddingLeft:fG,paddingRight:fG,margin:fG,userSelect:"none"},eX={position:"absolute",bottom:0,left:0,right:0,marginBottom:12},tX={marginLeft:12,marginRight:12,height:hG,borderRadius:22,display:"flex",alignItems:"center",justifyContent:"center",fontSize:15},nX={marginBottom:28,position:"relative"},oX={marginBottom:24,position:"relative"},iX={marginBottom:16,position:"relative",display:"flex"},rX={width:"54%",paddingRight:10,boxSizing:"border-box"},lX={width:"44%",paddingRight:10,boxSizing:"border-box"},sX={fontSize:13,marginBottom:6,fontWeight:400,color:_f},cX={fontSize:15,fontWeight:Vf,display:"inline-block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",verticalAlign:"middle"},aX={position:"relative",top:3},uX={fontSize:13,marginBottom:6,marginLeft:15,fontWeight:400,color:jf},dX={position:"relative",display:"flex",alignItems:"center"},fX={outline:"none",border:"none",width:"100%",height:40,fontSize:14,boxSizing:"border-box",borderRadius:20,position:"relative",padding:"0px 32px 0px 14px",backgroundColor:pG,display:"flex",alignItems:"center"},hX={position:"absolute",right:12,display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",width:15,height:15},pX={position:"absolute",right:0,display:"flex",alignItems:"center"},vX={position:"absolute",right:36,marginTop:1},gX={position:"absolute",right:12,display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",width:15,height:15,pointerEvents:"none",transform:"rotate(90deg)"},mX={position:"absolute",left:15,bottom:-18,color:"red",fontSize:11},yX={fontWeight:Vf},bX={fontSize:16,fontWeight:Vf,height:24,padding:"16px 20px 1px 20px",display:"flex",alignItems:"center"},CX={position:"absolute",top:0,left:0,bottom:0,right:0,overflow:"auto",fontWeight:Vf},wX={fontSize:16,fontWeight:Vf,height:24,padding:"16px 0 1px 0",margin:"0 20px",display:"flex",alignItems:"center",position:"relative"},xX={position:"absolute",right:8,display:"flex",alignItems:"center",animation:"rotate 1.2s linear infinite"},SX={fontSize:16,fontWeight:Vf,height:24,padding:"16px 20px 1px 20px",display:"flex",alignItems:"center"},EX={display:"flex",justifyContent:"space-between",alignItems:"center",height:36,position:"relative"},kX={fontSize:10,minHeight:12,marginBottom:6,marginTop:-4},DX={fontSize:16.5,fontWeight:Vf,display:"flex"},IX={display:"inline-flex",transition:"transform 1s linear",transform:"rotate(0deg)"},NX={marginRight:8,marginLeft:1,marginTop:1},LX={height:30,width:30,display:"flex",alignItems:"center",justifyContent:"center",transform:"rotate(90deg)",position:"relative",right:-6},TX={},BX={paddingTop:10},AX={position:"relative",padding:12},MX={borderRadius:8,backgroundColor:cG,padding:"6px 12px"},OX={display:"flex",justifyContent:"space-between",alignItems:"center",height:44,fontSize:15,fontWeight:Vf},RX={display:"inline-flex",animation:"rotate 1.2s linear infinite"},PX={position:"absolute",top:0,right:0,bottom:0,left:0},FX={position:"absolute",top:0,right:0,bottom:0,left:0,margin:"0 12px 12px 12px",backgroundColor:sG,borderRadius:8,overflow:"hidden"},HX={position:"absolute",top:0},_X={position:"relative",display:"flex",flexDirection:"column"},jX={margin:12,overflow:"hidden",borderRadius:8,backgroundColor:Tf,position:"relative"},WX={position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"scroll"},zX={position:"relative",display:"flex",flexDirection:"column"},VX={height:aG,width:"100%",position:"relative",borderColor:"#d8d8d8",display:"flex",alignItems:"center"},$X={width:"calc(100% - 46px)",height:"100%",position:"relative",display:"flex",alignItems:"center",paddingLeft:12,paddingRight:2,overflow:"scroll",boxSizing:"border-box",transition:"background 100ms ease-out"},ZX={width:30,height:30,boxSizing:"border-box",paddingTop:1,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:4,marginRight:10.9,flexShrink:0,transition:"background 100ms ease-out"},UX={...ZX,marginRight:0,position:"absolute",right:12},qX={position:"absolute",left:0,right:0,bottom:aG+uG,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:1e4},YX={height:aG,maxWidth:"calc(100vw - 48px)",paddingLeft:12,paddingRight:12,borderRadius:6,position:"relative",display:"flex",alignItems:"center",overflow:"scroll",opacity:1,transform:`translateY(calc(100% + ${uG}px))`,transition:"transform 160ms ease-out, opacity 160ms ease-out",backgroundColor:Tf,pointerEvents:"visible",boxShadow:"0 0 2px 1px rgba(0, 0, 0, 0.08)"},KX={...ZX,position:"relative",transition:"background-color 100ms ease-out"},GX={position:"relative",top:1.5},XX={position:"absolute",bottom:2,right:-4,fontSize:9,fontWeight:"bold"},JX={position:"relative",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},QX={position:"absolute",bottom:3.5,height:3,width:14,boxSizing:"border-box"},eJ={display:"flex",flexWrap:"wrap",marginTop:8,marginLeft:12,marginRight:0},tJ={width:"calc(50% - 12px)",marginRight:12,marginBottom:12,height:aG,borderRadius:6,flexShrink:0,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",userSelect:"none",transition:"border 100ms ease-out, background 100ms ease-out"},nJ={width:"calc(25% - 12px)",marginRight:12,marginBottom:12},oJ={width:"100%",borderRadius:6,flexShrink:0,display:"flex",alignItems:"center",transition:"background 100ms ease-out"},iJ={paddingTop:7,paddingBottom:8,paddingRight:9,marginLeft:-1,width:"100%"},rJ={display:"flex",flexDirection:"column",flex:1},lJ={paddingLeft:10,position:"relative"},sJ={flex:1,height:5,borderRadius:3,background:Tf,marginLeft:5},cJ={display:"flex",alignItems:"center",height:15},aJ={position:"relative"},uJ={marginLeft:12,display:"flex",marginTop:1,fontSize:15,fontWeight:Vf,transition:"color 100ms ease-out"},dJ={position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:6,pointerEvents:"none"},fJ={marginLeft:14,display:"flex"},hJ={position:"absolute",right:14,paddingLeft:6,paddingRight:6,borderRadius:3},pJ={position:"absolute",right:14,color:jf,fontSize:13,transition:"color 100ms ease-out"},vJ={position:"absolute",top:0,right:0,bottom:0,left:0},gJ={position:"absolute",top:0,right:0,bottom:0,left:0,margin:"0 12px 12px 12px",overflow:"hidden",backgroundColor:sG,borderRadius:8},mJ={position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column",paddingTop:14,fontSize:15,fontWeight:Vf},yJ={display:"flex",flexWrap:"wrap",marginLeft:12,marginRight:0},bJ={marginLeft:12,marginRight:12,marginBottom:12,height:aG,borderRadius:6,flexShrink:0,display:"flex",alignItems:"center",position:"relative",paddingLeft:12,color:"#333"},CJ={position:"absolute",right:12,marginTop:1},wJ={display:"flex",height:"100%",flex:1},xJ={display:"flex",flex:1,height:"100%",userSelect:"none",WebkitUserSelect:"none"};function SJ(e){var t;const n=KH();return X("div",{style:{...CG,...e.style},children:[G("div",{style:{...wG,paddingTop:n},children:X("div",{style:xG,children:[!1===e.back?null:G(wh,{style:SG,onClick:()=>{var t;!1!==(null===(t=e.onClickBack)||void 0===t?void 0:t.call(e))&&JH("pop")},children:oh?null:G(UO,{width:10})}),e.title,G("div",{style:EG,children:null===(t=e.menus)||void 0===t?void 0:t.map(((t,n)=>{let o=null;return"more"===t?oh||(o=G(qO,{width:15})):"readonly"===t&&(o=G(ZO,{width:17,fill:Hf,style:{position:"relative",top:-.5}})),G(wh,{style:kG,onClick:()=>{var o;null===(o=e.onClickMenu)||void 0===o||o.call(e,t,n)},children:o},n)}))})]})}),G("div",{style:{...DG,paddingTop:n+rG},children:G("div",{style:IG,children:e.children})})]})}const EJ={note:"note",setting:"setting",plan:"plan",pricing:"pricing",help:"help",cloud:"cloud",webdav:"webdav",download:"download",sponsor:"sponsor",home:"home",update:"update",changelog:"changelog",about:"about",feedback:"feedback",userAgreement:"userAgreement",privacyPolicy:"privacyPolicy"},kJ={cn:{[EJ.note]:"",[EJ.setting]:"",[EJ.plan]:"",[EJ.pricing]:"",[EJ.help]:"",[EJ.cloud]:"",[EJ.webdav]:"WebDAV",[EJ.about]:"",[EJ.download]:"",[EJ.sponsor]:"",[EJ.home]:"",[EJ.update]:"",[EJ.changelog]:"",[EJ.feedback]:"",[EJ.userAgreement]:"",[EJ.privacyPolicy]:""},en:{[EJ.note]:"Note",[EJ.setting]:"Setting",[EJ.plan]:"RoadMap",[EJ.pricing]:"Pricing",[EJ.help]:"Help",[EJ.cloud]:"Cloud Services",[EJ.webdav]:"WebDAV",[EJ.about]:"About",[EJ.download]:"Download",[EJ.sponsor]:"Sponsor",[EJ.home]:"Home",[EJ.update]:"Version Update",[EJ.changelog]:"Changelog",[EJ.feedback]:"Feedback",[EJ.userAgreement]:"UserAgreement",[EJ.privacyPolicy]:"PrivacyPolicy"}};const DJ={copyLink:"copyLink",openFromBrowser:"openFromBrowser",editNote:"editNote",copyNote:"copyNote",removeNote:"removeNote",generateQRCode:"generateQRCode"},IJ={cn:{[DJ.copyLink]:"",[DJ.openFromBrowser]:"",[DJ.editNote]:" WebDAV ",[DJ.copyNote]:" WebDAV ",[DJ.removeNote]:" WebDAV ",[DJ.generateQRCode]:""},en:{[DJ.copyLink]:"Copy Link",[DJ.openFromBrowser]:"Open From Browser",[DJ.editNote]:"Edit WebDav Config",[DJ.copyNote]:"Copy WebDav Config",[DJ.removeNote]:"Remove WebDav Config",[DJ.generateQRCode]:"Generate QRCode"}};function NJ(e){const{keys:n,i18n:o}=t,i={fill:Hf,width:13.5,style:{position:"relative",top:-.5}};return[[{name:o[e.lang][n.syncNote],value:n.syncNote,icon:G(EO,{...i})}],[{name:IJ[e.lang][DJ.editNote],value:DJ.editNote,icon:G(bO,{...i})},{name:IJ[e.lang][DJ.copyNote],value:DJ.copyNote,icon:G(yO,{...i,width:13})}],[{name:IJ[e.lang][DJ.generateQRCode],value:DJ.generateQRCode,icon:G(QR,{...i,width:13})}],[{name:IJ[e.lang][DJ.removeNote],value:DJ.removeNote,style:{color:"red"},icon:G(QM,{...i,width:14.5,fill:"red"})}]]}function LJ(){return document.documentElement.clientWidth-4*fG-50}function TJ(){return document.documentElement.clientWidth-4*fG-40}function BJ(e){const t=QH();if(!t)return;let n;for(let o=t.length-1;o>=0;o--){const i=t[o];if(i.route===e){n=i.uid;break}}return n}function AJ(){const{clientHeight:e,clientWidth:t}=document.documentElement;return{clientHeight:e-KH()-rG,clientWidth:t-36}}function MJ(){const e=e_();return BJ(KB.editor)!==e}var OJ;!function(e){e.TOOLS_HIDE_KEYBOARD="TOOLS_HIDE_KEYBOARD",e.TOOLS_SHOW_KEYBOARD="TOOLS_SHOW_KEYBOARD",e.TOOLS_CLEAR_SELECTION="TOOLS_CLEAR_SELECTION",e.TOOLS_BEFORE_DESTROY="TOOLS_BEFORE_DESTROY",e.TOOLS_POST_INNER="TOOLS_POST_INNER",e.TOOLS_POST_UPPER="TOOLS_POST_UPPER",e.TOOLS_HIDE_UPPER="TOOLS_HIDE_UPPER",e.TOOLS_EDITOR_ACTION="TOOLS_EDITOR_ACTION",e.EDITOR_SHOW_KEYBOARD="EDITOR_SHOW_KEYBOARD",e.EDITOR_FOCUS_SHEET="EDITOR_FOCUS_SHEET",e.EDITOR_FOCUS="EDITOR_FOCUS",e.EDITOR_EDITABLE="EDITOR_EDITABLE",e.EDITOR_REFRESH_WORKSPACE="EDITOR_REFRESH_WORKSPACE",e.EDITOR_REFRESH_EDITOR="EDITOR_REFRESH_EDITOR",e.EDITOR_REFRESH_WEBDAV="EDITOR_REFRESH_WEBDAV",e.EIDTOR_SELECTION_STATUS="EIDTOR_SELECTION_STATUS",e.EDITOR_BEFORE_DESTROY="EDITOR_BEFORE_DESTROY",e.EDITOR_DETECT_WEBDAV="EDITOR_DETECT_WEBDAV",e.WORKSPACE_REPRESH_EDITOR="WORKSPACE_REPRESH_EDITOR",e.WORKSPACE_REPRESH_STORE="WORKSPACE_REPRESH_STORE",e.WORKSPACE_REPRESH_WEBDAV="WORKSPACE_REPRESH_WEBDAV",e.WORKSPACE_SYNC_WEBDAV="WORKSPACE_SYNC_WEBDAV",e.WORKSPACE_DETECT_WEBDAV="WORKSPACE_DETECT_WEBDAV",e.WORKSPACE_DELETE_WEBDAV="WORKSPACE_DELETE_WEBDAV",e.WORKSPACE_DELETE_ITEM="WORKSPACE_DELETE_ITEM",e.SELECTOR_CLEAR_ACTIVITY="SELECTOR_CLEAR_ACTIVITY",e.FLOAT_ANCHOR_BRANCH="FLOAT_ANCHOR_BRANCH",e.MORE_READONLY_BRANCH="MORE_READONLY_BRANCH",e.MROE_TOGGLE_BRANCH="MROE_TOGGLE_BRANCH",e.MORE_RENAME_BRANCH="MORE_RENAME_BRANCH",e.MORE_DELETE_BRANCH="MORE_DELETE_BRANCH",e.MORE_DUPLICATE_BRANCH="MORE_DUPLICATE_BRANCH",e.MORE_MOVING_BRANCH="MORE_MOVING_BRANCH",e.MROE_INSERT_NOTE="MROE_INSERT_NOTE",e.MORE_IMPORT_MARKDOWN="MORE_IMPORT_MARKDOWN",e.MORE_IMPORT_SLI="MORE_IMPORT_SLI",e.MORE_EXPORT_SLI="MORE_EXPORT_SLI",e.MORE_EXPORT_MARKDOWN="MORE_EXPORT_MARKDOWN",e.MORE_EXPORT_HTML="MORE_EXPORT_HTML",e.MORE_BEFORE_DESTROY="MORE_BEFORE_DESTROY",e.MORE_SYNC_NOTE="MORE_SYNC_NOTE",e.MOVING_BEFORE_DESTROY="MOVING_BEFORE_DESTROY",e.SEARCH_ANCHOR_EDITOR="SEARCH_ANCHOR_EDITOR",e.SEARCH_REPLACE_EDITOR="SEARCH_REPLACE_EDITOR",e.SEARCH_FOCUS_EDITOR="SEARCH_FOCUS_EDITOR",e.SEARCH_CLEAR_HIGHLIGHT="SEARCH_CLEAR_HIGHLIGHT",e.WEBDAV_SELECT_NOTE="WEBDAV_SELECT_NOTE",e.WEBDAV_SELECT_MODE="WEBDAV_SELECT_MODE",e.WEBDAV_SUBMIT_FROM="WEBDAV_SUBMIT_FROM",e.WEBDAV_UPDATE_FORM="WEBDAV_UPDATE_FORM",e.WEBDAV_UPDATE_CLOUD="WEBDAV_UPDATE_CLOUD",e.WEBDAV_DELETE_ITEM="WEBDAV_DELETE_ITEM",e.WEBDAV_SYNC_NOTE="WEBDAV_SYNC_NOTE",e.WEBDAV_SYNC_FULLY="WEBDAV_SYNC_FULLY",e.WEBDAV_SYNC_CLOUD="WEBDAV_SYNC_CLOUD",e.WEBDAV_SYNC_ACTIONS="WEBDAV_SYNC_ACTIONS",e.WEBDAV_CHANGE_MODE="WEBDAV_CHANGE_MODE",e.WEBDAV_REFRESH_WORKSPACE="WEBDAV_REFRESH_WORKSPACE"}(OJ||(OJ={}));const RJ=e=>t=>(t.tool=e,t),PJ=e=>t=>(t.keyboardHeight=e>0?e+aG:0,t),FJ=e=>t=>(t.ready=e,t),HJ=e=>t=>(t.focus=e,t),_J=()=>e=>(delete e.focus,e),jJ=()=>e=>(e.refresh=YB(),e),WJ=e=>t=>(t.inited=e,t),zJ=e=>t=>(t.type=e,t),VJ=e=>t=>(t.selectionStatus=e,t),$J=(e,t)=>n=>{var o;return null===(o=n.tools)||void 0===o||o.forEach((n=>{e.name===n.name?n.active=t:n.inner&&(n.active=!1)})),n},ZJ=(e,t)=>n=>{var o;return null===(o=n.tools)||void 0===o||o.forEach((n=>{e.name===n.name?n.active=t:n.upper&&(n.active=!1)})),n},UJ=()=>e=>{var t;return null===(t=e.tools)||void 0===t||t.forEach((e=>{e.inner&&(e.active=!1)})),e},qJ=()=>e=>{var t;return null===(t=e.tools)||void 0===t||t.forEach((e=>{e.upper&&(e.active=!1)})),e},YJ=e=>t=>(t.inner?Object.assign(t.inner,e):t.inner=e,t),KJ=e=>t=>(t.tools=e,t),GJ=e=>t=>(t.name=e,t),{toggleBranchArrow:XJ,recursiveTree:JJ}=OB,QJ=e=>t=>(t.value={...e,scrollOffset:{lower:e.clientHeight/2,upper:e.clientHeight/2}},t),eQ=(e,t)=>t=>t.value?(JJ(t.value.tree,(t=>{t.id===(Cc(e)?e:e.id)?t.active=!0:t.active=!1})),t.value.isEditPending=!0,t):t,tQ=(e,t)=>n=>(n.width=e,n.height=t,n.refresh=aRe(!0),n.autoFocus=!0,n),nQ=(e,t)=>n=>(n.client={width:e,height:t},n),oQ=e=>t=>(t.note=e,t),{createBlockNode:iQ,transformNodeToEditNode:rQ}=hk,lQ=e=>t=>(Object.assign(t,e),t),sQ=e=>n=>{if(e.username&&(n.username=e.username),e.uiv&&(n.usernameInvisible=e.uiv),e.password&&(n.password=e.password),e.piv&&(n.passwordInvisible=e.piv),e.service&&(n.service=e.service),e.id&&e.title&&(n.selected={id:e.id,title:rQ(iQ([e.title]),"")},n.roots.some((t=>t.id===e.id))||(n.incloud=!0)),void 0!==e.mode){const{createWebDavModes:o}=t,i=o().find((t=>t.value===e.mode));i&&(n.mode=i)}return n},cQ=e=>t=>(Object.assign(t,e),t),aQ=(e,n)=>o=>{var i,r,l,s,c,a;const{FontSizeReader:u}=t,d=null!==(r=null===(i=e.file)||void 0===i?void 0:i.tree)&&void 0!==r?r:[],{item:f,options:[h=[]]}=o,p=document.documentElement.clientWidth-48-48;for(const e of d){const t=h.findIndex((t=>t.value.id===e.id));if(-1===t){const t={name:G(u,{width:p,node:e.title}),value:e};t.rightIcons=null!==(l=t.rightIcons)&&void 0!==l?l:[],(null===(c=null===(s=o.cloud)||void 0===s?void 0:s[e.id])||void 0===c?void 0:c.length)?(t.disable=!0,t.rightIcons.push(G(tP,{width:12,style:{position:"relative",top:.5}}))):e.id===(null===(a=f.selected)||void 0===a?void 0:a.id)&&(t.rightIconType="check"),n&&(e.incloud=!0,t.rightIcons.push(G(SO,{width:14,style:{position:"relative",top:1}}))),h.push(t)}}return o.options=[h],o},{isCollapsed:uQ}=hk;let dQ=null;function fQ(){if(dQ)return dQ;const{slash:e,outline:n,increaseIndent:o,decreaseIndent:i,bulleted:r,numbered:l,check:s,toggle:c,sheet:a,link:u,refer:d,quote:f,separator:h}=t;return dQ={add:Kj,outline:n.name,font:"font-style",align:"align-style",list:"list-style",image:MW,slash:e.name,undo:Bj,redo:kj,paintFormat:tW,clearFormat:sW,text:`${n.name}-text`,title:`${n.name}-title`,h1:`${n.name}-h1`,h2:`${n.name}-h2`,h3:`${n.name}-h3`,h4:`${n.name}-h4`,h5:`${n.name}-h5`,h6:`${n.name}-h6`,bold:hW,italic:_W,strikeUnderline:XW,strikeThrough:ZW,textColor:lz,highlightColour:Ez,fillColor:vz,fontSize:kW,fontFamily:bW,lineHeight:lV,letterSpacing:kV,alignLeft:"align-left",alignRight:"align-right",alignCenter:"align-center",alignJustify:"align-justify",firstLineIndent:"first-line-indent",increaseIndent:o.name,decreaseIndent:i.name,bulletedList:r.name,numberedList:l.name,checkList:s.name,toggleList:c.name,sheet:a.name,link:u.name,refer:d.name,quote:f.name,separator:h.name,takePhoto:"take-photo",selectPicture:"select-picture",borderAll:RV.borderAll,borderOutline:RV.borderOutline,borderInside:RV.borderInside,borderBottom:RV.borderBottom,borderLeft:RV.borderLeft,borderNone:RV.borderNone,borderRight:RV.borderRight,borderTop:RV.borderTop,borderHide:RV.borderHide,borderShow:RV.borderShow,borderColor:RV.borderColor,borderMoreColor:"border-more-color",verticalTop:i$.verticalTop,verticalMiddle:i$.verticalMiddle,verticalBottom:i$.verticalBottom,merge:n$,sheetInsert:"sheet-insert",sheetInsertRight:"sheet-insert-right",sheetInsertLeft:"sheet-insert-left",sheetInsertTop:"sheet-insert-top",sheetInsertBottom:"sheet-insert-bottom",sheetSelectRow:"sheet-select-row",sheetSelectColumn:"sheet-select-column",sheetSelectAll:"sheet-select-all",sheetDeleteRow:"sheet-delete-row",sheetDeleteColumn:"sheet-delete-column",sheetDeleteAll:"sheet-delete-all",sheetMore:"sheet-more",sheetCopy:"sheet-copy",sheetCut:"sheet-cut",sheetPaste:"sheet-paste"}}function hQ(){const{bulleted:e,numbered:n,check:o,toggle:i,common:r}=t,l=fQ();return[{name:l.bulletedList,value:r.list.SubClass.TWO,payload:e.group[1]},{name:l.bulletedList,value:r.list.SubClass.ONE,payload:e.group[0]},{name:l.numberedList,value:r.list.SubClass.ONE,payload:n.group[0]},{name:l.numberedList,value:r.list.SubClass.TWO,payload:n.group[1]},{name:l.checkList,value:r.list.SubClass.ONE,payload:o.group[0]},{name:l.checkList,value:r.list.SubClass.TWO,payload:o.group[1]},{name:l.toggleList,value:r.list.SubClass.ONE,payload:i.group[0]},{name:l.toggleList,value:r.list.SubClass.TWO,payload:i.group[1]}]}function pQ(){return{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""}}function vQ(){const{colors:e}=ig,t=Oi(e),n={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""};return t.map(((e,t)=>{let o=dc(e);return 1===t||2===t?o=e[2]:3===t?o=e[3]:(6===t||8===t)&&(o=e[2]),{text:n[t+1],value:o,payload:e}}))}function gQ(){return[{value:9,text:""},{value:10.5,text:""},{value:12,text:""},{value:14,text:""},{value:16,text:""},{value:18,text:""},{value:24,text:""},{value:36,text:""},{value:42,text:""},{value:54,text:""}]}function mQ(){return[{text:"",value:"auto"},{text:"",value:"Microsoft YaHei, , "},{text:"",value:"FangSong"},{text:"",value:"SimSun"},{text:"",value:"Kai, Kaiti"},{text:"",value:"Hei"}]}function yQ(){return[{text:"",value:"normal"},{text:"1",value:1},{text:"2",value:2},{text:"4",value:4},{text:"6",value:6},{text:"8",value:8},{text:"16",value:16},{text:"32",value:32},{text:"1",value:-1},{text:"2",value:-2}]}function bQ(){return[{text:"",value:1.7},{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.3",value:1.3},{text:"1.5",value:1.5},{text:"2",value:2},{text:"2.5",value:2.5},{text:"3",value:3}]}function CQ(){const e=fQ();return[{name:e.sheetInsertTop,text:"",value:1,more:!0},{name:e.sheetInsertBottom,text:"",value:1,more:!0},{name:e.sheetInsertLeft,text:"",value:1,more:!0},{name:e.sheetInsertRight,text:"",value:1,more:!0},{name:e.sheetDeleteRow,text:""},{name:e.sheetDeleteColumn,text:""},{name:e.sheetDeleteAll,text:""}]}function wQ(){const e=fQ();return[{name:e.sheetCopy,text:""},{name:e.sheetPaste,text:""},{name:e.sheetCut,text:""},{name:e.sheetSelectAll,text:""},{name:e.sheetSelectRow,text:""},{name:e.sheetSelectColumn,text:""}]}function xQ(e){var t;const{colors:n}=ig,o=Oi(n),i={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""};let r=-1;for(const t in i)if(i[t]===e.text){r=Number(t)-1;break}return-1===r?[]:null!==(t=o[r])&&void 0!==t?t:[]}function SQ(e){const t=fQ();return[1,2,4,6,8].map((n=>{let o=String(n);return e.name===t.sheetInsertTop?o=` ${n} `:e.name===t.sheetInsertBottom?o=` ${n} `:e.name===t.sheetInsertLeft?o=` ${n} `:e.name===t.sheetInsertTop&&(o=` ${n} `),{text:o,value:n}}))}function EQ(e,n,o){var i,r;const l=fQ();if(!n)return!1;const{outline:s}=t;if(e===l.bold){const e=n.fontWeight;if("bolder"===e||"bold"===e)return!0;if(!isNaN(Number(e)))return Number(e)>=700}else{if(e===l.italic)return"italic"===n.fontStyle;if(e===l.strikeUnderline)return(null!==(i=null==n?void 0:n.textDecorationLine)&&void 0!==i?i:"").indexOf("underline")>=0;if(e===l.strikeThrough)return(null!==(r=null==n?void 0:n.textDecorationLine)&&void 0!==r?r:"").indexOf("line-through")>=0;if(e===l.alignCenter)return"center"===n.textAlign;if(e===l.alignLeft)return"left"===n.textAlign;if(e===l.alignRight)return"right"===n.textAlign;if(e===l.alignJustify)return"justify"===n.textAlign;if(e===l.text){if(void 0===(null==o?void 0:o[s.name]))return!0}else if(e===l.title){if((null==o?void 0:o[s.name])===s.SubClass.H)return!0}else if(e===l.h1){if((null==o?void 0:o[s.name])===s.SubClass.H1)return!0}else if(e===l.h2){if((null==o?void 0:o[s.name])===s.SubClass.H2)return!0}else if(e===l.h3){if((null==o?void 0:o[s.name])===s.SubClass.H3)return!0}else if(e===l.h4){if((null==o?void 0:o[s.name])===s.SubClass.H4)return!0}else if(e===l.h5){if((null==o?void 0:o[s.name])===s.SubClass.H5)return!0}else if(e===l.h6&&(null==o?void 0:o[s.name])===s.SubClass.H6)return!0}return!1}function kQ(e,t){return{type:OJ.TOOLS_POST_UPPER,payload:{lang:e.lang,name:t.name,visible:!t.active,transition:{enter:{transform:"translateY(0)"},leave:{transform:`translateY(calc(100% + ${uG}px))`}}}}}function DQ(e,t,n,o){const i=BJ(KB.editor);i&&(i_({type:OJ.TOOLS_EDITOR_ACTION,payload:n},i),IQ(t)||(i_({type:OJ.TOOLS_SHOW_KEYBOARD},i),i_({type:OJ.TOOLS_HIDE_UPPER},i),o(UJ(),qJ(),YJ({active:!1}))))}function IQ(e){if(e.selectionStatus){const{selection:t,sheet:n}=e.selectionStatus;if(null==n?void 0:n.indicatorRange){const{rowStartIndex:e,rowEndIndex:t,columnStartIndex:o,columnEndIndex:i}=n.indicatorRange;if(t>e+1&&i>o+1)return!0}if(!uQ(t))return!0}return!1}function NQ(e="haptic.clock.timer"){h_({type:"preset",effectId:e,count:1},{usage:"touch"},(t=>{h_({type:"preset",effectId:e,count:1},{usage:"notification"})}))}const LQ=nc(NQ,20);function TQ(){s_({title:"",message:"  \n  ",width:320,confirm:{value:"",fontColor:Bf}})}const{getBranchByPath:BQ}=OB;function AQ(e){var t;return(null===(t=e.children)||void 0===t?void 0:t[0])?{...e,children:[null]}:e}function MQ(e,n){var o;const{getPageableBranch:i}=t,{tree:r}=e;let{branch:l,pageId:s}=n;if(!l.path)return null;l=BQ(r,l.path);const{type:c,path:a}=l;if("page"===c){const e=BQ(r,hc(a));s=null!==(o=null==e?void 0:e.id)&&void 0!==o?o:null}else{s=i(r,l).id}return{...n,branch:l,pageId:s}}function OQ(e,t){const{origin:n,target:o,originPageId:i,targetPageId:r}=t,l=MQ(e,{branch:n,pageId:i}),s=MQ(e,{branch:o,pageId:r});return l&&s?{target:s.branch,origin:l.branch,targetPageId:s.pageId,originPageId:l.pageId}:null}function RQ(e,t){const n=new KeyboardEvent(e,{bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,key:t});window.dispatchEvent(n)}function PQ(e){var n;const{getLocalRecentlyReview:o,setLocalRecentlyReview:i}=t,r=null!==(n=o())&&void 0!==n?n:[],l=r.indexOf(e);-1!==l&&r.splice(l,1),r.unshift(e),i(r.slice(0,10))}const FQ=e=>t=>(t.active=e,t),HQ=e=>t=>(t.visible=e,t),_Q=()=>e=>(delete e.visible,e),jQ={help:Uf?"++?":"Ctrl+Alt+?",plan:Uf?"++P":"Ctrl+Alt+P"};Xs(hh)(jQ.help),Xs(hh)(jQ.plan);const WQ=Kf?40:38;const zQ={position:"absolute",left:-20,right:-20,top:-15,bottom:-10,display:"flex",justifyContent:"center",alignItems:"center"};var VQ=Object.freeze({__proto__:null,NAV_SIZE:WQ,i18n:kJ,keys:EJ,removeNavActive:()=>e=>(delete e.active,e),removeNavVisible:_Q,setNavActive:FQ,setNavVisible:HQ});function $Q(e){const[t,n]=qd((()=>({size:WQ,active:"note"})));j(e.ref,(()=>({dispatch:n})));const o=jM(),i=[[ZQ(e,t,EJ.note,(e=>G(dO,{...e,width:o?13.5:11.5})))],[ZQ(e,t,EJ.setting,(e=>o?G("span",{style:zQ,children:G(pO,{...e,width:16.5})}):G(pO,{...e,width:14.5})))]],r=e=>{const t=jM();Oi(e).forEach((e=>{if(e.active&&n(FQ(e.id)),e.active&&e.id===EJ.setting&&t){const e=document.documentElement.clientWidth;JH("push",{route:KB.setting,effect:{slide:"left",modal:!0,gesture:!0},alive:!0,aliveId:KB.setting,style:{width:Math.min(400,e-80),backgroundColor:Bf,statusBarContentColor:"#FFFFFF"}})}else e.visible?n(_Q()):e.active&&n(HQ(e.id))}))},l=()=>{n(_Q())},s={width:t.size,zIndex:1e4};if(rh){const e=XH();s.paddingTop=6,s.paddingBottom=6,e>15&&(s.paddingBottom=e-9)}return W((()=>G(Xk,{onClick:l,style:s,value:i,onChange:r})),[t.active,t.visible])}function ZQ(e,t,n,o){const i=t.active===n,r=kJ[e.lang][n],l=i?"#fff":jf,s={id:n,active:i,visible:t.visible===n,tips:r,icon:G(o,{fill:l})};return n===EJ.setting&&(s.options=function(e){const t=[{name:kJ[e.lang][EJ.help],value:EJ.help,icon:G(xO,{}),hotkey:jQ.help,action:e.onAction},{name:kJ[e.lang][EJ.cloud],value:EJ.cloud,icon:G(SO,{}),children:[{name:kJ[e.lang][EJ.webdav],value:EJ.webdav,icon:G(kO,{}),action:e.onAction}]},{name:kJ[e.lang][EJ.about],value:EJ.about,icon:G(DO,{}),children:[{name:kJ[e.lang][EJ.home],value:EJ.home,icon:G(FO,{}),action:e.onAction},{name:kJ[e.lang][EJ.pricing],value:EJ.pricing,icon:G(_O,{}),action:e.onAction},{name:kJ[e.lang][EJ.plan],value:EJ.plan,icon:G(TO,{}),action:e.onAction},{name:kJ[e.lang][EJ.feedback],value:EJ.feedback,icon:G(LO,{}),action:e.onAction},{name:kJ[e.lang][EJ.changelog],value:EJ.changelog,icon:G(NO,{}),action:e.onAction},{name:kJ[e.lang][EJ.update],value:EJ.update,icon:G(IO,{}),action:e.onAction}]}];Kf||"undefined"!=typeof electron||t.push({name:kJ[e.lang][EJ.download],value:EJ.download,icon:G(BO,{}),action:e.onAction});return t}(e)),s}function UQ(e){const{i18n:t,keys:n}=VQ,o={fill:Hf,style:{position:"relative",top:-.5}};return[[{name:`${t[e.lang][n.webdav]}`,value:n.webdav,icon:G(kO,{...o,width:14.5}),rightIconType:"arrow"}],[{name:t[e.lang][n.help],value:n.help,icon:G(xO,{...o,width:16}),rightIconType:"arrow"},{name:t[e.lang][n.about],value:n.about,icon:G(DO,{...o,width:16}),rightIconType:"arrow"}]]}function qQ(e){const t=fQ();return[{name:t.add,active:!1,outer:e=>G(KO,{width:18,fill:Hf}),inner:!0},{name:t.sheet,active:!1,upper:!0,outer:e=>G(BR,{width:17.5,fill:Hf,style:{position:"relative",top:-.2}})},{name:t.outline,active:!1,upper:!0,outer:e=>G(QO,{width:17.5,fill:Hf})},{name:t.font,active:!1,upper:!0,outer:e=>G(JO,{width:16.8,fill:Hf})},{name:t.align,active:!1,upper:!0,outer:e=>G(wR,{width:16.5,fill:Hf})},{name:t.list,active:!1,inner:!0,outer:e=>G(iR,{width:15,fill:Hf})},{name:t.image,active:!1,inner:!0,outer:e=>G(HO,{width:18,fill:Hf})},{name:t.undo,active:!1,outer:e=>G(rR,{width:19,fill:Hf})},{name:t.redo,active:!1,outer:e=>G(lR,{width:19,fill:Hf})},{name:t.clearFormat,active:!1,outer:e=>G(cR,{width:16,fill:Hf,style:{position:"relative",top:-.5}})}]}function YQ(e){const t=fQ();function n(e){return X("div",{style:GX,children:[G(hR,{style:{position:"relative",right:2},width:10.5,fill:Hf}),G("div",{style:XX,children:e.number})]})}return t.outline===e?[{name:t.text,active:!1,outer:e=>G(fR,{width:12.5,fill:Hf})},{name:t.title,active:!1,outer:e=>G(hR,{width:10.5,fill:Hf})},{name:t.h1,active:!1,outer:e=>G(n,{...e,number:1})},{name:t.h2,active:!1,outer:e=>G(n,{...e,number:2})},{name:t.h3,active:!1,outer:e=>G(n,{...e,number:3})},{name:t.h4,active:!1,outer:e=>G(n,{...e,number:4})},{name:t.h5,active:!1,outer:e=>G(n,{...e,number:5})},{name:t.h6,active:!1,outer:e=>G(n,{...e,number:6})}]:t.font===e?[{name:t.bold,active:!1,outer:e=>G(pR,{width:15,fill:Hf})},{name:t.italic,active:!1,outer:e=>G(vR,{width:15,fill:Hf})},{name:t.strikeUnderline,active:!1,outer:e=>G(mR,{width:16,fill:Hf,style:{position:"relative",top:.5}})},{name:t.strikeThrough,active:!1,outer:e=>G(gR,{width:15,fill:Hf})},{name:t.textColor,active:!1,inner:!0,outer:e=>X("div",{style:JX,children:[G(yR,{width:14,fill:Hf,style:{position:"relative",bottom:1}}),G(Uh,{style:{...QX,marginLeft:-.3,backgroundColor:String(e.value)}})]})},{name:t.highlightColour,active:!1,inner:!0,outer:e=>X("div",{style:JX,children:[G(CR,{width:16,fill:Hf,style:{position:"relative",bottom:.5}}),G(Uh,{style:{...QX,backgroundColor:String(e.value)}})]})},{name:t.fontSize,active:!1,inner:!0,outer:e=>G(eR,{width:14.5,fill:Hf})},{name:t.letterSpacing,active:!1,inner:!0,outer:e=>G(nR,{width:16.5,fill:Hf})}]:t.align===e?[{name:t.firstLineIndent,active:!1,outer:e=>G(NR,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.increaseIndent,active:!1,outer:e=>G(LR,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.decreaseIndent,active:!1,outer:e=>G(TR,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.alignLeft,value:"left",active:!1,outer:e=>G(wR,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.alignCenter,value:"center",active:!1,outer:e=>G(SR,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.alignRight,active:!1,value:"right",outer:e=>G(xR,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.alignJustify,active:!1,value:"justify",outer:e=>G(ER,{width:16.5,fill:Hf,style:{position:"relative",top:.5}})},{name:t.lineHeight,active:!1,inner:!0,outer:e=>G(tR,{width:16.5,fill:Hf})}]:t.sheet===e?[{name:t.merge,active:!1,outer:()=>G(YR,{width:16.5,fill:Hf})},{name:t.sheetInsert,active:!1,inner:!0,outer:()=>G(KR,{width:16.9,fill:Hf})},{name:t.fillColor,active:!1,inner:!0,outer:e=>X("div",{style:JX,children:[G(bR,{width:16.5,fill:Hf,style:{position:"relative",bottom:1}}),G(Uh,{style:{...QX,marginLeft:-.3,backgroundColor:String(e.value)}})]})},{name:t.borderOutline,active:!1,inner:!0,outer:()=>G(jR,{width:16.5,fill:Hf})},{name:t.verticalTop,active:!1,outer:()=>G(kR,{width:16.5,fill:Hf})},{name:t.verticalMiddle,active:!1,outer:()=>G(DR,{width:16.5,fill:Hf})},{name:t.verticalBottom,active:!1,outer:()=>G(IR,{width:16.5,fill:Hf})},{name:t.sheetMore,active:!1,inner:!0,outer:()=>G(AR,{width:17,fill:Hf,style:{position:"relative",top:-.5}})}]:[]}function KQ(e){const t=KH(),n=WM();return{client:{width:n.clientWidth,height:n.clientHeight-(t+rG)}}}var GQ={exports:{}};GQ.exports=function(){var e=1e3,t=6e4,n=36e5,o="millisecond",i="second",r="minute",l="hour",s="day",c="week",a="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},m=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},y={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+m(o,2,"0")+":"+m(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(o,a),r=n-i<0,l=t.clone().add(o+(r?-1:1),a);return+(-(o+(n-i)/(r?i-l:l-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:a,y:d,w:c,d:s,D:f,h:l,m:r,s:i,ms:o,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",C={};C[b]=g;var w="$isDayjsObject",x=function(e){return e instanceof D||!(!e||!e[w])},S=function e(t,n,o){var i;if(!t)return b;if("string"==typeof t){var r=t.toLowerCase();C[r]&&(i=r),n&&(C[r]=n,i=r);var l=t.split("-");if(!i&&l.length>1)return e(l[0])}else{var s=t.name;C[s]=t,i=s}return!o&&i&&(b=i),i||!o&&b},E=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new D(n)},k=y;k.l=S,k.i=x,k.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(p);if(o){var i=o[2]-1||0,r=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)):new Date(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return k},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return E(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<E(e)},m.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,o=!!k.u(t)||t,u=k.p(e),h=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?i:i.endOf(s)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return o?h(1,0):h(31,11);case a:return o?h(1,g):h(0,g+1);case c:var b=this.$locale().weekStart||0,C=(v<b?v+7:v)-b;return h(o?m-C:m+(6-C),g);case s:case f:return p(y+"Hours",0);case l:return p(y+"Minutes",1);case r:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var n,c=k.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[s]=u+"Date",n[f]=u+"Date",n[a]=u+"Month",n[d]=u+"FullYear",n[l]=u+"Hours",n[r]=u+"Minutes",n[i]=u+"Seconds",n[o]=u+"Milliseconds",n)[c],p=c===s?this.$D+(t-this.$W):t;if(c===a||c===d){var v=this.clone().set(f,1);v.$d[h](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[k.p(e)]()},m.add=function(o,u){var f,h=this;o=Number(o);var p=k.p(u),v=function(e){var t=E(h);return k.w(t.date(t.date()+Math.round(e*o)),h)};if(p===a)return this.set(a,this.$M+o);if(p===d)return this.set(d,this.$y+o);if(p===s)return v(1);if(p===c)return v(7);var g=(f={},f[r]=t,f[l]=n,f[i]=e,f)[p]||1,m=this.$d.getTime()+o*g;return k.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),r=this.$H,l=this.$m,s=this.$M,c=n.weekdays,a=n.months,u=n.meridiem,d=function(e,n,i,r){return e&&(e[n]||e(t,o))||i[n].slice(0,r)},f=function(e){return k.s(r%12||12,e,"0")},p=u||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o};return o.replace(v,(function(e,o){return o||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return s+1;case"MM":return k.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,a,3);case"MMMM":return d(a,s);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(r);case"HH":return k.s(r,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(r,l,!0);case"A":return p(r,l,!1);case"m":return String(l);case"mm":return k.s(l,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(o,f,h){var p,v=this,g=k.p(f),m=E(o),y=(m.utcOffset()-this.utcOffset())*t,b=this-m,C=function(){return k.m(v,m)};switch(g){case d:p=C()/12;break;case a:p=C();break;case u:p=C()/3;break;case c:p=(b-y)/6048e5;break;case s:p=(b-y)/864e5;break;case l:p=b/n;break;case r:p=b/t;break;case i:p=b/e;break;default:p=b}return h?p:k.a(p)},m.daysInMonth=function(){return this.endOf(a).$D},m.$locale=function(){return C[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=S(e,t,!0);return o&&(n.$L=o),n},m.clone=function(){return k.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),I=D.prototype;return E.prototype=I,[["$ms",o],["$s",i],["$m",r],["$H",l],["$W",s],["$M",a],["$y",d],["$D",f]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,D,E),e.$i=!0),E},E.locale=S,E.isDayjs=x,E.unix=function(e){return E(1e3*e)},E.en=C[b],E.Ls=C,E.p={},E}();var XQ=XB(GQ.exports);function JQ(e){const{initState:n,readEditor:o,useWorker:i}=t,[r,l]=qd((()=>n(e))),[s,c]=$(),a=i(e,r,l);F((()=>{(async()=>{const t=await o(e.pageId,a,!0);c(t)})()}),[e.pageId,o,a]);const u="function"==typeof XQ?XQ:XQ.default;let d=(null==s?void 0:s.createTime)&&u(s.createTime).format("YYYY/MM/DD");d||(d=(null==s?void 0:s.updateTime)&&u(s.updateTime).format("YYYY/MM/DD"));const f=(null==s?void 0:s.updateTime)&&u(s.updateTime).format("MMDD HH:mm");return G("div",{style:AX,children:X("div",{style:MX,children:[X("div",{style:OX,children:[G("span",{children:""}),G("span",d?{children:d}:{style:RX,children:G(jO,{})})]}),X("div",{style:OX,children:[G("span",{children:""}),G("span",f?{children:f}:{style:RX,children:G(jO,{})})]})]})})}function QQ(e){const t=_d(e),n=Z(null),o=Z(0),i=Z(!1),r=Wd("touchstart"),l=Wd("touchmove"),s=Wd("touchend"),c=Wd("touchcancel");F((()=>{const e=e=>{var o,r;const l=e_();if(!l)return;const s=t.current.route;e&&!i.current?(i.current=!0,null===(o=n.current)||void 0===o||o.style.setProperty("overflow","hidden"),JH("update",{uid:l,route:s,effect:{slide:"bottom",modal:!0,gesture:!0}})):!e&&i.current&&(i.current=!1,null===(r=n.current)||void 0===r||r.style.setProperty("overflow","scroll"),JH("update",{uid:l,route:s,effect:{slide:"bottom",modal:!0}}))},a=r.subscribe((t=>{t.stopPropagation(),e(!1),o.current=t.touches[0].clientY})),u=l.subscribe((t=>{var r,l,s;if(t.stopPropagation(),i.current)return;const c=null===(r=n.current)||void 0===r?void 0:r.scrollTop,a=null===(l=n.current)||void 0===l?void 0:l.clientHeight,u=null===(s=n.current)||void 0===s?void 0:s.scrollHeight,d=t.touches[0].clientY;a===u?e(!0):Math.ceil(c+a)>=u?o.current>d&&e(!0):c<=0&&o.current<d&&e(!0),o.current=t.touches[0].clientY})),d=s.subscribe((t=>{t.stopPropagation(),e(!1)})),f=c.subscribe((t=>{t.stopPropagation(),e(!1)}));return()=>{a.unsubscribe(),u.unsubscribe(),d.unsubscribe(),f.unsubscribe()}}),[t,r,l,s,c]);const a={...WX,...e.style},u=Vd(zd([r,l,s,c]),e);return G("div",{...e,ref:t=>{n.current=t,"function"==typeof e.ref?e.ref(t):e.ref&&(e.ref.current=t)},style:a,...u,children:e.children})}const{getBranchByPath:e0}=OB;function t0(e,n,o,i,r,l,s,c,a,u,d){const f=_d(e),h=_d(n),p=_d(i),v=Z(null),g=Wd("click");F((()=>{const{sheet:e,align:n,bold:i,italic:l,strikeThrough:m,strikeUnderline:y,textColor:b,highlightColour:C,fontSize:w,letterSpacing:x,decreaseIndent:S,increaseIndent:E,lineHeight:k,quote:D,separator:I,clearFormat:N,undo:L,redo:T,image:B,outline:A,bulleted:M,check:O,numbered:R,toggle:P,common:F,setGFocus:H,setEditorPastePending:_,createEditorFocus:j,isSheetFocusInclude:W,clearEditorCollapsedSelection:z,clearProviderCollapsedSelection:V}=t,{isCollapsed:$}=hk;let Z=-1;const U=()=>{var e,t;const{clientHeight:n}=document.documentElement,{scrollTop:o}=h.current.editor,{keyboardHeight:i=0}=p.current,r=n-i;if(Z+aG/2>r){const n=Z-r+aG+3*uG;null===(t=(e=c.current).scrollTo)||void 0===t||t.call(e,{top:o+n,behavior:"smooth"})}Z=-1},q=e=>{var t,n,o,i,l;const s=e_();if(s!==BJ(KB.editor))return;const c=null===(t=QH())||void 0===t?void 0:t.reverse();if(!c)return;let a=0;if((null===(n=c[0])||void 0===n?void 0:n.route)===KB.editor&&(a=1),(null===(o=c[0])||void 0===o?void 0:o.route)===KB.tools&&(null===(i=c[1])||void 0===i?void 0:i.route)===KB.editor&&(a=2),!(e<=0||0===a)){if(r(PJ(e)),1===a){const t=null===(l=f.current.page)||void 0===l?void 0:l.id,n=h.current.gfocus;JH("push",{route:KB.tools,effect:{slide:"bottom",modal:!0,musk:!1,gesture:!1,blur:10},style:{height:e+aG},payload:{pageId:t,gfocus:n,uid:s,height:e+aG}})}requestAnimationFrame(U)}},Y=()=>{var e,t,n,o,i;const{imperator:r,rootstate:l,context:c}=s.provider(),a=null===(e=r.current)||void 0===e?void 0:e.selection();if(!a)return;const u=document.documentElement.clientHeight,f=p.current.keyboardHeight;if(!f)return;if(!d.current)return;const h=a.getBoundingClientRect(),v=u-f-aG-2*uG;let g=h.bottom-v;if(g>0){const e=l.editor.scrollTop;return void(null===(n=null===(t=r.current)||void 0===t?void 0:t.scrollTo)||void 0===n||n.call(t,{top:e+g,behavior:"smooth"}))}if(h.height>v)return;const m=d.current.getBoundingClientRect();if(g=h.top-m.top,g<0){const e=l.editor.scrollTop,t=c.editor.selection;t&&!$(t)&&(g-=50),null===(i=null===(o=r.current)||void 0===o?void 0:o.scrollTo)||void 0===i||i.call(o,{top:Math.max(0,e+g),behavior:"smooth"})}},K=t=>{if(t.type===OJ.TOOLS_HIDE_KEYBOARD)d_();else if(t.type===OJ.TOOLS_SHOW_KEYBOARD)f_();else if(t.type===OJ.TOOLS_CLEAR_SELECTION)(()=>{const{gfocus:t,editor:n}=h.current;if(n.isPastePending)return void o(_(!1));const i=[V(),H(j())];t&&W(t)&&i.push(e.setEditorActions(t,[z()])),i.push(z()),o(...i)})();else if(t.type===OJ.TOOLS_POST_INNER);else if(t.type===OJ.TOOLS_POST_UPPER){const e=t.payload,{keyboardHeight:n=0}=p.current,o={...e,layout:{bottom:n+uG}};r(RJ(o))}else if(t.type===OJ.TOOLS_BEFORE_DESTROY){const e=t.payload,n={...p.current.tool,visible:!1,transition:e};r(RJ(n),PJ(0))}else if(t.type===OJ.TOOLS_HIDE_UPPER){const e={...p.current.tool,visible:!1};r(RJ(e))}else if(t.type===OJ.TOOLS_EDITOR_ACTION){const e=t.payload;ee(e)}},G=e=>{var t,n,o,i;if(MJ())return;const{imperator:r}=s.provider(),l=null===(t=r.current)||void 0===t?void 0:t.input;l&&(" "===e?RQ("keydown"," "):null===(n=l.onText)||void 0===n||n.call(l,e),setTimeout(Y),null===(i=null===(o=r.current)||void 0===o?void 0:o.clearVisibleState)||void 0===i||i.call(o))},X=e=>{var t,n;if(MJ())return;const{imperator:o}=s.provider();RQ("keydown","Backspace"),setTimeout(Y),null===(n=null===(t=o.current)||void 0===t?void 0:t.clearVisibleState)||void 0===n||n.call(t)},J=e=>{var t,n;if(MJ())return;const{imperator:o}=s.provider();RQ("keydown","Delete"),setTimeout(Y),null===(n=null===(t=o.current)||void 0===t?void 0:t.clearVisibleState)||void 0===n||n.call(t)},Q=e=>{var t;if(MJ())return;const{imperator:n}=s.provider();if(8===e.enterKeyType){RQ("keydown","enter"),setTimeout(Y);const e=null===(t=n.current)||void 0===t?void 0:t.clearVisibleState;if(!e)return;e()}},ee=t=>{var o;const r=fQ();if(t.name===r.bold)i.setStyle(s,t.active),setTimeout(Y);else if(t.name===r.italic)l.setStyle(s,t.active),setTimeout(Y);else if(t.name===r.strikeUnderline)y.setProps(s,t.active),setTimeout(Y);else if(t.name===r.strikeThrough)m.setProps(s,t.active),setTimeout(Y);else if(t.name===r.textColor)b.setStyle(s,t.value);else if(t.name===r.highlightColour)C.setStyle(s,t.value);else if(t.name===r.fontSize)w.setStyle(s,t.value);else if(t.name===r.letterSpacing)x.setStyle(s,t.value);else if(t.name===r.firstLineIndent)RQ("keydown","Tab");else if(t.name===r.decreaseIndent)S.indent(s);else if(t.name===r.increaseIndent)E.indent(s);else if(t.name===r.alignLeft)n.setStyle(s,t.value);else if(t.name===r.alignCenter)n.setStyle(s,t.value);else if(t.name===r.alignRight)n.setStyle(s,t.value);else if(t.name===r.alignJustify)n.setStyle(s,t.value);else if(t.name===r.lineHeight)k.setStyle(s,t.value);else if(t.name===r.quote)D.setQuote(s);else if(t.name===r.separator)I.separate(s);else if(t.name===r.clearFormat)N.clear(s),NQ();else if(t.name===r.undo)L.todo(s),NQ();else if(t.name===r.redo)T.todo(s),NQ();else if(t.name===r.bulletedList)F.list.decorateClass(s,t.name,t.value,((...e)=>F.list.decorateSubClass(s,...e)));else if(t.name===r.numberedList)F.list.decorateClass(s,t.name,t.value,((...e)=>F.list.decorateSubClass(s,...e)));else if(t.name===r.checkList){F.list.decorateClass(s,t.name,t.value,((...e)=>F.list.decorateSubClass(s,...e)));const e=s.provider(),{context:n,imperator:i}=e;null===(o=i.current)||void 0===o||o.commit(O.decorateSelection(n))}else t.name===r.toggleList?P.decorateSubClass(s,t.value,"inner"):t.name===r.takePhoto?function(e){"undefined"!=typeof WebPro&&WebPro.camera(e)}((async e=>{for(const t of e)await B.setImage(s,t)})):t.name===r.selectPicture?function(e){"undefined"!=typeof WebPro&&WebPro.photo(e)}((async e=>{for(const t of e)await B.setImage(s,t)})):t.name===r.sheet?e.setSheet(s,2,2):t.name===r.fillColor?e.fillColor.setStyle(s,t.value):t.name===r.verticalTop?e.vertical.setStyle(s,"top"):t.name===r.verticalMiddle?e.vertical.setStyle(s,"middle"):t.name===r.verticalBottom?e.vertical.setStyle(s,"bottom"):t.name===r.borderAll||t.name===r.borderNone||t.name===r.borderOutline||t.name===r.borderInside||t.name===r.borderLeft||t.name===r.borderRight||t.name===r.borderTop||t.name===r.borderBottom?e.border.setBorder(s,{type:t.value}):t.name===r.borderHide?e.border.setBorder(s,{visible:!1}):t.name===r.borderShow?e.border.setBorder(s,{visible:!0}):t.name===r.borderColor?e.border.setBorder(s,{color:t.value}):t.name===r.merge?e.merge.setMerge(s):t.name===r.sheetInsertTop?e.insertTop(s,t.value):t.name===r.sheetInsertBottom?e.insertBottom(s,t.value):t.name===r.sheetInsertLeft?e.insertLeft(s,t.value):t.name===r.sheetInsertRight?e.insertRight(s,t.value):t.name===r.sheetSelectRow?e.selectRow(s):t.name===r.sheetSelectColumn?e.selectColumn(s):t.name===r.sheetDeleteRow?e.deleteRow(s):t.name===r.sheetDeleteColumn?e.deleteColumn(s):t.name===r.sheetCopy?e.copy(s):t.name===r.sheetCut?e.cut(s):t.name===r.sheetPaste?e.paste(s):t.name===r.sheetSelectAll?e.selectAll(s):t.name===r.sheetDeleteAll?e.deleteSheet(s):t.name===r.text?A.setOutline(s,A.SubClass.H0,{timer:v}):t.name===r.title?A.setOutline(s,A.SubClass.H,{timer:v}):t.name===r.h1?A.setOutline(s,A.SubClass.H1,{timer:v}):t.name===r.h2?A.setOutline(s,A.SubClass.H2,{timer:v}):t.name===r.h3?A.setOutline(s,A.SubClass.H3,{timer:v}):t.name===r.h4?A.setOutline(s,A.SubClass.H4,{timer:v}):t.name===r.h5?A.setOutline(s,A.SubClass.H5,{timer:v}):t.name===r.h6&&A.setOutline(s,A.SubClass.H6,{timer:v})},te=e=>{if(!a.current)return;f_(),Z=e.clientY;const t=BJ(KB.tools),n=BJ(KB.editor);i_({type:OJ.EDITOR_SHOW_KEYBOARD},t),i_({type:OJ.EDITOR_SHOW_KEYBOARD},n)};u.current.keyboard={onShowKeyboard:te};const ne=g.subscribe(te);return n_("message",K),n_("insertText",G),n_("deleteLeft",X),n_("deleteRight",J),n_("sendFunctionKey",Q),n_("keyboardHeightChange",q),()=>{ne.unsubscribe(),delete u.current.keyboard,o_("message",K),o_("insertText",G),o_("deleteLeft",X),o_("deleteRight",J),o_("sendFunctionKey",Q),o_("keyboardHeightChange",q)}}),[f,h,s,o,p,r,c,d,u,a,g]);const m=W((()=>nc((()=>{var e,n;const{sheet:o,getNodeByFocus:i,dropRightFocus:r,isSheetFocusInclude:l}=t,{context:c}=s.provider(),{editor:{node:a,isScrolling:u}}=s.stater.get(),{editor:{selection:d,selectionStyle:f,selectionDecorate:h},focus:p}=c;if(u)return;const v={selection:d,style:f,decorate:h};if(l(p)){const t={},l=i(a,r(p));if(o.isSheetNode(l)){t.border=null===(e=l.props)||void 0===e?void 0:e.border;const i=null===(n=l.props)||void 0===n?void 0:n.value,r=o.exportSheetStyle(i);r&&(t.style=r),t.indicatorRange=i.indicatorRange}v.sheet=t}const g=BJ(KB.tools);g&&i_({type:OJ.EIDTOR_SELECTION_STATUS,payload:v},g)}),16,{leading:!0})),[s]);F(m),F((()=>{if(!n.gfocus)return;const{isSheetFocusInclude:e}=t;e(n.gfocus)?i_({type:OJ.EDITOR_FOCUS_SHEET}):i_({type:OJ.EDITOR_FOCUS})}),[n.gfocus]);return{editor:zd([g]),menu:{onClick:i=>{var r,s;const{fetchBranch:u,getBranchByID:d,setStoreCatalog:f,replaceFileBranch:h,readonlyFileBranch:p}=t;if("readonly"===i)return void s_({title:"",message:"",width:320,cancel:{value:"",fontColor:Hf},confirm:{value:"",fontColor:Bf,action:async()=>{var t,i,r;const s=null===(t=n.file)||void 0===t?void 0:t.tree;if(!(null==s?void 0:s.length))return;let c=null;const v=null===(i=e.page)||void 0===i?void 0:i.path,g=null===(r=e.page)||void 0===r?void 0:r.id;if((null==v?void 0:v.length)?c=e0(s,v):g&&(c=d(s,g)),!c)return;const m=await u(c,l,{deep:!0});a.current=!0;const y=[h(m,c.path),p(c,!1),f(c,void 0,!0)];o(...y)}}});const{genetateMobileOptions:v,calcOptionsSize:g,clearEditorSelection:m,clearProviderSelection:y}=t,b=QH();if(!(null==b?void 0:b.length))return;null===(s=(r=c.current).clearVisibleState)||void 0===s||s.call(r),o(m(),y());const C=e_();for(let e=b.length-1;e>0&&b[e].uid!==C;e--)JH("pop");const{page:w}=e;if(!w)return;let x=g(v(e,w,!0,!!a.current))+36-12+XH(),S=!0;const E=document.documentElement.clientHeight;x+rG>E&&(x=E-rG,S=!1),JH("push",{route:KB.more,effect:{slide:"bottom",modal:!0,gesture:S,blur:!0},style:{height:x,borderRadius:{topLeft:16,topRight:16}},payload:{pageId:w.id,branch:AQ(w),editor:!0,editable:a.current,uid:C,height:x,scroller:!S}})}}}}const{isDecorateBlockNode:n0}=hk;function o0(e,t,n){var o;const i=_d(e),r=_d(t),l=Z(0);F((()=>{var e;let o=null;return(null===(e=t.inner)||void 0===e?void 0:e.active)||(o=setTimeout((()=>{n(YJ({name:void 0}))}),500)),()=>{o&&clearTimeout(o)}}),[n,null===(o=t.inner)||void 0===o?void 0:o.active]),F((()=>{let e=!1,t=!1;const o=e=>{1!==l.current&&d_();const t=r.current.inner;(null==t?void 0:t.active)&&JH("pop")},s=n=>{l.current=n;const o=r.current.inner;if(!(null==o?void 0:o.active)&&!e)if(t)t=!1;else if(1===n){JH("pop",{uid:e_(),route:KB.tools})}},c=()=>{e=!0},a=()=>{e=!1;const t=r.current.inner;(null==t?void 0:t.active)||2===l.current||(f_(),setTimeout((()=>{f_()}),200))},u=()=>{var e;d_();const t=null!==(e=i.current.uid)&&void 0!==e?e:BJ(KB.editor);i_({type:OJ.TOOLS_CLEAR_SELECTION},t);const n=document.documentElement.clientHeight;i_({type:OJ.TOOLS_BEFORE_DESTROY,payload:[{transform:"translateY(0)",transition:"transform 333ms cubic-bezier(0.2, 0.0, 0.2, 1.0)"},{transform:`translateY(${n+aG+uG}px)`,transition:"transform 333ms cubic-bezier(0.2, 0.0, 0.2, 1.0)"}]},t)},d=e=>{var o,l;const s=i.current,c=r.current;if(e.type===OJ.EDITOR_SHOW_KEYBOARD)n(UJ(),YJ({active:!1}));else if(e.type===OJ.SELECTOR_CLEAR_ACTIVITY)n(UJ(),YJ({active:!1}),qJ());else if(e.type===OJ.TOOLS_POST_INNER){const o=e.payload;if(!o)return;o.active?(f_(),n(YJ({active:!1,name:o.name}),UJ())):(t=!0,d_(),n(YJ({active:!0,name:o.name}),UJ()))}else if(e.type===OJ.EIDTOR_SELECTION_STATUS){const t=e.payload;if(!t)return;n(VJ(t))}else if(e.type===OJ.EDITOR_FOCUS_SHEET)n(zJ("sheet"));else if(e.type===OJ.EDITOR_FOCUS){n(zJ("edit"));const e=fQ();if("sheet"===c.type){const t=null===(o=c.tools)||void 0===o?void 0:o.find((t=>t.name===e.sheet&&t.active));if(t){n(ZJ(t,!1));const o=null!==(l=s.uid)&&void 0!==l?l:BJ(KB.editor);i_(kQ(s,{name:e.sheet,active:!0}),o)}}}},f=e=>{const t=QH();if(!(null==t?void 0:t.length))return;const n=t[t.length-1],o=e_();if(n.uid!==o)return;JH("update",{route:KB.tools,effect:{slide:"bottom",modal:!0,musk:!1,gesture:0===e,blur:10}})};return n_("message",d),n_("background",c),n_("foreground",a),n_("backPress",o),n_("beforeDestroy",u),n_("sendKeyboardStatus",s),n_("keyboardHeightChange",f),()=>{o_("message",d),o_("background",c),o_("foreground",a),o_("backPress",o),o_("beforeDestroy",u),o_("sendKeyboardStatus",s),o_("keyboardHeightChange",f)}}),[i,r,n]);let s=null;return{onClickHeadTool:o=>{var l;const c=fQ();if(o.inner)return(e=>{var t;if(!QH())return;const n=null!==(t=i.current.uid)&&void 0!==t?t:BJ(KB.editor);let o;o=e?{type:OJ.TOOLS_HIDE_KEYBOARD}:{type:OJ.TOOLS_SHOW_KEYBOARD},i_(o,n)})(!o.active),n(YJ({active:!o.active,name:o.name})),s&&clearTimeout(s),void(o.active?n($J(o,!o.active)):s=setTimeout((()=>{n($J(o,!o.active))}),150));if(o.upper){const t=null!==(l=e.uid)&&void 0!==l?l:BJ(KB.editor);i_(kQ(e,o),t);const{inner:i,tools:s}=r.current,c=!(null==s?void 0:s.some((e=>e.inner&&e.name===(null==i?void 0:i.name))));return c&&n(YJ({active:!1})),n(ZJ(o,!o.active)),void(o.active?f_():(null==i?void 0:i.active)&&!c||f_())}o.name!==c.paintFormat?DQ(0,t,{name:o.name,value:o.value},n):TQ()},onClickKeyboard:()=>{var t;const o=r.current.inner;if(null==o?void 0:o.active){f_(),n(UJ(),YJ({active:!1}));const o=null!==(t=e.uid)&&void 0!==t?t:BJ(KB.editor);i_({type:OJ.TOOLS_SHOW_KEYBOARD},o)}else d_()}}}const{getBranchByPath:i0}=OB;var r0={exports:{}};!function(e){var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function n(e,n,o){if(4!==n.length)throw new t.exception.invalid("invalid aes block size");var i=e.b[o],r=n[0]^i[0],l=n[o?3:1]^i[1],s=n[2]^i[2];n=n[o?1:3]^i[3];var c,a,u,d,f=i.length/4-2,h=4,p=[0,0,0,0];e=(c=e.s[o])[0];var v=c[1],g=c[2],m=c[3],y=c[4];for(d=0;d<f;d++)c=e[r>>>24]^v[l>>16&255]^g[s>>8&255]^m[255&n]^i[h],a=e[l>>>24]^v[s>>16&255]^g[n>>8&255]^m[255&r]^i[h+1],u=e[s>>>24]^v[n>>16&255]^g[r>>8&255]^m[255&l]^i[h+2],n=e[n>>>24]^v[r>>16&255]^g[l>>8&255]^m[255&s]^i[h+3],h+=4,r=c,l=a,s=u;for(d=0;4>d;d++)p[o?3&-d:d]=y[r>>>24]<<24^y[l>>16&255]<<16^y[s>>8&255]<<8^y[255&n]^i[h++],c=r,r=l,l=s,s=n,n=c;return p}function o(e,t){var n,o,i,r=e.F,l=e.b,s=r[0],c=r[1],a=r[2],u=r[3],d=r[4],f=r[5],h=r[6],p=r[7];for(n=0;64>n;n++)16>n?o=t[n]:(o=t[n+1&15],i=t[n+14&15],o=t[15&n]=(o>>>7^o>>>18^o>>>3^o<<25^o<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&n]+t[n+9&15]|0),o=o+p+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(h^d&(f^h))+l[n],p=h,h=f,f=d,d=u+o|0,u=a,a=c,s=o+((c=s)&a^u&(c^a))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;r[0]=r[0]+s|0,r[1]=r[1]+c|0,r[2]=r[2]+a|0,r[3]=r[3]+u|0,r[4]=r[4]+d|0,r[5]=r[5]+f|0,r[6]=r[6]+h|0,r[7]=r[7]+p|0}function i(e,n){var o,i=t.random.K[e],r=[];for(o in i)i.hasOwnProperty(o)&&r.push(i[o]);for(o=0;o<r.length;o++)r[o](n)}function r(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function l(e){e.b=s(e).concat(s(e)),e.L=new t.cipher.aes(e.b)}function s(e){for(var t=0;4>t&&(e.h[t]=e.h[t]+1|0,!e.h[t]);t++);return e.L.encrypt(e.h)}function c(e,t){return function(){t.apply(e,arguments)}}t.cipher.aes=function(e){this.s[0][0][0]||this.O();var n,o,i,r,l=this.s[0][4],s=this.s[1],c=1;if(4!==(n=e.length)&&6!==n&&8!==n)throw new t.exception.invalid("invalid aes key size");for(this.b=[i=e.slice(0),r=[]],e=n;e<4*n+28;e++)o=i[e-1],(0==e%n||8===n&&4==e%n)&&(o=l[o>>>24]<<24^l[o>>16&255]<<16^l[o>>8&255]<<8^l[255&o],0==e%n&&(o=o<<8^o>>>24^c<<24,c=c<<1^283*(c>>7))),i[e]=i[e-n]^o;for(n=0;e;n++,e--)o=i[3&n?e:e-4],r[n]=4>=e||4>n?o:s[0][l[o>>>24]]^s[1][l[o>>16&255]]^s[2][l[o>>8&255]]^s[3][l[255&o]]},t.cipher.aes.prototype={encrypt:function(e){return n(this,e,0)},decrypt:function(e){return n(this,e,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var e,t,n,o,i,r,l,s=this.s[0],c=this.s[1],a=s[4],u=c[4],d=[],f=[];for(e=0;256>e;e++)f[(d[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!a[t];t^=o||1,n=f[n]||1)for(r=(r=n^n<<1^n<<2^n<<3^n<<4)>>8^255&r^99,a[t]=r,u[r]=t,l=16843009*(i=d[e=d[o=d[t]]])^65537*e^257*o^16843008*t,i=257*d[r]^16843008*r,e=0;4>e;e++)s[e][t]=i=i<<24^i>>>8,c[e][r]=l=l<<24^l>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),c[e]=c[e].slice(0)}},t.bitArray={bitSlice:function(e,n,o){return e=t.bitArray.$(e.slice(n/32),32-(31&n)).slice(1),void 0===o?e:t.bitArray.clamp(e,o-n)},extract:function(e,t,n){var o=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-o^e[t/32+1|0]>>>o:e[t/32|0]>>>o)&(1<<n)-1},concat:function(e,n){if(0===e.length||0===n.length)return e.concat(n);var o=e[e.length-1],i=t.bitArray.getPartial(o);return 32===i?e.concat(n):t.bitArray.$(n,i,0|o,e.slice(0,e.length-1))},bitLength:function(e){var n=e.length;return 0===n?0:32*(n-1)+t.bitArray.getPartial(e[n-1])},clamp:function(e,n){if(32*e.length<n)return e;var o=(e=e.slice(0,Math.ceil(n/32))).length;return n&=31,0<o&&n&&(e[o-1]=t.bitArray.partial(n,e[o-1]&2147483648>>n-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,n){if(t.bitArray.bitLength(e)!==t.bitArray.bitLength(n))return!1;var o,i=0;for(o=0;o<e.length;o++)i|=e[o]^n[o];return 0===i},$:function(e,n,o,i){var r;for(r=0,void 0===i&&(i=[]);32<=n;n-=32)i.push(o),o=0;if(0===n)return i.concat(e);for(r=0;r<e.length;r++)i.push(o|e[r]>>>n),o=e[r]<<32-n;return r=e.length?e[e.length-1]:0,e=t.bitArray.getPartial(r),i.push(t.bitArray.partial(n+e&31,32<n+e?o:i.pop(),1)),i},i:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},t.codec.utf8String={fromBits:function(e){var n,o,i="",r=t.bitArray.bitLength(e);for(n=0;n<r/8;n++)0==(3&n)&&(o=e[n/4]),i+=String.fromCharCode(o>>>8>>>8>>>8),o<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var n,o=[],i=0;for(n=0;n<e.length;n++)i=i<<8|e.charCodeAt(n),3==(3&n)&&(o.push(i),i=0);return 3&n&&o.push(t.bitArray.partial(8*(3&n),i)),o}},t.codec.hex={fromBits:function(e){var n,o="";for(n=0;n<e.length;n++)o+=(0xf00000000000+(0|e[n])).toString(16).substr(4);return o.substr(0,t.bitArray.bitLength(e)/4)},toBits:function(e){var n,o,i=[];for(o=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",n=0;n<e.length;n+=8)i.push(0^parseInt(e.substr(n,8),16));return t.bitArray.clamp(i,4*o)}},t.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,n,o){var i=t.codec.base32.BASE,r=t.codec.base32.REMAINING,l="",s=0,c=t.codec.base32.B,a=0,u=t.bitArray.bitLength(e);for(o&&(c=t.codec.base32.X),o=0;l.length*i<u;)l+=c.charAt((a^e[o]>>>s)>>>r),s<i?(a=e[o]<<i-s,s+=r,o++):(a<<=i,s-=i);for(;7&l.length&&!n;)l+="=";return l},toBits:function(e,n){e=e.replace(/\s|=/g,"").toUpperCase();var o,i,r=t.codec.base32.BITS,l=t.codec.base32.BASE,s=t.codec.base32.REMAINING,c=[],a=0,u=t.codec.base32.B,d=0,f="base32";for(n&&(u=t.codec.base32.X,f="base32hex"),o=0;o<e.length;o++){if(0>(i=u.indexOf(e.charAt(o)))){if(!n)try{return t.codec.base32hex.toBits(e)}catch(e){}throw new t.exception.invalid("this isn't "+f+"!")}a>s?(a-=s,c.push(d^i>>>a),d=i<<r-a):d^=i<<r-(a+=l)}return 56&a&&c.push(t.bitArray.partial(56&a,d,1)),c}},t.codec.base32hex={fromBits:function(e,n){return t.codec.base32.fromBits(e,n,1)},toBits:function(e){return t.codec.base32.toBits(e,1)}},t.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,n,o){var i="",r=0,l=t.codec.base64.B,s=0,c=t.bitArray.bitLength(e);for(o&&(l=l.substr(0,62)+"-_"),o=0;6*i.length<c;)i+=l.charAt((s^e[o]>>>r)>>>26),6>r?(s=e[o]<<6-r,r+=26,o++):(s<<=6,r-=6);for(;3&i.length&&!n;)i+="=";return i},toBits:function(e,n){e=e.replace(/\s|=/g,"");var o,i,r=[],l=0,s=t.codec.base64.B,c=0;for(n&&(s=s.substr(0,62)+"-_"),o=0;o<e.length;o++){if(0>(i=s.indexOf(e.charAt(o))))throw new t.exception.invalid("this isn't base64!");26<l?(l-=26,r.push(c^i>>>l),c=i<<32-l):c^=i<<32-(l+=6)}return 56&l&&r.push(t.bitArray.partial(56&l,c,1)),r}},t.codec.base64url={fromBits:function(e){return t.codec.base64.fromBits(e,1,1)},toBits:function(e){return t.codec.base64.toBits(e,1)}},t.hash.sha256=function(e){this.b[0]||this.O(),e?(this.F=e.F.slice(0),this.A=e.A.slice(0),this.l=e.l):this.reset()},t.hash.sha256.hash=function(e){return(new t.hash.sha256).update(e).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(e){"string"==typeof e&&(e=t.codec.utf8String.toBits(e));var n,i=this.A=t.bitArray.concat(this.A,e);if(n=this.l,9007199254740991<(e=this.l=n+t.bitArray.bitLength(e)))throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var r=new Uint32Array(i),l=0;for(n=512+n-(512+n&511);n<=e;n+=512)o(this,r.subarray(16*l,16*(l+1))),l+=1;i.splice(0,16*l)}else for(n=512+n-(512+n&511);n<=e;n+=512)o(this,i.splice(0,16));return this},finalize:function(){var e,n=this.A,i=this.F;for(e=(n=t.bitArray.concat(n,[t.bitArray.partial(1,1)])).length+2;15&e;e++)n.push(0);for(n.push(Math.floor(this.l/4294967296)),n.push(0|this.l);n.length;)o(this,n.splice(0,16));return this.reset(),i},Y:[],b:[],O:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,o=0,i=2;64>o;i++){for(n=!0,t=2;t*t<=i;t++)if(0==i%t){n=!1;break}n&&(8>o&&(this.Y[o]=e(Math.pow(i,.5))),this.b[o]=e(Math.pow(i,1/3)),o++)}}},t.mode.ccm={name:"ccm",G:[],listenProgress:function(e){t.mode.ccm.G.push(e)},unListenProgress:function(e){-1<(e=t.mode.ccm.G.indexOf(e))&&t.mode.ccm.G.splice(e,1)},fa:function(e){var n,o=t.mode.ccm.G.slice();for(n=0;n<o.length;n+=1)o[n](e)},encrypt:function(e,n,o,i,r){var l,s=n.slice(0),c=t.bitArray,a=c.bitLength(o)/8,u=c.bitLength(s)/8;if(r=r||64,i=i||[],7>a)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(l=2;4>l&&u>>>8*l;l++);return l<15-a&&(l=15-a),o=c.clamp(o,8*(15-l)),n=t.mode.ccm.V(e,n,o,i,r,l),s=t.mode.ccm.C(e,s,o,n,r,l),c.concat(s.data,s.tag)},decrypt:function(e,n,o,i,r){r=r||64,i=i||[];var l=t.bitArray,s=l.bitLength(o)/8,c=l.bitLength(n),a=l.clamp(n,c-r),u=l.bitSlice(n,c-r);c=(c-r)/8;if(7>s)throw new t.exception.invalid("ccm: iv must be at least 7 bytes");for(n=2;4>n&&c>>>8*n;n++);if(n<15-s&&(n=15-s),o=l.clamp(o,8*(15-n)),a=t.mode.ccm.C(e,a,o,u,r,n),e=t.mode.ccm.V(e,a.data,o,i,r,n),!l.equal(a.tag,e))throw new t.exception.corrupt("ccm: tag doesn't match");return a.data},na:function(e,n,o,i,r,l){var s=[],c=t.bitArray,a=c.i;if(i=[c.partial(8,(n.length?64:0)|i-2<<2|l-1)],(i=c.concat(i,o))[3]|=r,i=e.encrypt(i),n.length)for(65279>=(o=c.bitLength(n)/8)?s=[c.partial(16,o)]:4294967295>=o&&(s=c.concat([c.partial(16,65534)],[o])),s=c.concat(s,n),n=0;n<s.length;n+=4)i=e.encrypt(a(i,s.slice(n,n+4).concat([0,0,0])));return i},V:function(e,n,o,i,r,l){var s=t.bitArray,c=s.i;if((r/=8)%2||4>r||16<r)throw new t.exception.invalid("ccm: invalid tag length");if(4294967295<i.length||4294967295<n.length)throw new t.exception.bug("ccm: can't deal with 4GiB or more data");for(o=t.mode.ccm.na(e,i,o,r,s.bitLength(n)/8,l),i=0;i<n.length;i+=4)o=e.encrypt(c(o,n.slice(i,i+4).concat([0,0,0])));return s.clamp(o,8*r)},C:function(e,n,o,i,r,l){var s,c=t.bitArray;s=c.i;var a=n.length,u=c.bitLength(n),d=a/50,f=d;if(o=c.concat([c.partial(8,l-1)],o).concat([0,0,0]).slice(0,4),i=c.bitSlice(s(i,e.encrypt(o)),0,r),!a)return{tag:i,data:[]};for(s=0;s<a;s+=4)s>d&&(t.mode.ccm.fa(s/a),d+=f),o[3]++,r=e.encrypt(o),n[s]^=r[0],n[s+1]^=r[1],n[s+2]^=r[2],n[s+3]^=r[3];return{tag:i,data:c.clamp(n,u)}}},t.mode.ocb2={name:"ocb2",encrypt:function(e,n,o,i,r,l){if(128!==t.bitArray.bitLength(o))throw new t.exception.invalid("ocb iv must be 128 bits");var s,c=t.mode.ocb2.S,a=t.bitArray,u=a.i,d=[0,0,0,0];o=c(e.encrypt(o));var f,h=[];for(i=i||[],r=r||64,s=0;s+4<n.length;s+=4)d=u(d,f=n.slice(s,s+4)),h=h.concat(u(o,e.encrypt(u(o,f)))),o=c(o);return f=n.slice(s),n=a.bitLength(f),s=e.encrypt(u(o,[0,0,0,n])),f=a.clamp(u(f.concat([0,0,0]),s),n),d=u(d,u(f.concat([0,0,0]),s)),d=e.encrypt(u(d,u(o,c(o)))),i.length&&(d=u(d,l?i:t.mode.ocb2.pmac(e,i))),h.concat(a.concat(f,a.clamp(d,r)))},decrypt:function(e,n,o,i,r,l){if(128!==t.bitArray.bitLength(o))throw new t.exception.invalid("ocb iv must be 128 bits");r=r||64;var s,c,a=t.mode.ocb2.S,u=t.bitArray,d=u.i,f=[0,0,0,0],h=a(e.encrypt(o)),p=t.bitArray.bitLength(n)-r,v=[];for(i=i||[],o=0;o+4<p/32;o+=4)s=d(h,e.decrypt(d(h,n.slice(o,o+4)))),f=d(f,s),v=v.concat(s),h=a(h);if(c=p-32*o,s=e.encrypt(d(h,[0,0,0,c])),s=d(s,u.clamp(n.slice(o),c).concat([0,0,0])),f=d(f,s),f=e.encrypt(d(f,d(h,a(h)))),i.length&&(f=d(f,l?i:t.mode.ocb2.pmac(e,i))),!u.equal(u.clamp(f,r),u.bitSlice(n,p)))throw new t.exception.corrupt("ocb: tag doesn't match");return v.concat(u.clamp(s,c))},pmac:function(e,n){var o,i=t.mode.ocb2.S,r=t.bitArray,l=r.i,s=[0,0,0,0],c=l(c=e.encrypt([0,0,0,0]),i(i(c)));for(o=0;o+4<n.length;o+=4)c=i(c),s=l(s,e.encrypt(l(c,n.slice(o,o+4))));return o=n.slice(o),128>r.bitLength(o)&&(c=l(c,i(c)),o=r.concat(o,[-2147483648,0,0,0])),s=l(s,o),e.encrypt(l(i(l(c,i(c))),s))},S:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},t.mode.gcm={name:"gcm",encrypt:function(e,n,o,i,r){var l=n.slice(0);return n=t.bitArray,i=i||[],e=t.mode.gcm.C(!0,e,l,i,o,r||128),n.concat(e.data,e.tag)},decrypt:function(e,n,o,i,r){var l=n.slice(0),s=t.bitArray,c=s.bitLength(l);if(i=i||[],(r=r||128)<=c?(n=s.bitSlice(l,c-r),l=s.bitSlice(l,0,c-r)):(n=l,l=[]),e=t.mode.gcm.C(!1,e,l,i,o,r),!s.equal(e.tag,n))throw new t.exception.corrupt("gcm: tag doesn't match");return e.data},ka:function(e,n){var o,i,r,l,s,c=t.bitArray.i;for(r=[0,0,0,0],l=n.slice(0),o=0;128>o;o++){for((i=0!=(e[Math.floor(o/32)]&1<<31-o%32))&&(r=c(r,l)),s=0!=(1&l[3]),i=3;0<i;i--)l[i]=l[i]>>>1|(1&l[i-1])<<31;l[0]>>>=1,s&&(l[0]^=-520093696)}return r},j:function(e,n,o){var i,r=o.length;for(n=n.slice(0),i=0;i<r;i+=4)n[0]^=4294967295&o[i],n[1]^=4294967295&o[i+1],n[2]^=4294967295&o[i+2],n[3]^=4294967295&o[i+3],n=t.mode.gcm.ka(n,e);return n},C:function(e,n,o,i,r,l){var s,c,a,u,d,f,h,p,v=t.bitArray;for(f=o.length,h=v.bitLength(o),p=v.bitLength(i),c=v.bitLength(r),s=n.encrypt([0,0,0,0]),96===c?(r=r.slice(0),r=v.concat(r,[1])):(r=t.mode.gcm.j(s,[0,0,0,0],r),r=t.mode.gcm.j(s,r,[0,0,Math.floor(c/4294967296),4294967295&c])),c=t.mode.gcm.j(s,[0,0,0,0],i),d=r.slice(0),i=c.slice(0),e||(i=t.mode.gcm.j(s,c,o)),u=0;u<f;u+=4)d[3]++,a=n.encrypt(d),o[u]^=a[0],o[u+1]^=a[1],o[u+2]^=a[2],o[u+3]^=a[3];return o=v.clamp(o,h),e&&(i=t.mode.gcm.j(s,c,o)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(h/4294967296),4294967295&h],i=t.mode.gcm.j(s,i,e),a=n.encrypt(r),i[0]^=a[0],i[1]^=a[1],i[2]^=a[2],i[3]^=a[3],{tag:v.bitSlice(i,0,l),data:o}}},t.misc.hmac=function(e,n){this.W=n=n||t.hash.sha256;var o,i=[[],[]],r=n.prototype.blockSize/32;for(this.w=[new n,new n],e.length>r&&(e=n.hash(e)),o=0;o<r;o++)i[0][o]=909522486^e[o],i[1][o]=1549556828^e[o];this.w[0].update(i[0]),this.w[1].update(i[1]),this.R=new n(this.w[0])},t.misc.hmac.prototype.encrypt=t.misc.hmac.prototype.mac=function(e){if(this.aa)throw new t.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},t.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},t.misc.hmac.prototype.update=function(e){this.aa=!0,this.R.update(e)},t.misc.hmac.prototype.digest=function(){var e=this.R.finalize();e=new this.W(this.w[1]).update(e).finalize();return this.reset(),e},t.misc.pbkdf2=function(e,n,o,i,r){if(o=o||1e4,0>i||0>o)throw new t.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=t.codec.utf8String.toBits(e)),"string"==typeof n&&(n=t.codec.utf8String.toBits(n)),e=new(r=r||t.misc.hmac)(e);var l,s,c,a,u=[],d=t.bitArray;for(a=1;32*u.length<(i||1);a++){for(r=l=e.encrypt(d.concat(n,[a])),s=1;s<o;s++)for(l=e.encrypt(l),c=0;c<l.length;c++)r[c]^=l[c];u=u.concat(r)}return i&&(u=d.clamp(u,i)),u},t.prng=function(e){this.c=[new t.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},t.prng.prototype={randomWords:function(e,n){var o,i,r=[];if((o=this.isReady(n))===this.u)throw new t.exception.notReady("generator isn't seeded");if(o&this.J){o=!(o&this.I),i=[];var c,a=0;for(this.Z=i[0]=(new Date).valueOf()+this.da,c=0;16>c;c++)i.push(4294967296*Math.random()|0);for(c=0;c<this.c.length&&(i=i.concat(this.c[c].finalize()),a+=this.m[c],this.m[c]=0,o||!(this.P&1<<c));c++);for(this.P>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.m.push(0)),this.f-=a,a>this.o&&(this.o=a),this.P++,this.b=t.hash.sha256.hash(this.b.concat(i)),this.L=new t.cipher.aes(this.b),o=0;4>o&&(this.h[o]=this.h[o]+1|0,!this.h[o]);o++);}for(o=0;o<e;o+=4)0==(o+1)%this.ca&&l(this),i=s(this),r.push(i[0],i[1],i[2],i[3]);return l(this),r.slice(0,e)},setDefaultParanoia:function(e,n){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==n)throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=e},addEntropy:function(e,n,o){o=o||"user";var r,l,s=(new Date).valueOf(),c=this.H[o],a=this.isReady(),u=0;switch(void 0===(r=this.U[o])&&(r=this.U[o]=this.ha++),void 0===c&&(c=this.H[o]=0),this.H[o]=(this.H[o]+1)%this.c.length,typeof e){case"number":void 0===n&&(n=1),this.c[c].update([r,this.N++,1,n,s,1,0|e]);break;case"object":if("[object Uint32Array]"===(o=Object.prototype.toString.call(e))){for(l=[],o=0;o<e.length;o++)l.push(e[o]);e=l}else for("[object Array]"!==o&&(u=1),o=0;o<e.length&&!u;o++)"number"!=typeof e[o]&&(u=1);if(!u){if(void 0===n)for(o=n=0;o<e.length;o++)for(l=e[o];0<l;)n++,l>>>=1;this.c[c].update([r,this.N++,2,n,s,e.length].concat(e))}break;case"string":void 0===n&&(n=e.length),this.c[c].update([r,this.N++,3,n,s,e.length]),this.c[c].update(e);break;default:u=1}if(u)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[c]+=n,this.f+=n,a===this.u&&(this.isReady()!==this.u&&i("seeded",Math.max(this.o,this.f)),i("progress",this.getProgress()))},isReady:function(e){return e=this.T[void 0!==e?e:this.M],this.o&&this.o>=e?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=e?this.J|this.u:this.u},getProgress:function(e){return e=this.T[e||this.M],this.o>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:c(this,this.ma),mouseCollector:c(this,this.oa),keyboardCollector:c(this,this.la),accelerometerCollector:c(this,this.ea),touchCollector:c(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new t.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(e,t){this.K[e][this.ga++]=t},removeEventListener:function(e,t){var n,o,i=this.K[e],r=[];for(o in i)i.hasOwnProperty(o)&&i[o]===t&&r.push(o);for(n=0;n<r.length;n++)delete i[o=r[n]]},la:function(){r(this,1)},oa:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(e){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),r(this,0)},qa:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),r(this,0)},ma:function(){r(this,2)},ea:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),r(this,0)}},t.random=new t.prng(6);e:try{var a,u,d,f;if(f=e.exports){var h;try{h=require("crypto")}catch(e){h=null}f=u=h}if(f&&u.randomBytes)a=u.randomBytes(128),a=new Uint32Array(new Uint8Array(a).buffer),t.random.addEntropy(a,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(d=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(d);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(d)}t.random.addEntropy(d,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}t.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(e,n,o,i){o=o||{},i=i||{};var r,l=t.json,s=l.g({iv:t.random.randomWords(4,0)},l.defaults);if(l.g(s,o),o=s.adata,"string"==typeof s.salt&&(s.salt=t.codec.base64.toBits(s.salt)),"string"==typeof s.iv&&(s.iv=t.codec.base64.toBits(s.iv)),!t.mode[s.mode]||!t.cipher[s.cipher]||"string"==typeof e&&100>=s.iter||64!==s.ts&&96!==s.ts&&128!==s.ts||128!==s.ks&&192!==s.ks&&256!==s.ks||2>s.iv.length||4<s.iv.length)throw new t.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(e=(r=t.misc.cachedPbkdf2(e,s)).key.slice(0,s.ks/32),s.salt=r.salt):t.ecc&&e instanceof t.ecc.elGamal.publicKey&&(r=e.kem(),s.kemtag=r.tag,e=r.key.slice(0,s.ks/32)),"string"==typeof n&&(n=t.codec.utf8String.toBits(n)),"string"==typeof o&&(s.adata=o=t.codec.utf8String.toBits(o)),r=new t.cipher[s.cipher](e),l.g(i,s),i.key=e,s.ct="ccm"===s.mode&&t.arrayBuffer&&t.arrayBuffer.ccm&&n instanceof ArrayBuffer?t.arrayBuffer.ccm.encrypt(r,n,s.iv,o,s.ts):t.mode[s.mode].encrypt(r,n,s.iv,o,s.ts),s},encrypt:function(e,n,o,i){var r=t.json,l=r.ja.apply(r,arguments);return r.encode(l)},ia:function(e,n,o,i){o=o||{},i=i||{};var r,l,s=t.json;if(r=(n=s.g(s.g(s.g({},s.defaults),n),o,!0)).adata,"string"==typeof n.salt&&(n.salt=t.codec.base64.toBits(n.salt)),"string"==typeof n.iv&&(n.iv=t.codec.base64.toBits(n.iv)),!t.mode[n.mode]||!t.cipher[n.cipher]||"string"==typeof e&&100>=n.iter||64!==n.ts&&96!==n.ts&&128!==n.ts||128!==n.ks&&192!==n.ks&&256!==n.ks||!n.iv||2>n.iv.length||4<n.iv.length)throw new t.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(e=(l=t.misc.cachedPbkdf2(e,n)).key.slice(0,n.ks/32),n.salt=l.salt):t.ecc&&e instanceof t.ecc.elGamal.secretKey&&(e=e.unkem(t.codec.base64.toBits(n.kemtag)).slice(0,n.ks/32)),"string"==typeof r&&(r=t.codec.utf8String.toBits(r)),l=new t.cipher[n.cipher](e),r="ccm"===n.mode&&t.arrayBuffer&&t.arrayBuffer.ccm&&n.ct instanceof ArrayBuffer?t.arrayBuffer.ccm.decrypt(l,n.ct,n.iv,n.tag,r,n.ts):t.mode[n.mode].decrypt(l,n.ct,n.iv,r,n.ts),s.g(i,n),i.key=e,1===o.raw?r:t.codec.utf8String.fromBits(r)},decrypt:function(e,n,o,i){var r=t.json;return r.ia(e,r.decode(n),o,i)},encode:function(e){var n,o="{",i="";for(n in e)if(e.hasOwnProperty(n)){if(!n.match(/^[a-z0-9]+$/i))throw new t.exception.invalid("json encode: invalid property name");switch(o+=i+'"'+n+'":',i=",",typeof e[n]){case"number":case"boolean":o+=e[n];break;case"string":o+='"'+escape(e[n])+'"';break;case"object":o+='"'+t.codec.base64.fromBits(e[n],0)+'"';break;default:throw new t.exception.bug("json encode: unsupported type")}}return o+"}"},decode:function(e){if(!(e=e.replace(/\s/g,"")).match(/^\{.*\}$/))throw new t.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var n,o,i={};for(n=0;n<e.length;n++){if(!(o=e[n].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new t.exception.invalid("json decode: this isn't json!");null!=o[3]?i[o[2]]=parseInt(o[3],10):null!=o[4]?i[o[2]]=o[2].match(/^(ct|adata|salt|iv)$/)?t.codec.base64.toBits(o[4]):unescape(o[4]):null!=o[5]&&(i[o[2]]="true"===o[5])}return i},g:function(e,n,o){if(void 0===e&&(e={}),void 0===n)return e;for(var i in n)if(n.hasOwnProperty(i)){if(o&&void 0!==e[i]&&e[i]!==n[i])throw new t.exception.invalid("required parameter overridden");e[i]=n[i]}return e},sa:function(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&e[n]!==t[n]&&(o[n]=e[n]);return o},ra:function(e,t){var n,o={};for(n=0;n<t.length;n++)void 0!==e[t[n]]&&(o[t[n]]=e[t[n]]);return o}},t.encrypt=t.json.encrypt,t.decrypt=t.json.decrypt,t.misc.pa={},t.misc.cachedPbkdf2=function(e,n){var o,i=t.misc.pa;return o=(n=n||{}).iter||1e3,(o=(i=i[e]=i[e]||{})[o]=i[o]||{firstSalt:n.salt&&n.salt.length?n.salt.slice(0):t.random.randomWords(2,0)})[i=void 0===n.salt?o.firstSalt:n.salt]=o[i]||t.misc.pbkdf2(e,i,n.iter),{key:o[i].slice(0),salt:i.slice(0)}},e.exports&&(e.exports=t)}(r0);var l0=XB(r0.exports);function s0(e){const{useWebDavSync:n}=t,o=n(e);return _((async(e,t,n,i)=>{const r=BJ(KB.workspace),l=Cc(e)?e:JSON.stringify(e),s=Cc(e)?JSON.parse(e):e;i_({type:OJ.WEBDAV_SYNC_CLOUD,payload:{item:l,syncing:!0}},r),await o(s,t,n,i),i_({type:OJ.WEBDAV_SYNC_CLOUD,payload:{item:l,syncing:!1}},r)}),[o])}function c0(e,n,o){const{calcOptionsSize:i,calcWebDavNoteSpaceHeight:r,QRCODE_SECRET_KEY:l}=t,s=_d(n);return F((()=>{const{createWebDavModes:n}=t,i=async t=>{if(t.type===OJ.WEBDAV_SELECT_MODE){const i=t.payload,r=n().find((e=>e.value===i));if(r){o(lQ({mode:r}));const t={...s.current,mode:r};i_({type:OJ.WEBDAV_UPDATE_FORM,payload:JSON.stringify(t)},e.uid),i_({type:OJ.WEBDAV_CHANGE_MODE,payload:JSON.stringify(t)},e.uid)}}else if(t.type===OJ.WEBDAV_SELECT_NOTE){const e=t.payload;if(e){const t=e.incloud;o(lQ({selected:e,incloud:t}))}}};return n_("message",i),()=>{o_("message",i)}}),[o,s,e.uid]),{onClickSync:async()=>{o(lQ({validated:!0}));const{service:t,username:i,password:r}=n;if((null==t?void 0:t.trim())&&(null==i?void 0:i.trim())&&(null==r?void 0:r.trim())&&zM(t))return e.return?(i_({type:OJ.WEBDAV_SUBMIT_FROM,payload:JSON.stringify({...n,syncing:!0})},e.uid),void JH("pop")):void JH("replace",{route:KB.webdav,effect:{slide:"right"},title:{text:"WebDAV"},style:{backgroundColor:lG},alive:!0,aliveId:KB.webdav,payload:{type:"list",item:JSON.stringify(n)}})},onClickModes:()=>{var e;const t=[n.modes.map((e=>({name:e.text,value:e.value})))],o=e_(),r=XH(),l=document.documentElement.clientHeight,s=i(t)+41-12+r,c=Math.max(l/3,s);JH("push",{route:KB.webdav,effect:{slide:"bottom",modal:!0,gesture:!0,blur:!0},style:{height:c,borderRadius:{topLeft:16,topRight:16}},payload:{title:"",type:"mode",uid:o,mode:null===(e=n.mode)||void 0===e?void 0:e.value}})},onClickSelects:async()=>{var e,t;o(lQ({validated:!0}));const i=XH(),l=e_(),s=null===(t=null===(e=(await vF()).data)||void 0===e?void 0:e.file)||void 0===t?void 0:t.tree,c=document.documentElement.clientHeight,a=r(s)+41-12+i;let u=Math.max(c/2,a),d=!0;u+rG>c&&(u=c-rG,d=!1),JH("push",{route:KB.webdav,effect:{slide:"bottom",modal:!0,gesture:d,blur:!0},style:{height:u,borderRadius:{topLeft:16,topRight:16}},payload:{title:"",type:"space",uid:l,height:u,item:JSON.stringify(n)}})},onClickPasswordVisible:()=>{const t={...n,passwordInvisible:!n.passwordInvisible};o(lQ(t)),i_({type:OJ.WEBDAV_UPDATE_FORM,payload:JSON.stringify(t)},e.uid)},onClickUsernameVisible:()=>{const t={...n,usernameInvisible:!n.usernameInvisible};o(lQ(t)),i_({type:OJ.WEBDAV_UPDATE_FORM,payload:JSON.stringify(t)},e.uid)},onClickScan:()=>{!function(e){"undefined"!=typeof WebPro&&WebPro.scan(e)}((e=>{const t=l0.decrypt(l,e.originalValue),n=JSON.parse(t);Date.now()-n.timestamp>3e5?s_({title:"",message:"",confirm:{value:"",fontColor:Bf}}):o(sQ(n))}))},onInputPassword:e=>{const t=e.target.value;o(lQ({...n,password:t}))},onInputUsername:e=>{const t=e.target.value;o(lQ({...n,username:t}))},onInputService:e=>{const t=e.target.value;o(lQ({...n,service:t}))}}}function a0(e,n,o,i,r,l){const s=_d(e);H((()=>{const{clearStoreCURD:e,injectHelper:n,preset:c,injectFile:a,setLocalBootStrap:u,transformBootStrap:d,resetChangelog:f,injectChangelog:h,syncFileState:p,saftyCatalog:v,setFileScrollActive:g,deactivateFileBranch:m,setLocalNoteInnerHtml:y}=t;!function(e){"undefined"!=typeof WebPro?WebPro.hydration((t=>{try{null==e||e(JSON.parse(t))}catch(t){null==e||e(null)}})):null==e||e(null)}((async function t(b){var C,w,x;const S=s.current;let E={ok:0},k={};if(b?(E.ok=1,E.data=b.bootstrap,k=b.catalogs):E=await vF(),1!==E.ok||!(null===(C=E.data)||void 0===C?void 0:C.file))return o(c(S)),await n(S,o,r),o(m()),FM({inited:!0}),void(l.inited&&(l.inited.current=!0));const D=E.data;(null===(x=null===(w=D.file)||void 0===w?void 0:w.tree[0])||void 0===x?void 0:x.id)?D.file&&(o(p(D.file,!0,k),g(!0),e()),Pc(k)&&await a(S,D.file,i,o)):o(c(S));const I=await gF();I.data?o(f(I.data)):await h(S,D,o,i),u(d(D)),setTimeout((async()=>{var e;const n=document.querySelector("#ruset-hydration");n&&(null===(e=document.querySelector("#root"))||void 0===e||e.removeChild(n)),y(D.file),!1!==b&&await v(r,t)}))}))}),[o,s,r,i,l.inited]);const c=W((()=>{const{clearStoreRecord:e,clearStoreCURD:n,setStorePending:r,clearAuthDelete:s,recordBootstrap:c,recordChangelog:a,recordStore:u,recycleMemory:d}=t;return nc((async t=>{var f,h,p;if(void 0===t.store)return;const{store:{record:v,crud:g,auth:m,editor:y={}},file:b}=t;if((!Pc(v)||!Pc(g))&&(o(r(!0)),((null==v?void 0:v.bootstrap)||(null==v?void 0:v.changelog))&&o(e()),Pc(g)||o(n()),Pc(null==m?void 0:m.delete)||o(s()),(null==v?void 0:v.bootstrap)&&await c(t),(null==v?void 0:v.changelog)&&await a(t),Pc(g)||await u(t,i),Object.keys(y).length>10&&o(d()),o(r(!1)),null===(h=null===(f=l.storend)||void 0===f?void 0:f.current)||void 0===h||h.call(f,t),i_({type:OJ.WORKSPACE_REPRESH_EDITOR,payload:g}),(null===(p=l.inited)||void 0===p?void 0:p.current)&&(l.inited.current=!1,i_({type:OJ.WORKSPACE_REPRESH_STORE})),(null==b?void 0:b.cloud)&&!Pc(g))){const e=BJ(KB.webdav);i_({type:OJ.WORKSPACE_DETECT_WEBDAV,payload:g},e)}}),300)}),[o,i,l.inited,l.storend]);F((()=>{const{store:e,editor:t,bootstrap:o}=n,{status:i}=t;if(void 0===e||"pending"===i||(null==o?void 0:o.misplace))return;const{record:r,crud:l,pending:s}=e;s||(r||l)&&c(n)}))}function u0(e,n,o,i,r,l,s){const c=_d(e);H((()=>{const{syncFileState:e,injectFile:n,setCurrentPageId:i,resetChangelog:a,injectChangelog:u,getLocalRecentlyReview:d,setLocalRecentlyReview:f,clearStoreCURD:h}=t;c.current.reader||async function(){var t,p,v,g;const m=c.current,y=await vF(),{data:b}=y;if(!(null==b?void 0:b.file))return;const C=null===(t=c.current.page)||void 0===t?void 0:t.id;C&&(b.file.currentPageId=C),o(e(b.file,!0),h()),await n(m,b.file,l,o),C&&o(i(C)),r(WJ(!0));const w=function(){var e;if("undefined"!=typeof WebPro)return null===(e=WebPro.getNavigateItem)||void 0===e?void 0:e.call(WebPro)}();if(null==w?void 0:w.alive){let e=null!==(p=d())&&void 0!==p?p:[];if(!e.length){null===(g=null===(v=s.stater.get().file)||void 0===v?void 0:v.tree[0].children)||void 0===g||g.forEach((t=>{var n;"page"===t.type&&(e.push(t.id),null===(n=t.children)||void 0===n||n.forEach((t=>{"page"===(null==t?void 0:t.type)&&e.push(t.id)})))})),e=e.slice(0,10),f(e)}for(const t of e)await s.safty(t)}const x=await gF();x.data?o(a(x.data)):await u(m,b,o,l)}()}),[o,r,c,s,l,i.refresh]),F((()=>{const e=e=>{e.type===OJ.WORKSPACE_REPRESH_STORE&&r(jJ())};return n_("message",e),()=>{o_("message",e)}}),[r]);const a=W((()=>{const{clearStoreRecord:e,clearStoreCURD:n,setStorePending:i,clearAuthDelete:r,recordStore:s,recordChangelog:c,recycleMemory:a}=t;return nc((async t=>{if(void 0===t.store)return;const{store:{record:u,crud:d,auth:f,editor:h={}},file:p}=t;if(Pc(u)&&Pc(d))return;o(i(!0)),((null==u?void 0:u.bootstrap)||(null==u?void 0:u.changelog))&&o(e()),Pc(d)||o(n()),Pc(null==f?void 0:f.delete)||o(r()),(null==u?void 0:u.changelog)&&await c(t),Pc(d)||await s(t,l),Object.keys(h).length>10&&o(a()),o(i(!1));const v=BJ(KB.workspace);if(i_({type:OJ.EDITOR_REFRESH_WORKSPACE,payload:d},v),i_({type:OJ.EDITOR_REFRESH_EDITOR,payload:d,uid:e_()}),(null==p?void 0:p.cloud)&&!Pc(d)){const e=BJ(KB.webdav);i_({type:OJ.EDITOR_DETECT_WEBDAV,payload:d},e)}}),300)}),[o,l]);F((()=>{const{reader:t}=e,{store:o,editor:r,bootstrap:l}=n,{ready:s}=i,{status:c}=r;if(void 0===o||"pending"===c||(null==l?void 0:l.misplace)||t||!s)return;const{record:u,crud:d,pending:f}=o;f||(u||d)&&a(n)}))}const{getBranchByPath:d0}=OB;const{isNode:f0}=hk;function h0(e){F((()=>{!function(e){"undefined"!=typeof WebPro&&(WebPro.onApplicationPrivacy=t=>{e(t)})}((async n=>{var o,i;const{fetchUserAgreement:r,fetchPrivacyPolicy:l}=t;let s="",c=null;if("PrivacyPolicy"===n){const t=EJ.privacyPolicy;s=kJ[e.lang][t],c=await l()}else if("UserAgreement"===n){const t=EJ.userAgreement;s=kJ[e.lang][t],c=await r()}const a=null===(i=null===(o=null==c?void 0:c.bootstrap)||void 0===o?void 0:o.file)||void 0===i?void 0:i.currentPageId;a&&JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(c),page:{id:a},branch:{type:"page",id:a},pageId:a},title:{text:s},style:{backgroundColor:sG}})}))}),[e.lang]),F((()=>{JH("prepare",{route:KB.editor,alive:!0,aliveId:KB.editor}),JH("prepare",{route:KB.setting,alive:!0,aliveId:KB.setting}),JH("prepare")}),[])}function p0(e){const{FontSizeReader:n,common:o}=t,{icon:i,title:r,width:l,name:s}=e,c=o.list.isDecorateListNode(r);return X("div",{style:tG,children:[X("div",{style:nG,children:[i&&G("div",{style:{...oG,marginTop:c?0:-1},children:i}),G(n,{listTop:.5,fontSize:16,node:r,width:l})]}),s&&G("div",{style:iG,children:s})]})}function v0(e){let t=0;if(rh){t=KH()+5}return X("div",{style:{...MG,...e.style},children:[G("div",{style:{height:t}}),G("div",{style:OG,children:e.children})]})}const g0=U(null);function m0(e){var n,o,i,r,l;const{RootAdvisor:s,RootState:c,isSheetFocusInclude:a,getSheetByFocus:u,sheet:d}=t,f=R(s),h=R(c),[p,v]=qd((()=>function(e){return{tools:YQ(e.name)}}(e)));F((()=>{if(e.name!==p.name){const t=YQ(e.name);v(KJ(t),GJ(e.name))}}),[e.name,p.name,v]);const g=fQ(),m=function(e,t,n){const o=_d(e),i=_d(t),r=Z(0);F((()=>{const e=e=>{r.current=e},t=e=>{(e.type===OJ.EDITOR_SHOW_KEYBOARD||e.type===OJ.TOOLS_HIDE_KEYBOARD||e.type===OJ.TOOLS_SHOW_KEYBOARD||e.type===OJ.TOOLS_POST_UPPER)&&n(UJ())};return n_("message",t),n_("sendKeyboardStatus",e),()=>{o_("message",t),o_("sendKeyboardStatus",e)}}),[o,i,n]);let l=null;return{onClickUpperTool:e=>{const t=BJ(KB.editor),o=BJ(KB.tools);if(e.inner){const i=!e.active;i_({type:OJ.TOOLS_POST_INNER,payload:e},t),i_({type:OJ.TOOLS_POST_INNER,payload:e},o),l&&clearTimeout(l),i?n($J(e,i)):l=setTimeout((()=>{n($J(e,i))}),150)}else i_({type:OJ.TOOLS_EDITOR_ACTION,payload:{name:e.name,value:e.value,active:e.active,disable:e.disable}},t)}}}(e,p,v),y=Math.max(0,41*(null!==(o=null===(n=p.tools)||void 0===n?void 0:n.length)&&void 0!==o?o:0)-11),b=null!==(r=null===(i=e.layout)||void 0===i?void 0:i.bottom)&&void 0!==r?r:aG+uG,{context:{editor:{selectionStyle:C,selectionDecorate:w},focus:x}}=f.provider();let S;if(a(x)){const{editor:{node:e}}=h,t=u(e,x);t&&(S=d.exportSheetStyle(t))}return G(wh,{style:{...qX,bottom:b},onClick:e=>e.stopPropagation(),children:G(lk,{className:"no-scrollbar",style:{...YX,width:y},visible:e.visible,transition:e.transition,children:null===(l=p.tools)||void 0===l?void 0:l.map(((e,t)=>{var n;const o={...KX};let i=e.active;i&&(o.backgroundColor=vG),EQ(e.name,C,w)&&(i=!0,o.backgroundColor=gG),(null===(n=p.tools)||void 0===n?void 0:n.length)===t+1&&delete o.marginRight,e.name!==g.text&&e.name!==g.bold||(o.left=2);let r=e.value;e.name===g.textColor?r=null==C?void 0:C.color:e.name===g.highlightColour?r=null==C?void 0:C.backgroundColor:e.name===g.fillColor&&(r=null==S?void 0:S.backgroundColor);return G(Ev,{colors:bG,touchDelay:0,style:o,onClick:t=>{t.stopPropagation(),m.onClickUpperTool({...e,active:i})},children:G(e.outer,{...e,value:r})},e.name)}))})})}function y0(e){const t=fQ();return t.add===e.name?G(b0,{...e}):t.image===e.name?G(C0,{...e}):t.list===e.name?G(w0,{...e}):t.textColor===e.name||t.highlightColour===e.name?G(x0,{...e}):t.fontSize===e.name?G(S0,{...e}):t.fontFamily===e.name?G(E0,{...e}):t.letterSpacing===e.name?G(k0,{...e}):t.lineHeight===e.name?G(D0,{...e}):t.sheetInsert===e.name?G(I0,{...e}):t.sheetMore===e.name?G(L0,{...e}):t.fillColor===e.name?G(x0,{...e}):t.borderOutline===e.name?G(N0,{...e}):null}function b0(e){const t=R(g0),n=function(){const e=fQ(),t={width:16,fill:Hf};return[{name:e.sheet,text:"",active:!1,outer:e=>G(BR,{...t,style:{position:"relative",top:-.4}})},{name:e.quote,text:"",active:!1,outer:e=>G(MR,{...t,style:{position:"relative",top:.2}})},{name:e.separator,text:"",active:!1,outer:e=>G(OR,{...t})}]}(),o=fQ();return G("div",{style:eJ,children:n.map(((n,i)=>X(Ev,{colors:yG,style:tJ,touchDelay:0,onClick:()=>(n=>{n.name!==o.refer&&n.name!==o.link?DQ(0,e,{name:n.name,value:n.value},t):TQ()})(n),children:[G("span",{style:fJ,children:G(n.outer,{...n})}),G("span",{style:uJ,children:n.text})]},i)))})}function C0(e){const t=function(){const e=fQ();return[{name:e.takePhoto,text:"",active:!1,outer:e=>G(PR,{width:18,fill:Hf,style:{position:"relative",top:.5}})},{name:e.selectPicture,text:"",active:!1,outer:e=>G(FR,{width:17,fill:Hf,style:{position:"relative",top:.8}})}]}();return G("div",{style:eJ,children:t.map(((e,t)=>X(Ev,{colors:yG,style:tJ,touchDelay:0,onClick:()=>(e=>{const t=BJ(KB.editor);t&&i_({type:OJ.TOOLS_EDITOR_ACTION,payload:{name:e.name,value:e.value}},t)})(e),children:[G("span",{style:fJ,children:G(e.outer,{...e})}),G("span",{style:uJ,children:e.text})]},t)))})}function w0(e){var t;const n=R(g0),o=fQ(),i=hQ(),r=null===(t=e.selectionStatus)||void 0===t?void 0:t.decorate;function l(e){const t={...sJ};e.name===o.numberedList&&(t.marginLeft=3);const n={...aJ};e.name===o.bulletedList&&(n.top=.5),e.name===o.checkList&&(n.top=-.5),e.name===o.toggleList&&(n.top=.5);const i={};return e.active&&(i.color="#fff",i.style={color:"#fff"}),G("div",{style:rJ,children:e.list.map(((o,r)=>X("div",{style:lJ,children:[X("div",{style:cJ,children:[G("div",{style:n,children:G(o.icon,{...i})}),G("div",{style:t})]}),o.children?G(l,{...e,list:o.children}):null]},r)))})}return G("div",{style:eJ,children:i.map(((t,o)=>{var i;const s=t.payload,c=(null==r?void 0:r[null!==(i=t.name)&&void 0!==i?i:""])===t.value,a={...oJ};return c&&(a.backgroundColor=Bf),G(wh,{style:nJ,onClick:()=>(t=>{DQ(0,e,{name:t.name,value:t.value},n)})(t),children:G(Ev,{touchDelay:0,colors:yG,style:a,children:G("div",{style:iJ,children:G(l,{active:c,name:t.name,value:t.value,list:s.jsx,type:s.type})})})},o)}))})}function x0(e){const t=R(g0),n=fQ(),o=vQ(),{isWhite:i}=ig;return G("div",{style:eJ,children:o.map(((o,r)=>{var l,s,c,a,u,d,f;let h=String(o.value),p=h,v=h,g="1px solid transparent",m={},y=o.text,b=yG;const C={...tJ,background:vG};if(e.name===n.textColor){let t=null===(s=null===(l=e.selectionStatus)||void 0===l?void 0:l.style)||void 0===s?void 0:s.color;t&&(o.value===t?(C.background=`linear-gradient(30deg, #fff 0%, ${t} 100%)`,p="#fff"):o.payload.includes(t)&&(i(t)&&(t=vG,y=""),C.background=`linear-gradient(30deg, #fff 0%, ${t} 100%)`,v=t,h=t,p="#fff"))}else{p="#ffffff",v="#ffffff";const t=o.value?h:vG;let r;C.background=t,b={default:t,active:t,hover:t},e.name===n.highlightColour?r=null===(a=null===(c=e.selectionStatus)||void 0===c?void 0:c.style)||void 0===a?void 0:a.backgroundColor:e.name===n.fillColor&&(r=null===(f=null===(d=null===(u=e.selectionStatus)||void 0===u?void 0:u.sheet)||void 0===d?void 0:d.style)||void 0===f?void 0:f.backgroundColor),r&&(o.value===r?(g="1px solid #fff",m={top:1.5,left:1.5,right:1.5,bottom:1.5,borderRadius:4.5}):o.payload.includes(r)&&(i(r)&&(r=vG,y=""),g="1px solid #fff",m={top:1.5,left:1.5,right:1.5,bottom:1.5,borderRadius:4.5},h=r,C.background=r))}return X(Ev,{touchDelay:0,colors:b,style:C,onClick:()=>(n=>{DQ(0,e,{name:e.name,value:n.value},t)})(o),children:[G("span",{style:{...uJ,color:v},children:y}),G(Ev,{style:hJ,onClick:t=>{t.stopPropagation(),(t=>{var n;const o=(null!==(n=e.height)&&void 0!==n?n:window.screen.availHeight)-aG+6,i=IQ(e);JH("push",{route:KB.selector,effect:{slide:"bottom",modal:!0,musk:!0,gesture:!0,blur:10},style:{height:o,borderRadius:{topLeft:16,topRight:16}},payload:{...t,name:e.name,prevent:i,height:o}})})({...o,value:h})},children:G(qO,{fill:p})}),G("div",{style:{...dJ,border:g,...m}})]},r)}))})}function S0(e){const t=R(g0);return G("div",{style:eJ,children:[{value:9,text:""},{value:10.5,text:""},{value:12,text:""},{value:14,text:""},{value:16,text:""},{value:18,text:""},{value:24,text:""},{value:36,text:""},{value:42,text:""},{value:54,text:""}].map(((n,o)=>{var i,r;let l=jf,s=Hf;const c={...tJ};return(null===(r=null===(i=e.selectionStatus)||void 0===i?void 0:i.style)||void 0===r?void 0:r.fontSize)===ch(n.value)&&(l="#fff",s="#fff",c.backgroundColor=Bf),X(Ev,{touchDelay:0,colors:yG,style:c,onClick:()=>(n=>{DQ(0,e,{name:e.name,value:ch(n.value)},t)})(n),children:[G("span",{style:{...uJ,color:s},children:n.value}),G("span",{style:{...pJ,color:l},children:n.text})]},o)}))})}function E0(e){return G("div",{style:eJ,children:[{text:"",value:"auto"},{text:"",value:"Microsoft YaHei, , "},{text:"",value:"FangSong"},{text:"",value:"SimSun"},{text:"",value:"Kai, Kaiti"},{text:"",value:"Hei"}].map(((e,t)=>G(wh,{style:tJ,onClick:()=>{},children:G("span",{style:{...uJ,fontFamily:String(e.value)},children:e.text})},t)))})}function k0(e){const t=R(g0);return G("div",{style:eJ,children:[{text:"",value:"normal"},{text:"1",value:1},{text:"2",value:2},{text:"4",value:4},{text:"6",value:6},{text:"8",value:8},{text:"16",value:16},{text:"32",value:32},{text:"1",value:-1},{text:"2",value:-2}].map(((n,o)=>{var i,r,l;if(!n.value)return null;let s=n.text,c=0;"number"==typeof n.value&&n.value>10&&(s=(null===(i=n.text)||void 0===i?void 0:i.slice(0,-2))+" ",c=n.value);let a=Hf;const u={...tJ},d=null===(l=null===(r=e.selectionStatus)||void 0===r?void 0:r.style)||void 0===l?void 0:l.letterSpacing;return(d===n.value||"normal"===n.value&&0===d)&&(a="#fff",u.backgroundColor=Bf),X(Ev,{touchDelay:0,colors:yG,style:u,onClick:()=>(n=>{DQ(0,e,{name:e.name,value:n.value},t)})(n),children:[G("span",{style:{...uJ,color:a,letterSpacing:n.value},children:s}),c>0?G("span",{style:{color:a},children:c}):null]},o)}))})}function D0(e){const t=R(g0);return G("div",{style:eJ,children:[{text:"",value:1.7},{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.3",value:1.3},{text:"1.5",value:1.5},{text:"2",value:2},{text:"2.5",value:2.5},{text:"3",value:3}].map(((n,o)=>{var i,r;let l=Hf;const s={...tJ};return(null===(r=null===(i=e.selectionStatus)||void 0===i?void 0:i.style)||void 0===r?void 0:r.lineHeight)===n.value&&(l="#fff",s.backgroundColor=Bf),G(Ev,{touchDelay:0,colors:yG,style:s,onClick:()=>(n=>{DQ(0,e,{name:e.name,value:n.value},t)})(n),children:G("span",{style:{...uJ,color:l},children:n.text})},o)}))})}function I0(e){const t=R(g0),n=CQ();return G("div",{style:eJ,children:n.map(((n,o)=>X(Ev,{touchDelay:0,colors:yG,style:tJ,onClick:()=>(n=>{DQ(0,e,{name:n.name,value:n.value},t)})(n),children:[G("span",{style:uJ,children:n.text}),n.more?G(Ev,{style:hJ,onClick:t=>{t.stopPropagation(),(t=>{var n;const o=(null!==(n=e.height)&&void 0!==n?n:window.screen.availHeight)-aG+6,i=IQ(e);JH("push",{route:KB.selector,effect:{slide:"bottom",modal:!0,musk:!0,gesture:!0,blur:10},style:{height:o,borderRadius:{topLeft:16,topRight:16}},payload:{...t,prevent:i,height:o}})})(n)},children:G(qO,{})}):null]},o)))})}function N0(e){const t=R(g0),n=fQ(),o=function(e){var t,n;const o=fQ(),i={width:16,fill:Hf},r=!1!==(null===(n=null===(t=e.selectionStatus)||void 0===t?void 0:t.sheet)||void 0===n?void 0:n.border);return[{name:o.borderNone,value:RV.borderNone,text:"",active:!1,outer:e=>G(zR,{...i})},{name:o.borderAll,value:RV.borderAll,text:"",active:!1,outer:e=>G(HR,{...i})},{name:o.borderOutline,value:RV.borderOutline,text:"",active:!1,outer:e=>G(jR,{...i})},{name:o.borderInside,value:RV.borderInside,text:"",active:!1,outer:e=>G(WR,{...i})},{name:o.borderLeft,value:RV.borderLeft,text:"",active:!1,outer:e=>G($R,{...i})},{name:o.borderRight,value:RV.borderRight,text:"",active:!1,outer:e=>G(ZR,{...i})},{name:o.borderTop,value:RV.borderTop,text:"",active:!1,outer:e=>G(UR,{...i})},{name:o.borderBottom,value:RV.borderBottom,text:"",active:!1,outer:e=>G(qR,{...i})},r?{name:o.borderHide,value:RV.borderHide,text:"",active:!1,outer:e=>G(VR,{...i,fill:"#d8d8d8"})}:{name:o.borderShow,value:RV.borderShow,text:"",active:!1,outer:e=>G(VR,{...i,fill:"#666"})},{name:o.borderColor,value:RV.borderColor,text:"",active:!1,more:!0,outer:e=>G(HR,{...i,fill:Bf})}]}(e),i=t=>{var n;const o=(null!==(n=e.height)&&void 0!==n?n:window.screen.availHeight)-aG+6,i=IQ(e);JH("push",{route:KB.selector,effect:{slide:"bottom",modal:!0,musk:!0,gesture:!0,blur:10},style:{height:o,borderRadius:{topLeft:16,topRight:16}},payload:{...t,prevent:i,height:o}})};return G("div",{style:eJ,children:o.map(((o,r)=>X(Ev,{colors:yG,style:tJ,touchDelay:0,onClick:()=>(o=>{o.name!==n.borderColor?DQ(0,e,{name:o.name,value:o.value},t):i(o)})(o),children:[G("span",{style:fJ,children:G(o.outer,{...o})}),G("span",{style:uJ,children:o.text}),o.more?G(Ev,{style:hJ,onClick:e=>{e.stopPropagation(),i(o)},children:G(qO,{})}):null]},r)))})}function L0(e){const t=R(g0),n=wQ();return G("div",{style:eJ,children:n.map(((n,o)=>X(Ev,{touchDelay:0,colors:yG,style:tJ,onClick:()=>(n=>{DQ(0,e,{name:n.name,value:n.value},t)})(n),children:[G("span",{style:uJ,children:n.text}),n.more?G(Ev,{style:hJ,onClick:t=>{t.stopPropagation(),(t=>{var n;const o=(null!==(n=e.height)&&void 0!==n?n:window.screen.availHeight)-aG+6,i=IQ(e);JH("push",{route:KB.selector,effect:{slide:"bottom",modal:!0,musk:!0,gesture:!0,blur:10},style:{height:o,borderRadius:{topLeft:16,topRight:16}},payload:{...t,prevent:i,height:o}})})(n)},children:G(qO,{})}):null]},o)))})}function T0(e){var n;const{FOCUS_FIELD:o,initState:i,setNoDraft:r,useThreshold:l,useWorker:s,useAdvisor:c,Editor:a,RootDispatch:u,RootState:d,RootProps:f,RootPortal:h,RootTraversal:p,RootThreshold:v,RootAdvisor:g,RootWorker:m}=t;let[y,b]=qd((()=>i(e)),r());const[C,w]=qd((()=>function(e){return{tool:{lang:e.lang,visible:!1}}}(e))),x=Z(null),S=Z(null),E=Z({}),k=Z({}),D=l(E,b),I=s(e,y,b),N=c(e,y,b,I),L=Z(null!==(n=e.editable)&&void 0!==n?n:null);!function(e,n,o,i,r,l,s,c,a,u){const d=_d(e),f=_d(n),h=e.refresh;let p=i.inited;!e.reader&&e.alive||(p=!0);const v=n.editor.cwnd,g=Z(null),m=Z({prev:!1,next:!1,start:!1}),y=W((()=>{const{sliceNoteLocation:e,setLocalNoteLocation:n}=t;return nc((()=>{const t=s.stater.get();if(t.editor.isEditPending)return;const o=e(t);n(o)}),100)}),[s]),b=_((()=>{var e,t,n,o;g.current&&(clearTimeout(g.current),g.current=null),m.current.prev=!1,m.current.next=!1,m.current.start=!1,null===(t=(e=c.current).scrollTo)||void 0===t||t.call(e,{top:0}),null===(o=(n=c.current).clearVisibleState)||void 0===o||o.call(n),r(_J(),FJ(!1)),u.current=null}),[u,c,r]),C=_((async()=>{var e,n,i,c,h,v;const{switchBranchEditor:C,anchorBranchEditor:w,setCurrentPageId:x,setEditorThreshold:S,setEditorScrollOffset:E,setEditorClient:k,saftyFileBranch:D,saftyInitUndoRedoStack:I,anchorEditorByBranch:N,setGFocus:L,newNote:T,fetchBranch:B,setStorePending:A,removeEditorLocation:M,createNoneFocus:O,createEditorFocus:R,clearEditorHighlight:P,anchorEditorBySelection:F,setGFocusSelectionReflow:H,fetchBranchSource:_,replaceFileBranch:j,saftyMergeStore:W,anchorEditorByPageId:z,setFileTreeNoDraft:V}=t,{file:$}=f.current,Z=d.current,{page:U,snote:q,branch:Y,search:K,focus:G,create:X,link:J}=Z;if(!U||!Y||!p)return;const{id:Q}=U,{type:ee,id:te}=Y,ne=null==$?void 0:$.currentPageId,oe=[],ie=nc((async e=>{const{file:t}=f.current,n=await _(e),i=null==t?void 0:t.tree.findIndex((e=>e.id===(null==n?void 0:n[0])));if(void 0===i||-1===i)return;const r={callback:t=>{t.id===e&&t.readonly&&(u.current=!1)},source:n},s=await B(t.tree[i],l,r);o(V(j(s,[i])))}),100);b();let re=null;if("page"===ee||"root"===ee?(null===(e=Y.segments)||void 0===e?void 0:e.length)&&!await s.exist(te)&&(re=c_({title:""})):"outline"===ee&&(null===(n=U.segments)||void 0===n?void 0:n.length)&&!await s.exist(Q)&&(re=c_({title:""})),"page"===ee||"root"===ee){if(await s.safty(te),Y.id!==te)return void(null==re||re());if(q){const e=JSON.parse(q);oe.push(W(e)),e.assets&&(a.current.assets=null!==(i=a.current.assets)&&void 0!==i?i:{},a.current.assets.cache=null!==(c=a.current.assets.cache)&&void 0!==c?c:{},Object.assign(a.current.assets.cache,e.assets))}if(oe.push(x(te),C(Z,te),D(Y),S(0)),X){oe.push(L(O()),T(Z,Y,Q),H(!0));const e=R();r(HJ(e))}else J&&oe.push(z(Q,J),L(O()));X||ie(te)}else if("outline"===ee){if(await s.safty(Q),Y.id!==te)return void(null==re||re());if(q){const e=JSON.parse(q);oe.push(W(e)),e.assets&&(a.current.assets=null!==(h=a.current.assets)&&void 0!==h?h:{},a.current.assets.cache=null!==(v=a.current.assets.cache)&&void 0!==v?v:{},Object.assign(a.current.assets.cache,e.assets))}if(ne!==Q&&oe.push(x(Q),C(Z,Q)),G){oe.push(L(O()),P(),F(Q,Y.payload),H(!0));const e=R();r(HJ(e))}else if(X){oe.push(L(O()),T(Z,Y,Q),H(!0));const e=R();r(HJ(e))}else K?oe.push(N(Y,Q)):oe.push(w(Z,te),M());oe.push(S(0)),X||ie(Q)}oe.push(E({top:0}),k(AJ()),I(),A(!1)),o(...oe),m.current.start=!0,y(),r(FJ(!0)),g.current&&(clearTimeout(g.current),g.current=null),null==re||re()}),[u,p,f,d,o,l,s,a,r,b,y]);H((()=>{var e;const{createNoneFocus:n,clearEditorHighlight:i,anchorEditorByBranch:a,anchorEditorBySelection:h,addFlush:v,setGFocus:g,fetchBranch:b,getBranchByID:w,replaceFileBranch:x,refreshFileBranch:S,removeStoreEditor:E,setEditorThreshold:k,setGFocusSelectionReflow:D,generateSearchFocus:I,replaceBranch:N,anchorBranchEditor:L,setEditorScrollOffset:T,readonlyFileBranch:B,resetChangelog:A,mergeFileState:M,resetFileTreePath:O,setStoreCatalog:R,setFileTreeNoDraft:P}=t;if(!p)return;C(),u.current=null!==(e=d.current.editable)&&void 0!==e?e:null,(async()=>{const e=await gF();e.data&&o(A(e.data))})();const F=async e=>{var t,p,C,A,F,H,_,j,W,z,V,$,Z,U,q,Y,K,G,X,J,Q,ee,te,ne,oe,ie,re,le,se,ce,ae;const ue=d.current,de=f.current;if(e.type===OJ.FLOAT_ANCHOR_BRANCH){const{id:n}=e.payload;m.current.prev=!1,m.current.next=!1,m.current.start=!0,null===(p=(t=c.current).scrollTo)||void 0===p||p.call(t,{top:0}),null===(A=(C=c.current).clearVisibleState)||void 0===A||A.call(C);const i=[L(ue,n),k(0),T({top:0})];o(...i),y()}else if(e.type===OJ.SEARCH_ANCHOR_EDITOR){const{branch:t,pageId:n}=e.payload;m.current.prev=!1,m.current.next=!1,m.current.start=!0,null===(H=(F=c.current).scrollTo)||void 0===H||H.call(F,{top:0}),null===(j=(_=c.current).clearVisibleState)||void 0===j||j.call(_);const i=null===(W=t.payload)||void 0===W?void 0:W.search,r=I(i),l=[g(r),a(t,n),v(n),k(0)];o(...l),y()}else if(e.type===OJ.SEARCH_FOCUS_EDITOR){const{branch:t,pageId:l}=e.payload;m.current.prev=!1,m.current.next=!1,m.current.start=!0,null===(V=(z=c.current).scrollTo)||void 0===V||V.call(z,{top:0}),null===(Z=($=c.current).clearVisibleState)||void 0===Z||Z.call($);const s=[g(n()),i(),h(l,t.payload),v(l),k(0)];o(...s),y();const a=null===(U=t.payload)||void 0===U?void 0:U.search,u=I(a);r(HJ(u))}else if(e.type===OJ.SEARCH_REPLACE_EDITOR){const{branch:t,pageId:n}=JSON.parse(e.payload),r=[i(),N(t,n),D(!0),v(n)];o(...r)}else if(e.type===OJ.MORE_READONLY_BRANCH){const{readonly:t}=e.payload,n=null===(q=de.file)||void 0===q?void 0:q.tree;if(!(null==n?void 0:n.length))return;let i=null;const r=null===(Y=ue.page)||void 0===Y?void 0:Y.path,s=null===(K=ue.page)||void 0===K?void 0:K.id;if((null==r?void 0:r.length)?i=d0(n,r):s&&(i=w(n,s)),!i)return;const c=await b(i,l,{deep:!0});u.current=!t;const a=[x(c,i.path),B(i,t),R(i,void 0,!0)];o(...a)}else if(e.type===OJ.WORKSPACE_REPRESH_EDITOR||e.type===OJ.EDITOR_REFRESH_EDITOR){if(e_()===e.uid)return;let t=null!==(J=null===(X=null===(G=de.file)||void 0===G?void 0:G.tree)||void 0===X?void 0:X.slice())&&void 0!==J?J:[];if(e.type===OJ.WORKSPACE_REPRESH_EDITOR){const e=await vF();if(1===e.ok&&e.data){const n={};for(const e of t)n[e.id]=e;const i=null!==(ee=null===(Q=e.data.file)||void 0===Q?void 0:Q.tree)&&void 0!==ee?ee:[],r=i.map((e=>e.id)),l=t.map((e=>e.id));Fc(r,l)||(t=i.map((e=>{var t;return null!==(t=n[e.id])&&void 0!==t?t:e})),o(P(M({tree:t}),O())))}}const n=e.payload;if(!n)return;const{update:i,delete:l}=n,c=null===(te=de.store)||void 0===te?void 0:te.editor;if(!c)return;for(const e of null!==(ne=null==l?void 0:l.editor)&&void 0!==ne?ne:[])c[e]&&o(E(e));const a=[];for(const t of null!==(oe=null==i?void 0:i.editor)&&void 0!==oe?oe:[])c[t]&&(o(E(t)),e.type===OJ.EDITOR_REFRESH_EDITOR&&(a.includes(t)||a.push(t)));if(null===(ie=null==i?void 0:i.catalog)||void 0===ie?void 0:ie.length)for(const e of i.catalog)a.includes(e)||a.push(e);if(!a.length)return;const u=await DF(a);for(const e in u.data)if("root"===u.data[e].type&&!t.some((t=>t.id===e)))return void r(jJ());if(1===u.ok&&u.data){const e=[];for(const{id:n}of t)e.push(S(n,u.data));o(P(...e))}for(const e of a)(null===(le=null===(re=u.data)||void 0===re?void 0:re[e].segments)||void 0===le?void 0:le.length)||await s.refresh(e);if(null===(se=null==i?void 0:i.reference)||void 0===se?void 0:se.length){const e=null===(ce=de.file)||void 0===ce?void 0:ce.currentPageId,t=de.editor.uids;for(const n of i.reference)if((null==t?void 0:t[n])&&e){o(v(e));break}}}else if(e.type===OJ.WEBDAV_SYNC_ACTIONS){const t=e.payload,n=null===(ae=de.store)||void 0===ae?void 0:ae.editor,i=t.pull.editor;for(const e of i)(null==n?void 0:n[e])&&o(E(e))}};return n_("message",F),()=>{o_("message",F)}}),[d,f,h,c,o,l,p,C,r,y,s,u]),F((()=>{const e=e=>{if(!1===e){const{deleteCurrentPageId:e,createEditorState:n,setEditorState:i,setGFocus:r,createEditorFocus:l}=t,{editor:{clientWidth:s,clientHeight:c}}=f.current,a=n({selection:void 0,clientWidth:s,clientHeight:c,scrollHeight:c}),u=[e(),i(a),r(l())];o(...u),b()}},n=()=>{i_({type:OJ.EDITOR_BEFORE_DESTROY})};return n_("visibilityChange",e),n_("beforeDestroy",n),()=>{o_("visibilityChange",e),o_("beforeDestroy",n)}}),[o,r,b,f,c,u]),F((()=>{var e;const{clearModal:i}=t;(null===(e=n.modal)||void 0===e?void 0:e.visible)&&o(i())})),F((()=>{const{editor:{resizeHeight:e,resizeWidth:l,isEditPending:s,isScrollPending:c}}=n;if(v||l||e||s||c)return;if(!p)return;if(!m.current.start)return;if(m.current.prev&&m.current.next)return;const{setGFocus:a,setEditorState:u,setGFocusSelectionReflow:h}=t,{getEditNodeOffsets:y,getEditBlockNodeStartPath:b,getEditBlockNodeEndPath:C}=hk,{clientHeight:w}=document.documentElement;g.current=setTimeout((()=>{var e,t;const n=f.current,l=d.current;if(m.current.prev){if(!m.current.next){m.current.next=!0,m.current.start=!1;const{node:e}=n.editor,s=C(e),c=y(e,s),d={path:s.slice(0,c.length),offsets:c,flag:hk.ReflowStartFlag.next};o(u({...n.editor,isScrollPending:!0,threshold:null!==(t=l.threshold)&&void 0!==t?t:w,reflowStart:d})),i.focus&&(f_(),r(_J()),o(a(i.focus),h(!0)))}}else{m.current.prev=!0;const{node:t}=n.editor,i=b(t),r=y(t,i),s={path:i.slice(0,r.length),offsets:r,flag:hk.ReflowStartFlag.prev};o(u({...n.editor,isScrollPending:!0,threshold:null!==(e=l.threshold)&&void 0!==e?e:w,reflowStart:s}))}}))}))}(e,y,b,C,w,I,N,k,E,L),u0(e,y,b,C,w,I,N),function(e,n,o){const i=_d(n);F((()=>{const{resizeEditor:e,resizeClient:n,initClientState:i}=t,r=Nu(window,"resize").pipe(zu(0,Xa)).subscribe((()=>{const{width:t,height:r}=i(),{clientHeight:l,clientWidth:s}=AJ();o(e(s,l)),o(n(t,r))}));return()=>r.unsubscribe()}),[o,i])}(0,y,b);const T=t0(e,y,b,C,w,I,N,k,L,E,x),B={...y,...e,dispatch:b,main:!0,root:!0,virtual:!0,editable:!!L.current,showExpandSelectionLoupe:!0,scroller:"native",keyboardHeight:C.keyboardHeight,focus:{type:o.EDITOR},onSelectPhrase:LQ,onSelectExpand:NQ,onLoupeMounted:NQ},A=["more"];return!1!==L.current||e.reader||A.unshift("readonly"),G(u,{value:b,children:G(d,{value:y,children:G(f,{value:e,children:G(h,{value:S,children:G(p,{value:E,children:G(v,{value:D,children:G(g,{value:N,children:G(m,{value:I,children:X(SJ,{menus:A,style:JK,onClickMenu:T.menu.onClick,children:[X(wh,{...T.editor,ref:x,children:[G(a,{...B,ref:k}),G(m0,{...C.tool})]}),G(tD,{ref:S,style:QK})]})})})})})})})})})}var B0={},A0={},M0={};let O0;const R0=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];M0.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},M0.getSymbolTotalCodewords=function(e){return R0[e]},M0.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},M0.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');O0=e},M0.isKanjiModeEnabled=function(){return void 0!==O0},M0.toSJIS=function(e){return O0(e)};var P0={};function F0(){this.buffer=[],this.length=0}!function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(e){return n}}}(P0),F0.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var H0=F0;function _0(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}_0.prototype.set=function(e,t,n,o){const i=e*this.size+t;this.data[i]=n,o&&(this.reservedBit[i]=!0)},_0.prototype.get=function(e,t){return this.data[e*this.size+t]},_0.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},_0.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var j0=_0,W0={};!function(e){const t=M0.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,o=t(e),i=145===o?26:2*Math.ceil((o-13)/(2*n-2)),r=[o-7];for(let e=1;e<n-1;e++)r[e]=r[e-1]-i;return r.push(6),r.reverse()},e.getPositions=function(t){const n=[],o=e.getRowColCoords(t),i=o.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([o[e],o[t]]);return n}}(W0);var z0={};const V0=M0.getSymbolSize;z0.getPositions=function(e){const t=V0(e);return[[0,0],[t-7,0],[0,t-7]]};var $0={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,o=40,i=10;function r(t,n,o){switch(t){case e.Patterns.PATTERN000:return(n+o)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return o%3==0;case e.Patterns.PATTERN011:return(n+o)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(o/3))%2==0;case e.Patterns.PATTERN101:return n*o%2+n*o%3==0;case e.Patterns.PATTERN110:return(n*o%2+n*o%3)%2==0;case e.Patterns.PATTERN111:return(n*o%3+(n+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let o=0,i=0,r=0,l=null,s=null;for(let c=0;c<n;c++){i=r=0,l=s=null;for(let a=0;a<n;a++){let n=e.get(c,a);n===l?i++:(i>=5&&(o+=t+(i-5)),l=n,i=1),n=e.get(a,c),n===s?r++:(r>=5&&(o+=t+(r-5)),s=n,r=1)}i>=5&&(o+=t+(i-5)),r>=5&&(o+=t+(r-5))}return o},e.getPenaltyN2=function(e){const t=e.size;let o=0;for(let n=0;n<t-1;n++)for(let i=0;i<t-1;i++){const t=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);4!==t&&0!==t||o++}return o*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,i=0,r=0;for(let o=0;o<t;o++){i=r=0;for(let l=0;l<t;l++)i=i<<1&2047|e.get(o,l),l>=10&&(1488===i||93===i)&&n++,r=r<<1&2047|e.get(l,o),l>=10&&(1488===r||93===r)&&n++}return n*o},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let o=0;o<n;o++)t+=e.data[o];return Math.abs(Math.ceil(100*t/n/5)-10)*i},e.applyMask=function(e,t){const n=t.size;for(let o=0;o<n;o++)for(let i=0;i<n;i++)t.isReserved(i,o)||t.xor(i,o,r(e,i,o))},e.getBestMask=function(t,n){const o=Object.keys(e.Patterns).length;let i=0,r=1/0;for(let l=0;l<o;l++){n(l),e.applyMask(l,t);const o=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(l,t),o<r&&(r=o,i=l)}return i}}($0);var Z0={};const U0=P0,q0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Y0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Z0.getBlocksCount=function(e,t){switch(t){case U0.L:return q0[4*(e-1)+0];case U0.M:return q0[4*(e-1)+1];case U0.Q:return q0[4*(e-1)+2];case U0.H:return q0[4*(e-1)+3];default:return}},Z0.getTotalCodewordsCount=function(e,t){switch(t){case U0.L:return Y0[4*(e-1)+0];case U0.M:return Y0[4*(e-1)+1];case U0.Q:return Y0[4*(e-1)+2];case U0.H:return Y0[4*(e-1)+3];default:return}};var K0={},G0={};const X0=new Uint8Array(512),J0=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)X0[t]=e,J0[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)X0[e]=X0[e-255]}(),G0.log=function(e){if(e<1)throw new Error("log("+e+")");return J0[e]},G0.exp=function(e){return X0[e]},G0.mul=function(e,t){return 0===e||0===t?0:X0[J0[e]+J0[t]]},function(e){const t=G0;e.mul=function(e,n){const o=new Uint8Array(e.length+n.length-1);for(let i=0;i<e.length;i++)for(let r=0;r<n.length;r++)o[i+r]^=t.mul(e[i],n[r]);return o},e.mod=function(e,n){let o=new Uint8Array(e);for(;o.length-n.length>=0;){const e=o[0];for(let i=0;i<n.length;i++)o[i]^=t.mul(n[i],e);let i=0;for(;i<o.length&&0===o[i];)i++;o=o.slice(i)}return o},e.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let i=0;i<n;i++)o=e.mul(o,new Uint8Array([1,t.exp(i)]));return o}}(K0);const Q0=K0;function e1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}e1.prototype.initialize=function(e){this.degree=e,this.genPoly=Q0.generateECPolynomial(this.degree)},e1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=Q0.mod(t,this.genPoly),o=this.degree-n.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(n,o),e}return n};var t1=e1,n1={},o1={},i1={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},r1={};const l1="[0-9]+";let s1="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s1=s1.replace(/u/g,"\\u");const c1="(?:(?![A-Z0-9 $%*+\\-./:]|"+s1+")(?:.|[\r\n]))+";r1.KANJI=new RegExp(s1,"g"),r1.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r1.BYTE=new RegExp(c1,"g"),r1.NUMERIC=new RegExp(l1,"g"),r1.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const a1=new RegExp("^"+s1+"$"),u1=new RegExp("^"+l1+"$"),d1=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");r1.testKanji=function(e){return a1.test(e)},r1.testNumeric=function(e){return u1.test(e)},r1.testAlphanumeric=function(e){return d1.test(e)},function(e){const t=i1,n=r1;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(e){return n}}}(o1),function(e){const t=M0,n=Z0,o=P0,i=o1,r=i1,l=t.getBCHDigit(7973);function s(e,t){return i.getCharCountIndicator(e,t)+4}function c(e,t){let n=0;return e.forEach((function(e){const o=s(e.mode,t);n+=o+e.getBitsLength()})),n}e.from=function(e,t){return r.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,o,l){if(!r.isValid(e))throw new Error("Invalid QR Code version");void 0===l&&(l=i.BYTE);const c=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,o));if(l===i.MIXED)return c;const a=c-s(l,e);switch(l){case i.NUMERIC:return Math.floor(a/10*3);case i.ALPHANUMERIC:return Math.floor(a/11*2);case i.KANJI:return Math.floor(a/13);case i.BYTE:default:return Math.floor(a/8)}},e.getBestVersionForData=function(t,n){let r;const l=o.from(n,o.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let o=1;o<=40;o++)if(c(t,o)<=e.getCapacity(o,n,i.MIXED))return o}(t,l);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,o){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,o,t))return i}(r.mode,r.getLength(),l)},e.getEncodedBits=function(e){if(!r.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-l>=0;)n^=7973<<t.getBCHDigit(n)-l;return e<<12|n}}(n1);var f1={};const h1=M0,p1=h1.getBCHDigit(1335);f1.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;h1.getBCHDigit(o)-p1>=0;)o^=1335<<h1.getBCHDigit(o)-p1;return 21522^(n<<10|o)};var v1={};const g1=o1;function m1(e){this.mode=g1.NUMERIC,this.data=e.toString()}m1.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},m1.prototype.getLength=function(){return this.data.length},m1.prototype.getBitsLength=function(){return m1.getBitsLength(this.data.length)},m1.prototype.write=function(e){let t,n,o;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),o=parseInt(n,10),e.put(o,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),o=parseInt(n,10),e.put(o,3*i+1))};var y1=m1;const b1=o1,C1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function w1(e){this.mode=b1.ALPHANUMERIC,this.data=e}w1.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},w1.prototype.getLength=function(){return this.data.length},w1.prototype.getBitsLength=function(){return w1.getBitsLength(this.data.length)},w1.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*C1.indexOf(this.data[t]);n+=C1.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(C1.indexOf(this.data[t]),6)};var x1=w1;const S1=o1;function E1(e){this.mode=S1.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}E1.getBitsLength=function(e){return 8*e},E1.prototype.getLength=function(){return this.data.length},E1.prototype.getBitsLength=function(){return E1.getBitsLength(this.data.length)},E1.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var k1=E1;const D1=o1,I1=M0;function N1(e){this.mode=D1.KANJI,this.data=e}N1.getBitsLength=function(e){return 13*e},N1.prototype.getLength=function(){return this.data.length},N1.prototype.getBitsLength=function(){return N1.getBitsLength(this.data.length)},N1.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=I1.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}};var L1=N1,T1={exports:{}};!function(e){var t={single_source_shortest_paths:function(e,n,o){var i={},r={};r[n]=0;var l,s,c,a,u,d,f,h=t.PriorityQueue.make();for(h.push(n,0);!h.empty();)for(c in s=(l=h.pop()).value,a=l.cost,u=e[s]||{})u.hasOwnProperty(c)&&(d=a+u[c],f=r[c],(void 0===r[c]||f>d)&&(r[c]=d,h.push(c,d),i[c]=s));if(void 0!==o&&void 0===r[o]){var p=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],o=t;o;)n.push(o),e[o],o=e[o];return n.reverse(),n},find_path:function(e,n,o){var i=t.single_source_shortest_paths(e,n,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(e){var n,o=t.PriorityQueue,i={};for(n in e=e||{},o)o.hasOwnProperty(n)&&(i[n]=o[n]);return i.queue=[],i.sorter=e.sorter||o.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t}(T1);var B1=T1.exports;!function(e){const t=o1,n=y1,o=x1,i=k1,r=L1,l=r1,s=M0,c=B1;function a(e){return unescape(encodeURIComponent(e)).length}function u(e,t,n){const o=[];let i;for(;null!==(i=e.exec(n));)o.push({data:i[0],index:i.index,mode:t,length:i[0].length});return o}function d(e){const n=u(l.NUMERIC,t.NUMERIC,e),o=u(l.ALPHANUMERIC,t.ALPHANUMERIC,e);let i,r;s.isKanjiModeEnabled()?(i=u(l.BYTE,t.BYTE,e),r=u(l.KANJI,t.KANJI,e)):(i=u(l.BYTE_KANJI,t.BYTE,e),r=[]);return n.concat(o,i,r).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,l){switch(l){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return o.getBitsLength(e);case t.KANJI:return r.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function h(e,l){let c;const a=t.getBestModeForData(e);if(c=t.from(l,a),c!==t.BYTE&&c.bit<a.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(c)+".\n Suggested mode is: "+t.toString(a));switch(c!==t.KANJI||s.isKanjiModeEnabled()||(c=t.BYTE),c){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new o(e);case t.KANJI:return new r(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(h(t,null)):t.data&&e.push(h(t.data,t.mode)),e}),[])},e.fromString=function(n,o){const i=function(e){const n=[];for(let o=0;o<e.length;o++){const i=e[o];switch(i.mode){case t.NUMERIC:n.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:n.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:n.push([i,{data:i.data,mode:t.BYTE,length:a(i.data)}]);break;case t.BYTE:n.push([{data:i.data,mode:t.BYTE,length:a(i.data)}])}}return n}(d(n,s.isKanjiModeEnabled())),r=function(e,n){const o={},i={start:{}};let r=["start"];for(let l=0;l<e.length;l++){const s=e[l],c=[];for(let e=0;e<s.length;e++){const a=s[e],u=""+l+e;c.push(u),o[u]={node:a,lastCount:0},i[u]={};for(let e=0;e<r.length;e++){const l=r[e];o[l]&&o[l].node.mode===a.mode?(i[l][u]=f(o[l].lastCount+a.length,a.mode)-f(o[l].lastCount,a.mode),o[l].lastCount+=a.length):(o[l]&&(o[l].lastCount=a.length),i[l][u]=f(a.length,a.mode)+4+t.getCharCountIndicator(a.mode,n))}}r=c}for(let e=0;e<r.length;e++)i[r[e]].end=0;return{map:i,table:o}}(i,o),l=c.find_path(r.map,"start","end"),u=[];for(let e=1;e<l.length-1;e++)u.push(r.table[l[e]].node);return e.fromArray(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(u))},e.rawSplit=function(t){return e.fromArray(d(t,s.isKanjiModeEnabled()))}}(v1);const A1=M0,M1=P0,O1=H0,R1=j0,P1=W0,F1=z0,H1=$0,_1=Z0,j1=t1,W1=n1,z1=f1,V1=o1,$1=v1;function Z1(e,t,n){const o=e.size,i=z1.getEncodedBits(t,n);let r,l;for(r=0;r<15;r++)l=1==(i>>r&1),r<6?e.set(r,8,l,!0):r<8?e.set(r+1,8,l,!0):e.set(o-15+r,8,l,!0),r<8?e.set(8,o-r-1,l,!0):r<9?e.set(8,15-r-1+1,l,!0):e.set(8,15-r-1,l,!0);e.set(o-8,8,1,!0)}function U1(e,t,n){const o=new O1;n.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),V1.getCharCountIndicator(t.mode,e)),t.write(o)}));const i=8*(A1.getSymbolTotalCodewords(e)-_1.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=i&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const r=(i-o.getLengthInBits())/8;for(let e=0;e<r;e++)o.put(e%2?17:236,8);return function(e,t,n){const o=A1.getSymbolTotalCodewords(t),i=_1.getTotalCodewordsCount(t,n),r=o-i,l=_1.getBlocksCount(t,n),s=o%l,c=l-s,a=Math.floor(o/l),u=Math.floor(r/l),d=u+1,f=a-u,h=new j1(f);let p=0;const v=new Array(l),g=new Array(l);let m=0;const y=new Uint8Array(e.buffer);for(let e=0;e<l;e++){const t=e<c?u:d;v[e]=y.slice(p,p+t),g[e]=h.encode(v[e]),p+=t,m=Math.max(m,t)}const b=new Uint8Array(o);let C,w,x=0;for(C=0;C<m;C++)for(w=0;w<l;w++)C<v[w].length&&(b[x++]=v[w][C]);for(C=0;C<f;C++)for(w=0;w<l;w++)b[x++]=g[w][C];return b}(o,e,t)}function q1(e,t,n,o){let i;if(Array.isArray(e))i=$1.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let o=t;if(!o){const t=$1.rawSplit(e);o=W1.getBestVersionForData(t,n)}i=$1.fromString(e,o||40)}}const r=W1.getBestVersionForData(i,n);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<r)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+r+".\n")}else t=r;const l=U1(t,n,i),s=A1.getSymbolSize(t),c=new R1(s);return function(e,t){const n=e.size,o=F1.getPositions(t);for(let t=0;t<o.length;t++){const i=o[t][0],r=o[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1||n<=i+t))for(let o=-1;o<=7;o++)r+o<=-1||n<=r+o||(t>=0&&t<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===t||6===t)||t>=2&&t<=4&&o>=2&&o<=4?e.set(i+t,r+o,!0,!0):e.set(i+t,r+o,!1,!0))}}(c,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(c),function(e,t){const n=P1.getPositions(t);for(let t=0;t<n.length;t++){const o=n[t][0],i=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(o+t,i+n,!0,!0):e.set(o+t,i+n,!1,!0)}}(c,t),Z1(c,n,0),t>=7&&function(e,t){const n=e.size,o=W1.getEncodedBits(t);let i,r,l;for(let t=0;t<18;t++)i=Math.floor(t/3),r=t%3+n-8-3,l=1==(o>>t&1),e.set(i,r,l,!0),e.set(r,i,l,!0)}(c,t),function(e,t){const n=e.size;let o=-1,i=n-1,r=7,l=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,s-n)){let o=!1;l<t.length&&(o=1==(t[l]>>>r&1)),e.set(i,s-n,o),r--,-1===r&&(l++,r=7)}if(i+=o,i<0||n<=i){i-=o,o=-o;break}}}(c,l),isNaN(o)&&(o=H1.getBestMask(c,Z1.bind(null,c,n))),H1.applyMask(o,c),Z1(c,n,o),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:o,segments:i}}A0.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,o,i=M1.M;return void 0!==t&&(i=M1.from(t.errorCorrectionLevel,M1.M),n=W1.from(t.version),o=H1.from(t.maskPattern),t.toSJISFunc&&A1.setToSJISFunction(t.toSJISFunc)),q1(e,n,i,o)};var Y1={},K1={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,o=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:o,scale:o?4:i,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const o=e.getScale(t,n);return Math.floor((t+2*n.margin)*o)},e.qrToImageData=function(t,n,o){const i=n.modules.size,r=n.modules.data,l=e.getScale(i,o),s=Math.floor((i+2*o.margin)*l),c=o.margin*l,a=[o.color.light,o.color.dark];for(let e=0;e<s;e++)for(let n=0;n<s;n++){let u=4*(e*s+n),d=o.color.light;if(e>=c&&n>=c&&e<s-c&&n<s-c){d=a[r[Math.floor((e-c)/l)*i+Math.floor((n-c)/l)]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}}(K1),function(e){const t=K1;e.render=function(e,n,o){let i=o,r=n;void 0!==i||n&&n.getContext||(i=n,n=void 0),n||(r=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);const l=t.getImageWidth(e.modules.size,i),s=r.getContext("2d"),c=s.createImageData(l,l);return t.qrToImageData(c.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,r,l),s.putImageData(c,0,0),r},e.renderToDataURL=function(t,n,o){let i=o;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const r=e.render(t,n,i),l=i.type||"image/png",s=i.rendererOpts||{};return r.toDataURL(l,s.quality)}}(Y1);var G1={};const X1=K1;function J1(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function Q1(e,t,n){let o=e+t;return void 0!==n&&(o+=" "+n),o}G1.render=function(e,t,n){const o=X1.getOptions(t),i=e.modules.size,r=e.modules.data,l=i+2*o.margin,s=o.color.light.a?"<path "+J1(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",c="<path "+J1(o.color.dark,"stroke")+' d="'+function(e,t,n){let o="",i=0,r=!1,l=0;for(let s=0;s<e.length;s++){const c=Math.floor(s%t),a=Math.floor(s/t);c||r||(r=!0),e[s]?(l++,s>0&&c>0&&e[s-1]||(o+=r?Q1("M",c+n,.5+a+n):Q1("m",i,0),i=0,r=!1),c+1<t&&e[s+1]||(o+=Q1("h",l),l=0)):i++}return o}(r,i,o.margin)+'"/>',a='viewBox="0 0 '+l+" "+l+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+a+' shape-rendering="crispEdges">'+s+c+"</svg>\n";return"function"==typeof n&&n(null,u),u};const e2=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},t2=A0,n2=Y1,o2=G1;function i2(e,t,n,o,i){const r=[].slice.call(arguments,1),l=r.length,s="function"==typeof r[l-1];if(!s&&!e2())throw new Error("Callback required as last argument");if(!s){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=o=void 0):2!==l||t.getContext||(o=n,n=t,t=void 0),new Promise((function(i,r){try{const r=t2.create(n,o);i(e(r,t,o))}catch(e){r(e)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(i=n,n=t,t=o=void 0):3===l&&(t.getContext&&void 0===i?(i=o,o=void 0):(i=o,o=n,n=t,t=void 0));try{const r=t2.create(n,o);i(null,e(r,t,o))}catch(e){i(e)}}function r2(e){var n,o,i,r,l,s;const{FontSizeReader:c}=t,[a,u]=qd((()=>function(e){var n;const{genID:o,createWebDavModes:i}=t,r=i(),l={id:null!==(n=e.id)&&void 0!==n?n:o(!0),roots:[],modes:r,mode:r[0]};return e.item&&Object.assign(l,JSON.parse(e.item)),l}(e))),d={};if(rh){const e=XH();e>0&&(d.marginBottom=e)}!function(e,t,n){const o=_d(t);F((()=>{(async()=>{var e,t,i,r;const l=await vF(),s=null===(t=null===(e=l.data)||void 0===e?void 0:e.file)||void 0===t?void 0:t.tree,c=null===(r=null===(i=l.data)||void 0===i?void 0:i.file)||void 0===r?void 0:r.cloud,a=o.current.selected,u=null==s?void 0:s.find((e=>!(null==c?void 0:c[e.id])));if(s&&n(lQ({roots:s})),u&&!a&&n(lQ({selected:u})),a){const e=!!(null==s?void 0:s.find((e=>e.id!==a.id)));n(lQ({incloud:e}))}else n(lQ({incloud:!1}))})()}),[o,n])}(0,a,u);const f=c0(e,a,u);return X("div",{style:KG,children:[X("div",{style:JG,children:[X("div",{style:nX,children:[G("div",{style:uX,children:""}),X("div",{style:dX,children:[G("input",{style:fX,value:a.service,onInput:f.onInputService}),!a.bind&&G(wh,{style:hX,onClick:f.onClickScan,children:G(eP,{fill:jf,width:14})})]}),a.validated&&!(null===(n=a.service)||void 0===n?void 0:n.trim())?G("div",{style:mX,children:""}):a.validated&&!zM(null===(o=a.service)||void 0===o?void 0:o.trim())?G("div",{style:mX,children:""}):null]}),X("div",{style:nX,children:[G("div",{style:uX,children:""}),X("div",{style:dX,children:[G("input",{style:fX,type:a.usernameInvisible?"password":"text",value:a.username,onInput:f.onInputUsername}),G(wh,{style:hX,onClick:f.onClickUsernameVisible,children:a.usernameInvisible?G(zO,{fill:jf,width:14}):G(WO,{fill:jf,width:15})})]}),a.validated&&!(null===(i=a.username)||void 0===i?void 0:i.trim())?G("div",{style:mX,children:""}):null]}),X("div",{style:nX,children:[G("div",{style:uX,children:""}),X("div",{style:dX,children:[G("input",{style:fX,type:a.passwordInvisible?"password":"text",value:a.password,onInput:f.onInputPassword}),G(wh,{style:hX,onClick:f.onClickPasswordVisible,children:a.passwordInvisible?G(zO,{fill:jf,width:14}):G(WO,{fill:jf,width:15})})]}),a.validated&&!(null===(r=a.password)||void 0===r?void 0:r.trim())?G("div",{style:mX,children:""}):null]}),X("div",{style:nX,children:[G("div",{style:uX,children:""}),X("div",{style:dX,children:[G(wh,{style:{...fX,marginTop:1},onClick:f.onClickSelects,children:G(c,{width:TJ(),node:null===(l=a.selected)||void 0===l?void 0:l.title})}),!a.bind&&X("div",{style:pX,children:[a.incloud&&a.selected&&G("span",{style:vX,children:G(SO,{width:14,fill:jf})}),G("span",{style:gX,children:G(nO,{width:6.3,fill:jf})})]})]})]}),X("div",{style:nX,children:[G("div",{style:uX,children:""}),X("div",{style:dX,children:[G(wh,{style:{...fX,marginTop:1},onClick:f.onClickModes,children:null===(s=a.mode)||void 0===s?void 0:s.text}),G("div",{style:gX,children:G(nO,{width:6.3,fill:jf})})]})]})]}),G("div",{style:{...eX,...d},children:G(Iv,{style:tX,onClick:f.onClickSync,children:""})})]})}function l2(e){var n;const{FontSizeReader:o,useWorker:i,useAdvisor:r}=t,[l,s]=qd((()=>function(e){const{initState:n,initWebDavState:o}=t,i=n(e);if(i.webdav=o(i.file,!0),e.item){const t=JSON.parse(e.item);i.webdav.list.some((e=>{var n,o;return(null===(n=e.selected)||void 0===n?void 0:n.id)===(null===(o=t.selected)||void 0===o?void 0:o.id)}))||i.webdav.list.unshift(t)}return i}(e)));let c=0;rh&&(c=XH());const a=i(e,l,s),u=r(e,l,s,a);!function(e,n,o,i,r){const l=_d(e),s=s0(e);H((()=>{const{syncFileState:e,injectFile:n,clearStoreCURD:c,resetChangelog:a,injectChangelog:u,resetWebDav:d}=t;!async function(){const t=l.current,f=await vF(),{data:h}=f;if(!(null==h?void 0:h.file))return;const p=[e(h.file,!0),c()];t.item||p.push(d(!0)),o(...p),await n(t,h.file,i,o);const v=await gF();v.data?o(a(v.data)):await u(t,h,o,i),t.item&&await s(t.item,o,i,r)}()}),[o,l,r,i,s]),F((()=>{const e=e=>{e.type,OJ.WORKSPACE_REPRESH_WEBDAV};return n_("message",e),()=>{o_("message",e)}}),[]);const c=W((()=>{const{clearStoreRecord:e,clearStoreCURD:n,setStorePending:r,clearAuthDelete:l,recordStore:s,recordChangelog:c,recycleMemory:a}=t;return nc((async t=>{if(void 0===t.store)return;const{store:{record:u,crud:d,auth:f,editor:h={}}}=t;if(Pc(u)&&Pc(d))return;o(r(!0)),((null==u?void 0:u.bootstrap)||(null==u?void 0:u.changelog))&&o(e()),Pc(d)||o(n()),Pc(null==f?void 0:f.delete)||o(l()),(null==u?void 0:u.changelog)&&await c(t),Pc(d)||await s(t,i),Object.keys(h).length>10&&o(a()),o(r(!1));const p=BJ(KB.workspace);i_({type:OJ.WEBDAV_REFRESH_WORKSPACE,payload:d},p)}),300)}),[o,i]);F((()=>{const{store:e,editor:t,bootstrap:o}=n,{status:i}=t;if(void 0===e||"pending"===i||(null==o?void 0:o.misplace))return;const{record:r,crud:l,pending:s}=e;s||(r||l)&&c(n)}))}(e,l,s,a,u),function(e,n,o,i,r){const{useWebDavUpdates:l}=t;l(e,n,o,i,r,s0(e))}(e,l,s,a,u);const d=function(e,n,o,i,r){const l=_d(e),s=_d(n),{useWebDavTimer:c,useWebDavDelete:a,calcOptionsSize:u,increaseWebDavSyncTransitionCount:d}=t,f=s0(e),h=c(e),p=a(),v=(t,n,o)=>{t.stopPropagation();const i=NJ(e),r=XH(),l=u(i);JH("push",{route:KB.webdav,effect:{slide:"bottom",modal:!0,gesture:!0,blur:!0},style:{height:l+41-12+r,borderRadius:{topLeft:16,topRight:16}},payload:{item:JSON.stringify(n),type:"operation"}})};return F((()=>{const{increaseWebDavItem:e,assignFileCloud:n,syncWebDavStatus:c,decreaseWebDavItem:a,removeFileCloud:u,removeFileBranchProps:d,WebDavStatusIcon:v}=t,g=async t=>{var l,g,m,y,b,C,w,x,S;const E=s.current;if(t.type===OJ.WEBDAV_SUBMIT_FROM){const n=JSON.parse(t.payload);o(e(n)),setTimeout((async()=>{await f(t.payload,o,i,r)}))}else if(t.type===OJ.WEBDAV_SYNC_NOTE)await f(t.payload,o,i,r);else if(t.type===OJ.WEBDAV_UPDATE_FORM){const i=BJ(KB.workspace),r=JSON.parse(t.payload),s=null===(l=E.webdav)||void 0===l?void 0:l.list.find((e=>{var t,n;return(null===(t=e.selected)||void 0===t?void 0:t.id)===(null===(n=null==r?void 0:r.selected)||void 0===n?void 0:n.id)}));if(!(null==s?void 0:s.bind))return;const c={};void 0!==r.mode&&(c.mode=r.mode),void 0!==r.service&&(c.service=r.service),void 0!==r.username&&(c.username=r.username),void 0!==r.password&&(c.password=r.password),void 0!==r.usernameInvisible&&(c.usernameInvisible=r.usernameInvisible),void 0!==r.passwordInvisible&&(c.passwordInvisible=r.passwordInvisible);const a=null===(g=s.selected)||void 0===g?void 0:g.id,u=[e(r)];a&&u.push(n(a,r.id,c)),o(...u),i_({type:OJ.WEBDAV_SYNC_CLOUD,payload:{item:t.payload,syncing:!1}},i)}else if(t.type===OJ.WEBDAV_CHANGE_MODE){const e=JSON.parse(t.payload),{selected:n,id:l,bind:s}=e,c=null==n?void 0:n.id;if(c){const e=null===(b=null===(y=null===(m=r.stater.get().file)||void 0===m?void 0:m.cloud)||void 0===y?void 0:y[c])||void 0===b?void 0:b.find((e=>e.id===l));(null==e?void 0:e.timer)&&clearTimeout(e.timer),s&&requestAnimationFrame((()=>{h(c,o,i,r)}))}}else if(t.type===OJ.MORE_SYNC_NOTE){const{pageId:e}=t.payload,n=null===(C=E.webdav)||void 0===C?void 0:C.list.find((t=>{var n;return(null===(n=t.selected)||void 0===n?void 0:n.id)===e}));n&&await f(n,o,i,r)}else if(t.type===OJ.WORKSPACE_DETECT_WEBDAV||t.type===OJ.EDITOR_DETECT_WEBDAV)c(E,o,i,r,f);else if(t.type===OJ.WEBDAV_DELETE_ITEM||t.type===OJ.WORKSPACE_DELETE_ITEM||t.type===OJ.WORKSPACE_DELETE_WEBDAV){const e=JSON.parse(t.payload),{selected:n,id:l}=e,s=null==n?void 0:n.id;if(!s)return;const c=null===(S=null===(x=null===(w=r.stater.get().file)||void 0===w?void 0:w.cloud)||void 0===x?void 0:x[s])||void 0===S?void 0:S.find((e=>e.id===l));(null==c?void 0:c.timer)&&clearTimeout(c.timer),o(a(e,!0),u(n.id,l),d(n,{icon:v,syncing:!1,update:0})),t.type===OJ.WORKSPACE_DELETE_WEBDAV&&await p(e,o,i,r)}else t.type,OJ.WEBDAV_SYNC_FULLY},m=t=>{if(t){const t=l.current.item;if("string"==typeof t){const n=JSON.parse(t);o(e(n)),f(n,o,i,r)}}};return n_("message",g),n_("visibilityChange",m),()=>{o_("message",g),o_("visibilityChange",m)}}),[l,s,f,p,h,o,i,r]),{onClickItem:(e,t,n)=>{const o=e_();JH("push",{route:KB.webdav,effect:{slide:"right"},title:{text:"WebDAV",menus:["help"]},style:{backgroundColor:lG},payload:{type:"form",return:!0,uid:o,item:JSON.stringify(t)}})},onClickSync:(e,t,n)=>{e.stopPropagation()},onContextMenu:(e,t,n)=>{e.preventDefault(),NQ(),v(e,t)},onClickOperation:v,onClickNew:()=>{JH("push",{route:KB.webdav,effect:{slide:"right"},title:{text:"WebDAV",menus:["help"]},style:{backgroundColor:lG},payload:{type:"form",return:!0}})},onTransitionEnd:(e,t)=>{t.syncing&&o(d(t))}}}(e,l,s,a,u);return X("div",{style:GG,children:[G("div",{style:{...XG,paddingBottom:hG+c},className:"no-scrollbar",children:null===(n=l.webdav)||void 0===n?void 0:n.list.map(((e,t)=>{var n,i,r,l;let s=Hf;return 1===e.status||-1===e.status&&(s="red"),X(wh,{style:QG,onContextMenu:n=>d.onContextMenu(n,e,t),onClick:n=>d.onClickItem(n,e,t),children:[X("div",{style:EX,children:[X("div",{style:DX,children:[G(wh,{style:NX,onClick:n=>d.onClickSync(n,e,t),children:G("span",{onTransitionEnd:t=>d.onTransitionEnd(t,e),style:{...IX,transform:`rotate(${360*(null!==(n=e.syncTransitionCount)&&void 0!==n?n:0)}deg)`},children:G(EO,{width:14,fill:Hf})})}),G("div",{style:{position:"relative",bottom:1},children:G(o,{width:LJ(),node:null===(i=e.selected)||void 0===i?void 0:i.title})})]}),G(wh,{style:LX,onClick:n=>d.onClickOperation(n,e,t),children:G(nO,{width:6.6,fill:_f})})]}),G("div",{style:{...kX,color:s},children:e.statusMessage}),X("div",{style:oX,children:[G("div",{style:sX,children:""}),G("div",{style:cX,children:e.service})]}),X("div",{style:iX,children:[X("div",{style:rX,children:[G("div",{style:sX,children:""}),G("div",{style:cX,children:e.usernameInvisible?G("div",{style:aX,children:"********"}):e.username})]}),X("div",{style:lX,children:[G("div",{style:sX,children:""}),G("div",{style:cX,children:null===(r=e.mode)||void 0===r?void 0:r.text})]})]})]},null!==(l=e.id)&&void 0!==l?l:t)}))}),G("div",{style:{...eX,marginBottom:c},children:G(Iv,{style:tX,onClick:d.onClickNew,children:" WebDAV"})})]})}function s2(e){var n;const{FontSizeReader:o}=t,i=NJ(e),r=function(e){const{keys:n,i18n:o,genID:i,transformNodeToText:r}=t;return{onClickMenu:t=>{var l;if(t.value===DJ.removeNote){const t=null===(l=JSON.parse(e.item).selected)||void 0===l?void 0:l.title;s_({title:" WebDAV ",subtitle:"",message:t?r(t):"",width:320,cancel:{value:"",fontColor:Bf},confirm:{value:"",fontColor:"red",action:()=>{JH("pop"),i_({type:OJ.WEBDAV_DELETE_ITEM,payload:e.item})}}})}else if(t.value===DJ.copyNote){JH("pop");const t=JSON.parse(e.item);t.bind=!1,t.selected=void 0,t.id=i(),JH("push",{route:KB.webdav,effect:{slide:"right"},title:{text:"WebDAV",menus:["help"]},style:{backgroundColor:lG},payload:{type:"form",return:!0,item:JSON.stringify(t)}})}else if(t.value===DJ.editNote)JH("pop"),JH("push",{route:KB.webdav,effect:{slide:"right"},title:{text:"",menus:["help"]},style:{backgroundColor:lG},payload:{type:"form",return:!0,item:e.item}});else if(t.value===DJ.generateQRCode)JH("pop"),JH("push",{route:KB.webdav,effect:{slide:"bottom",modal:!0,gesture:!0,blur:!0},style:{height:350,borderRadius:{topLeft:16,topRight:16}},payload:{item:e.item,type:"qrcode"}});else if(t.value===n.syncNote)JH("pop"),i_({type:OJ.WEBDAV_SYNC_NOTE,payload:e.item});else if(t.value===n.syncFully){const t=o[e.lang][n.syncFully];s_({title:t,message:o[e.lang][n.syncFullyMessage],width:320,cancel:{value:"",fontColor:Hf},confirm:{value:t,fontColor:Bf,action:()=>{JH("pop"),i_({type:OJ.WEBDAV_SYNC_FULLY,payload:e.item})}}})}}}}(e),l={backgroundColor:cG},s=document.documentElement.clientWidth-24,c=JSON.parse(e.item);return X("div",{style:TX,children:[G("div",{style:SX,children:G(o,{fontSize:16,width:s,node:null===(n=null==c?void 0:c.selected)||void 0===n?void 0:n.title})}),G(Tg,{style:l,contentStyle:{position:"relative",top:.3},options:i,onClick:r.onClickMenu})]})}function c2(e){const{WebDavQRCode:n}=t,[o,i]=$("");return F((()=>{const{exportWebDavQRCode:n,QRCODE_SECRET_KEY:o}=t,r=n(JSON.parse(e.item)),l=l0.encrypt(o,JSON.stringify(r));B0.toString(l,{type:"svg",width:200}).then(i)}),[e.item]),G("div",{style:BX,children:G(n,{qrcode:o})})}function a2(e){const{createWebDavModes:n}=t,o=function(e){return{onClickMenu:t=>{i_({type:OJ.WEBDAV_SELECT_MODE,payload:t.value},e.uid),JH("pop")}}}(e),i=[n().map((t=>{const n={name:t.text,value:t.value};return e.mode===t.value&&(n.rightIconType="check"),n}))];if(!(null==i?void 0:i.length))return null;const r={backgroundColor:cG};return X("div",{style:yX,children:[e.title&&G("div",{style:bX,children:e.title}),G(Tg,{style:r,options:i,onClick:o.onClickMenu})]})}function u2(e){const[n,o]=qd((()=>function(e){return{loading:!1,item:JSON.parse(e.item),options:[]}}(e))),i=function(e,n){const{keys:o,i18n:i}=t;return{onClickMenu:t=>{var r,l;if(t.disable){const s=t.value;(null===(l=null===(r=n.cloud)||void 0===r?void 0:r[s.id])||void 0===l?void 0:l.length)&&s_({title:i[e.lang][o.syncAlready],message:i[e.lang][o.syncAlreadyMessage],confirm:{value:"",fontColor:Bf}})}else i_({type:OJ.WEBDAV_SELECT_NOTE,payload:t.value},e.uid),JH("pop")}}}(e,n);!function(e,n,o){const i=_d(e);F((()=>{const{getWebDavBootstrap:e}=t,n=JSON.parse(i.current.item);(async()=>{var t;const i=await vF();if(!i.data)return;const r=null===(t=i.data.file)||void 0===t?void 0:t.cloud;o(cQ({cloud:r})),o(aQ(i.data));const{service:l,username:s,password:c}=n;if(!(null==l?void 0:l.trim())||!(null==s?void 0:s.trim())||!(null==c?void 0:c.trim()))return;o(cQ({loading:!0}));const a=new OM(l,{username:s,password:c}),u=await e(a);o(cQ({loading:!1})),u&&!Cc(u)&&o(aQ(u,!0))})()}),[i,o])}(e,0,o);const r={...CX};e.height&&(r.height=e.height);const l={backgroundColor:cG};return X(QQ,{route:KB.webdav,className:"no-scrollbar",style:r,children:[e.title&&X("div",{style:wX,children:[e.title,n.loading&&G("div",{style:xX,children:G(jO,{width:15,fill:jf})})]}),G(Tg,{style:l,adaptive:!1,options:n.options,onClick:i.onClickMenu})]})}B0.create=t2.create,B0.toCanvas=i2.bind(null,n2.render),B0.toDataURL=i2.bind(null,n2.renderToDataURL),B0.toString=i2.bind(null,(function(e,t,n){return o2.render(e,n)}));var d2=Object.freeze({__proto__:null,About:function(e){const{fetchPricing:n,fetchPlan:o,fetchFeedback:i,fetchChangelog:r,fetchUserAgreement:l,fetchPrivacyPolicy:s}=t,c={fill:Hf,width:13.5,style:{position:"relative",top:-.5}},a={fill:Hf,width:13.5,style:{position:"relative",top:-.5,left:1}},u=[[{name:kJ[e.lang][EJ.home],value:EJ.home,icon:G(FO,{...c}),rightIconType:"arrow"},{name:kJ[e.lang][EJ.pricing],value:EJ.pricing,icon:G(_O,{...c}),rightIconType:"arrow"}],[{name:kJ[e.lang][EJ.plan],value:EJ.plan,icon:G(TO,{...c,width:14.5}),rightIconType:"arrow"},{name:kJ[e.lang][EJ.feedback],value:EJ.feedback,icon:G(LO,{...c,width:13.5}),rightIconType:"arrow"},{name:kJ[e.lang][EJ.changelog],value:EJ.changelog,icon:G(NO,{...c,width:12.5}),rightIconType:"arrow"}],[{name:kJ[e.lang][EJ.userAgreement],value:EJ.userAgreement,icon:G(GR,{...a}),rightIconType:"arrow"},{name:kJ[e.lang][EJ.privacyPolicy],value:EJ.privacyPolicy,icon:G(XR,{...a,width:14}),rightIconType:"arrow"}]],d=window.localStorage.getItem("version");return X(SJ,{style:RG,children:[X("div",{style:PG,children:[X("div",{style:FG,children:[G("div",{style:HG,children:G($M,{width:44})}),X("div",{style:_G,children:["V",d," "]})]}),G(Tg,{options:u,onClick:async e=>{var t,c,a,u,d,f,h,p,v,g,m,y;if(e.value===EJ.home)JH("push",{route:KB.official,effect:{slide:"right"},title:{text:e.name,menus:["more"]},style:{backgroundColor:sG}});else if(e.value===EJ.pricing){const o=await n(),i=null===(c=null===(t=null==o?void 0:o.bootstrap)||void 0===t?void 0:t.file)||void 0===c?void 0:c.currentPageId;if(!i)return;JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(o),page:{id:i},branch:{type:"page",id:i},pageId:i},title:{text:e.name},style:{backgroundColor:sG}})}else if(e.value===EJ.plan){const t=await o(),n=null===(u=null===(a=null==t?void 0:t.bootstrap)||void 0===a?void 0:a.file)||void 0===u?void 0:u.currentPageId;if(!n)return;JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(t),page:{id:n},branch:{type:"page",id:n},pageId:n},title:{text:e.name},style:{backgroundColor:sG}})}else if(e.value===EJ.feedback){const t=await i(),n=null===(f=null===(d=null==t?void 0:t.bootstrap)||void 0===d?void 0:d.file)||void 0===f?void 0:f.currentPageId;if(!n)return;JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(t),page:{id:n},branch:{type:"page",id:n},pageId:n},title:{text:e.name},style:{backgroundColor:sG}})}else if(e.value===EJ.changelog){const t=await r(),n=null===(p=null===(h=null==t?void 0:t.bootstrap)||void 0===h?void 0:h.file)||void 0===p?void 0:p.currentPageId;if(!n)return;const o=document.documentElement.clientHeight;JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(t),page:{id:n},branch:{type:"page",id:n},pageId:n,threshold:2*o},title:{text:e.name},style:{backgroundColor:sG}})}else if(e.value===EJ.update)r_("store://appgallery.huawei.com/app/detail?id=com.codeartel.slinote");else if(e.value===EJ.userAgreement){const t=await l(),n=null===(g=null===(v=null==t?void 0:t.bootstrap)||void 0===v?void 0:v.file)||void 0===g?void 0:g.currentPageId;if(!n)return;JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(t),page:{id:n},branch:{type:"page",id:n},pageId:n},title:{text:e.name},style:{backgroundColor:sG}})}else if(e.value===EJ.privacyPolicy){const t=await s(),n=null===(y=null===(m=null==t?void 0:t.bootstrap)||void 0===m?void 0:m.file)||void 0===y?void 0:y.currentPageId;if(!n)return;JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(t),page:{id:n},branch:{type:"page",id:n},pageId:n},title:{text:e.name},style:{backgroundColor:sG}})}}})]}),G("div",{style:jG,children:G(wh,{onClick:()=>{r_("https://beian.miit.gov.cn")},children:"ICP2024056012-2A"})})]})},AddTools:b0,Cloud:function(e){return G(SJ,{children:X("div",{style:WG,children:[X("div",{style:zG,children:[G("div",{style:{marginBottom:10},children:""}),G("div",{children:" WebDAV "})]}),G(Iv,{style:VG,onClick:()=>{JH("replace",{route:KB.webdav,effect:{slide:"right"},title:{text:"WebDAV",menus:["help"]},style:{backgroundColor:lG},payload:{type:"form"}})},children:" WebDAV "})]})})},ColorTools:x0,Editor:T0,Float:function(e){const[n,o]=qd((()=>({}))),i=Z(null);!function(e,n,o){H((()=>{const{mapFloatBranchToFloatState:i}=t;(async()=>{const t=await kF(e.pageId);if(1===t.ok&&t.data){const r=o.current.getBoundingClientRect(),l={...t.data,float:{width:r.width,height:r.height}},s=i(l,e.pageId,0,!0);n(QJ(s),eQ(e.pageId))}})()}),[e.pageId,n,o])}(e,o,i);const r=function(e){return _(((n,o)=>{var i;const{FontSizeReader:r}=t,{title:l}=n;if(!f0(l))return l;const s=null!==(i=n.level)&&void 0!==i?i:0;let c=e.current.clientWidth-14*s-30;return"root"===n.type&&(c-=20),G(r,{node:l,width:c})}),[e])}(i),l={};if(rh){const e=XH();e>0&&(l.marginBottom=e)}return G(SJ,{back:!1,style:PX,children:G("div",{style:{...FX,...l},ref:i,children:n.value&&G(RB,{showDot:!0,showMore:!1,showScrollBar:!1,style:HX,activeStyle:{backgroundColor:Bf,color:"#fff"},value:n.value,render:r,onChange:e=>{o(QJ(e))},onClickArrow:e=>{o(((e,t)=>n=>n.value?(n.value=XJ(e,t)(n.value),n.value.isEditPending=!0,n):n)(e))},onClickBranch:e=>{o(eQ(e));const t=BJ(KB.editor);t&&i_({type:OJ.FLOAT_ANCHOR_BRANCH,payload:AQ(e)},t)}})})})},FontFamilyTools:E0,FontSizeTools:S0,Header:p0,Help:function(e){const{Reader:n}=t,[o,i]=qd((()=>KQ())),r={imperator:{file:Z(null)}};!function(e,n,o){const i=_d(e);H((()=>{const{fetchHelper:e}=t;e(!0).then((e=>{e&&o(oQ(e))}))}),[o]),F((()=>{const e=Nu(window,"resize").pipe(zu(0,Xa)).subscribe((()=>{const{client:e}=KQ(i.current);o(nQ(e.width,e.height))}));return()=>e.unsubscribe()}),[o,i])}(e,0,i);const{onClickBranch:l,onClickSearchBranch:s}=function(e,n,o,i){const{quote:r,transformNodeToText:l,getPageableBranch:s,collectStoreNote:c,getBranchByID:a}=t;return F((()=>{const e=e=>{var t,n,o,r,l;if(e.route===KB.help){const e=null===(t=i.imperator.file.current)||void 0===t?void 0:t.search;if(null===(o=null===(n=null==e?void 0:e.current)||void 0===n?void 0:n.getSearchText)||void 0===o?void 0:o.call(n))return NQ("haptic.effect.soft"),void(null===(l=null===(r=null==e?void 0:e.current)||void 0===r?void 0:r.clear)||void 0===l||l.call(r))}JH("pop")};return n_("backPress",e),()=>{o_("backPress",e)}}),[i.imperator.file]),{onClickBranch:async(e,t,n)=>{var o,i,a,u;const d=null===(o=null==n?void 0:n.file)||void 0===o?void 0:o.tree;if(!(null==d?void 0:d.length))return;const f=s(d,e),h=l(null!==(i=null==f?void 0:f.title)&&void 0!==i?i:null),p=await c(f.id,null==n?void 0:n.store);if(""===h){const e=null===(a=p.editor)||void 0===a?void 0:a[f.id];if(e){const t=e.data.children[1];n0(t)&&(null===(u=t.props)||void 0===u?void 0:u.type)===r.name&&e.data.children.splice(1,1)}}JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(p),page:AQ(f),branch:AQ(e),pageId:t},title:{text:h,menus:[]}})},onClickSearchBranch:async(e,t,n)=>{var o,i;const r=null===(o=null==n?void 0:n.file)||void 0===o?void 0:o.tree;if(!(null==r?void 0:r.length))return;const s=a(r,t);if(!s)return;const u=l(null!==(i=null==s?void 0:s.title)&&void 0!==i?i:null),d=await c(t,null==n?void 0:n.store);JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:JSON.stringify(d),page:AQ(s),branch:AQ(e),pageId:t,search:!0},title:{text:u,menus:[]}})}}}(0,0,0,r);return G(SJ,{style:UG,children:o.note&&G(n,{showFile:!0,showEditor:!1,client:o.client,note:o.note,lang:e.lang,fileRef:r.imperator.file,leafStyle:{paddingLeft:36},onClickBranch:l,onClickSearchBranch:s})})},INPUT_BACKGROUND_COLOR:pG,ImageTools:C0,InnerTools:y0,LetterSpacingTools:k0,LineHeightTools:D0,ListTools:w0,MODAL_MARGIN:dG,get MessageType(){return OJ},More:function(e){const n=Z({}),o=Z(null),i={prevent:Z(!1)},[r,l]=qd((()=>function(e){var n,o,i;const{genetateMobileOptions:r,createEditorState:l,FOCUS_FIELD:s}=t,{transformNodeToEditNode:c}=hk;let a=r(e,e.branch,e.editor,e.editable,e.expandable,e.collapseable);if(e.value){const t=Oi(a);for(;t.length;){const i=t.shift();if(!i)break;if(i.value===e.value){a=[null!==(n=i.children)&&void 0!==n?n:[]];break}(null===(o=i.children)||void 0===o?void 0:o.length)&&t.push(...i.children)}}const u=e.branch.title,d=l({selection:void 0,selectionDecorate:void 0,node:u&&c(u,"")}),f={...e,editor:d,virtual:!1,editable:!1,focus:{type:s.EDITOR}},h=document.documentElement.clientWidth,p=document.documentElement.clientHeight;return{client:{width:h,height:null!==(i=e.height)&&void 0!==i?i:p},title:u,options:a,editorContext:f}}(e)));!function(e,t){F((()=>{const n=()=>{var n;(null===(n=t.prevent)||void 0===n?void 0:n.current)||i_({type:OJ.MORE_BEFORE_DESTROY},e.uid)};return n_("beforeDestroy",n),()=>{o_("beforeDestroy",n)}}),[e.uid,t.prevent])}(e,i);const{EditorContext:s,keys:c,RootPortal:a,RootProps:u,RootTraversal:d,calcOptionsSize:f,transformNodeToText:h}=t;let p=G(dO,{width:13});"outline"===e.branch.type&&(p=null);const v=document.documentElement.clientWidth-24,{profile:g,name:m}=e,{editorContext:y,title:b,options:C}=r,w={...eG,...r.client},x={backgroundColor:cG},S=e.scroller?QQ:"div";return G(u,{value:e,children:G(a,{value:o,children:G(d,{value:n,children:G(s,{value:y,children:X(S,{route:KB.more,className:"no-scrollbar",style:w,children:[G(p0,{icon:p,title:b,width:v,name:m}),g?G(JQ,{...e}):G(Tg,{style:x,options:C,onClick:async t=>{var n,o,r,l;if(null===(n=t.children)||void 0===n?void 0:n.length){const n=[t.children];let o=f(n)+30-12+40+XH(),r=!0;const l=document.documentElement.clientHeight;return o+rG>l&&(o=l-rG,r=!1),i.prevent.current=!0,JH("pop"),void JH("push",{route:KB.more,effect:{slide:"bottom",modal:!0,gesture:r,blur:!0},style:{height:o,borderRadius:{topLeft:16,topRight:16}},payload:{...e,height:o,scroller:!r,value:t.value,name:t.name}})}if(t.value===c.profile){const n=210;return i.prevent.current=!0,JH("pop"),void JH("push",{route:KB.more,effect:{slide:"bottom",modal:!0,gesture:!0,blur:!0},style:{height:n,borderRadius:{topLeft:16,topRight:16}},payload:{...e,height:n,scroller:!1,profile:!0,name:t.name}})}if(t.value===c.move){let n=window.screen.height;const o=function(){if("undefined"!=typeof WebPro)return WebPro.getWindowProperties()}();if(o&&(n=o.windowRect.height/window.devicePixelRatio),n>2*window.screen.height/3){n-=XH()+15+48+38}else n-=rG;return i.prevent.current=!0,JH("pop"),void JH("push",{route:KB.moving,effect:{slide:"bottom",modal:!0,blur:!0},payload:{pageId:e.pageId,branch:e.branch,name:t.name,uid:e.uid},style:{height:n,borderRadius:{topLeft:16,topRight:16}}})}if(t.value===c.syncNote)return i_({type:OJ.MORE_SYNC_NOTE,payload:{pageId:e.pageId}}),void JH("pop");if(t.value===c.rename){const t=BJ(KB.workspace);if(!t)return;return i_({type:OJ.MORE_RENAME_BRANCH,payload:{branch:e.branch,pageId:e.pageId}},t),void JH("pop")}if(t.value===c.float){const t=e.branch.title,n=t?h(t):"",o=document.documentElement.clientWidth;return JH("pop"),void JH("push",{route:KB.float,effect:{slide:"right",modal:!0,gesture:!0,blur:!0},title:{text:n,back:!1},style:{width:Math.min(400,3*o/4)},payload:{pageId:e.branch.id}})}if(t.value===c.search){const t=e.branch.title,n=t?h(t):"",o=document.documentElement.clientWidth;return JH("pop"),void JH("push",{route:KB.search,effect:{slide:"right",modal:!0,gesture:!0,blur:!0},title:{text:n,back:!1},style:{width:Math.min(400,3*o/4)},payload:{pageId:e.branch.id}})}if(t.value===c.readonly)return i_({type:OJ.MORE_READONLY_BRANCH,payload:{branch:e.branch,pageId:e.pageId,readonly:!0}},e.uid),void JH("pop");if(t.value===c.editable)return i_({type:OJ.MORE_READONLY_BRANCH,payload:{branch:e.branch,pageId:e.pageId,readonly:!1}},e.uid),void JH("pop");if(t.value===c.expandNote){const t=BJ(KB.workspace);if(!t)return;return i_({type:OJ.MROE_TOGGLE_BRANCH,payload:{branch:e.branch,pageId:e.pageId,toggle:!0}},t),void JH("pop")}if(t.value===c.collapsedNote){const t=BJ(KB.workspace);if(!t)return;return i_({type:OJ.MROE_TOGGLE_BRANCH,payload:{branch:e.branch,pageId:e.pageId,toggle:!1}},t),void JH("pop")}if(t.value===c.duplicate){const t=BJ(KB.workspace);if(!t)return;return i_({type:OJ.MORE_DUPLICATE_BRANCH,payload:{branch:e.branch,pageId:e.pageId}},t),void JH("pop")}if(t.value===c.insertNote){const t=BJ(KB.workspace);if(!t)return;return i_({type:OJ.MROE_INSERT_NOTE,payload:{branch:e.branch,pageId:e.pageId}},t),void JH("pop")}if(t.value!==c.delete){if(t.value===c.imarkdown){const t=await a_({fileSuffixFilters:[".md"]});if(!(null==t?void 0:t[0]))return;return i_({type:OJ.MORE_IMPORT_MARKDOWN,payload:{branch:e.branch,pageId:e.pageId,filepaths:t}},e.uid),void JH("pop")}if(t.value===c.ijson){const t=await a_({fileSuffixFilters:[".sli"]});if(!(null==t?void 0:t[0]))return;return t[0].endsWith(".sli")?(i_({type:OJ.MORE_IMPORT_SLI,payload:{branch:e.branch,pageId:e.pageId,filepaths:t}},e.uid),void JH("pop")):void l_({message:""})}if(t.value===c.ejson){const t=e.branch.title;if(!t)return;const n=h(t),o=await u_({newFileNames:[n],fileSuffixChoices:[".sli"]});if(!(null==o?void 0:o[0]))return;const i=BJ(KB.workspace);return i_({type:OJ.MORE_EXPORT_SLI,payload:{branch:e.branch,pageId:e.pageId,filepaths:o}},i),void JH("pop")}if(t.value===c.emarkdown){const t=BJ(KB.workspace);return i_({type:OJ.MORE_EXPORT_MARKDOWN,payload:{branch:e.branch,pageId:e.pageId}},t),void JH("pop")}if(t.value===c.ehtml){const t=BJ(KB.workspace);return i_({type:OJ.MORE_EXPORT_HTML,payload:{branch:e.branch,pageId:e.pageId}},t),void JH("pop")}t.value!==c.ihtml&&t.value!==c.eapplication||s_({title:"",message:"",width:320,confirm:{value:"",fontColor:Bf}}),JH("pop")}else{const{title:t,type:n,id:i}=e.branch,s=BJ(KB.workspace);if(!s)return;const c=t=>{i_({type:OJ.MORE_DELETE_BRANCH,payload:{branch:e.branch,pageId:e.pageId,deleteCloud:t}},s)};if(t&&"outline"!==n){let s=!1;const a={title:""+("page"===n?"":""),message:null!==(o=h(t))&&void 0!==o?o:"",width:320,cancel:{value:"",fontColor:Bf},confirm:{value:"",fontColor:"red",action:()=>{JH("pop"),c(s)}}};"root"===n&&(null===(l=null===(r=e.file)||void 0===r?void 0:r.cloud)||void 0===l?void 0:l[i])&&(a.checkTips="",a.onCheckedChange=e=>{s=e}),s_(a)}else c();JH("pop")}}})]})})})})})},Moving:function(e){var n;const{FOCUS_FIELD:o,setNoDraft:i,initState:r,useWorker:l,useAdvisor:s,EditorContext:c,RootPortal:a,RootProps:u,RootTraversal:d}=t;let f=G(dO,{width:13});"outline"===e.branch.type&&(f=null);const[h,p]=qd((()=>r(e)),i()),v=Z({}),g=Z(null),m=function(e){const t=Z(!1),n=Wd("touchstart"),o=Wd("touchmove"),i=Wd("touchend"),r=Wd("touchcancel");return F((()=>{const e=e=>{const n=e_();n&&(e&&!t.current?(t.current=!0,JH("update",{uid:n,route:KB.moving,effect:{slide:"bottom",modal:!0,gesture:!0}})):!e&&t.current&&(t.current=!1,JH("update",{uid:n,route:KB.moving,effect:{slide:"bottom",modal:!0}})))},l=n.subscribe((t=>{t.stopPropagation(),e(!1)})),s=o.subscribe((t=>{t.stopPropagation(),e(!0)})),c=i.subscribe((t=>{t.stopPropagation(),e(!1)})),a=r.subscribe((t=>{t.stopPropagation(),e(!1)}));return()=>{l.unsubscribe(),s.unsubscribe(),c.unsubscribe(),a.unsubscribe()}}),[n,o,i,r]),F((()=>{const t=()=>{i_({type:OJ.MOVING_BEFORE_DESTROY},e.uid)};return n_("beforeDestroy",t),()=>{o_("beforeDestroy",t)}}),[e.uid]),{moving:zd([n,o,i,r])}}(e),y=l(e,h,p),b=s(e,h,p,y);!function(e,n,o,i,r){const l=_d(e);H((()=>{const{syncFileState:e,injectFile:n,clearStoreCURD:r}=t;!async function(){const t=l.current,s=await vF(),{data:c}=s;(null==c?void 0:c.file)&&(o(e(c.file,!0),r()),await n(t,c.file,i,o))}()}),[o,l,r,i])}(e,0,p,y,b);const C=null===(n=h.file)||void 0===n?void 0:n.tree;if(!h.store||!(null==C?void 0:C.length))return null;const{clientWidth:w,clientHeight:x}=document.documentElement,S=w-24,E={..._X,width:w,height:x},k={};if(rh){const e=XH();e>0&&(k.marginBottom=e)}const D={style:{width:w-24,height:x-84},...e,...h,virtual:!0,focus:{type:o.EDITOR},editable:!1,ScrollView:e=>G(QQ,{...e,route:KB.moving}),onClickBranch(t,n){const o=BJ(KB.workspace);if(o)return n||"root"!==t.type||(n=t.id),i_({type:OJ.MORE_MOVING_BRANCH,payload:{origin:AQ(e.branch),originPageId:e.pageId,target:AQ(t),targetPageId:n}},o),JH("pop"),!0}},I=e.branch.title;return G(u,{value:e,children:G(a,{value:g,children:G(d,{value:v,children:G(c,{value:D,children:X("div",{style:E,...m.moving,children:[G(p0,{icon:f,title:I,width:S,name:e.name}),G("div",{style:{...jX,...k},children:G(x2,{...D})})]})})})})})},NAVIGATE_BACKGROUND_LIGHT:lG,NAVIGATE_BACKGROUND_WHITE:sG,NAVIGATE_MODAL_COLOR:cG,NAVIGATE_SIZE:rG,NavigateView:SJ,Profile:JQ,Reader:function(e){const{transformNodeToText:n,transformNodeToBranch:o}=t;return G(T0,{editable:!1,reader:!0,...e,onOpen:t=>{var i,r;if(!e.snote)return;const l=JSON.parse(e.snote),s=null===(r=null===(i=l.editor)||void 0===i?void 0:i[t])||void 0===r?void 0:r.data;if(!s)return void l_({message:""});const c=o(s,l.reference),a=c.title?n(c.title):"";JH("push",{route:KB.reader,effect:{slide:"right"},payload:{snote:e.snote,page:AQ(c),branch:AQ(c),pageId:t},title:{text:a,menus:[]}})}})},ScrollView:QQ,Search:function(e){const{initState:n,setNoDraft:o,useWorker:i,useAdvisor:r,Search:l,RootDispatch:s,RootState:c,RootProps:a,RootAdvisor:u,RootWorker:d}=t,[f,h]=qd((()=>n(e)),o()),[p,v]=qd((()=>({refresh:aRe(!0),autoFocus:!1,width:document.documentElement.clientWidth/2,height:document.documentElement.clientHeight}))),g=Z(null),m=i(e,f,h),y=r(e,f,h,m),b={onClickBranch:(e,t)=>{const n=BJ(KB.editor);i_({type:OJ.SEARCH_ANCHOR_EDITOR,payload:{branch:e,pageId:t}},n)},onDoubleClickBranch:(e,t)=>{const n=BJ(KB.editor);i_({type:OJ.SEARCH_FOCUS_EDITOR,payload:{branch:e,pageId:t}},n),JH("pop")},onClickReplace:(e,t)=>{const n=BJ(KB.editor);i_({type:OJ.SEARCH_REPLACE_EDITOR,payload:JSON.stringify({branch:e,pageId:t})},n)}};!function(e,t,n,o,i,r,l,s){H((()=>{setTimeout((()=>{const e=s.current.getBoundingClientRect();i(tQ(e.width,e.height)),f_({enterKeyType:6})}))}),[s,i]),H((()=>{l.safty(e.pageId)}),[e.pageId,l])}(e,0,0,0,v,0,y,g);const C={};if(rh){const e=XH();e>0&&(C.marginBottom=e)}const{refresh:w,width:x,height:S,autoFocus:E,value:k}=p;return G(s,{value:h,children:G(c,{value:f,children:G(a,{value:e,children:G(u,{value:y,children:G(d,{value:m,children:G(SJ,{back:!1,style:vJ,children:G("div",{style:{...gJ,...C},ref:g,children:G(l,{width:x,height:S,value:k,autoFocus:E,pageId:e.pageId,placeholder:"",replaceholder:"",onClickBranch:b.onClickBranch,onDoubleClickBranch:b.onDoubleClickBranch,onClickReplace:b.onClickReplace},w)})})})})})})})},Selector:function(e){const t=fQ(),{isWhite:n}=ig,o=t=>{const n=BJ(KB.editor),o=BJ(KB.tools);JH("pop"),i_({type:OJ.TOOLS_EDITOR_ACTION,payload:{name:e.name,value:t}},n),e.prevent||(i_({type:OJ.TOOLS_SHOW_KEYBOARD},n),i_({type:OJ.TOOLS_HIDE_UPPER},n),i_({type:OJ.SELECTOR_CLEAR_ACTIVITY},o))};if(e.name===t.fillColor||e.name===t.highlightColour||e.name===t.textColor||e.name===t.borderColor&&"more"===e.value){const i=xQ(e);return G("div",{style:mJ,children:i.slice().reverse().map(((i,r)=>{let l=e.text;const s={...bJ};return e.name===t.textColor?(s.color=i,s.background=`linear-gradient(45deg, #ffffff 0%, ${i} 100%)`):(s.color="#ffffff",s.backgroundColor=i),n(i)&&(l="",s.fontWeight=600,s.background=vG),X(wh,{style:s,onClick:()=>o(i),children:[l,i===e.value&&G("span",{style:CJ,children:G(VO,{width:16,fill:"#fff"})})]},r)}))})}if(e.name===t.sheetInsertTop||e.name===t.sheetInsertBottom||e.name===t.sheetInsertLeft||e.name===t.sheetInsertRight){const t=SQ(e);return G("div",{style:mJ,children:t.slice().map((({text:e,value:t},n)=>{const i={...bJ};return G(Ev,{colors:yG,style:i,onClick:()=>o(t),children:e},n)}))})}if(e.name===t.borderColor){const n=vQ(),i=n=>{var o;const i=null!==(o=e.height)&&void 0!==o?o:window.screen.availHeight;JH("pop"),JH("push",{route:KB.selector,effect:{slide:"bottom",modal:!0,musk:!0,gesture:!0,blur:10},style:{height:i,borderRadius:{topLeft:16,topRight:16}},payload:{...n,name:t.borderColor,value:"more",prevent:e.prevent}})};return G("div",{style:mJ,children:G("div",{style:yJ,children:n.map(((e,t)=>{let n=String(e.value),r=e.text;const l={...tJ,background:vG},s=e.value?n:vG;return l.background=s,X(wh,{style:l,onClick:()=>o(n),children:[G("span",{style:{...uJ,color:"#ffffff"},children:r}),G(Ev,{style:hJ,onClick:t=>{t.stopPropagation(),i({...e,value:n})},children:G(qO,{fill:"#ffffff"})}),G("div",{style:{...dJ,border:"1px solid transparent"}})]},t)}))})})}return null},Setting:function(e){const n=UQ(e),o=function(e){const{keys:t}=VQ;return{onClickMenu:async e=>{var n;if(e.value===t.help)JH("push",{route:KB.help,effect:{slide:"right"},title:{text:e.name},style:{backgroundColor:sG}});else if(e.value===t.about)JH("push",{route:KB.about,effect:{slide:"right"},title:{text:e.name},style:{backgroundColor:lG}});else if(e.value===t.webdav){const t=await vF();if(0===t.ok||!t.data)return;const o={route:KB.webdav,effect:{slide:"right"},style:{backgroundColor:lG}},i=QH(!0);!Pc(null===(n=t.data.file)||void 0===n?void 0:n.cloud)||(null==i?void 0:i.some((e=>e.aliveId===KB.webdav)))?(o.alive=!0,o.aliveId=KB.webdav,o.payload={type:"list"},o.title={text:e.name}):(o.payload={type:"form"},o.title={text:e.name,menus:["help"]}),JH("push",o)}else"cloud"===e.value&&JH("push",{route:KB.cloud,effect:{slide:"right"},title:{text:e.name},style:{backgroundColor:sG}})}}}();return function(e){F((()=>{const{initWebDavState:e}=t;!async function(){var t;const n=await vF();if(1!==n.ok||!(null===(t=n.data)||void 0===t?void 0:t.file))return;const{list:o}=e(n.data.file,!0);o.length&&JH("prepare",{route:KB.webdav,alive:!0,aliveId:KB.webdav,payload:{type:"list"}})}()}),[e.lang])}(e),X("div",{style:NG,children:[G("div",{style:LG,children:X("div",{style:TG,children:[G("div",{style:BG,children:G($M,{})}),G("div",{style:AG,children:""})]})}),G(Tg,{options:n,onClick:o.onClickMenu})]})},Share:function(e){const t=Z(null),n={fill:Hf,style:{position:"relative",top:-.5}},o=[[{name:IJ[e.lang][DJ.copyLink],value:DJ.copyLink,icon:G(yO,{...n,width:14}),rightIconType:"arrow"},{name:IJ[e.lang][DJ.openFromBrowser],value:DJ.openFromBrowser,icon:G(YO,{...n,width:15}),rightIconType:"arrow"}]];return X("div",{style:$G,children:[G(Tg,{style:{backgroundColor:cG},options:o,onClick:n=>{var o,i;n.value===DJ.copyLink?(null===(o=t.current)||void 0===o||o.select(),document.execCommand("copy",!0),null===(i=t.current)||void 0===i||i.blur(),l_({message:""})):n.value===DJ.openFromBrowser&&r_(e.url),JH("pop")}}),G("input",{style:ZG,value:e.url,ref:t})]})},SheetBorderTools:N0,SheetInsertTools:I0,SheetMoreTools:L0,StatusView:v0,TOOLS_HEIGHT:aG,TOOLS_UPPER_DIFF:uG,TOOL_ACTIVE_COLOR:gG,TOOL_BACKGROUND_COLOR:vG,TOOL_HOVER_COLOR:mG,TOUCH_BACKGROUND_COLORS:bG,TOUCH_LIGHT_COLORS:yG,Tools:function(e){var t,n,o;const[i,r]=qd((()=>function(e){let t="edit";const{gfocus:n}=e;return n&&gHe(n)&&(t="sheet"),{tools:qQ(),type:t}}(e))),l=o0(e,i,r),s=fQ(),c=null===(t=i.tools)||void 0===t?void 0:t.filter((e=>e.name!==s.sheet||"sheet"===i.type));return G(g0,{value:r,children:X("div",{style:zX,children:[X(Uh,{style:VX,type:"top",children:[G("div",{className:"no-scrollbar",style:$X,children:null==c?void 0:c.map(((e,t)=>{const n={...ZX};return e.active&&(n.backgroundColor=vG),G(Ev,{touchDelay:0,colors:bG,style:n,onClick:()=>l.onClickHeadTool(e),children:G(e.outer,{...e})},e.name)}))}),G(Ev,{colors:bG,touchDelay:0,style:UX,onClick:l.onClickKeyboard,children:(null===(n=i.inner)||void 0===n?void 0:n.active)?G(XO,{fill:Hf,width:18.5}):G(GO,{fill:Hf,width:18.5})})]}),G(y0,{...e,...i,name:null===(o=i.inner)||void 0===o?void 0:o.name})]})})},UpperTools:m0,WEBDAV_LIST_MARGIN:fG,WEBDAV_SUBMIT_HEIGHT:hG,WebDav:function(e){const n="form"===e.type?["help"]:[],o=function(){const{fetchWebDAVTourist:e}=t;return{onClickMenu:async t=>{var n,o;if("help"===t){const t=await e(),i=null===(o=null===(n=null==t?void 0:t.bootstrap)||void 0===n?void 0:n.file)||void 0===o?void 0:o.currentPageId;if(!i)return;JH("push",{route:KB.reader,effect:{slide:"right"},title:{text:"WebDAV "},style:{backgroundColor:sG},payload:{snote:JSON.stringify(t),page:{id:i},branch:{type:"page",id:i},pageId:i}})}}}}();return"mode"===e.type?G(a2,{...e}):"operation"===e.type?G(s2,{...e}):"space"===e.type?G(u2,{...e}):"qrcode"===e.type?G(c2,{...e}):G(SJ,{style:qG,menus:n,onClickMenu:o.onClickMenu,children:X("div",{style:YG,children:["form"===e.type&&G(r2,{...e}),"list"===e.type&&G(l2,{...e})]})})},WorkSpace:function(e){const{RootDispatch:n,RootState:o,RootProps:i,RootAdvisor:r,RootWorker:l,File:s,initState:c,setNoDraft:a,useWorker:u,useAdvisor:d,FOCUS_FIELD:f}=t,[h,p]=qd((()=>c(e)),a()),v=u(e,h,p),g=d(e,h,p,v),m={imperator:{nav:Z(null),note:Z(null),file:Z(null)},inited:Z(!1),storend:Z(null)};h0(e),function(e,n,o){const i=_d(n);F((()=>{const{getFileClientHeight:e,resizeFile:n,resizeClient:r,initClientState:l}=t,s=Nu(window,"resize").pipe(zu(0,Xa)).subscribe((()=>{const t=i.current,s=l(),c=s.width-WQ,a=e(t);o(n(c,a)),o(r(s.width,s.height))}));return()=>s.unsubscribe()}),[o,i])}(0,h,p),a0(e,h,p,v,g,m);const y=function(e,n,o,i,r,l){const s=_d(e),c=_d(n),{keys:a,setNavActive:u}=VQ,{genID:d,outline:f,getBranchByID:h,transformNodeToText:p,getPageableBranch:v,calcOptionsSize:g,setFileBranch:m,setFileTreeNoDraft:y,genetateMobileOptions:b}=t;return F((()=>{const{setStoreCatalog:e,replaceFileBranch:n,readonlyFileBranch:a,expandFileBranch:u,collapsedFileBranch:d,fetchBranch:f,getNextBranch:h,getPrevBranch:p,deleteNote:v,moveNote:g,addAuthDelete:m,duplicateNote:y,insertNoteSpace:b,scrollToBranchById:C,scrollToLastBranch:w,refreshFileBranch:x,setFileTreeNoDraft:S,fetchBranchSource:E,deactivateFileBranch:k,resetChangelog:D,setFileScrollActive:I,transformMarkdown:N,setFileBranchRename:L,importMarkdown:T,exportJSON:B,exportMarkdown:A,exportHTML:M,loadNote:O,saftyRootBranch:R,clearFileCloudBind:P,setFileCloud:F,assignWebDavItem:H,clearFileTreeStatus:_,assignFileCloud:j,assignFileBranchProps:W,adjustKeyboardScrollTop:z,WebDavStatusIcon:V,filterBindCloud:$,decreaseWebDavItem:Z,removeFileCloud:U,removeFileBranchProps:q,initWebDavState:Y,filterWebDavItem:K}=t,G=async t=>{var _,z,G,X,J,Q,ee,te,ne,oe,ie;const re=s.current,le=c.current,se=le.file;if(se)if(t.type===OJ.EDITOR_REFRESH_WORKSPACE||t.type===OJ.WEBDAV_REFRESH_WORKSPACE){const e=t.payload;if(!e)return;const{update:n,create:i}=e,l=ia([...null!==(_=null==n?void 0:n.catalog)&&void 0!==_?_:[],...null!==(z=null==n?void 0:n.editor)&&void 0!==z?z:[],...null!==(G=null==i?void 0:i.catalog)&&void 0!==G?G:[],...null!==(X=null==i?void 0:i.editor)&&void 0!==X?X:[]]);if(!l.length)return;const s=await DF(l);if(1===s.ok&&s.data)for(const{id:e}of se.tree)o(S(x(e,s.data)));for(const e of l)await r.refresh(e)}else if(t.type===OJ.EDITOR_BEFORE_DESTROY||t.type===OJ.MORE_BEFORE_DESTROY||t.type===OJ.MOVING_BEFORE_DESTROY)setTimeout((()=>{o(S(k()))}),80);else if(t.type===OJ.MORE_READONLY_BRANCH){const r=MQ(se,t.payload);if(!r)return;const{branch:l,readonly:s}=r,c=await f(l,i,{deep:!0}),u=[n(c,l.path),a(l,s),e(l,void 0,!0)];o(...u)}else if(t.type===OJ.MROE_TOGGLE_BRANCH){const r=MQ(se,t.payload);if(!r)return;const{branch:l,toggle:s}=r;if(!0===s){const t=se.branch,r={callback:e=>{e.id===(null==t?void 0:t.id)?e.active=!0:delete e.active},deep:!0},s=await f(l,i,r);delete s.more,o(n(s,l.path),u(l),e(l,void 0,!0))}else!1===s&&o(d(l),e(l,void 0,!0))}else if(t.type===OJ.MORE_RENAME_BRANCH){const e=MQ(se,t.payload);if(!e)return;const{branch:n,pageId:i}=e,{type:l,id:s}=n;"page"!==l&&"root"!==l||await r.safty(s),i&&await r.safty(i),o(L(re,n,i)),f_({enterKeyType:6}),JH("update",{uid:BJ(KB.workspace),route:KB.workspace,prevent:!0})}else if(t.type===OJ.MORE_DELETE_BRANCH){const e=MQ(se,t.payload);if(!e)return;let n=null;(null===(J=null==e?void 0:e.branch.segments)||void 0===J?void 0:J.length)&&(n=c_({title:""}));const{branch:i,pageId:l,deleteCloud:s}=e;let c=le.webdav;(null==c?void 0:c.list.length)||(c=Y(se));const a=K(c.list,i.id);if(a){let e=OJ.WORKSPACE_DELETE_ITEM;s&&(e=OJ.WORKSPACE_DELETE_WEBDAV),i_({type:e,payload:JSON.stringify(a)})}const u=h(se.tree,i);if(u){const{id:e,type:t}=u;"page"!==t&&"root"!==t||await r.safty(e)}const d=p(se.tree,i);if(d){const{id:e,type:t}=d;"page"!==t&&"root"!==t||await r.safty(e)}const f=[],{type:g,id:y}=i;if("page"!==g&&"root"!==g||(await r.safty(y,!0),f.push(m(y))),l&&await r.safty(l),f.push(v(re,i,null!=l?l:""),k()),"root"===g){if(!s){const e=await gF();e.data&&f.push(D(e.data,!0))}f.push(U(i.id),q(i,{icon:V,syncing:!1,update:0}))}o(...f),null==n||n(),l_({message:""}),NQ("haptic.effect.soft")}else if(t.type===OJ.MORE_DUPLICATE_BRANCH){const e=MQ(se,t.payload);if(!e)return;let n=null;(null===(Q=null==e?void 0:e.branch.segments)||void 0===Q?void 0:Q.length)&&(n=c_({title:""}));const{branch:i,pageId:l}=e,{type:s,id:c}=i;"page"!==s&&"root"!==s||await r.safty(c,!0),l&&await r.safty(l),o(y(re,i,null!=l?l:"")),null==n||n(),l_({message:""}),NQ("haptic.effect.soft")}else if(t.type===OJ.MORE_MOVING_BRANCH){const e=OQ(se,t.payload);if(!e)return;const{origin:n,target:i,originPageId:l,targetPageId:s}=e;if("root"!==n.type&&l&&s){const e=await E(l),t=await E(s);if((null==e?void 0:e[0])!==(null==t?void 0:t[0]))return void s_({title:" ",message:"",confirm:{value:"",fontColor:Bf}})}const c=c_({title:""});s&&await r.safty(s),l&&await r.safty(l),"page"!==i.type&&"root"!==i.type||await r.safty(i.id),"page"===n.type&&await r.safty(n.id,!0);const a=null!=s?s:"",u={...re,...le,branch:n,pageId:a};o(g(u,i,a),C(n.id),I(!0)),c(),l_({message:""}),NQ("haptic.effect.soft")}else if(t.type===OJ.MROE_INSERT_NOTE){const e=MQ(se,t.payload);if(!e)return;const{branch:n}=e;o(b(re,n),w(),I(!0)),l_({message:""}),NQ("haptic.effect.soft")}else if(t.type===OJ.MORE_IMPORT_MARKDOWN){const e=c_({title:""}),n=MQ(se,t.payload);if(!n)return void e();const{branch:i,pageId:s,filepaths:c}=n,a=c[0];if(!a)return void e();const u=await m_(a);if(!u)return void e();const d=dc(a.split("/"));if(!d)return void e();const f=le.editor.style,h=decodeURIComponent(d).slice(0,-3),p=N(h,u,{image:[]},f);s&&await r.safty(s),"outline"!==i.type&&await r.safty(i.id);const v=[];v.push(T(p,i,s,!1)),o(...v),l.storend.current=t=>{var n,o,r;const c=null===(r=null===(o=null===(n=t.store)||void 0===n?void 0:n.crud)||void 0===o?void 0:o.update)||void 0===r?void 0:r.editor;((null==c?void 0:c.includes(s))||(null==c?void 0:c.includes(i.id)))&&(l.storend.current=null,e(),l_({message:""}))}}else if(t.type===OJ.MORE_IMPORT_SLI){const e=c_({title:""}),n=MQ(se,t.payload);if(!n)return void e();const{branch:o,pageId:i,filepaths:s}=n,c=s[0];if(!c)return void e();const a=await m_(c);if(!a)return void e();try{const t=JSON.parse(a);if(void 0===(null===(ee=t.bootstrap)||void 0===ee?void 0:ee.type))return e(),void l_({message:""});await O(r,t,o,i),l.storend.current=t=>{var n,r,s;const c=null===(s=null===(r=null===(n=t.store)||void 0===n?void 0:n.crud)||void 0===r?void 0:r.update)||void 0===s?void 0:s.editor;((null==c?void 0:c.includes(i))||(null==c?void 0:c.includes(o.id)))&&(l.storend.current=null,e(),l_({message:""}))}}catch(t){e(),l_({message:""})}}else if(t.type===OJ.MORE_EXPORT_SLI){const e=MQ(se,t.payload);if(!e)return;const{branch:n,pageId:l,filepaths:s}=e,c=s[0];if(!c)return;const{type:a,id:u}=n;"page"!==a&&"root"!==a||await r.safty(u,!0),l&&await r.safty(l);const d=[];d.push(B(re,n,l,i,c)),o(...d)}else if(t.type===OJ.MORE_EXPORT_MARKDOWN){const e=MQ(se,t.payload);if(!e)return;const{branch:n,pageId:l}=e,{type:s,id:c}=n;"page"!==s&&"root"!==s||await r.safty(c,!0),l&&await r.safty(l);const a=[];a.push(A(re,n,l,i)),o(...a)}else if(t.type===OJ.MORE_EXPORT_HTML){const e=MQ(se,t.payload);if(!e)return;const{branch:n,pageId:l}=e,{type:s,id:c}=n;"page"!==s&&"root"!==s||await r.safty(c,!0),l&&await r.safty(l);const a=[];a.push(M(re,n,l,i)),o(...a)}else if(t.type===OJ.WEBDAV_SYNC_CLOUD){const e=t.payload,r=JSON.parse(e.item),{id:l,mode:s,service:c,username:a,password:u,usernameInvisible:d,passwordInvisible:h,selected:p}=r;if(!(null==c?void 0:c.trim())||!(null==a?void 0:a.trim())||!(null==u?void 0:u.trim()))return;if(!zM(c))return;if(!(null==p?void 0:p.id))return;const v=e.syncing,g={type:"webdav",bind:!0,id:l,mode:s,service:c,username:a,password:u,usernameInvisible:d,passwordInvisible:h};(null===(te=p.children)||void 0===te?void 0:te.length)||(p.children=[null]);const m=[R(p,!0),P(p.id),F(p.id,{...g,syncing:v,update:0}),W(p,{icon:V,syncing:v,update:0})];if(!1===v){const e={...p,icon:V,syncing:!1,update:0},t=await f(e,i,{deep:!0});m.push(n(Object.assign(p,t)))}o(...m)}else if(t.type===OJ.WEBDAV_UPDATE_CLOUD){if(!(null===(ne=le.file)||void 0===ne?void 0:ne.cloud))return;const e=t.payload,n=$(null===(oe=le.file)||void 0===oe?void 0:oe.cloud);for(const t in e){const i=n[t],r=e[t];if(!i||!r)continue;const l=null===(ie=le.file)||void 0===ie?void 0:ie.tree.find((e=>e.id===t));l&&(l.update!==r&&o(H(i,{update:r}),W(l,{update:r})),i.update!==r&&o(j(t,i.id,{update:r})))}}else if(t.type===OJ.WEBDAV_DELETE_ITEM){const e=JSON.parse(t.payload),{selected:n,id:i}=e;if(!(null==n?void 0:n.id))return;o(Z(e,!0),U(n.id,i),q(n,{icon:V,syncing:!1,update:0}))}},X=e=>{var t,n,o,i,r,s;let a=!1;if(e.route===KB.workspace){const e=null===(t=l.imperator.file.current)||void 0===t?void 0:t.search;(null===(o=null===(n=null==e?void 0:e.current)||void 0===n?void 0:n.getSearchText)||void 0===o?void 0:o.call(n))&&NQ("haptic.effect.soft"),null===(r=null===(i=null==e?void 0:e.current)||void 0===i?void 0:i.clear)||void 0===r||r.call(i),a=!0}if(e.route===KB.workspace){const e=c.current.file;(null===(s=null==e?void 0:e.rename)||void 0===s?void 0:s.length)&&d_(),a=!0}a||JH("pop")},J=e=>{var t,n;const i=c.current.file;if(null===(t=null==i?void 0:i.rename)||void 0===t?void 0:t.length){const t=i0(i.tree,i.rename);t&&o(z(t,e))}e>0||!(null===(n=null==i?void 0:i.rename)||void 0===n?void 0:n.length)||(o(_(["rename"])),JH("update",{uid:BJ(KB.workspace),route:KB.workspace,prevent:!1}))};return n_("message",G),n_("backPress",X),n_("keyboardHeightChange",J),()=>{o_("message",G),o_("backPress",X),o_("keyboardHeightChange",J)}}),[r,s,c,o,l.imperator.file,l.storend,i]),{content:{onTouchStart:()=>{var e;null===(e=l.imperator.nav.current)||void 0===e||e.dispatch(u(a.note))}},file:{onClickBranch:(e,t)=>{var i,r,l;const s=null===(i=n.file)||void 0===i?void 0:i.tree;if(!(null==s?void 0:s.length))return;(null===(l=null===(r=n.file)||void 0===r?void 0:r.rename)||void 0===l?void 0:l.length)&&d_();const c=e_(),a=v(s,e),u=a.title?p(a.title):"";JH("push",{route:KB.editor,effect:{slide:"right"},payload:{editable:!a.readonly,page:AQ(a),branch:AQ(e),refresh:d(!0),uid:c,pageId:t,alive:!0},title:{text:u,menus:["more"]},alive:!0,aliveId:KB.editor}),setTimeout((()=>{var n;o(y(m(e))),(null===(n=a.segments)||void 0===n?void 0:n.length)||("page"===e.type?PQ(e.id):"outline"===e.type&&PQ(t))}),100)},onChangeSearch:e=>{JH("update",{uid:BJ(KB.workspace),route:KB.workspace,prevent:!!e})},onClickBranchAdd:async(e,t)=>{var o,i,r,l;const s=null===(o=n.file)||void 0===o?void 0:o.tree;if(!(null==s?void 0:s.length))return;(null===(r=null===(i=n.file)||void 0===i?void 0:i.rename)||void 0===r?void 0:r.length)&&d_();const c=null===(l=e.payload)||void 0===l?void 0:l.subclass;if("outline"===e.type&&c<=f.SubClass.H6)return void s_({title:"",message:"",confirm:{value:"",fontColor:Bf}});let a="";const u=v(s,e);"outline"===e.type&&(a=u.title?p(u.title):"");const h=e_();JH("push",{route:KB.editor,effect:{slide:"right"},payload:{create:!u.readonly,editable:!u.readonly,page:AQ(u),branch:AQ(e),refresh:d(!0),uid:h,alive:!0},title:{text:a,menus:["more"]},alive:!0,aliveId:KB.editor})},onClickBranchMore:(t,i)=>{var r,l,s;(null===(l=null===(r=n.file)||void 0===r?void 0:r.rename)||void 0===l?void 0:l.length)&&d_(),i||"root"!==t.type||(i=t.id);const c=!t.readonly,a=b({...e,file:n.file},t,!1,c),u=g(a),d=XH(),f=e_();let h=u+36-12+d,p=!0;const v=document.documentElement.clientHeight;h+rG>v&&(h=v-rG,p=!1);let C=!1,w=!1;Oi(a).forEach((e=>{e.value===WK.expandNote?C=!0:e.value===WK.collapsedNote&&(w=!0)})),JH("push",{route:KB.more,effect:{slide:"bottom",modal:!0,gesture:p,blur:!0},style:{height:h,borderRadius:{topLeft:16,topRight:16}},payload:{pageId:i,branch:AQ(t),file:{cloud:null===(s=n.file)||void 0===s?void 0:s.cloud},uid:f,height:h,editable:c,expandable:C,collapseable:w,scroller:!p}}),setTimeout((()=>{o(y(m(t)))}),100)},onClickSearchBranch:(e,t)=>{var n,o;const{file:i}=r.stater.get();if("outline"!==e.type||!(null==i?void 0:i.tree.length))return;const l=e_(),s=h(i.tree,t);if(!s)return;const c=p(null!==(n=null==s?void 0:s.title)&&void 0!==n?n:null);JH("push",{route:KB.editor,effect:{slide:"right"},payload:{editable:!s.readonly,page:{id:t},branch:AQ(e),refresh:d(!0),search:!0,uid:l,alive:!0},title:{text:c,menus:["more"]},alive:!0,aliveId:KB.editor}),(null===(o=s.segments)||void 0===o?void 0:o.length)||PQ(t)},onClickSearchReplace:(e,t)=>{},onDoubleClickSearchBranch:(e,t)=>{}}}}(e,h,p,v,g,m),b={...h,...e,dispatch:p,main:!0,root:!0,virtual:!0,editable:!0,focus:{type:f.FILE}};return G(v0,{children:X("div",{style:wJ,children:[G($Q,{...e,ref:m.imperator.nav}),G(wh,{style:xJ,...y.content,children:G(n,{value:p,children:G(o,{value:h,children:G(i,{value:e,children:G(r,{value:g,children:G(l,{value:v,children:G(s,{...b,ref:m.imperator.file,...y.file})})})})})})})]})})},calcOutlineNumber:function(e){const t=iae;return e===t.H1?1:e===t.H2?2:e===t.H3?3:e===t.H4?4:e===t.H5?5:e===t.H6?6:void 0},developing:TQ,dispatchEditorActionComfortable:DQ,dispatchKeyboardEvent:RQ,exportColorItems:vQ,exportColorNames:pQ,exportFontFamilyItems:mQ,exportFontSizeItems:gQ,exportFormTitleWidth:TJ,exportLetterSpacingItems:yQ,exportLineHeightItems:bQ,exportListItems:hQ,exportListTitleWidth:LJ,exportSheetInsertItems:CQ,exportSheetMoreItems:wQ,exportToolName:fQ,generateSettingOptions:UQ,generateUpperPostMessage:kQ,genetateOperationOptions:NJ,getActiveInnerTool:function(e){let t=null;for(const n of e)if(n.inner&&n.active){t=n.name;break}return t},getColorList:xQ,getNavigateUid:BJ,getSheetInsertList:SQ,initEditorClient:AJ,isEditorLostFocus:MJ,isToolActive:EQ,isToolInnerActive:function(e){return null==e?void 0:e.some((e=>e.inner&&e.active))},isToolKeyboardUp:function(e){return null==e?void 0:e.some((e=>e.inner&&e.active))},refreshMovingPayload:OQ,refreshPayload:MQ,shouldPreventShowKeyBoard:IQ,spliceBranch:AQ,startVibration:NQ,startVibrationDebounce:LQ,updateLocalRecentReview:PQ});const{clearHighlights:f2,traverseNode:h2}=hk,{recursiveTree:p2}=OB,{startVibration:v2}=d2;function g2(e){var t,n,o;const i=R(jU),r=Z(null),[l,s]=qd((()=>Cqe(e))),c=PWe(l.result.tree),a=()=>{var t,n;s(j7(""),z7(""),W7(""),V7(!1),q7());const{imperator:o,context:r}=i.provider();r.editor.highlights&&(null===(t=null==o?void 0:o.current)||void 0===t||t.commit(f2())),null===(n=e.onChange)||void 0===n||n.call(e,"")},u=t=>{var n,o;const r=t.target.value;r.trim()?s(V7(!0),W7("")):s(V7(!1),z7(""),W7(""),q7()),s(j7(r));const{imperator:l,context:c}=i.provider();c.editor.highlights&&(null===(n=l.current)||void 0===n||n.commit(f2())),null===(o=e.onChange)||void 0===o||o.call(e,r)},d=_((e=>{s(X7(e))}),[]),f=async(t,n)=>{var o,r;const{type:c,id:a,payload:u}=t;if(null===(o=e.onClickBranch)||void 0===o||o.call(e,t,n),(null===(r=l.result.branch)||void 0===r?void 0:r.id)===a)return;"page"!==c&&"root"!==c||await i.safty(a),await i.safty(n);const d=zHe(null==u?void 0:u.search),f=!!e.pageId;"page"===c?s(J7(t)):"outline"===c&&(s(tee(t),U7(f)),e.pageId&&(n=e.pageId),i.dispatch(Dq(),z3(n),B6(n),o4(d),ste(t,n),k7(n)))},h=async(t,n)=>{var o,r;null===(o=e.onDoubleClickBranch)||void 0===o||o.call(e,t,n),s(V7(!1),j7(""),z7(""),q7()),null===(r=e.onChange)||void 0===r||r.call(e,"");const{type:l,id:c,payload:a}=t;"page"!==l&&"root"!==l||await i.safty(c),await i.safty(n);const u=zHe(null==a?void 0:a.search);i.dispatch(B6(n),o4(u),o7(),O9(),lte(n,a),k7(n),S6(n))},p=J2(l.result,m2,!!(null===(t=l.replaceText)||void 0===t?void 0:t.trim()));t5(e,l,s),n5(e,l,s),H((()=>{e.width&&l.result.clientWidth!==e.width&&s(Q7(e.width))}),[e.width]),F((()=>{var t;const n=r.current;n&&e.autoFocus&&(null===(t=n.focus)||void 0===t||t.call(n))}),[e.autoFocus]),j(e.ref,(()=>({clear(){var e;a(),null===(e=r.current)||void 0===e||e.blur()},getSearchText:()=>l.searchText})));const v=Boolean(l.result.isEditPending||l.result.isScrolling),g=W((()=>G(FU,{value:{current:{}},children:G(hk.EditElement,{value:null,children:G(RB,{showMore:!1,render:p,value:l.result,onClickBranch:f,onDoubleClickBranch:h,onChange:d})})})),[e.width,e.height,p,Hd(v)]),m=W((()=>G("div",{style:xZ,children:""})),[]),y=W((()=>G("div",{style:xZ,children:""})),[]),b=l.result.count,C=!1!==e.replaceable&&(e.replace||!c),w=!1!==e.replaceable&&l.research&&b,x=jM(),S=x?4:0,E=Kf?"div":Dh;return G(YU,{value:s,children:G(KU,{value:{...e,...l},children:X("div",{style:{...pZ,minHeight:44+S,...e.style},children:[X(E,{style:{...vZ,height:C?80+2*S:44+S,minHeight:44+S},children:[X(wh,{style:{...gZ,height:28+S,borderRadius:(28+S)/2},onPointerDown:()=>{i.dispatch(o4(zFe()))},children:[G("span",{style:mZ,children:G(uR,{width:x?13.5:13,fill:jf})}),G("input",{ref:r,style:yZ,value:null!==(n=l.searchText)&&void 0!==n?n:"",onInput:e=>{l.searchComposition||u(e)},onCompositionStart:e=>{s($7(!0))},onCompositionUpdate:e=>{s($7(!0))},onCompositionEnd:e=>{s($7(!1)),u(e)}}),e.placeholder&&!l.searchText&&!l.searchComposition&&G("span",{style:bZ,children:e.placeholder}),l.searchText&&G(y2,{onClick:a})]}),C&&!l.research&&G(wh,{style:EZ,onPointerDown:()=>{i.dispatch(o4(zFe()))},children:X("div",{style:{...kZ,height:28+S,borderRadius:(28+S)/2},children:[G("span",{style:mZ,children:G(dR,{width:x?15.5:15,fill:jf})}),G("input",{style:yZ,value:null!==(o=l.replaceText)&&void 0!==o?o:"",onInput:e=>{const t=e.target.value;s(z7(t))}}),e.replaceholder&&!l.replaceText&&G("span",{style:bZ,children:e.replaceholder})]})}),w&&G(wh,{style:EZ,children:G("div",{style:SZ,children:` ${l.percent?l.percent:"..."}`})})]}),l.searchText&&G("div",{style:{height:e.height},children:l.research&&!b?y:c?l.research?"":m:g})]})})})}function m2(e){const{lang:t}=R(OU),n=R(jU),o=R(YU),i=R(KU),{branch:r,node:l,replace:s,active:c,renderElement:a}=e,u=null==r?void 0:r.type,d="outline"===u?zK[t][WK.replace]:zK[t][WK.replaceAll],f="outline"===u?"bottom":"left";let h=G(Ev,{onClick:async t=>{if(t.stopPropagation(),void 0===r)return;const l=async()=>{var t,l,s;const c=[],a=null!==(t=i.pageId)&&void 0!==t?t:e.pageId;a&&c.push(a),p2([r],(e=>{const{type:t,id:n}=e;"page"!==t||c.includes(a)||c.push(n)}));for(const e of c)await n.safty(e);const u=n.stater.get(),d=!!i.pageId,f=null===(l=u.file)||void 0===l?void 0:l.currentPageId;o(nee(r),Y7(r),U7(d));const h=[Kee(r,a),Y3(a)];for(const e of c)h.push(Y3(e));f&&h.push(k7(f)),n.dispatch(...h),null===(s=i.onClickReplace)||void 0===s||s.call(i,r,a)};if(!rh)return void await l();let s=0;p2([r],(e=>{"outline"===e.type&&h2(e.title,(e=>{if(RWe(e))return s++,!0}))})),s>1?s_({title:"",message:`${s}`,width:320,cancel:{value:"",fontColor:Hf},confirm:{value:"",fontColor:"red",action:l}}):(await l(),v2("haptic.effect.soft"))},onPointerDown:e=>e.stopPropagation(),style:wZ,children:X("svg",{width:12,viewBox:"0 0 12 12",children:[G("path",{fill:zf,d:"M7.57784 11.6899C7.23672 11.6851 6.91091 11.5475 6.66967 11.3063C6.42844 11.065 6.29082 10.7392 6.28607 10.3981V7.29175C6.29098 6.95068 6.42865 6.62496 6.66985 6.38376C6.91105 6.14256 7.23677 6.00489 7.57784 5.99998H10.6842C11.0254 6.00441 11.3514 6.14193 11.5927 6.38323C11.834 6.62453 11.9715 6.95053 11.9759 7.29175V10.3981C11.9717 10.7394 11.8342 11.0654 11.5929 11.3068C11.3515 11.5481 11.0254 11.6856 10.6842 11.6899H7.57784ZM7.23797 7.29175V10.3981C7.24307 10.4867 7.28048 10.5703 7.34311 10.6332C7.40575 10.6961 7.48926 10.7338 7.57784 10.7392H10.6842C10.7731 10.7339 10.8571 10.6963 10.9204 10.6335C10.9836 10.5707 11.0218 10.487 11.0278 10.3981V7.29175C11.0217 7.203 10.9834 7.11953 10.9201 7.05698C10.8569 6.99442 10.773 6.95705 10.6842 6.95188H7.57784C7.48913 6.95683 7.40533 6.99417 7.34233 7.05682C7.27932 7.11947 7.24152 7.20307 7.23607 7.29175H7.23797ZM9.81265 3.75061H10.3367C10.3239 3.04242 10.054 2.36304 9.57721 1.83922C8.98199 1.26779 8.18712 0.951427 7.36202 0.957576C7.24212 0.948814 7.12997 0.894999 7.04811 0.806943C6.96626 0.718888 6.92076 0.603118 6.92076 0.482893C6.92076 0.362668 6.96626 0.246897 7.04811 0.158842C7.12997 0.0707869 7.24212 0.0169717 7.36202 0.00820929C8.44401 0.0040404 9.48409 0.4263 10.257 1.18353C10.9052 1.88369 11.2723 2.79845 11.288 3.75251H11.7753L10.8494 5.38796L9.81265 3.75061Z"}),G("path",{fill:zf,d:"M0.404842 5.3135C0.646007 5.55467 0.97164 5.69239 1.31266 5.69746H4.41899C4.58915 5.69932 4.75796 5.66718 4.91553 5.60293C5.07309 5.53867 5.21624 5.44359 5.33657 5.32326C5.45689 5.20294 5.55197 5.05979 5.61623 4.90222C5.68049 4.74466 5.71263 4.57584 5.71076 4.40569V1.30442C5.70668 0.962737 5.56939 0.636143 5.32812 0.394165C5.08685 0.152187 4.76066 0.0139381 4.41899 0.0088501H1.31266C0.971042 0.0140978 0.644945 0.152398 0.40371 0.394341C0.162476 0.636285 0.0251341 0.962787 0.0208893 1.30442V4.40569C0.0259544 4.74671 0.163677 5.07234 0.404842 5.3135Z"})]})});return Kf||(h=G(Vk,{delay:1500,tips:d,direction:f,children:h})),X("div",{style:{...CZ,marginLeft:"outline"===u?-18:0,pointerEvents:s?"visible":"unset"},children:[G(ZE,{node:l,renderElement:a}),s&&(c||Kf)&&h]})}function y2(e){return G(wh,{style:cZ,onClick:e.onClick,children:G(ZM,{width:12,fill:jf})})}function b2(e){return G(Kf?w2:C2,{...e})}function C2(e){const t=R(jU),n=Z(null),[o,i]=$((()=>zje(e))),[r,l]=$(""),s=Z(null),c=Z(!1);return F((()=>{var e,t;null===(t=null===(e=n.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})}),[]),X(wh,{style:tZ,onClick:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:[G(pk,{style:nZ,editable:!0,virtual:!1,value:o,ref:s,onChange:n=>{i(n),o.isEditPending&&requestAnimationFrame((async()=>{await t.safty(e.pageId),"outline"!==e.branch.type&&await t.safty(e.branch.id),t.dispatch(S7(e,n.node))}))},renderElement:qze}),G("input",{style:NZ,value:r,ref:n,onInput:e=>{var n,o,i;if(null===(n=t.stater.get().modal)||void 0===n?void 0:n.visible)return;const r=null===(o=null==s?void 0:s.current)||void 0===o?void 0:o.input,a=e.target.value.trim();c.current?l(a):(l(""),null===(i=null==r?void 0:r.onInput)||void 0===i||i.call(r,e))},onBlur:e=>{var t,o;const i=null===(t=null==s?void 0:s.current)||void 0===t?void 0:t.input;requestAnimationFrame((()=>{var e,t;null===(t=null===(e=n.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})})),l(""),c.current=!1,null===(o=null==i?void 0:i.onBlur)||void 0===o||o.call(i,e)},onCompositionStart:e=>{var n,o,i;if(null===(n=t.stater.get().modal)||void 0===n?void 0:n.visible)return;const r=null===(o=null==s?void 0:s.current)||void 0===o?void 0:o.input;c.current=!0,null===(i=null==r?void 0:r.onCompositionStart)||void 0===i||i.call(r,e)},onCompositionUpdate:e=>{var n,o,i;if(null===(n=t.stater.get().modal)||void 0===n?void 0:n.visible)return;const r=null===(o=null==s?void 0:s.current)||void 0===o?void 0:o.input;null===(i=null==r?void 0:r.onCompositionUpdate)||void 0===i||i.call(r,e)},onCompositionEnd:e=>{var n,o;if(null===(n=t.stater.get().modal)||void 0===n?void 0:n.visible)return;const i=null===(o=null==s?void 0:s.current)||void 0===o?void 0:o.input,r=()=>{var t;c.current=!1,l(""),null===(t=null==i?void 0:i.onCompositionEnd)||void 0===t||t.call(i,e)};Uf&&Jf?setTimeout(r,100):r()}})]})}function w2(e){const t=R(jU),[n,o]=$((()=>zje(e))),i=Z(null);F((()=>{const{dispatchKeyboardEvent:e}=d2,t=t=>{var n,o;const r=e_(),l=QH();if(1!==(null==l?void 0:l.length))return;if(l[0].uid!==r)return;const s=null===(n=i.current)||void 0===n?void 0:n.input;s&&(" "===t?e("keydown"," "):null===(o=s.onText)||void 0===o||o.call(s,t))},n=t=>{const n=e_(),o=QH();1===(null==o?void 0:o.length)&&o[0].uid===n&&e("keydown","Backspace")};return n_("insertText",t),n_("deleteLeft",n),()=>{o_("insertText",t),o_("deleteLeft",n)}}),[]);return G(wh,{style:tZ,onClick:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),children:G(pk,{style:nZ,editable:!0,virtual:!1,value:n,ref:i,onChange:i=>{o(i),n.isEditPending&&requestAnimationFrame((async()=>{await t.safty(e.pageId),"outline"!==e.branch.type&&await t.safty(e.branch.id),t.dispatch(S7(e,i.node))}))},renderElement:qze})})}function x2(e){var t;const n=_d(e),o=R(jU),i=R(WU),[r,l]=qd((()=>wqe(e))),s=G2(e,b2),c=_((e=>{l(fee(e))}),[l]),a=W((()=>nc(((e,t)=>{e(hee(n.current),gee(t))}),300)),[n]),u=jM(),d=u?4:0,f=Kf?"div":Dh;return X(f,{style:{...rZ,...e.style},children:[G(f,{style:{...vZ,minHeight:44+d,zIndex:101},children:X(wh,{style:{...gZ,height:28+d,borderRadius:(28+d)/2},children:[G("span",{style:mZ,children:G(uR,{width:u?13.5:13,fill:jf})}),G("input",{autoFocus:!Kf,style:yZ,value:null!==(t=r.searchText)&&void 0!==t?t:"",onInput:t=>{const n=t.target.value;l(dee(n)),n.trim()?a(l,n):(a.cancel(),l(hee(e)))}}),!r.searchText&&!Kf&&G("span",{style:bZ,children:""})]})}),G(RB,{style:lZ,showDot:!0,showMore:!1,value:r.result,onChange:c,render:s,onClickArrow:async(t,n,o,r)=>{var s,c;const a=[];if(!t.expand){const n=null!==(c=null===(s=e.file)||void 0===s?void 0:s.branch)&&void 0!==c?c:t,o={callback:e=>{e.id===n.id&&(e.active=!0)}},r=await CK(t,i,o);r.expand=t.expand,a.push(vee(r,t.path))}return a.push(pee(t,r)),l(...a),!0},onClickBranch:async(t,n)=>{var i;const{type:r,id:l}=t;if(void 0===r)return;if(!(null===(i=e.onClickBranch)||void 0===i?void 0:i.call(e,t,n))){if(n||"root"!==t.type||(n=t.id),"root"!==e.branch.type){const t=await xK(e.pageId),i=await xK(n);if((null==t?void 0:t[0])!==(null==i?void 0:i[0])){const e={visible:!0,title:" ",content:""};return void o.dispatch(tre(e))}}await o.safty(n),await o.safty(e.pageId),"page"!==r&&"root"!==r||await o.safty(l),"page"===e.branch.type&&await o.safty(e.branch.id,!0),o.dispatch(o6(["more","moving"]),x7(e,t,n),S6(e.branch.id))}},ScrollView:e.ScrollView})]})}const{startVibration:S2}=d2,{isBranchInclude:E2}=OB;function k2(e){return G(Kf?I2:D2,{...e})}function D2(e){const t=R(jU),n=R(WU),o=_d(e),i=ZK(),r=X5(),l=PK(e,i),s=Z5(e),c=U5(),[a,u]=$(""),[d,f]=$("");FK(e);const{clientHeight:h,clientWidth:p,currentPageId:v,isEditPending:g,isScrolling:m,editable:y=!0}=e.file,b=(t,n)=>{if(null==t?void 0:t.moving){const o={width:p};return G("div",{style:{boxShadow:Wf,borderRadius:4,overflow:"hidden"},children:G(x2,{...e,branch:t,pageId:n,style:o})})}return yje(e,t)},C=G2(e,b2),w=W((()=>nc((()=>{const e=t.stater.get();if(e.editor.isEditPending)return;o$e(VZe(e))}),100)),[t]),x=n=>{var o;(0,t.dispatch)(I6(n)),e.main&&(null===(o=e.file)||void 0===o?void 0:o.isScrolling)&&!n.isScrolling&&w()},S=(e,n)=>{const o=t.dispatch;return!0===e.more?o(o4(WFe())):o(o4(zFe())),o(u6(e),o6(["rename","moving"],e)),!0},E=async(o,i,r,l)=>{var s,c;const a=t.dispatch,u=[];if(!o.expand){const t=null!==(c=null===(s=e.file)||void 0===s?void 0:s.branch)&&void 0!==c?c:o,i={callback:e=>{e.id===t.id&&(e.active=!0)}},r=await CK(o,n,i);r.expand=o.expand,u.push(c6(r,o.path))}return u.push(q3(o),a6(o,l),jq(o)),a(...u),!0},k=async(o,i,r,l)=>{var s,c,a,u,d;const{type:f,id:h}=o;if(void 0===f)return;const p=t.dispatch,g=[o6(["rename","more","moving"],o),o4(zFe())];if("root"===f&&!1!==e.preventDefault)if(null===(s=o.children)||void 0===s?void 0:s[0])g.push(a6(o,l),jq(o));else{const e=await CK({...o,children:[null]},n,{deep:!0});e.expand=!0,g.push(c6(e,o.path),jq(o))}if((null===(a=null===(c=e.file)||void 0===c?void 0:c.branch)||void 0===a?void 0:a.id)!==h){if("page"===f||"root"===f){g.push(z3(o)),await t.safty(h),g.push(e6(e,h)),g.push(q3(o));const n=null===(u=e.file)||void 0===u?void 0:u.branch;"outline"===(null==n?void 0:n.type)&&E2(o,n)&&g.push(t6(e,h))}"outline"===f&&(g.push(z3(o)),await t.safty(i),v!==i&&g.push(e6(e,i)),g.push(t6(e,h))),p(...g),w(),null===(d=e.onClickBranch)||void 0===d||d.call(e,o,i)}else p(...g)},D=async(o,l,a)=>{var d,f,h,p,v,g,m,y,b,C,w;const{type:x,id:S,title:E}=l;if(void 0===x)return;let k=!1;const D=[o4(WFe())];if(o.value===WK.new){const t=null!==(f=null===(d=l.payload)||void 0===d?void 0:d.subclass)&&void 0!==f?f:0;if("outline"===x&&t<=iae.H6){const e={visible:!0,title:"",content:""};D.push(tre(e))}else D.push(C7(e,l,a))}else if(o.value===WK.ejson)k=!0,D.push(v7(e,l,a,n));else if(o.value===WK.emarkdown)k=!0,D.push(g7(e,l,a));else if(o.value===WK.eapplication)k=!0,D.push(m7(e,l,a,n));else if(o.value===WK.epdf)k=!0,D.push(b7());else if(o.value===WK.ehtml)k=!0,D.push(y7(e,l,a));else if(o.value===WK.ijson)u(""),null===(h=r.json.current)||void 0===h||h.click(),i.input.current={branch:l,pageId:a};else if(o.value===WK.imarkdown)u(""),null===(p=r.md.current)||void 0===p||p.click(),i.input.current={branch:l,pageId:a};else if(o.value===WK.idirectory)u(""),null===(v=r.dir.current)||void 0===v||v.click(),i.input.current={branch:l,pageId:a};else if(o.value===WK.ipdf)D.push(h7());else if(o.value===WK.ihtml)D.push(p7());else if(o.value===WK.duplicate)k=!0,D.push(w7(e,l,a),k7(a));else if(o.value===WK.move)k=!0,D.push(o4(zFe()),i6(e,l));else if(o.value===WK.rename)D.push(o4(zFe()),r6(e,l));else if(o.value===WK.delete){k=!0;const n=null===(g=e.file)||void 0===g?void 0:g.tree;if(n){const e=q_e(n,l);if(e){const{id:n,type:o}=e;"page"!==o&&"root"!==o||await t.safty(n)}const o=Y_e(n,l);if(o){const{id:e,type:n}=o;"page"!==n&&"root"!==n||await t.safty(e)}}D.push(S6(l.id),E7(e,l,a))}else if(o.value===WK.finder)"undefined"!=typeof electron&&electron.shell.showItemInFolder();else if(o.value===WK.transfer)"undefined"!=typeof electron&&electron.file.moveNote();else if(o.value===WK.syncNote){const o=null===(y=null===(m=e.file)||void 0===m?void 0:m.cloud)||void 0===y?void 0:y[l.id];if(null==o?void 0:o.length){const e=o.find((e=>e.bind));if(!e||(null==e?void 0:e.syncing))return;const{dispatch:i,stater:r}=t;let{webdav:c,file:a}=r.get();(null==c?void 0:c.list.length)||(c=Eqe(a));const u=zUe(c.list,l.id);u&&s(u,i,n,t)}}else if(o.value===WK.collapsedNote)D.push(d6(l),jq(l,void 0,!0));else if(o.value===WK.expandNote){const t=null===(b=e.file)||void 0===b?void 0:b.branch,o={callback:e=>{e.id===(null==t?void 0:t.id)?e.active=!0:delete e.active},deep:!0},i=await CK(l,n,o);delete i.more,D.push(c6(i,l.path),f6(l),jq(l,void 0,!0))}else if(o.value===WK.insertNote)D.push(Xie(e,l),E6());else if(o.value===WK.float){if(null===(C=l.float)||void 0===C?void 0:C.visible)D.push(l8(l));else{const e=kqe(l);D.push(i8(l,e))}D.push(jq(l))}else if(o.value===WK.readonly||o.value===WK.editable){const t=null===(w=e.file)||void 0===w?void 0:w.branch;let o=!1;const i={callback:e=>{e.id===(null==t?void 0:t.id)?(e.active=!0,o=!0):delete e.active},deep:!0},r=await CK(l,n,i);delete r.more;const s=!l.readonly;D.push(c6(r,l.path),h6(l,s),jq(l,void 0,!0)),t&&o&&D.push(z3(t))}"page"!==x&&"root"!==x||await t.safty(S,k),a&&await t.safty(a),function(i){var r,s,a;if(null===(r=t.stater.get().modal)||void 0===r?void 0:r.visible)return;const u=t.dispatch;if(o.value===WK.delete){if("page"===x&&E){const e=p$e([E],(()=>{u(tre({...e,visible:!1}),eY(S)),i()}));return void u(tre(e))}if("root"===x&&E){const o=null===(a=null===(s=e.file)||void 0===s?void 0:s.cloud)||void 0===a?void 0:a[S],r=null==o?void 0:o.find((e=>e.bind)),d=v$e(E,(async(e,o)=>{u(tre({...d,visible:!1})),(null==r?void 0:r.timer)&&clearTimeout(r.timer),u(Q4(S,null==r?void 0:r.id));const s=[];if(o&&r){const{stater:e}=t;let{webdav:o,file:i}=e.get();(null==o?void 0:o.list.length)||(o=Eqe(i));const r=zUe(o.list,l.id);r&&await c(r,u,n,t)}else{const e=await gF();e.data&&s.push(XU(e.data,!0))}u(eY(S)),i(),s.length&&u(...s)}),r);return void u(tre(d))}}if([WK.ihtml].includes(o.value)){const e={visible:!0,title:" ",content:""};return D.push(tre(e)),void i()}i()}((()=>{(0,t.dispatch)(...D)}))},I=Boolean(g||m);return W((()=>{const t={...DZ,width:p};if(Kf&&(t.overflow="hidden",t.borderTopLeftRadius=16),void 0===e.file)return G(Uh,{style:t,type:"right",children:G(Dh,{style:vZ,onPointerDown:e=>e.stopPropagation(),children:G(g2,{height:h,width:p,replaceholder:zK[e.lang][WK.replace]})})});const n=pje(e.file);let s;Kf&&(s=!0),!1===y&&(s=!1);const c=o.current.leafStyle;return G(ZU,{value:o.current,children:X(Uh,{style:t,borderStyle:{zIndex:1002},type:"right",ref:i.file,...l.file,children:[G(RB,{showDot:!0,value:n,showAdd:Kf,leafStyle:c,onChange:x,options:b,render:C,showMore:s,onClickArrow:E,onClickMore:S,onClickBranch:k,onClickMenu:D}),G(wh,{style:{...vZ,zIndex:d?1001:1},onPointerDown:e=>e.stopPropagation(),children:G(g2,{progress:!0,height:h,width:p,onChange:f,replaceable:y,replaceholder:zK[e.lang][WK.replace]})}),y&&!Kf&&G(wh,{onClick:e=>e.stopPropagation(),...l.resize,style:IZ}),G("input",{ref:r.json,...l.input,multiple:!0,value:a,type:"file",accept:".sli,.json",style:{display:"none"}}),G("input",{ref:r.md,...l.input,multiple:!0,value:a,type:"file",accept:".md",style:{display:"none"}}),G("input",{ref:r.dir,...l.input,multiple:!0,directory:!0,webkitdirectory:!0,value:a,type:"file",style:{display:"none"}})]})})}),[o,p,h,a,d,Hd(I)])}function I2(e){const t=R(jU),n=R(WU),o=_d(e),i=Z(null),[r,l]=$("");j(e.ref,(()=>({search:i})));const{clientHeight:s,clientWidth:c,currentPageId:a,isEditPending:u,isScrolling:d,scrollActive:f,editable:h=!0}=e.file,p=(t,n)=>{if(null==t?void 0:t.moving){const o={width:c};return G("div",{style:{boxShadow:Wf,borderRadius:4,overflow:"hidden"},children:G(x2,{...e,branch:t,pageId:n,style:o})})}return yje(e,t)},v=G2(e,b2),g=W((()=>nc((()=>{const e=t.stater.get();if(e.editor.isEditPending)return;o$e(VZe(e)),l$e(e.file);(0,t.dispatch)(wq({bootstrap:!0}))}),30)),[t]),m=n=>{var o,i;(0,t.dispatch)(I6(n)),e.main&&!r&&((null===(o=e.file)||void 0===o?void 0:o.isScrolling)&&!n.isScrolling||(null===(i=e.file)||void 0===i?void 0:i.isEditPending))&&g()},y=t=>{var n;l(t),null===(n=e.onChangeSearch)||void 0===n||n.call(e,t)},b=(t,n)=>{var o;return null===(o=e.onClickBranchMore)||void 0===o||o.call(e,t,n),!0},C=(t,n)=>{var o;return null===(o=e.onClickBranchAdd)||void 0===o||o.call(e,t,n),!0},w=async(o,i,r,l)=>{var s,c;const a=t.dispatch,u=[];if(!o.expand){const t=null!==(c=null===(s=e.file)||void 0===s?void 0:s.branch)&&void 0!==c?c:o,i={callback:e=>{ih||e.id===t.id&&(e.active=!0)}},r=await CK(o,n,i);r.expand=o.expand,u.push(c6(r,o.path))}return u.push(q3(o),a6(o,l),jq(o)),a(...u),!0},x=async(o,i,r,l)=>{var s,c,u,d;const{type:f,id:h}=o;if(void 0===f)return;const p=t.dispatch,v=[o6(["rename","more","moving"],o),o4(zFe())];if("root"===f&&!1!==e.preventDefault){if((null===(s=o.children)||void 0===s?void 0:s[0])&&o.expand)v.push(a6(o,l),jq(o));else{let e=o;(null===(c=o.children)||void 0===c?void 0:c[0])||(e={...o,children:[null]});const t=await CK(e,n,{deep:!0});t.expand=!0,v.push(c6(t,o.path),jq(o))}return p(...v),void S2()}if(!1===e.preventDefault){if("page"===f){v.push(z3(o)),await t.safty(h),v.push(e6(e,h)),v.push(q3(o));const n=null===(u=e.file)||void 0===u?void 0:u.branch;"outline"===(null==n?void 0:n.type)&&E2(o,n)&&v.push(t6(e,h))}"outline"===f&&(v.push(z3(o)),await t.safty(i),a!==i&&v.push(e6(e,i)),v.push(t6(e,h))),p(...v),g()}null===(d=e.onClickBranch)||void 0===d||d.call(e,o,i)},S=Boolean(u||d||f);return W((()=>{const t={...DZ,width:"100%",overflow:"hidden",borderTopLeftRadius:16};if(void 0===e.file)return G(Uh,{style:t,type:"right",children:G(Dh,{style:vZ,onPointerDown:e=>e.stopPropagation(),children:G(g2,{height:s,width:c,replaceholder:zK[e.lang][WK.replace]})})});const n=pje(e.file);let l;Kf&&(l=!0),!1===h&&(l=!1);const a=o.current.leafStyle;return G(ZU,{value:o.current,children:X(wh,{style:t,className:C$,children:[G(RB,{showDot:!0,value:n,showMore:l,showAdd:Kf,leafStyle:a,contentClassName:x$,stickyClassName:w$,scrollBarClassName:S$,onChange:m,options:p,render:v,onClickArrow:w,onClickMore:b,onClickAdd:C,onClickBranch:x}),G(wh,{style:{...vZ,zIndex:r?1001:1},onPointerDown:e=>e.stopPropagation(),children:G(g2,{progress:!0,height:s,width:c,ref:i,onChange:y,onClickBranch:e.onClickSearchBranch,onClickReplace:e.onClickSearchReplace,onDoubleClickBranch:e.onDoubleClickSearchBranch,replaceable:h,replaceholder:zK[e.lang][WK.replace]})})]})})}),[o,c,s,r,Hd(S)])}function N2(e){return X("div",{style:K$,children:[e.children,e.cursor&&G("div",{style:{...G$,cursor:e.cursor}})]})}function L2(e){var t,n;const o=R(jU),i=R(GU),{lang:r,toolbar:l,client:s,file:c,editable:a}=e,u=null==l?void 0:l.tools,d=null==l?void 0:l.resize,f=null==l?void 0:l.refresh,h=o.provider(),{context:p}=h,v=p.editor,g=(null!==(t=null==s?void 0:s.width)&&void 0!==t?t:0)-(null!==(n=null==c?void 0:c.clientWidth)&&void 0!==n?n:0);return W((()=>{if(void 0===u)return null;const t=o.dispatch,n={...Q$,width:g};a||(n.transform="translateY(-44px)");const l={...eZ};return a&&(l.transform="translateY(-44px)"),X(Dh,{style:J$,onPointerDown:e=>{e.stopPropagation(),t(u9(!1),r4())},onClick:e=>{t(o7())},children:[G(d$,{style:n,lang:r,tools:u,resize:d,ref:i,sliceTools:g$}),G(T2,{lang:e.lang,style:l,readonly:!a})]})}),[r,u,d,f,g,a,JSON.stringify(null==v?void 0:v.selectionStyle),JSON.stringify(null==v?void 0:v.selectionDecorate)])}function T2(e){return G("div",{style:e.style,children:G("div",{style:{marginLeft:5},children:G(f$,{lang:e.lang,...lAe,active:!1,hideTips:!e.readonly})})})}function B2(e){var t;const n=R(jU),o=n.stater.get();return G(Tk,{...o.modal,onCancel:e=>{var t,o;const i=n.stater.get();if(null===(t=i.modal)||void 0===t?void 0:t.onCancel)return null===(o=i.modal)||void 0===o?void 0:o.onCancel(e);(0,n.dispatch)(tre({...i.modal,visible:!1}))},onOk:e=>{var t,o;const i=n.stater.get();if(null===(t=i.modal)||void 0===t?void 0:t.onOk)return null===(o=i.modal)||void 0===o?void 0:o.onOk(e);(0,n.dispatch)(tre({...i.modal,visible:!1}))},children:G("div",{style:aZ,children:null===(t=o.modal)||void 0===t?void 0:t.content})})}function A2(e){const t=Z({});return G(GU,{value:t,children:G(wh,{style:X$,onPointerDown:e=>e.stopPropagation(),children:e.children})})}var M2={exports:{}};M2.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],o=e[1],i=e[2],r=e[3];o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+t[0]-680876936|0)<<7|n>>>25)+o|0)&o|~n&i)+t[1]-389564586|0)<<12|r>>>20)+n|0)&n|~r&o)+t[2]+606105819|0)<<17|i>>>15)+r|0)&r|~i&n)+t[3]-1044525330|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+t[4]-176418897|0)<<7|n>>>25)+o|0)&o|~n&i)+t[5]+1200080426|0)<<12|r>>>20)+n|0)&n|~r&o)+t[6]-1473231341|0)<<17|i>>>15)+r|0)&r|~i&n)+t[7]-45705983|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+t[8]+1770035416|0)<<7|n>>>25)+o|0)&o|~n&i)+t[9]-1958414417|0)<<12|r>>>20)+n|0)&n|~r&o)+t[10]-42063|0)<<17|i>>>15)+r|0)&r|~i&n)+t[11]-1990404162|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+t[12]+1804603682|0)<<7|n>>>25)+o|0)&o|~n&i)+t[13]-40341101|0)<<12|r>>>20)+n|0)&n|~r&o)+t[14]-1502002290|0)<<17|i>>>15)+r|0)&r|~i&n)+t[15]+1236535329|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+t[1]-165796510|0)<<5|n>>>27)+o|0)&i|o&~i)+t[6]-1069501632|0)<<9|r>>>23)+n|0)&o|n&~o)+t[11]+643717713|0)<<14|i>>>18)+r|0)&n|r&~n)+t[0]-373897302|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+t[5]-701558691|0)<<5|n>>>27)+o|0)&i|o&~i)+t[10]+38016083|0)<<9|r>>>23)+n|0)&o|n&~o)+t[15]-660478335|0)<<14|i>>>18)+r|0)&n|r&~n)+t[4]-405537848|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+t[9]+568446438|0)<<5|n>>>27)+o|0)&i|o&~i)+t[14]-1019803690|0)<<9|r>>>23)+n|0)&o|n&~o)+t[3]-187363961|0)<<14|i>>>18)+r|0)&n|r&~n)+t[8]+1163531501|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+t[13]-1444681467|0)<<5|n>>>27)+o|0)&i|o&~i)+t[2]-51403784|0)<<9|r>>>23)+n|0)&o|n&~o)+t[7]+1735328473|0)<<14|i>>>18)+r|0)&n|r&~n)+t[12]-1926607734|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+t[5]-378558|0)<<4|n>>>28)+o|0)^o^i)+t[8]-2022574463|0)<<11|r>>>21)+n|0)^n^o)+t[11]+1839030562|0)<<16|i>>>16)+r|0)^r^n)+t[14]-35309556|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+t[1]-1530992060|0)<<4|n>>>28)+o|0)^o^i)+t[4]+1272893353|0)<<11|r>>>21)+n|0)^n^o)+t[7]-155497632|0)<<16|i>>>16)+r|0)^r^n)+t[10]-1094730640|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+t[13]+681279174|0)<<4|n>>>28)+o|0)^o^i)+t[0]-358537222|0)<<11|r>>>21)+n|0)^n^o)+t[3]-722521979|0)<<16|i>>>16)+r|0)^r^n)+t[6]+76029189|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+t[9]-640364487|0)<<4|n>>>28)+o|0)^o^i)+t[12]-421815835|0)<<11|r>>>21)+n|0)^n^o)+t[15]+530742520|0)<<16|i>>>16)+r|0)^r^n)+t[2]-995338651|0)<<23|o>>>9)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+t[0]-198630844|0)<<6|n>>>26)+o|0)|~i))+t[7]+1126891415|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+t[14]-1416354905|0)<<15|i>>>17)+r|0)|~n))+t[5]-57434055|0)<<21|o>>>11)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+t[12]+1700485571|0)<<6|n>>>26)+o|0)|~i))+t[3]-1894986606|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+t[10]-1051523|0)<<15|i>>>17)+r|0)|~n))+t[1]-2054922799|0)<<21|o>>>11)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+t[8]+1873313359|0)<<6|n>>>26)+o|0)|~i))+t[15]-30611744|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+t[6]-1560198380|0)<<15|i>>>17)+r|0)|~n))+t[13]+1309151649|0)<<21|o>>>11)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+t[4]-145523070|0)<<6|n>>>26)+o|0)|~i))+t[11]-1120210379|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+t[2]+718787259|0)<<15|i>>>17)+r|0)|~n))+t[9]-343485551|0)<<21|o>>>11)+i|0,e[0]=n+e[0]|0,e[1]=o+e[1]|0,e[2]=i+e[2]|0,e[3]=r+e[3]|0}function o(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function r(e){var t,i,r,l,s,c,a=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(u,o(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(n(u,r),t=0;t<16;t+=1)r[t]=0;return l=(l=8*a).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(l[2],16),c=parseInt(l[1],16)||0,r[14]=s,r[15]=c,n(u,r),u}function l(e){var t,o,r,l,s,c,a=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(u,i(e.subarray(t-64,t)));for(o=(e=t-64<a?e.subarray(t-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(n(u,r),t=0;t<16;t+=1)r[t]=0;return l=(l=8*a).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(l[2],16),c=parseInt(l[1],16)||0,r[14]=s,r[15]=c,n(u,r),u}function s(e){var n,o="";for(n=0;n<4;n+=1)o+=t[e>>8*n+4&15]+t[e>>8*n&15];return o}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function a(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n,o=e.length,i=new ArrayBuffer(o),r=new Uint8Array(i);for(n=0;n<o;n+=1)r[n]=e.charCodeAt(n);return t?r:i}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var o=new Uint8Array(e.byteLength+t.byteLength);return o.set(new Uint8Array(e)),o.set(new Uint8Array(t),e.byteLength),n?o:o.buffer}function h(e){var t,n=[],o=e.length;for(t=0;t<o-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return c(r("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,o){var i,r,l,s,c=this.byteLength,a=t(n,c),u=c;return o!==e&&(u=t(o,c)),a>u?new ArrayBuffer(0):(i=u-a,r=new ArrayBuffer(i),l=new Uint8Array(r),s=new Uint8Array(this,a,i),l.set(s),r)}}(),p.prototype.append=function(e){return this.appendBinary(a(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,o(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,n,o=this._buff,i=o.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(r,i),n=c(this._hash),e&&(n=h(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var o,i,r,l=t;if(e[l>>2]|=128<<(l%4<<3),l>55)for(n(this._hash,e),l=0;l<16;l+=1)e[l]=0;o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),r=parseInt(o[1],16)||0,e[14]=i,e[15]=r,n(this._hash,e)},p.hash=function(e,t){return p.hashBinary(a(e),t)},p.hashBinary=function(e,t){var n=c(r(e));return t?h(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,o=f(this._buff.buffer,e,!0),r=o.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)n(this._hash,i(o.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(o.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,o=this._buff,i=o.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=o[t]<<(t%4<<3);return this._finish(r,i),n=c(this._hash),e&&(n=h(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=d(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=c(l(new Uint8Array(e)));return t?h(n):n},p}();var O2=XB(M2.exports);const{isSelectionOutView:R2,isCollapsed:P2,deleteBackward:F2,sortSelection:H2,insertNode:_2}=hk;function j2(e){var t,n,o;const i=R(jU),{gfocus:r,modal:l}=e;if((null==l?void 0:l.visible)||!e.editable)return null;if(!r||!iHe(r))return null;const s=i.provider(),{context:c,imperator:a}=s,u=c.editor;let d=!1,f=!1;if(u.selection&&(d=!0),!Kf&&(f=R2(u),!d&&!f&&(null===(t=c.focus)||void 0===t?void 0:t.child))){const e=null===(n=null==a?void 0:a.current)||void 0===n?void 0:n.input,t=null===(o=null==e?void 0:e.getBoundingClientRect)||void 0===o?void 0:o.call(e);(!t||t.top<0)&&(f=!0)}return!d||f?null:G(W2,{...e})}function W2(e){const t=Z(null),n=R(jU),o=Z(!1),i=Z(!1),r=Z(!1),[l,s]=$(""),[c,a]=$({}),{gfocus:u}=e,d=()=>{var e,t;const o=n.provider(),{imperator:i}=o,r=null===(e=null==i?void 0:i.current)||void 0===e?void 0:e.input,l=null===(t=null==r?void 0:r.getBoundingClientRect)||void 0===t?void 0:t.call(r);if(!l)return;const s={top:l.top,left:l.left,fontSize:l.height};Fc(s,c)||a(s)};async function f(t,o){var i;const r=n.dispatch;if(u&&CHe(u)&&!(null===(i=n.stater.get().modal)||void 0===i?void 0:i.visible)){const{editor:{node:i,selection:l}}=e;if(l&&!P2(l)){const e=gFe(i,l);if(e.length){const i=p$e(e,(async()=>{var l;r(tre({...i,visible:!1}));const s=[];for(const t of e){const e=null===(l=t.props)||void 0===l?void 0:l.id;e&&(s.includes(e)||s.push(e),await n.safty(e,!0))}r(tY(s)),o?o():t()}));return void r(tre(i))}}}t()}H((()=>{var e,n;d(),null===(n=null===(e=t.current)||void 0===e?void 0:e.focus)||void 0===n||n.call(e,{preventScroll:!0})}));return G("textarea",{style:{...sZ,...c},ref:t,value:l,onFocus:()=>{i.current=!0,d()},onInput:e=>{var t,i,l;if(null===(t=n.stater.get().modal)||void 0===t?void 0:t.visible)return;const c=null===(i=n.provider())||void 0===i?void 0:i.imperator,a=null===(l=null==c?void 0:c.current)||void 0===l?void 0:l.input;if(r.current)return void(r.current=!1);const u=jze(e);f((()=>{var e;const t=u.target.value.trim();if(""!==t){if("/"===t||""===t)return o.current?void s(t):(null===(e=c.current)||void 0===e||e.commit(fMe()),void requestAnimationFrame(n));n()}function n(){var e;o.current?s(t):(s(""),null===(e=null==a?void 0:a.onInput)||void 0===e||e.call(a,u))}}))},onBlur:e=>{var r,l,c,a,u;const d=null===(r=n.provider())||void 0===r?void 0:r.imperator,f=null===(l=null==d?void 0:d.current)||void 0===l?void 0:l.input;Kf?null===(a=null===(c=t.current)||void 0===c?void 0:c.focus)||void 0===a||a.call(c,{preventScroll:!0}):requestAnimationFrame((()=>{var e,n;null===(n=null===(e=t.current)||void 0===e?void 0:e.focus)||void 0===n||n.call(e,{preventScroll:!0})})),s(""),o.current=!1,i.current=!0,null===(u=null==f?void 0:f.onBlur)||void 0===u||u.call(f,e)},onPaste:e=>{var t,o,i,l,s;if(null===(t=n.stater.get().modal)||void 0===t?void 0:t.visible)return;const c=n.provider(),{imperator:a,rootstate:u,rootdispatch:d}=c,f=null===(o=null==a?void 0:a.current)||void 0===o?void 0:o.input;r.current=!0;const h=null===(i=null==e?void 0:e.clipboardData)||void 0===i?void 0:i.files;if(null==h?void 0:h.length)for(let e=0;e<h.length;e++)-1!==h[e].type.indexOf("image")&&z2(h[e],u,d,null!==(l=null==a?void 0:a.current)&&void 0!==l?l:null);else null===(s=null==f?void 0:f.onPaste)||void 0===s||s.call(f,e)},onCompositionStart:e=>{var t,i,r;if(null===(t=n.stater.get().modal)||void 0===t?void 0:t.visible)return;const l=null===(i=n.provider())||void 0===i?void 0:i.imperator,s=null===(r=null==l?void 0:l.current)||void 0===r?void 0:r.input;f((()=>{var t;o.current=!0,null===(t=null==s?void 0:s.onCompositionStart)||void 0===t||t.call(s,e)}),(()=>{var e;null===(e=null==l?void 0:l.current)||void 0===e||e.commit(F2())}))},onCompositionUpdate:e=>{var t,i,r,l;if(null===(t=n.stater.get().modal)||void 0===t?void 0:t.visible)return;const s=e.data.trim();if(!s)return void(o.current=!1);if(""===s)return;const c=null===(i=n.provider())||void 0===i?void 0:i.imperator,a=null===(r=null==c?void 0:c.current)||void 0===r?void 0:r.input;null===(l=null==a?void 0:a.onCompositionUpdate)||void 0===l||l.call(a,e)},onCompositionEnd:e=>{var t,i,r,l;if(null===(t=n.stater.get().modal)||void 0===t?void 0:t.visible)return;const c=null===(i=n.provider())||void 0===i?void 0:i.imperator,a=null===(r=null==c?void 0:c.current)||void 0===r?void 0:r.input;if(""===e.data.trim())return null===(l=c.current)||void 0===l||l.commit(fMe()),void requestAnimationFrame(u);function u(){const t=()=>{var t;o.current=!1,s(""),null===(t=null==a?void 0:a.onCompositionEnd)||void 0===t||t.call(a,e)};Uf&&Jf?setTimeout(t,30):t()}u()}})}function z2(e,t,n,o){const{type:i}=e,r=new FileReader;r.onload=e=>{var r;const l=null===(r=e.target)||void 0===r?void 0:r.result;if(!Tc(l))return;const s=new O2.ArrayBuffer;s.append(l);const c=`${s.end()}.${i}`,a=new Blob([l],{type:i}),u=new FileReader;u.onload=e=>{var r;const s=null===(r=e.target)||void 0===r?void 0:r.result;if(!Cc(s))return;const a=new Image;a.onload=async()=>{var e,r;const s=await MF(c);if(0!==s.ok&&s.data){if(!(null===(r=null===(e=t.store)||void 0===e?void 0:e.reference)||void 0===r?void 0:r[c])){const e=await GY(c);e&&n(yq({[c]:e}))}}else await TF(c,l);const u=t.editor.style;null==o||o.commit((e=>{if(void 0===e.selection)return e;const{before:{path:t}}=H2(e.selection),n=IFe(e,t,u),o=Xde(a,n,c,i);return e=_2(o)(e)}))},a.src=s},u.readAsDataURL(a)},r.readAsArrayBuffer(e)}function V2(e){var t;const n=R(jU),o=R(WU),{target:i}=e,r=null===(t=e.file)||void 0===t?void 0:t.isEditPending,l=e.editor.isScrolling,s=Boolean(r||l),[c,a]=qd((()=>{var t;const n=null!==(t=oje(e))&&void 0!==t?t:i.id;return{value:vje(i,n,0,!0),pageId:i.id,id:n,float:i.float}}),Lee()),u=X2(i,c.id),d=W((()=>nc((()=>{const e=n.stater.get();if(e.editor.isEditPending)return;o$e(VZe(e))}),100)),[n]),f=_K(e,c,a),h=()=>{n.dispatch(l8(i),jq(i))},p=()=>{var e;const t=!(null===(e=i.float)||void 0===e?void 0:e.sticky);a(Dee({sticky:t})),t&&a(Eee(i,!0)),setTimeout((()=>{if(t){const e=kqe(i);n.dispatch(r8(i,e))}else n.dispatch(r8(i,{sticky:t}));n.dispatch(jq(i))}))},v=e=>{a(Cee(e))},g=(e,t,n,o)=>{a(Nee(e,o))},m=t=>{var o;if((null===(o=e.file)||void 0===o?void 0:o.currentPageId)!==i.id)return;a(See(t.id));const r=[t6(e,t.id),S6(t.id)];"outline"===t.type&&r.push(z3(t.id)),n.dispatch(...r),d()},y=()=>{a(Eee(i,!0))},b=()=>{var e;(null===(e=c.float)||void 0===e?void 0:e.sticky)&&setTimeout((()=>{a(Eee(i,!1)),setTimeout((()=>{const e=kqe(i);n.dispatch(r8(i,e),jq(i))}),30)}),100)};return H((()=>{const t=oje(e);t!==c.id&&a(See(t))}),[Hd(s)]),F((()=>{a(kee(i,c.id))}),[c.id,r]),F((()=>{(async()=>{var e;if((null===(e=i.children)||void 0===e?void 0:e.length)&&!i.children[0]){const e=await CK(i,o);n.dispatch(c6(e,i.path))}a(Eee(i,!1))})()}),[i.id]),W((()=>{var t,n,o,r,l,s;const a={width:null===(t=c.float)||void 0===t?void 0:t.width,height:null===(n=c.float)||void 0===n?void 0:n.height},d={},C=null===(o=c.float)||void 0===o?void 0:o.sticky;let w=[];const x=W_e(c.value.tree[0]).slice(1),S=x.findIndex((e=>e.id===c.id));let E=Math.max(0,S-15);E+31>x.length&&(E=Math.max(0,x.length-31)),w=x.length>31?x.slice(E,E+31):x;const k=15*Math.min(w.length,15),D=null===(r=c.float)||void 0===r?void 0:r.width,I=null===(l=c.float)||void 0===l?void 0:l.height,N=D?(23/D).toFixed(3):0,L=I?(k/I).toFixed(3):0;if(C&&!c.fully){const e=kqe(i),t=`translate3d(${e.left}px, ${e.top}px, 0)`,n=`scale3d(${N}, ${L}, 1)`;a.transform=`${t} ${n}`,a.opacity=0,a.pointerEvents="none";const o="scale3d(1, 1, 1)";d.transform=o,d.opacity=1}if(!C||c.fully){const e=null!==(s=c.float)&&void 0!==s?s:kqe(i),t=`translate3d(${e.left}px, ${e.top}px, 0)`,n="scale3d(1, 1, 1)";a.transform=`${t} ${n}`,a.opacity=1;const o=`scale3d(${N}, ${L}, 1)`;d.transform=o,d.opacity=0,d.pointerEvents="none"}return c.moving&&(a.transition="none"),X(ZU,{value:e,children:[X("div",{style:{...LZ,...a},onPointerLeave:b,onPointerDown:e=>e.stopPropagation(),children:[X(wh,{style:BZ,...f.menu,children:[G(Ev,{type:"background",style:{...AZ,marginRight:2},onClick:p,children:G("div",{style:{transform:`rotate(${C?-45:0}deg)`},children:G(PO,{})})}),G(Ev,{type:"background",style:AZ,onClick:h,children:G(ZM,{width:13.5})})]}),G(RB,{showDot:!0,showMore:!1,style:TZ,value:c.value,render:u,onChange:v,onClickArrow:g,onClickBranch:m}),G("div",{style:MZ,...f.leftEdge}),G("div",{style:OZ,...f.rightEdge}),G("div",{style:RZ,...f.topEdge}),G("div",{style:PZ,...f.bottomEdge})]}),G("div",{style:FZ,children:G("div",{style:{...HZ,...d},onPointerEnter:y,onPointerDown:e=>e.stopPropagation(),children:w.map((e=>{const t=ije(e),n={...jZ};return e.active?n.backgroundColor=Hf:n.backgroundColor=jf,G("div",t>=7?{style:{..._Z,width:23,height:2.5,backgroundColor:e.active?Hf:jf}}:{style:_Z,children:Array(t).fill(0).map(((e,t)=>G("span",{style:n},t)))},e.id)}))})})]})}),[c.refresh,c.fully,c.moving])}function $2(e){const t=_d(R(RU)),n=R(WU),[o,i]=$();F((()=>{var o;(null===(o=t.current.file)||void 0===o?void 0:o.currentPageId)!==e.pageId?(async()=>{const t=await ZY(e.pageId,n,!0);i(t)})():i(t.current.editor)}),[e.pageId,n,t]);const r="function"==typeof XQ?XQ:XQ.default,l=(null==o?void 0:o.createTime)&&r(o.createTime).format("YYYY/MM/DD"),s=(null==o?void 0:o.updateTime)&&r(o.updateTime).format("MMDD HH:mm");return X(Dh,{style:AU,children:[X("div",{style:MU,children:[G("span",{children:""}),G("span",{children:l})]}),X("div",{style:MU,children:[G("span",{children:""}),G("span",{children:s})]})]})}const{EditElement:Z2,createInlineNode:U2,isNode:q2,removeBoxSizeStyle:Y2,transformNodeToEditNode:K2}=hk;function G2(e,t){var n;const o=null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.clientWidth;return _(((e,n)=>{var i;const{title:r,rename:l}=e;if(!q2(r))return r;const s=null!==(i=e.level)&&void 0!==i?i:0;let c=(null!=o?o:0)-14*s-50;return Kf&&(c-=36),l&&t?G(FU,{value:{current:{}},children:G(Z2,{value:null,children:G(t,{lang:"cn",branch:e,pageId:n,clientWidth:c})})}):G(c3,{node:r,width:c})}),[o,t])}function X2(e,t){var n;const o=null===(n=null==e?void 0:e.float)||void 0===n?void 0:n.width;return _(((e,n)=>{var i;const{title:r}=e;if(!q2(r))return r;const l=null!==(i=e.level)&&void 0!==i?i:0;let s=(null!=o?o:D$)-14*l-30;"root"===e.type&&(s-=20);const c={};return e.id===t&&(c.fontWeight="bolder"),G(c3,{style:c,node:r,width:s})}),[o,t])}function J2(e,t,n){const{clientWidth:o}=e;return _(((e,i,r)=>{var l;const{title:s}=e;if(!q2(s))return null!=s?s:null;const c=null!==(l=e.level)&&void 0!==l?l:0;let a=null!=o?o:0;a-=(c+1)*(n&&((null==r?void 0:r.active)||Kf)?20:12),a-="outline"===e.type?2:20;const u=Kf?15:14,d=Y2({...s.style,...nZ,width:a,fontSize:u,pointerEvents:"none"}),f=tae(s),h=[bPe(K2(U2(s.children,{...d,width:a}),s.key),u)],p={...s.props};f&&delete p.style;const v={...s,style:{...d,display:"inline-flex",alignItems:"center",pointerEvents:"none"},props:p,children:h};return G(t,{...r,pageId:i,branch:e,node:v,replace:n,renderElement:Zze})}),[o,t,n])}function Q2(e){var t;const{flush:n}=R(RU),o=_d(e.editor);return e.root&&(null===(t=null==n?void 0:n.ids)||void 0===t?void 0:t.length)&&(o.current=fFe(e,n)),o}function e5(e,t){return _((()=>{const n=e.current.options;if(n){const e=hFe(n);t(w9(e),Dq())}}),[e,t])}function t5(e,t,n){const o=R(jU),i=R(WU),r=_d(e),l=_d(t),s=Z(""),{searchText:c,branchRemoved:a}=t,u=W((()=>nc(((e,t)=>{e(t)}),100)),[]);F((()=>{let e=null,t=!1;return(async()=>{const a=r.current,d=l.current,f=o.stater.get();if(""===(null==c?void 0:c.trim())){const e=d.result.count;return void(e&&e>0&&n(q7()))}const{store:h,regional:p}=f;if(!h)return void n(V7(!1));let v=a.pageId;const g=void 0!==v;let m=[];if(!g)if(p){const e={...h.catalog};for(const t in e){const{type:n,id:o}=e[t];"page"===n&&o!==v&&m.push(o)}}else{const e=await bF();1===e.ok&&e.data&&(m=e.data)}const y=m.length;void 0===v&&(v=m.shift());const b={...h.editor};u((async function o(r){const{research:c,searchText:a}=l.current;if(t||!c||!v||!a)return void(c&&n(V7(!1)));let u,d=b[v];if(void 0===d){const e=await ZY(v,i);if(void 0===e)return void(m.length?(v=m[0],m.shift()):n(V7(!1)));const{uids:t}=e;if(t){const e=ia(Object.values(t));u=await KY(e)}d=e,b[v]=e}else u=null==h?void 0:h.reference;mFe(d,{reference:u});const{data:f}=d,p=await MWe(a,f,[],{},i,s,(async e=>{if(!l.current.searchText)return;if(!e)return void(r&&n(q7()));if(!v)return;e.id=v;const t=[];t.push(G7(e)),t.push(U7(g,!0)),n(...t)}));if(y){const e=y-m.length;n(W7(`${e}/${y}`))}else n(W7(""));if(!0===r&&!0===p&&(r=!1),m.length)e=setTimeout((()=>o(r)));else{const e=l.current.replaceText;(null==e?void 0:e.trim())&&n(ree(e)),r&&n(q7()),n(V7(!1))}delete b[v],v=m[0],m.shift()}),!0)})(),()=>{u.cancel(),"function"==typeof s.current&&s.current(),s.current=aRe(!0),null!==e&&clearTimeout(e),t=!0}}),[r,l,c,o,i,n,u]),F((()=>{var e,t;const{store:i}=o.stater.get(),{result:{tree:s},searchText:c}=l.current;if(!a||!c||!(null===(e=s[0].children)||void 0===e?void 0:e.length))return;let u=r.current.pageId;const d=!!u;if(void 0===u){const e=$_e(s,a.id);if(null===e)return;u=e.id}const f=null===(t=null==i?void 0:i.editor)||void 0===t?void 0:t[u];if(!f)return;mFe(f,{reference:null==i?void 0:i.reference});const h=f.data,{payload:p}=a,v=OWe(c,p,h);null!==v&&n(K7(),see(v,p,u,d))}),[n,r,l,o,a])}function n5(e,t,n){const o=_d(e),i=_d(t),{searchText:r,replaceText:l}=t;F((()=>{if(!(null==r?void 0:r.trim()))return;if(!(null==l?void 0:l.trim()))return void n(lee());const{result:e}=i.current;e.count&&n(ree(l))}),[o,i,r,l,n])}async function o5(e){void 0===e&&(e=document.body.clientWidth<=1280);const t=rh?"helper.hybrid":e?"helper.slim":"helper";if(!await _M(t)){const t=e?PVe():OVe();if(t)return t}try{const n=`./api/${t}.sli`,o=await cA(n,{type:"arrayBuffer"}),i=new FH((e=>{})),r=new Uint8Array(o),l=aRe(!0);i.start({[l]:r});const s=i.record[l];return e?RVe(s):MVe(s),s}catch(e){console.error(e)}return null}async function i5(){if(!await _M("changelog")){const e=zVe();if(e)return e}try{const e="./api/changelog.sli",t=await cA(e,{type:"arrayBuffer"}),n=new FH((e=>{})),o=new Uint8Array(t),i=aRe(!0);n.start({[i]:o});const r=n.record[i];return WVe(r),r}catch(e){console.error(e)}return null}async function r5(){if(!await _M("feedback")){const e=$Ve();if(e)return e}try{const e="./api/feedback.sli",t=await cA(e,{type:"arrayBuffer"}),n=new FH((e=>{})),o=new Uint8Array(t),i=aRe(!0);n.start({[i]:o});const r=n.record[i];return VVe(r),r}catch(e){console.error(e)}return null}async function l5(){const e="plan";if(!await _M(e)){const e=GVe();if(e)return e}try{const t=`./api/${e}.sli`,n=await cA(t,{type:"arrayBuffer"}),o=new FH((e=>{})),i=new Uint8Array(n),r=aRe(!0);o.start({[r]:i});const l=o.record[r];return KVe(l),l}catch(e){console.error(e)}return null}async function s5(){const e=rh?"pricing.hybrid":"pricing";if(!await _M(e)){const e=UVe();if(e)return e}try{const t=`./api/${e}.sli`,n=await cA(t,{type:"arrayBuffer"}),o=new FH((e=>{})),i=new Uint8Array(n),r=aRe(!0);o.start({[r]:i});const l=o.record[r];return ZVe(l),l}catch(e){console.error(e)}return null}async function c5(e){var t,n;try{const o=await e.getFileContents(H$,"text");if(!o.data)return null!==(t=o.msg)&&void 0!==t?t:null;try{return JSON.parse(o.data)}catch(e){const t=VM(o.data);return 404===t.code?null:200===t.code?"":null!==(n=t.msg)&&void 0!==n?n:""}}catch(e){return null}}async function a5(e){var t,n;try{const o=await e.getFileContents(_$,"text");if(!o.data)return null!==(t=o.msg)&&void 0!==t?t:null;try{return JSON.parse(o.data)}catch(e){const t=VM(o.data);return 404===t.code?null:200===t.code?"":null!==(n=t.msg)&&void 0!==n?n:""}}catch(e){return null}}async function u5(e,t,n){var o,i;try{const r=await e.getFileContents(t,"text");if(!r.data)return null!==(o=r.msg)&&void 0!==o?o:n();try{return JSON.parse(r.data)}catch(e){const t=VM(r.data);return 404===t.code?n():200===t.code?"":null!==(i=t.msg)&&void 0!==i?i:""}}catch(e){return null}}async function d5(e,t,n){var o;try{const i=await e.getFileContents(t,"arrayBuffer");if(!i.data)return{};try{const e={[t]:new Uint8Array(i.data)},o=await n.decompression(e);return o[t]?o[t]:(console.warn("getWebDavSDBData decompression failed"),{})}catch(e){const t=new TextDecoder("utf-8"),n=VM(t.decode(i.data));return 404===n.code?{}:200===n.code?"":null!==(o=n.msg)&&void 0!==o?o:""}}catch(e){return{}}}async function f5(e,t,n,o){var i,r;let l=FUe(n);if(null==l?void 0:l.file){let n=l.file.tree.filter((e=>e.id===t));if(n.length){const t=await c5(e);if(Cc(t))return t;if(null===t){delete l.file.branch,l.file.tree=n;const t=await e.putFileContents(H$,JSON.stringify(l));if(200!==t.code)return null!==(i=t.msg)&&void 0!==i?i:""}else if(t.file){const i=t.file.tree;let l=!1;for(let e=0;e<i.length;e++){const t=n.findIndex((t=>t.id===i[e].id));if(-1!==t){const r=ds(n[t]),s=ds(i[e]),c=["uids","path","expand"];for(const e of c)delete r[e],delete s[e];Fc(r,s)||o.push.reference.includes(n[t].id)&&(l=!0,i[e]=n[t]),n.splice(t,1)}}if(n.length>0&&(l=!0,i.push(...n)),l){for(let e=0;e<i.length;e++)i[e].path=[e];const n=await e.putFileContents(H$,JSON.stringify(t));if(200!==n.code)return null!==(r=n.msg)&&void 0!==r?r:""}}}}return!0}async function h5(e,t){var n;const o=await e.putFileContents(_$,JSON.stringify(t));return 200===o.code||(null!==(n=o.msg)&&void 0!==n?n:"")}const{recursiveTree:p5}=OB;async function v5(e,t,n,o,i,r){const l=Object.keys(n),s=Vr(l,5),c=[],a=[...l],u=e=>{if(e){const t=a.indexOf(e);-1!==t&&a.splice(t,1)}const n=`${l.length-a.length}/${l.length}`;o(Qre(t,` ${n}`))};u();for(let t=0;t<s.length;t++){await Promise.all(s[t].map((async t=>{var o,l,s;const a=n[t];let d=!0;if(null===(o=a.data)||void 0===o?void 0:o.segments){const n={};for(const e of null!==(s=null===(l=a.data)||void 0===l?void 0:l.segments)&&void 0!==s?s:[]){const t=await xF(e);1===t.ok&&t.data&&(n[e]=t.data)}for(const o in n){const i=`${V$}/${o}.sli`;200!==(await e.putFileContents(i,n[o])).code&&(d=!1,c.push(t))}}if(a.buffer){const n=`${j$}/${t}.sli`;200!==(await e.putFileContents(n,a.buffer)).code&&(d=!1,c.push(t))}d&&(u(t),E5(t,"editor",i,r))})));const l=await h5(e,r);if(!0!==l)return l;o(XU(i,!0))}return!(c.length>0)||(c.length===l.length?"":"")}async function g5(e,t,n,o,i,r,l){var s,c,a,u,d;const f=new ZUe(R$,100,ps(n)),h={};for(const e of l.push.catalog){const{uuid:n,sn:o}=fRe(e),i=null===(c=null===(s=t.catalog)||void 0===s?void 0:s[n])||void 0===c?void 0:c[o];(null==i?void 0:i.data)&&(h[e]=i.data)}const p=[];for(const e in h){const t=f.setPath(e);p.includes(t)||p.push(t)}const v=await Promise.all(p.map((t=>{const n=tA.join(A$,t);return d5(e,n,o)})));let g=!1;for(const e in h){const t=f.getPath(e);if(!t)continue;const n=p.indexOf(t);if(-1===n)continue;const o=v[n];if(Cc(o))return o;(null===(a=h[e].segments)||void 0===a?void 0:a.length)?g=!0:Fc(o[e],h[e])||(g=!0),g&&(null===(u=o[e])||void 0===u?void 0:u.children)&&p5(o[e].children,(e=>{var t,n,o;if("outline"!==e.type){const r=e.id,{uuid:s,sn:c}=fRe(r);(null===(o=null===(n=null===(t=i.delete)||void 0===t?void 0:t.editor)||void 0===n?void 0:n[s])||void 0===o?void 0:o.includes(c))&&(l.delete.remote.editor.includes(r)||l.delete.remote.editor.push(r),l.delete.remote.catalog.includes(r)||l.delete.remote.catalog.push(r),l.delete.remote.reference.includes(r)||l.delete.remote.reference.push(r))}})),o[e]=h[e]}if(g){const t=await Promise.all(p.map((async(t,n)=>{const i=tA.join(A$,t),r=v[n],l=await o.compression({[i]:r});return await e.putFileContents(i,l[i])})));if(t.some((e=>200!==e.code)))return"";const i=f.getData();if(!Fc(i,n)){const t=await e.putFileContents($$,JSON.stringify(i));if(200!==t.code)return null!==(d=t.msg)&&void 0!==d?d:""}}return!0}async function m5(e,t,n,o,i,r,l){var s,c,a,u;const d=new ZUe(P$,1e3,ps(n)),f=[];for(const e in t){const{data:n}=t[e].data,o=null===(s=n.props)||void 0===s?void 0:s.id;if(!o)continue;const i=d.setPath(o);f.includes(i)||f.push(i)}let h=!1;const p=await Promise.all(f.map((t=>{const n=tA.join(A$,t);return d5(e,n,o)})));for(const e in t){const{data:{data:n},pageId:o}=t[e],i=null===(c=n.props)||void 0===c?void 0:c.id;if(!i)continue;const r=d.getPath(i);if(!r)continue;const l=f.indexOf(r);if(-1===l)continue;const s=p[l];if(Cc(s))return s;if(s[i]){const t=null!==(a=s[i].detail)&&void 0!==a?a:{};o&&e&&(void 0===t[o]?t[o]=[e]:t[o].includes(e)||t[o].push(e),Fc(s[i].detail,t)||(s[i].detail=t,h=!0));let r=0;for(const e in t)r+=t[e].length;s[i].count!==r&&(s[i].count=r,h=!0),Fc(s[i].data,n)||(s[i].data=n,h=!0)}else s[i]=t[e].data,h=!0}if(h){const t=await Promise.all(f.map((async(t,n)=>{const i=tA.join(A$,t),r=p[n],l=await o.compression({[i]:r});return await e.putFileContents(i,l[i])})));if(t.some((e=>200!==e.code)))return"";const i=d.getData();if(!Fc(i,n)){const t=await e.putFileContents(U$,JSON.stringify(i));if(200!==t.code)return null!==(u=t.msg)&&void 0!==u?u:"";Object.assign(n,i)}}let v=!1;for(const e in t){const{data:{data:n}}=t[e];MPe(n)||(v=!0,E5(e,"reference",r,l))}if(v){const t=await h5(e,l);if(!0!==t)return t;i(XU(r,!0))}return!0}async function y5(e,t,n,o,i){const r=ia(Object.values(t)),l=Vr(r,5),s=[];for(let r=0;r<l.length;r++){await Promise.all(l[r].map((async n=>{const r=await BF(n,"arrayBuffer");if(0===r.ok||!r.data)return;const l=n.split(".");l[1]=T$e(l[1]);const c=l.join("."),a=`${W$}/${c}`;if(200===(await e.putFileContents(a,r.data)).code)for(const e in t)t[e]===n&&E5(e,"reference",o,i);else s.push(n)})));const c=await h5(e,i);if(!0!==c)return c;n(XU(o,!0))}return!(s.length>0)||(s.length===r.length?"":"")}async function b5(e,t,n,o,i,r){var l,s;r(Gre(n,{status:2}),Qre(n,""));const c=null===(l=i.stater.get().file)||void 0===l?void 0:l.tree;if(!(null==c?void 0:c.length))return"";let a=ds(c.find((e=>e.id===t)));if(!a)return"";a=await CK({...a,children:[]},o,{deep:!0});const u=(await gF()).data;if(!u)return"";const d=null!==(s=await a5(e))&&void 0!==s?s:{};if(Cc(d))return d;const f=await u5(e,$$,(function(){return new ZUe(R$,100).getData()}));if("string"==typeof f)return f;if(null===f)return"";const h=await u5(e,U$,(function(){return new ZUe(P$,1e3).getData()}));if("string"==typeof h)return h;if(null===h)return"";const p=await R5(e,t,f,o);if("string"==typeof p)return p;const v={},g={};for(const e in p){const t=p[e];Object.assign(g,t.uids),t.segments&&(v[e]=t.segments)}const m=Object.keys(p);if(m.length){const t=await w5(e,m,f,o);if("string"==typeof t)return t}const y=Object.keys(p);if(y.length){const t=await x5(e,y,v,r,u,d);if("string"==typeof t)return t}const b=Object.keys(g);if(b.length){const t=await C5(e,b,h,o,r,u,d,p);if("string"==typeof t)return t}return r(XU(u,!0)),!0}async function C5(e,t,n,o,i,r,l,s){var c,a;const u=null===(c=r.record)||void 0===c?void 0:c.reference;if(!u)return"";const d={};for(const e of t){const t=u[e];t?d[e]=t:D5(e,"reference",r,l)}const f=new ZUe(P$,1e3,ps(n)),h=[],p=ia(Object.values(d));for(const e of p){const t=f.getPath(e);t&&(h.includes(t)||h.push(t))}const v=await Promise.all(h.map((t=>{const n=tA.join(A$,t);return d5(e,n,o)})));let g=!1;for(const t in d){const n=d[t],o=f.getPath(n);if(!o)continue;const i=h.indexOf(o);if(-1===i)continue;const l=v[i];if(Cc(l))return l;if(l[n]){const o=l[n].detail;let i=0;for(const e in o){const n=o[e],r=n.indexOf(t);-1!==r&&s[e]&&(n.splice(r,1),g=!0),i+=n.length,0===n.length&&(delete o[e],g=!0)}if(0===i){const{data:o}=l[n];if(MPe(o)){const t=n.split(".");t[1]=T$e(t[1]);const o=t.join("."),i=`${W$}/${o}`;await e.deleteFile(i)}delete l[n],f.delete(n),T5(t,"reference",r),g=!0}}}if(g){const t=await Promise.all(h.map((async(t,n)=>{const i=tA.join(A$,t),r=v[n],l=await o.compression({[i]:r});return await e.putFileContents(i,l[i])})));if(t.some((e=>200!==e.code)))return"";const i=f.getData();if(!Fc(i,n)){const t=await e.putFileContents(U$,JSON.stringify(i));if(200!==t.code)return null!==(a=t.msg)&&void 0!==a?a:"";Object.assign(n,i)}}for(const e in d)D5(e,"reference",r,l);const m=await h5(e,l);return!0!==m?m:(i(XU(r,!0)),!0)}async function w5(e,t,n,o){var i;const r=new ZUe(R$,100,ps(n)),l=[];for(const e of t){const t=r.getPath(e);t&&(l.includes(t)||l.push(t))}const s=await Promise.all(l.map((t=>{const n=tA.join(A$,t);return d5(e,n,o)})));for(const e of t){const t=r.getPath(e);if(!t)continue;const n=l.indexOf(t);if(-1===n)continue;const o=s[n];if(Cc(o))return o;delete o[e],r.delete(e)}const c=await Promise.all(l.map((async(t,n)=>{const i=tA.join(A$,t),r=s[n],l=await o.compression({[i]:r});return await e.putFileContents(i,l[i])})));if(c.some((e=>200!==e.code)))return"";const a=r.getData();if(!Fc(a,n)){const t=await e.putFileContents($$,JSON.stringify(a));if(200!==t.code)return null!==(i=t.msg)&&void 0!==i?i:""}}async function x5(e,t,n,o,i,r){const l=Vr(t,5),s=[];for(let t=0;t<l.length;t++)await Promise.all(l[t].map((async t=>{const o=await yF(t);if(1===o.ok&&o.data)return void s.push(t);const i=`${j$}/${t}.sli`,r=await e.deleteFile(i);if(200===r.code||404===r.code){if(n[t])for(const o of n[t]){const n=`${V$}/${o}.sli`,i=await e.deleteFile(n);if(200!==i.code&&404!==i.code)return void s.push(t)}}else s.push(t)})));for(const e of t)s.includes(e)||D5(e,"editor",i,r);const c=await h5(e,r);return!0!==c?c:(o(XU(i,!0)),!0)}async function S5(e,t,n,o,i,r){var l,s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x,S,E,k,D,I,N,L,T,B,A,M,O,R,P,F,H,_,j,W;r(Gre(n,{status:2})),r(Qre(n,""));const z=i.stater.get(),V=(await gF()).data;if(!V)return"";const $=null!==(l=await a5(e))&&void 0!==l?l:{};if(Cc($))return $;const Z=await JUe(t,z,o);if(null===Z)return"";const U=await yF(t);let q=!1;0!==U.ok&&U.data||(q=!0);const Y=await qUe(t,Z,V,$,o,q),K=await f5(e,t,z,Y);if(!0!==K)return K;let G=null,X=null,J=null;function Q(){return new ZUe(R$,100).getData()}function ee(){return new ZUe(P$,1e3).getData()}if(Y.conflict.catalog.length){for(const e of Y.conflict.catalog){const{uuid:t,sn:n}=fRe(e),o=null===(a=null===(c=null===(s=V.update)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[t])||void 0===a?void 0:a[n],i=null===(f=null===(d=null===(u=$.update)||void 0===u?void 0:u.editor)||void 0===d?void 0:d[t])||void 0===f?void 0:f[n];o&&i&&(o[0]>=i?Y.push.catalog.includes(e)||Y.push.catalog.push(e):o[0]<i&&(Y.pull.catalog.includes(e)||Y.pull.catalog.push(e)))}Y.conflict.catalog.length=0}if(Y.push.catalog.length){if(r(Qre(n,"")),null===G){if(G=await u5(e,$$,Q),"string"==typeof G)return G;if(null===G)return""}if(null===J&&(J=await R5(e,t,G,o,!1)),"string"==typeof J)return J;const i=await g5(e,Z,G,o,V,0,Y);if(!0!==i)return i}if(Y.pull.catalog.length){if(r(Qre(n,"")),null===G&&(G=await u5(e,$$,Q),"string"==typeof G))return G;if(null===G)return"";const i=await R5(e,t,G,o,!0);if("string"==typeof i)return i;null===J?J=i:Object.assign(J,i);const{uuid:l,sn:s}=fRe(t);if(!(null===(g=null===(v=(null===(p=null===(h=Z.catalog)||void 0===h?void 0:h[l])||void 0===p?void 0:p[s]).data)||void 0===v?void 0:v.children)||void 0===g?void 0:g[0])||q)for(const e in J)Y.pull.editor.includes(e)||Y.pull.editor.push(e);else YUe(Z,V,$,Y,J);const c=null===(m=z.file)||void 0===m?void 0:m.tree.find((e=>e.id===t));c&&r(U3(t,J))}if(Y.delete.local.catalog.length){r(Qre(n,""));const e=Y.delete.local.catalog;r($q({catalog:e}))}if(Y.delete.remote.catalog.length){if(r(Qre(n,"")),null===G){if(G=await u5(e,$$,Q),"string"==typeof G)return G;if(null===G)return""}if(null===J&&(J=await R5(e,t,G,o,!1)),"string"==typeof J)return J;const i=Y.delete.remote.catalog,l=await w5(e,i,G,o);if("string"==typeof l)return l}if(Y.conflict.editor.length){for(const e of Y.conflict.editor){const{uuid:t,sn:n}=fRe(e),o=null===(C=null===(b=null===(y=V.update)||void 0===y?void 0:y.editor)||void 0===b?void 0:b[t])||void 0===C?void 0:C[n],i=null===(S=null===(x=null===(w=$.update)||void 0===w?void 0:w.editor)||void 0===x?void 0:x[t])||void 0===S?void 0:S[n];o&&i&&(o[0]>i?Y.push.editor.includes(e)||Y.push.editor.push(e):o[0]<i?Y.pull.editor.includes(e)||Y.pull.editor.push(e):E5(e,"editor",V,$))}Y.conflict.editor.length=0}if(Y.push.editor.length){r(Qre(n,""));const t={};for(const e of Y.push.editor){const{uuid:n,sn:o}=fRe(e),i=null===(k=null===(E=Z.editor)||void 0===E?void 0:E[n])||void 0===k?void 0:k[o];i&&(t[e]=i)}let o=!0;Pc(t)||(o=await v5(e,n,t,r,V,$)),!0!==o&&(r(Qre(n,o)),await new Promise((e=>{setTimeout((()=>e(null)),1e3)})))}if(Y.pull.editor.length){r(Qre(n,""));const t=Y.pull.editor,i=await O5(e,n,t,o,r,V,$);if("string"==typeof i)return i;for(const e in i)r(QU("editor",e,-1)),A5(Z,e,i[e],V,$,Y,q)}if(Y.delete.local.editor.length){const e=Y.delete.local.editor;r($q({editor:e}));for(const t of e)D5(t,"editor",V,$)}if(Y.delete.remote.editor.length){if(r(Qre(n,"")),null===G&&(G=await u5(e,$$,Q),"string"==typeof G))return G;if(null===G)return"";if(null===J&&(J=await R5(e,t,G,o,!1)),"string"==typeof J)return J;const i=Y.delete.remote.editor,l={};for(const e of i){const t=J[e];t&&(t.segments&&(l[e]=t.segments))}const s=await x5(e,i,l,r,V,$);if("string"==typeof s)return s}if(Y.conflict.reference.length){for(const e of Y.conflict.reference){const{uuid:t,sn:n}=fRe(e),o=null===(N=null===(I=null===(D=V.update)||void 0===D?void 0:D.reference)||void 0===I?void 0:I[t])||void 0===N?void 0:N[n],i=null===(B=null===(T=null===(L=$.update)||void 0===L?void 0:L.reference)||void 0===T?void 0:T[t])||void 0===B?void 0:B[n];o&&i?o[0]>i?Y.push.reference.includes(e)||Y.push.reference.push(e):o[0]<i?Y.pull.reference.includes(e)||Y.pull.reference.push(e):E5(e,"reference",V,$):(T5(e,"reference",V),D5(e,"reference",V,$))}Y.conflict.reference.length=0}if(Y.push.reference.length){if(r(Qre(n,"")),null===X&&(X=await u5(e,U$,ee),"string"==typeof X))return X;if(null===X)return"";Pc(Z.reference)&&await M5(Z,V,Y);const t={},i={};for(const e of Y.push.reference){const{uuid:n,sn:o}=fRe(e),r=null===(M=null===(A=Z.reference)||void 0===A?void 0:A[n])||void 0===M?void 0:M[o];if(null==r?void 0:r.data){if(null==r?void 0:r.data){t[e]={...r,data:r.data};const{data:n}=r.data;if(MPe(n)){const t=null===(O=n.props)||void 0===O?void 0:O.id;t&&(i[e]=t)}}}else T5(e,"reference",V),D5(e,"reference",V,$)}const l=await m5(e,t,X,o,r,V,$);if(!0!==l&&(r(Qre(n,l)),await new Promise((e=>{setTimeout((()=>e(null)),1e3)}))),!Pc(i)){const t=await y5(e,i,r,V,$);!0!==t&&(r(Qre(n,t)),await new Promise((e=>{setTimeout((()=>e(null)),1e3)})))}}if(Y.pull.reference.length){if(r(Qre(n,"")),null===X&&(X=await u5(e,U$,ee),"string"==typeof X))return X;if(null===X)return"";const t={},i=Y.pull.reference;for(const e in Z.editor){const n=Z.editor[e];for(const o in n){const l=hRe(e,o),s=n[o].data;if(!s)continue;const c=s.uids;for(const e in c){const n=c[e];i.includes(e)&&(t[e]={pageId:l,id:n},r(QU("reference",e,-1)))}}}const l=await P5(e,t,X,o,r,V,$);if("string"==typeof l)return l;const s={};for(const e in l){const t=l[e].data;if(MPe(t)){const n=null===(R=t.props)||void 0===R?void 0:R.id;n&&(s[e]=n)}}if(!Pc(s)){const t=await F5(e,s,r,V,$);if("string"==typeof t)return t}}if(Y.delete.local.reference.length){r(Qre(n,"")),Pc(Z.reference)&&await M5(Z,V,Y);for(const e of Y.delete.local.reference){const{uuid:t,sn:n}=fRe(e),o=null===(F=null===(P=Z.reference)||void 0===P?void 0:P[t])||void 0===F?void 0:F[n];if(!(null==o?void 0:o.data)){T5(e,"reference",V),D5(e,"reference",V,$);continue}const{data:{data:i},pageId:l}=o,s=null===(H=i.props)||void 0===H?void 0:H.id;if(!s)continue;const{uuid:c,sn:a}=fRe(l);(null===(j=null===(_=Z.catalog)||void 0===_?void 0:_[c])||void 0===j?void 0:j[a])&&(r(Fq(s,e,l,!1)),T5(e,"reference",V),D5(e,"reference",V,$))}}if(Y.delete.remote.reference.length){if(r(Qre(n,"")),null===X&&(X=await u5(e,U$,ee),"string"==typeof X))return X;if(null===X)return"";if(null===G){if(G=await u5(e,$$,Q),"string"==typeof G)return G;if(null===G)return""}if(null===J&&(J=await R5(e,t,G,o,!1)),"string"==typeof J)return J;const i=Y.delete.remote.reference,l=await C5(e,i,X,o,r,V,$,J);if("string"==typeof l)return l}r(XU(V,!0));for(const e of Y.pull.editor){if((null===(W=z.file)||void 0===W?void 0:W.currentPageId)===e){const t=await XY(e,o,!0);r(mq(t),k7(e))}}return i_({type:OJ.WEBDAV_SYNC_ACTIONS,payload:Y}),!0}function E5(e,t,n,o){var i,r,l,s;const{uuid:c,sn:a}=fRe(e),u=Math.floor(Date.now()/1e3),d=null!==(s=null===(l=null===(r=null===(i=n.update)||void 0===i?void 0:i[t])||void 0===r?void 0:r[c])||void 0===l?void 0:l[a])&&void 0!==s?s:[u];d[1]=d[0],I5(e,t,o,d[1])}function k5(e,t,n,o){var i,r,l;const{uuid:s,sn:c}=fRe(e);let a=null===(l=null===(r=null===(i=o.update)||void 0===i?void 0:i[t])||void 0===r?void 0:r[s])||void 0===l?void 0:l[c];a||(a=Math.floor(Date.now()/1e3)),N5(e,t,n,a)}function D5(e,t,n,o){var i,r,l,s,c,a;const{uuid:u,sn:d}=fRe(e);(null===(l=null===(r=null===(i=n.update)||void 0===i?void 0:i[t])||void 0===r?void 0:r[u])||void 0===l?void 0:l[d])&&(delete n.update[t][u][d],Pc(n.update[t][u])&&delete n.update[t][u]),(null===(a=null===(c=null===(s=o.update)||void 0===s?void 0:s[t])||void 0===c?void 0:c[u])||void 0===a?void 0:a[d])&&(delete o.update[t][u][d],Pc(o.update[t][u])&&delete o.update[t][u]),B5(e,t,n),B5(e,t,o)}function I5(e,t,n,o){var i,r,l,s;const{uuid:c,sn:a}=fRe(e);n.update||(n.update={}),n.update[t]||(n.update[t]={}),n.update[t][c]||(n.update[t][c]={}),n.update[t][c][a]=o;const u=null===(r=null===(i=n.delete)||void 0===i?void 0:i[t])||void 0===r?void 0:r[c];if(null==u?void 0:u.includes(a)){const e=u.indexOf(a);u.splice(e,1)}(null==u?void 0:u.length)||null===(s=null===(l=n.delete)||void 0===l?void 0:l[t])||void 0===s||delete s[c]}function N5(e,t,n,o){var i,r,l,s;const{uuid:c,sn:a}=fRe(e);n.update||(n.update={}),n.update[t]||(n.update[t]={}),n.update[t][c]||(n.update[t][c]={}),n.update[t][c][a]=[o,o];const u=null===(r=null===(i=n.delete)||void 0===i?void 0:i[t])||void 0===r?void 0:r[c];if(null==u?void 0:u.includes(a)){const e=u.indexOf(a);u.splice(e,1)}(null==u?void 0:u.length)||null===(s=null===(l=n.delete)||void 0===l?void 0:l[t])||void 0===s||delete s[c]}function L5(e,t,n,o){n.record||(n.record={}),n.record[t]||(n.record[t]={}),n.record[t][e]=o}function T5(e,t,n){var o,i;null===(i=null===(o=null==n?void 0:n.record)||void 0===o?void 0:o[t])||void 0===i||delete i[e]}function B5(e,t,n){const{uuid:o,sn:i}=fRe(e);n.delete||(n.delete={}),n.delete[t]||(n.delete[t]={}),n.delete[t][o]||(n.delete[t][o]=[]),n.delete[t][o].includes(i)||n.delete[t][o].push(i)}function A5(e,t,n,o,i,r,l){var s,c,a;const{uuid:u,sn:d}=fRe(t);e.editor[u]||(e.editor[u]={}),e.editor[u][d]={data:n};for(const e in n.uids){const{uuid:t,sn:n}=fRe(e);if(!(null===(a=null===(c=null===(s=o.update)||void 0===s?void 0:s.reference)||void 0===c?void 0:c[t])||void 0===a?void 0:a[n])||l){const t=r.pull.reference;t.includes(e)||t.push(e)}}return e}async function M5(e,t,n){var o;const i=null===(o=t.record)||void 0===o?void 0:o.reference;if(!i)return;const r={};for(const e of n.push.reference)i[e]&&(r[e]=i[e]);for(const e of n.delete.local.reference)i[e]&&(r[e]=i[e]);const l=ia(Object.values(r)),s=await LF(l);if(0!==s.ok&&s.data)for(const t in r){const n=r[t],o=s.data[n];if(o)for(const i in o.detail)for(const r of o.detail[i])if(r===t){const{uuid:o,sn:r}=fRe(t);e.reference[o]||(e.reference[o]={}),e.reference[o][r]={pageId:i,data:s.data[n]}}}}async function O5(e,t,n,o,i,r,l){const s=Vr(n,5),c=[],a={},u=[...n],d=e=>{if(e){const t=u.indexOf(e);-1!==t&&u.splice(t,1)}const o=`${n.length-u.length}/${n.length}`;i(Qre(t,` ${o}`))};d();for(let t=0;t<s.length;t++)await Promise.all(s[t].map((async t=>{var n;const i=`${j$}/${t}.sli`;try{const s=await e.getFileContents(i,"arrayBuffer");if(!s.data)return d(t),void c.push(t);const u=new Uint8Array(s.data),f={[i]:u},h=await o.decompression(f);if(!h[i])return d(t),void c.push(t);const p=h[i];a[t]=p,rh?await mF(t,p):await mF(t,u);let v=!0;for(const t of null!==(n=p.segments)&&void 0!==n?n:[]){const n=`${V$}/${t}.sli`,i=await e.getFileContents(n,"arrayBuffer");if(i.data){const e=new Uint8Array(i.data);if(rh){const i={[n]:e},r=await o.decompression(i);if(!r[n])continue;await wF(t,r[n])}else await wF(t,e)}else v=!1}v&&(d(t),k5(t,"editor",r,l))}catch(e){d(t),c.push(t)}}))),i(XU(r,!0));return a}async function R5(e,t,n,o,i=!0){var r;const l=new ZUe(R$,100,ps(n)),s={},c={},a=[t];for(;a.length;){const t=a.pop();if(!c[t]){const n=l.getPath(t);if(!n)continue;const i=await d5(e,tA.join(A$,n),o);if(Cc(i))return i;Object.assign(c,i)}if(c[t]){if(s[t]=c[t],null===(r=c[t].children)||void 0===r?void 0:r.length)for(const e of c[t].children)e&&"outline"!==e.type&&a.push(e.id)}else;}return i&&await EF(s),s}async function P5(e,t,n,o,i,r,l){var s;const c=new ZUe(P$,1e3,ps(n)),a={},u={},d=[];for(const e in t){const n=t[e].id,o=c.getPath(n);o&&(d.includes(o)||d.push(o))}const f=await Promise.all(d.map((t=>{const n=tA.join(A$,t);return d5(e,n,o)})));for(const e of f){if(Cc(e))return e;for(const n in t){const o=t[n].id;e[o]&&(a[n]=e[o],u[o]=e[o])}}for(const e in t){const n=ds(null===(s=a[e])||void 0===s?void 0:s.data);if(!n)continue;const{id:o,pageId:c}=t[e];n.props={...n.props,uid:e},i(Rq(o,n,c,!1)),L5(e,"reference",r,o),MPe(n)||k5(e,"reference",r,l)}return await IF(u),i(XU(r,!0)),a}async function F5(e,t,n,o,i){const r=ia(Object.values(t)),l=Vr(r,5),s=[];for(let r=0;r<l.length;r++)await Promise.all(l[r].map((async n=>{const r=n.split(".");r[1]=T$e(r[1]);const l=r.join("."),c=`${W$}/${l}`,a=await e.getFileContents(c,"arrayBuffer");if(200!==a.code)s.push(n);else if(a.data){await TF(n,a.data);for(const e in t)t[e]===n&&k5(e,"reference",o,i)}}))),n(XU(o,!0));return!(s.length>0)||(s.length===r.length?"":"")}async function H5(e){const t=await e.getDirectoryContents(A$),n=[j$,V$,Z$,z$,W$];if(404===t.code){if(e.url.includes(".123pan.cn"))return{code:123,msg:" shuli "};const t=await e.createDirectory(`${A$}`);if(200!==t.code)return t}else if(200!==t.code)return t;if(t.data)for(const{filename:e}of t.data){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}return(await Promise.all(n.map((t=>e.createDirectory(t))))).some((e=>200!==e.code))?{code:403}:{code:200,data:!0}}async function _5(e,t,n,o){var i,r,l,s,c,a,u,d,f;const{service:h,username:p,password:v}=e,g=new OM(h,{username:p,password:v}),m=(await gF()).data;if(!m)return 0;const y=await a5(g);if(!y||Cc(y))return 0;const b={},C=ia([...Object.keys(null!==(r=null===(i=y.update)||void 0===i?void 0:i.editor)&&void 0!==r?r:{}),...Object.keys(null!==(s=null===(l=m.update)||void 0===l?void 0:l.editor)&&void 0!==s?s:{})]);for(const e of C){const t=null===(a=null===(c=y.update)||void 0===c?void 0:c.editor)||void 0===a?void 0:a[e],n=null===(d=null===(u=m.update)||void 0===u?void 0:u.editor)||void 0===d?void 0:d[e];if(!t&&n){for(const t in n){b[hRe(e,t)]=1}continue}if(t&&!n){for(const n in t){b[hRe(e,n)]=2}continue}if(!n||!t)continue;const o=ia([...Object.keys(n),...Object.keys(t)]);for(const i of o)if(!n[i]||t[i])if(n[i]||!t[i]){if(n[i][0]!==t[i]){const o=hRe(e,i);n[i][0]>t[i]?n[i][1]&&n[i][1]!==t[i]?b[o]=3:b[o]=1:n[i][0]<t[i]?n[i][0]===n[i][1]?b[o]=2:b[o]=3:b[o]=0}}else{b[hRe(e,i)]=2}else{b[hRe(e,i)]=1}}let w=0;const x={};for(const e in b){const n=await xK(e,x);if((null==n?void 0:n[0])===t){if(0===w){w=b[e];continue}if(1===w){if(2===b[e]){w=3;break}continue}if(2===w){if(1===b[e]){w=3;break}continue}if(3===w)break}}const S=null===(f=n.file)||void 0===f?void 0:f.tree.find((e=>e.id===t));return S?(S.update!==w&&o(Gre(e,{update:w}),l6(S,{update:w})),e.update!==w&&o(e8(t,e.id,{update:w})),w):0}async function j5(e){void 0===e&&(e=document.body.clientWidth<=1280);const t="useragreement";if(!await _M(t)){const e=HVe();if(e)return e}try{const e=`./api/${t}.sli`,n=await cA(e,{type:"arrayBuffer"}),o=new FH((e=>{})),i=new Uint8Array(n),r=aRe(!0);o.start({[r]:i});const l=o.record[r];return FVe(l),l}catch(e){console.error(e)}return null}async function W5(e){void 0===e&&(e=document.body.clientWidth<=1280);const t="privacypolicy";if(!await _M(t)){const e=jVe();if(e)return e}try{const e=`./api/${t}.sli`,n=await cA(e,{type:"arrayBuffer"}),o=new FH((e=>{})),i=new Uint8Array(n),r=aRe(!0);o.start({[r]:i});const l=o.record[r];return _Ve(l),l}catch(e){console.error(e)}return null}async function z5(){const e="webdav";if(!await _M(e)){const e=JVe();if(e)return e}try{const t=`./api/${e}.sli`,n=await cA(t,{type:"arrayBuffer"}),o=new FH((e=>{})),i=new Uint8Array(n),r=aRe(!0);o.start({[r]:i});const l=o.record[r];return XVe(l),l}catch(e){console.error(e)}return null}const{getNavigateUid:V5}=d2;function $5(e){const t=R(PU),n=R(WU),o=R(jU),i=Z5(e),r=Y5(e),l=async(e,n,o)=>{t(Gre(n,{validated:!0}));const{service:i,username:r,password:l,pulling:s}=n;if(!(null==i?void 0:i.trim())||!(null==r?void 0:r.trim())||!(null==l?void 0:l.trim()))return;if(!zM(i))return;if(s)return;e.stopPropagation(),t(Gre(n,{pulling:!0}));const c=new OM(i,{username:r,password:l}),a=await c5(c);t(Gre(n,{pulling:!1})),a&&!Cc(a)&&t(Xre(n,a))};return{onCloseModal:()=>{t(Hre(!1))},onClickContainer:e=>{t(Vre(),$re())},onClickSync:async(e,l,s)=>{var c,a,u;const{selected:d,id:f}=l,h=null==d?void 0:d.id;if(h){const e=null===(u=null===(a=null===(c=o.stater.get().file)||void 0===c?void 0:c.cloud)||void 0===a?void 0:a[h])||void 0===u?void 0:u.find((e=>e.id===f));(null==e?void 0:e.timer)&&clearTimeout(e.timer)}await i(l,t,n,o),h&&requestAnimationFrame((()=>{r(h,t,n,o)}))},onClickSyncFully:async(n,o,i)=>{const r=zK[e.lang][WK.syncFully],l={title:r,children:zK[e.lang][WK.syncFullyMessage],visible:!0,okText:r,onCancel(e){t(Jre({...l,visible:!1}))},onOk(e){t(Jre({...l,visible:!1}))}};t(Jre(l))},onClickAdd:e=>{t(Zre())},onClickNew:(n,i,r)=>{n.stopPropagation(),t(Xie(e)),requestAnimationFrame((()=>{var e,n;const r=null!==(n=null===(e=o.stater.get().file)||void 0===e?void 0:e.tree.map((e=>({...e,children:void 0,expand:!1}))))&&void 0!==n?n:[];t(Gre(i,{roots:r}))}))},onClickCopy:(e,n,o)=>{e.stopPropagation(),t(qre(n))},onClickQRCode:async(e,n,o)=>{const i=VUe(n),r=l0.encrypt(b$,JSON.stringify(i)),l={title:"",children:G(d3,{qrcode:await B0.toString(r,{type:"svg",width:200})}),visible:!0,showFooter:!1,onCancel(){t(Jre({...l,visible:!1}))}};t(Jre(l))},onClickPull:l,onClickBind:(e,i,l)=>{var s,c,a;t(Gre(i,{validated:!0}));const{id:u,mode:d,service:f,username:h,password:p,usernameInvisible:v,passwordInvisible:g,selected:m,bind:y}=i;if(!(null==f?void 0:f.trim())||!(null==h?void 0:h.trim())||!(null==p?void 0:p.trim()))return;if(!zM(f))return;if(!m||y)return;const b=null==m?void 0:m.id;if(b){const e=null===(a=null===(c=null===(s=o.stater.get().file)||void 0===s?void 0:s.cloud)||void 0===c?void 0:c[b])||void 0===a?void 0:a.find((e=>e.id===u));(null==e?void 0:e.timer)&&clearTimeout(e.timer)}const C={type:"webdav",bind:!0,id:u,mode:d,service:f,username:h,password:p,usernameInvisible:v,passwordInvisible:g};t(Z3(m,!0),Kre(i,!0),o8(m.id),J4(m.id,C),l6(m,{icon:u3})),b&&requestAnimationFrame((()=>{r(b,t,n,o)}))},onClickUnBind:(e,n,i)=>{var r,l,s;const{selected:c,bind:a,id:u}=n;if(!c||!a)return;const d=null==c?void 0:c.id;if(d){const e=null===(s=null===(l=null===(r=o.stater.get().file)||void 0===r?void 0:r.cloud)||void 0===l?void 0:l[d])||void 0===s?void 0:s.find((e=>e.id===u));(null==e?void 0:e.timer)&&clearTimeout(e.timer)}n.working||t(Gre(n,{syncing:!1,update:0}),Kre(n,!1),e8(c.id,u,{update:0,bind:!1,timer:null}),s6(c,{icon:u3,syncing:!1,update:0}))},onClickFold:(e,n,o)=>{const{selected:i,fold:r,id:l}=n;i&&!r&&t(Gre(n,{fold:!0}),e8(i.id,l,{fold:!0}))},onClickUnFold:(e,n,o)=>{const{selected:i,fold:r,id:l}=n;i&&r&&t(Gre(n,{fold:!1}),e8(i.id,l,{fold:!1}))},onClickRemove:(e,n,i)=>{var r,l,s;const{selected:c,bind:a,id:u}=n;if(!c)return void t(Ure(n));const d=null==c?void 0:c.id;if(d){const e=null===(s=null===(l=null===(r=o.stater.get().file)||void 0===r?void 0:r.cloud)||void 0===l?void 0:l[d])||void 0===s?void 0:s.find((e=>e.id===u));(null==e?void 0:e.timer)&&clearTimeout(e.timer)}return n.working?void 0:(t(Ure(n),Q4(c.id,u)),void(a&&t(s6(c,{icon:u3,syncing:!1,update:0}))))},onClickSelects:(e,n,o)=>{e.stopPropagation(),n.bind||(t(Vre(n)),n.selectorVisible||l(e,n))},onClickSelect:(n,o,i)=>{var r,l;const s=null===(r=e.file)||void 0===r?void 0:r.cloud;if(null===(l=null==s?void 0:s[i.id])||void 0===l?void 0:l.length){const n={title:zK[e.lang][WK.syncAlready],children:zK[e.lang][WK.syncAlreadyMessage],visible:!0,showCancel:!1,onOk(e){t(Jre({...n,visible:!1}))}};t(Jre(n))}else t(Gre(o,{selected:i}))},onClickUsernameVisible:(e,n,o)=>{t(Wre(n))},onClickPasswordVisible:(e,n,o)=>{t(zre(n))},onClickModes:(e,n,o)=>{e.stopPropagation(),n.fold||t($re(n))},onClickMode:(e,i,l)=>{var s,c,a;const{selected:u,id:d,bind:f}=i,h=null==u?void 0:u.id;if(h){const e=null===(a=null===(c=null===(s=o.stater.get().file)||void 0===s?void 0:s.cloud)||void 0===c?void 0:c[h])||void 0===a?void 0:a.find((e=>e.id===d));(null==e?void 0:e.timer)&&clearTimeout(e.timer),f&&requestAnimationFrame((()=>{r(h,t,n,o)}))}t(Gre(i,{mode:l})),h&&t(e8(h,d,{mode:l}))},onInputService:(e,n,o)=>{const i=e.target.value;t(Gre(n,{service:i}))},onInputUsername:(e,n,o)=>{const i=e.target.value;t(Gre(n,{username:i}))},onInputPassword:(e,n,o)=>{const i=e.target.value;t(Gre(n,{password:i}))},onTransitionEnd:(e,n)=>{n.syncing&&t(ele(n))}}}function Z5(e){const t=Z(null);return F((()=>()=>{null!==t.current&&clearTimeout(t.current)}),[]),_((async(n,o,i,r)=>{var l;o(Gre(n,{validated:!0}));const{id:s,mode:c,service:a,username:u,password:d,usernameInvisible:f,passwordInvisible:h,selected:p}=n;if(!(null==a?void 0:a.trim())||!(null==u?void 0:u.trim())||!(null==d?void 0:d.trim()))return;if(!zM(a))return;if(!(null==p?void 0:p.id))return;null!==t.current&&(clearTimeout(t.current),t.current=null);const v={type:"webdav",bind:!0,id:s,mode:c,service:a,username:u,password:d,usernameInvisible:f,passwordInvisible:h};o(Kre(n,!0),Gre(n,{syncing:!0,update:0,status:0}),Qre(n,""),ele(n),Z3(p,!0),o8(p.id),J4(p.id,{...v,syncing:!0,update:0}),l6(p,{icon:u3,syncing:!0,update:0}));const g=new OM(a,{username:u,password:d}),m=await H5(g);if(123===m.code){const t=zK[e.lang][WK.webdav123Title],n=zK[e.lang][WK.webdav123Message];if(rh)s_({title:t,message:n,confirm:{value:"",fontColor:Bf}});else{const e={title:t,children:n,visible:!0,onCancel(t){o(Jre({...e,visible:!1}))},onOk(t){o(Jre({...e,visible:!1}))}};o(Jre(e))}}if(200!==m.code){const e=null!==(l=m.msg)&&void 0!==l?l:"";return void o(Kre(n,!1),Gre(n,{syncing:!1,status:-1}),Qre(n,e),J4(p.id,{...v,syncing:!1,update:0}),l6(p,{icon:u3,syncing:!1,update:0}))}const y=await S5(g,p.id,n,i,r,o);!0===y?(o(Kre(n,!0),Gre(n,{syncing:!1,status:1}),Qre(n,""),tle(n.selected),J4(p.id,{...v,syncing:!1,update:0}),l6(p,{icon:u3,syncing:!1,update:0})),t.current=setTimeout((()=>{o(Gre(n,{status:0}),Qre(n,""))}),2e3)):o(Kre(n,!1),Gre(n,{syncing:!1,status:-1}),Qre(n,y),J4(p.id,{...v,syncing:!1,update:0}),l6(p,{icon:u3,syncing:!1,update:0}))}),[])}function U5(){return _((async(e,t,n,o)=>{const{id:i,mode:r,service:l,username:s,password:c,usernameInvisible:a,passwordInvisible:u,selected:d}=e;if(!(null==l?void 0:l.trim())||!(null==s?void 0:s.trim())||!(null==c?void 0:c.trim()))return;if(!zM(l))return;if(!(null==d?void 0:d.id))return;const f={type:"webdav",bind:!0,id:i,mode:r,service:l,username:s,password:c,usernameInvisible:a,passwordInvisible:u};t(Gre(e,{syncing:!0,update:0,status:0}),Qre(e,""),ele(e),J4(d.id,{...f,syncing:!0,update:0}),l6(d,{icon:u3,syncing:!0,update:0}));const h=new OM(l,{username:s,password:c}),p=await b5(h,d.id,e,n,o,t);!0===p?t(Gre(e,{syncing:!1,status:1}),Qre(e,""),n8(d.id),Yre(e)):t(Gre(e,{syncing:!1,status:-1}),Qre(e,p),J4(d.id,{...f,syncing:!1,update:0}),l6(d,{icon:u3,syncing:!1,update:0}))}),[])}function q5(e,t,n,o,i,r){const l=Z(!1),s=Y5(e);F((()=>{var e;if(!(null===(e=t.file)||void 0===e?void 0:e.cloud)||!t.changelog)return;if(l.current)return;l.current=!0;const c=WUe(t.file.cloud);return(async()=>{const e=Object.keys(c),l={};if(await Promise.all(e.map((async e=>{l[e]=await _5(c[e],e,t,n),await s(e,n,o,i,r)}))),Object.values(l).some((e=>e>0))){const e=V5(KB.workspace);i_({type:OJ.WEBDAV_UPDATE_CLOUD,payload:l},e)}})(),()=>{for(const e in c){const t=c[e].timer;t&&clearTimeout(t)}}}))}function Y5(e){const t=Z5(e);return _((async(e,n,o,i,r=t)=>{var l,s;const c=i.stater.get();if(!(null===(l=c.file)||void 0===l?void 0:l.cloud))return;const a=WUe(c.file.cloud)[e];if(!a)return;const u=null===(s=a.mode)||void 0===s?void 0:s.value;if(void 0===u)return;if(-1===u)return;const d={},f=async()=>{let{webdav:t,file:l}=i.stater.get();if(null==l?void 0:l.isScrolling)return;(null==t?void 0:t.list.length)||(t=Eqe(l));const s=zUe(t.list,e);if(!s||s.syncing)return;await(async()=>{var t;const o=i.stater.get();if(!(null===(t=o.file)||void 0===t?void 0:t.cloud))return;const r=WUe(o.file.cloud);if(r[e].syncing)return void delete d[e];const l=await _5(r[e],e,o,n);d[e]=l})(),d[e]&&await r(s,n,o,i);const c=Math.max(1e3*u,5e3),h=setTimeout(f,c);n(t8(e,a.id,h))};if(0===u)f();else{const t=setTimeout(f,1e3*u);n(t8(e,a.id,t))}}),[t])}function K5(e,t,n,o,i){const r=_d(e),l=Z5(e);H((()=>{!async function(){var e,t,l;const s=r.current,c=await vF();if(1!==c.ok||!(null===(e=c.data)||void 0===e?void 0:e.file)){if("undefined"!=typeof electron){const e=HM();if(null==e?void 0:e.inited)return n(xq(),vq(),sre({misplace:!0})),void m$e(s,n)}return n(D4(s)),await Qie(s,n,i),void FM({inited:!0})}const a=c.data;(null===(l=null===(t=a.file)||void 0===t?void 0:t.tree[0])||void 0===l?void 0:l.id)?await mK(s,a,n,o):n(D4(s));const u=await gF();u.data?n(XU(u.data)):await yK(0,0,n,o),o.safty(HH.CRUD,{delete:{editor:[]}}),LVe(FUe(a))}()}),[n,r,i,o]);const s=W((()=>nc((async e=>{if(void 0===e.store)return;const{store:{record:t,crud:r,auth:s,editor:c={}},file:a}=e;Pc(t)&&Pc(r)||(n(fq(!0)),((null==t?void 0:t.bootstrap)||(null==t?void 0:t.changelog))&&n(xq()),Pc(r)||n(vq()),Pc(null==s?void 0:s.delete)||n(nY()),(null==t?void 0:t.bootstrap)&&await oK(e),(null==t?void 0:t.changelog)&&await iK(e),Pc(r)||await nK(e,o),Object.keys(c).length>10&&n(Ore()),(null==a?void 0:a.cloud)&&!Pc(r)&&await nle(e,n,o,i,l),n(fq(!1)))}),300)),[n,o,l,i]);F((()=>{const{store:e,editor:n,bootstrap:o}=t,{status:i}=n;if(void 0===e||"pending"===i||(null==o?void 0:o.misplace))return;const{record:r,crud:l,pending:c}=e;c||(r||l)&&s(t)}))}function G5(e,t,n){const o=_d(e),i=_d(t),r=Z(null),l=_(((e,t)=>{var n;"undefined"==typeof WebPro&&("undefined"==typeof electron?null===(n=r.current)||void 0===n||n.postMessage({type:e,payload:t}):electron.worker.postMessage({type:e,payload:t}))}),[r]),s=_((e=>new Promise(((t,n)=>{const o=new Worker("./sw/compression-worker.BqySdreb.js");o.postMessage({type:OH.START,payload:e}),o.addEventListener("message",(e=>{const n=e.data;n.type===OH.END&&(o.terminate(),t(n.payload))}))}))),[]),c=_(((e,t=!0)=>new Promise(((n,o)=>{const i=new Worker("./sw/decompression-worker.U-pul8OI.js");i.postMessage({type:PH.START,payload:e,cache:t}),i.addEventListener("message",(e=>{const t=e.data;t.type===PH.END&&(i.terminate(),n(t.payload))}))}))),[]),a=_(((e,t)=>new Promise(((n,o)=>{const i=new Worker("./sw/jsonbridge-worker.ISBPoTnc.js");i.postMessage({type:e,payload:t}),i.addEventListener("message",(t=>{const o=t.data;o.type===e&&(i.terminate(),n(o.payload))}))}))),[]),u=_(((e,t=!0)=>{const n=new Worker("./sw/notesearch-worker.Xo3Yzo6r.js"),o=new Promise(((o,i)=>{n.postMessage({type:_H.START,payload:e,cache:t}),n.addEventListener("message",(e=>{const t=e.data;t.type===_H.END&&(n.terminate(),o(t.payload))}))}));return{promise:o,cancel:()=>n.terminate()}}),[]),d=_((async e=>{var t,r;if(e.type===HH.LOST){const d=e.payload;if(Array.isArray(d)&&d.length){const e=WZe(o.current,WK.note,[]),f=[(null!==(r=null===(t=i.current.file)||void 0===t?void 0:t.tree.length)&&void 0!==r?r:1)-1];n(J3(e,f));const h={safty:l,search:u,compression:s,decompression:c,jsonbridge:a};if(!1===await MK(e,d,h))return;const p={visible:!0,title:"",okText:"",onOk(e){n(tre({...p,visible:!1}),S6(d[0]))},cancelText:"",content:` ${d.length} `},v=await XY(e.id,h);n(mq(v),Y3(e.id),tre(p))}}}),[n,i,o,l,u,s,c,a]);return F((()=>{if("undefined"==typeof electron&&"undefined"==typeof WebPro)return r.current=new Worker("./sw/notesafty-worker.OqqeSIb0.js"),r.current.addEventListener("message",(e=>{var t;null===(t=r.current)||void 0===t||t.terminate(),r.current=null,d(e.data)})),()=>{var e;null===(e=r.current)||void 0===e||e.terminate()}}),[d]),F((()=>{if("undefined"!=typeof electron&&"undefined"!=typeof WebPro)return electron.worker.start().then((()=>{electron.worker.onMessage((e=>{electron.worker.terminate(),d(e)}))})),()=>{electron.worker.terminate()}}),[d]),W((()=>({safty:l,search:u,compression:s,decompression:c,jsonbridge:a})),[l,u,s,c,a])}function X5(){return{json:Z(null),md:Z(null),dir:Z(null)}}function J5(e,t,n,o){const i=_d(e),r=_d(t),l=W((()=>async function e(t,i,l){var s,c,a,u,d;if(!o)return;const f=r.current.store,h=[];let p=null===(s=null==f?void 0:f.editor)||void 0===s?void 0:s[t];if(!p){const e=await XY(t,o,!0);if(!e)return;p=null===(c=null==e?void 0:e.editor)||void 0===c?void 0:c[t],h.push(mq(e))}if(i&&p){const n=null!==(u=null===(a=null==p?void 0:p.data)||void 0===a?void 0:a.children)&&void 0!==u?u:[];for(const o of n)if(Fve(o)){const n=null===(d=o.props)||void 0===d?void 0:d.id;if(!n||n===t)continue;const r=await e(n,i,!0);Array.isArray(r)&&h.push(...r)}}if(l)return h;n(...h)}),[n,r,o]),s=W((()=>async function(e){if(!o)return;const t=[],i=await XY(e,o);t.push(mq(i)),n(...t)}),[n,o]),c=_((e=>{var t;const n=r.current.store;return!!(null===(t=null==n?void 0:n.editor)||void 0===t?void 0:t[e])}),[r]),a=_((()=>{var e;const t={...r.current,...i.current,root:!0,virtual:!0,focus:{type:E$.EDITOR},editable:!0};return null!==(e=r.current.provider)&&void 0!==e?e:{rootstate:r.current,context:RUe(t),rootdispatch:n,dispatch:n}}),[r,i,n]),u=W((()=>({isFileDelete:e=>cVe(r.current,e),getFileDelete:e=>sVe(r.current,e),refresh:async e=>{var t,n;const o=r.current,i=null===(t=o.file)||void 0===t?void 0:t.currentPageId;if(!i)return;const l=null===(n=o.undoredo)||void 0===n?void 0:n[i];if(!l)return;const{stack:s,offset:c}=l,a=c+e;if(!s[a])return;let{store:u}=s[a];if(!u)return;u=kje(u,s[c].store);const d={...u.reference},f=Object.keys(d),h=await LF(f);if(1===h.ok&&h.data)for(const e in h.data)d[e]={...h.data[e],count:0,detail:{}};return{...u,reference:d}}})),[r]),d=W((()=>({static:()=>b$e(r.current),get:()=>r.current,refresh:()=>{n(s9(aRe(!0)))}})),[r,n]),f=W((()=>{const e=nc((async e=>{const t=r.current;if(!t.file)return;if(!(e=null!=e?e:t.file.currentPageId))return;const o=await xK(e);if(!(null==o?void 0:o[0]))return;const i=o[0],l=WUe(t.file.cloud);l[i]&&!l[i].syncing&&await _5(l[i],i,t,n)}),1e3);return{detect:e}}),[r,n]),h=Z(null);return W((()=>({safty:l,refresh:s,exist:c,undoredo:u,stater:d,provider:a,dispatch:n,worker:o,webdav:f,sheet:h})),[l,s,c,u,d,a,n,o,f,h])}const{getPathFromKey:Q5}=hk;function e3(e,t){var n;const o=R(FU),i=R(ZU),r=NHe(xHe(null!==(n=null==i?void 0:i.focus)&&void 0!==n?n:WFe(),ZFe(Q5(e)),t));void 0===o.current.options&&(o.current.options={});const l={...o.current.options[r]};o.current.options[r]=l;const s=_((e=>{var t;const n=null===(t=o.current)||void 0===t?void 0:t.options;(null==n?void 0:n[r])&&(n[r]=e)}),[o,r]),c=_((e=>{var t;const n=null===(t=o.current)||void 0===t?void 0:t.options;for(const t in n)e&&t===r||delete n[t]}),[o,r]);return[l,s,c]}const{EditElement:t3,removeBoxSizeStyle:n3,removeBorderSizeStyle:o3,transformNodeToEditNode:i3,createInlineNode:r3}=hk;function l3(e){const[t,n]=qd((()=>hqe(e))),o=Z(null),{showFile:i=!1,showEditor:r=!0}=e,l=Z({assets:{cache:e.note.assets}}),s=e5(l,n),c=G5(e,t,n),a=J5(e,t,n,c);$K(e,0,n);const u={...t,...e,dispatch:n,root:!0,virtual:!e.fullRender,editable:!1,focus:{type:E$.NONE},editor:{...t.editor,scrollOffset:void 0}},d=RUe(u),f={...d,reader:!0,file:t.file,ref:e.fileRef,leafStyle:e.leafStyle,onClickBranch:(t,n)=>{var o;return null===(o=e.onClickBranch)||void 0===o?void 0:o.call(e,t,n,u)},onClickSearchBranch(t,n){var o;return null===(o=e.onClickSearchBranch)||void 0===o?void 0:o.call(e,t,n,u)}},h={...d,file:t.file};return G(PU,{value:n,children:G(RU,{value:t,children:G(OU,{value:e,children:G(HU,{value:o,children:G(FU,{value:l,children:G(_U,{value:s,children:G(jU,{value:a,children:G(WU,{value:c,children:r?X(N2,{...h,children:[i&&G(k2,{...f}),G(A2,{...d,children:G(YK,{...u})}),G(tD,{ref:o})]}):i&&G(k2,{...f})})})})})})})})})}function s3(e){const[t,n]=$(e.note);return H((()=>{var t;null===(t=e.fetcher)||void 0===t||t.then((e=>e&&n(e)))}),[e.fetcher]),t?G(l3,{...e,note:t}):null}function c3(e){const{fontSize:t=(Kf?15:14),fontWeight:n,width:o=200,node:i,listTop:r}=e;if(!i)return null;const l=tae(i),s=n3(o3({...nZ,...i.style,width:o,fontSize:t,position:"relative",top:l&&Kf?-1:0}));null==s||delete s.fontWeight;const c=[bPe(i3(r3(i.children,{...s,width:l?o-1.5*t:o,marginLeft:l?2:0,position:"relative",top:l?Kf?null!=r?r:1.2:.2:Kf?.3:0}),i.key),t,(e=>{var t,n,o;return(null===(t=e.style)||void 0===t?void 0:t.fontWeight)&&delete e.style.fontWeight,(null===(n=e.style)||void 0===n?void 0:n.height)&&delete e.style.height,(null===(o=e.style)||void 0===o?void 0:o.lineHeight)&&delete e.style.lineHeight,e}))],a={...i.props};l&&delete a.style;const u={...i,style:{...s,...e.style,display:"inline-flex",alignItems:"center",pointerEvents:"none",fontWeight:n},props:a,children:c};return G(FU,{value:{current:{}},children:G(t3,{value:null,children:G(ZE,{node:u,renderElement:Uze})})})}function a3(e){var t,n,o,i;const{onCloseModal:r,onClickContainer:l,onClickSync:s,onClickSyncFully:c,onClickAdd:a,onClickCopy:u,onClickQRCode:d,onClickFold:f,onClickUnFold:h,onClickRemove:p,onClickSelects:v,onClickSelect:g,onClickUsernameVisible:m,onClickPasswordVisible:y,onClickModes:b,onClickMode:C,onInputService:w,onInputUsername:x,onInputPassword:S,onTransitionEnd:E}=$5(e),k=null===(t=e.file)||void 0===t?void 0:t.cloud;return G(Tk,{showFooter:!1,visible:null===(n=e.webdav)||void 0===n?void 0:n.visible,style:WZ,onCancel:r,onClose:r,children:X(wh,{style:zZ,onClick:l,children:[X(Dh,{style:VZ,children:[G("span",{style:$Z,children:G(kO,{width:24})}),G("span",{children:"WebDav"})]}),null===(o=e.webdav)||void 0===o?void 0:o.list.map(((e,t)=>{var n,o,i,r,l,c,a,D,I;let N=e.bind||e.update?"#fff":_f;1===e.status||-1===e.status&&(N="red");let L=e.bind||e.update?"#fff":Hf;1===e.status||-1===e.status&&(L="red");let T=Af;return e.update?T=q$[e.update]:e.bind&&(T=Bf),X("div",{style:ZZ,children:[X("div",{style:{...qZ,background:T},children:[X("div",{style:YZ,children:[G(Vk,{tips:"",children:G(Ev,{style:eU,onClick:n=>s(n,e,t),children:G("span",{onTransitionEnd:t=>E(t,e),style:{...bU,transform:`rotate(${360*(null!==(n=e.syncTransitionCount)&&void 0!==n?n:0)}deg)`},children:G(EO,{width:14,fill:N})})})}),e.update?G(wh,{style:oU,onClick:n=>s(n,e,t),children:1===e.update?"":2===e.update?"":""}):null,e.statusMessage?G("div",{style:{...tU,color:L},children:e.statusMessage}):G("div",{style:nU,children:G("div",{style:{color:L},children:G(c3,{width:400,node:null===(o=e.selected)||void 0===o?void 0:o.title})})})]}),X("div",{style:KZ,children:[G(Vk,{tips:"",style:{marginLeft:5},children:G(Ev,{style:eU,onClick:n=>d(n,e,t),children:G(QR,{width:13,fill:e.bind?"#fff":"#696969"})})}),G(Vk,{tips:"",style:{marginLeft:5},children:G(Ev,{style:eU,onClick:n=>u(n,e,t),children:G(yO,{width:12.5,fill:e.bind?"#fff":"#696969"})})}),e.fold&&G(Vk,{tips:"",style:{marginLeft:5},children:G(Ev,{style:eU,onClick:n=>h(n,e,t),children:G(mO,{width:15,fill:e.bind?"#fff":zf})})}),!e.fold&&G(Vk,{tips:"",style:{marginLeft:5},children:G(Ev,{style:eU,onClick:n=>f(n,e,t),children:G(gO,{width:15,fill:e.bind?"#fff":zf})})}),G(Vk,{tips:"",style:{marginLeft:5},children:G(Ev,{style:eU,onClick:n=>p(n,e,t),children:G(UM,{width:15,fill:e.bind?"#fff":zf})})})]})]}),X("div",{style:GZ,children:[G("div",{style:JZ,children:""}),X("div",{style:QZ,children:[G("input",{disabled:e.fold,style:{...iU,...e.fold&&rU},value:e.service,onInput:n=>w(n,e,t)}),e.validated&&!(null===(i=e.service)||void 0===i?void 0:i.trim())?G("div",{style:XZ,children:""}):e.validated&&!zM(null===(r=e.service)||void 0===r?void 0:r.trim())?G("div",{style:XZ,children:""}):null]})]}),!e.fold&&X("div",{style:GZ,children:[G("div",{style:JZ,children:""}),X("div",{style:QZ,children:[G("input",{style:iU,type:e.usernameInvisible?"password":"text",value:e.username,onInput:n=>x(n,e,t)}),G(wh,{style:kU,onClick:n=>m(n,e,t),children:e.usernameInvisible?G(zO,{width:14}):G(WO,{width:15})}),e.validated&&!(null===(l=e.username)||void 0===l?void 0:l.trim())?G("div",{style:XZ,children:""}):null]})]}),!e.fold&&X("div",{style:GZ,children:[G("div",{style:JZ,children:""}),X("div",{style:QZ,children:[G("input",{style:iU,type:e.passwordInvisible?"password":"text",value:e.password,onInput:n=>S(n,e,t)}),G(wh,{style:kU,onClick:n=>y(n,e,t),children:e.passwordInvisible?G(zO,{width:14}):G(WO,{width:15})}),e.validated&&!(null===(c=e.password)||void 0===c?void 0:c.trim())?G("div",{style:XZ,children:""}):null]})]}),!e.fold&&X("div",{style:GZ,children:[G("div",{style:JZ,children:""}),G("div",{style:QZ,children:X(wh,{style:{...lU,cursor:e.bind?"default":"pointer",height:e.selectorVisible?$Ue(e.roots):40},onClick:n=>v(n,e,t),children:[G("div",{style:cU,children:G(c3,{width:480,node:null===(a=e.selected)||void 0===a?void 0:a.title})}),G("div",{style:uU,children:e.roots.map((t=>{var n,o,i;const r={},l=t.id===(null===(n=e.selected)||void 0===n?void 0:n.id);l&&(r.backgroundColor=Af);const s=(null!==(i=null===(o=null==k?void 0:k[t.id])||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0;return s&&(r.color=jf),G("div",{style:r,children:X(Ev,{style:fU,onClick:n=>g(n,e,t),children:[G(c3,{width:480,node:t.title}),(l||t.incloud||(null==k?void 0:k[t.id]))&&X("span",{style:hU,children:[s&&G("span",{style:{marginTop:1.5,marginLeft:15},children:G(tP,{width:13,fill:jf})}),t.incloud&&G("span",{style:{marginTop:1.5,marginLeft:15},children:G(SO,{width:14})}),l&&G("span",{style:{marginLeft:15},children:G(VO,{width:13})})]})]})},t.id)}))}),!e.bind&&X("div",{style:pU,children:[(null===(D=e.selected)||void 0===D?void 0:D.incloud)&&G("span",{style:{display:"flex",marginTop:.5},children:G(SO,{width:14})}),G("span",{style:{marginLeft:15},children:e.pulling?G("span",{style:{display:"flex",marginBottom:2},children:G("span",{style:CU,children:G(jO,{width:14})})}):G("span",{style:wU,children:G("span",{style:{...xU,...e.selectorVisible?EU:SU},children:G(nO,{width:7,fill:zf})})})})]})]})})]}),X("div",{style:{...GZ,marginTop:e.fold?-15:0},children:[G("div",{style:JZ,children:""}),G("div",{style:QZ,children:X(wh,{style:{...sU,...e.fold&&rU,cursor:e.fold?"default":"pointer",height:e.modeVisible?40*(e.modes.length+1):40},onClick:n=>b(n,e,t),children:[G("div",{style:aU,children:null===(I=e.mode)||void 0===I?void 0:I.text}),G("div",{style:dU,children:e.modes.map(((t,n)=>{var o;const i={},r=t.value===(null===(o=e.mode)||void 0===o?void 0:o.value);return r&&(i.backgroundColor=Af),G("div",{style:i,children:X(Ev,{style:fU,onClick:n=>C(n,e,t),children:[G("span",{children:t.text}),r&&G("span",{style:hU,children:r&&G("span",{style:{marginLeft:15},children:G(VO,{width:13})})})]})},n)}))}),!e.fold&&G("div",{style:vU,children:G("span",{style:wU,children:G("span",{style:{...xU,...e.modeVisible?EU:SU},children:G(nO,{width:7,fill:zf})})})})]})})]}),!e.fold&&G("div",{style:DU,children:G(Iv,{style:IU,type:"primary",onClick:n=>s(n,e,t),children:""})})]},e.id)})),G(Ev,{style:UZ,type:"background",onClick:e=>a(e),children:G(AO,{width:24,fill:Of})}),G(Tk,{...null===(i=e.webdav)||void 0===i?void 0:i.modal})]})})}function u3(e){if(e.syncing)return G("span",{style:yU,children:G(EO,{width:12.5,fill:Hf})});const t={...mU};return 1===e.update?t.background=q$[1]:2===e.update?t.background=q$[2]:3===e.update&&(t.background=q$[3]),X("span",{style:gU,children:[G(kO,{width:14}),e.update?G("span",{style:t}):null]})}function d3(e){const t=Z(null);return H((()=>{t.current&&(t.current.innerHTML=e.qrcode)}),[e.qrcode]),X("div",{style:NU,children:[G("span",{style:LU,ref:t}),G("span",{style:TU,children:" WebDav"}),G("span",{style:BU,children:""})]})}const{clearSelection:f3,isCollapsed:h3}=hk,p3=e=>t=>{if(!e)return t;e={...e};const{context:n,rootstate:{...o}}=e;return e.context=RUe(n),delete o.provider,e.rootstate=o,t.provider=ud(e),t},v3=()=>e=>(delete e.provider,e),g3=()=>e=>{const t=e.provider;if(!t)return e;const n=t.context.editor;return t.context.editor=f3()(n),e},m3=()=>e=>{const t=e.provider;if(!t)return e;const n=t.context.editor;return h3(n.selection)?(t.context.editor=f3()(n),e):e},{isNode:y3,isNodeEqual:b3,initNodeKey:C3,getBlockNodeEndPath:w3,getEditNodeOffsets:x3,getPathFromKey:S3,createInlineNode:E3,getEditBlockNodeEndPath:k3,getEditBlockNodeStartPath:D3}=hk,{recursivePath:I3,recursiveTree:N3,toggleBranchArrow:L3,toggleBranchMore:T3,syncScrollHeight:B3,adjustScrollTop:A3,scrollToBranch:M3,scrollDelta:O3,getBranchByPath:R3,resetTreePath:P3,setScrollActive:F3,setScrollSmooth:H3,setScrollHeight:_3,BRANCH_HEIGHT:j3}=OB,W3=e=>t=>(t.file&&(t.file.isEditPending=e),t=wq({bootstrap:!0})(t)),z3=e=>t=>{var n,o,i,r,l;const s=null===(n=t.file)||void 0===n?void 0:n.tree;if(!s)return t;let c=null;if(c=f(e)?V_e(s,e):e,!c)return t;void 0===c.type&&(c=s[0]);const{id:a,path:u}=c,d=null===(i=null===(o=t.file)||void 0===o?void 0:o.branch)||void 0===i?void 0:i.id,h=null===(l=null===(r=t.file)||void 0===r?void 0:r.branch)||void 0===l?void 0:l.path;if(u&&h){const e=R3(s,u),n=R3(s,h);e&&(e.active=!0,t.file.branch={...e,children:void 0}),n&&(null==n?void 0:n.id)!==(null==e?void 0:e.id)&&(n.active=!1)}else{let e=0;N3(s,((n,o)=>{if(e>=2)return!0;if(!n)return!1;if(!n.type)return!0;const i=n.id;i===a?(e++,n.active=!0,t.file.branch=n):i===d&&(e++,n.active=!1)}))}return t=W3(!0)(t)},V3=()=>e=>{var t,n;const o=null===(t=e.file)||void 0===t?void 0:t.tree;return o?(null===(n=e.file)||void 0===n||delete n.branch,N3(o,(e=>{if(e.active)return e.active=!1,!0})),e=W3(!0)(e)):e},$3=e=>t=>{var n;const o=null===(n=t.file)||void 0===n?void 0:n.tree;if(!o)return t;const i=e.path;if(!i)return t;const r=R3(o,hc(i));if(!(null==r?void 0:r.children))return t;const l=r.children.findIndex((t=>t.id===e.id));return-1===l?t:(r.children.splice(l,1),t=m6(hc(i))(t),t=W3(!0)(t),t=jq(r)(t))},Z3=(e,t)=>n=>{var o,i,r;const l=null===(o=n.file)||void 0===o?void 0:o.tree;if(!l)return n;const s=l.find((t=>t.id===e.id));if(s)return t&&(e.path=null===(i=s.path)||void 0===i?void 0:i.slice()),n;const c={type:"root",tag:!0,...K_e(e),path:[l.length],expand:!1};return t&&(e.path=null===(r=c.path)||void 0===r?void 0:r.slice()),l.push(c),n=W3(!0)(n)},U3=(e,t)=>n=>{var o;const i=null===(o=n.file)||void 0===o?void 0:o.tree;if(!i)return n;let r=null;if(f(e))r=V_e(i,e);else if(zc(e)){r=V_e(i,n.file.currentPageId)}else r=e;if(!r)return n;const l=eje(i,r);return N3([l],(e=>{var n,o,i;if("outline"!==e.type){const r=t[e.id];if(!r)return;const l=K_e(r),s=null===(n=e.children)||void 0===n?void 0:n.filter((e=>e&&"outline"!==e.type));if(Object.assign(e,l,{expand:e.expand}),!(null===(o=l.children)||void 0===o?void 0:o.length))return void delete e.children;if(!(null===(i=e.children)||void 0===i?void 0:i.length))return;for(let t=0;t<e.children.length;t++){const n=e.children[t];if(!n)continue;if("outline"===n.type)continue;const o=null==s?void 0:s.find((e=>e.id===n.id));o&&(e.children[t]=o)}}})),n=m6(l.path)(n),n=W3(!0)(n)},q3=e=>t=>{var n,o,i,r,l;const s=null===(n=t.file)||void 0===n?void 0:n.tree;if(!s)return t;let c=null;if(f(e))c=V_e(s,e);else if(zc(e)){c=V_e(s,t.file.currentPageId)}else c=e;if(!c)return t;if(c=eje(s,c),!c)return t;if(null===(i=null===(o=c.children)||void 0===o?void 0:o.filter((e=>!!e)))||void 0===i?void 0:i.length)return t;const a=null===(l=null===(r=t.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[c.id];if(!a)return t;let u=!1;const d=a.data.children;for(let e=1;e<d.length;e++)if(Rve(d[e])){u=!0;break}return u&&(t=Y3(c)(t)),t},Y3=(e,t)=>n=>{var o,i,r,l,s,c,a,u;const d=null===(o=n.file)||void 0===o?void 0:o.tree;if(!d)return n;let h=null;if(f(e))h=V_e(d,e);else if(zc(e)){h=V_e(d,n.file.currentPageId)}else h=e;if(!h)return n;const p=eje(d,h),{id:v,path:g}=p;let m=null===(r=null===(i=n.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[v];if(void 0===m)return n;t&&Ku(m)&&(m=null!==(l=ed(m))&&void 0!==l?l:m);const{data:y,segments:b,uids:C}=m,w=H_e(y,null===(s=n.store)||void 0===s?void 0:s.reference);p.type!==w.type&&(w.type=p.type);let x=!1;const S=null===(a=null===(c=n.file)||void 0===c?void 0:c.branch)||void 0===a?void 0:a.id;if(void 0!==S){null!==V_e([p],S)&&(x=!0)}const E=j_e(p),k=[p];if(!(null===(u=p.children)||void 0===u?void 0:u.some((e=>null===e)))){const e=[w];for(;e.length;){const t=e.shift();if(!t)continue;const{id:o,title:i,payload:r,dot:l}=t;let s=t.type;const c=E[o];if((null==c?void 0:c.id)&&!c.type)continue;if(void 0!==c){delete E[o],c.type===s||k.some((e=>e.id===o))||k.push(t);let e=t.children;"page"!==s&&"root"!==s||(v!==o&&(e=c.children),b3(c.title,i)||k.some((e=>e.id===o))||k.push(t)),"root"===c.type&&(s=c.type),Object.assign(t,c,{children:e,title:i,payload:r,dot:l,type:s}),n.file&&S===o&&(n.file.branch=t)}else"page"!==s&&"root"!==s||k.some((e=>e.id===o))||k.push(t);const a=t.children;if(void 0!==a){if(void 0===t.expand&&(t.expand=!0),("page"===s||"root"===s)&&v!==o)continue;e.unshift(...a)}}}if(Object.assign(p,w),p.children&&I3(p.children,((e,t)=>{e&&(e.path=t)}),g),Pc(b)?delete p.segments:p.segments=b,Pc(C)?delete p.uids:p.uids=C,!0===x&&void 0!==S){const e=V_e([p],S);null===e&&n.file&&(n.file.branch=p),null!==e&&(e.active=!0)}n=W3(!0)(n);for(const e of k)n=jq(e)(n);return n},K3=()=>e=>{var t,n,o,i;const r=e.file;if(!r)return e;const{currentPageId:l,branch:s,tree:c}=r;if(!l||!s)return Y3()(e);const a=eje(c,s);if((null==a?void 0:a.id)!==l)return Y3()(e);const{id:u,path:d}=a;let f=!1;const h=null===(n=null===(t=e.file)||void 0===t?void 0:t.branch)||void 0===n?void 0:n.id;if(void 0!==h){null!==V_e([a],h)&&(f=!0)}const{node:p,data:v,segments:g,uids:m}=e.editor,y=pc(p.children),b=dc(p.children);if(!y||!b)return e;const C=S3(y.key)[0],w=S3(b.key)[0],x=[...p.children];let S=!0;for(let e=C-1;e>=0;e--){const t=v.children[e];if(Rve(t)){x.unshift(t);break}}for(let e=w+1;e<v.children.length;e++){const t=v.children[e];if(Rve(t)){x.push(t),S=!1;break}}const E=W_e(a);let k=[];const D=p.children[0],I=v.children[0];if(Fve(D)&&(null===(o=D.props)||void 0===o?void 0:o.id)===(null===(i=I.props)||void 0===i?void 0:i.id)){k=W_e(H_e(p))}else{const e={...v.children[0]};e.props={...e.props,id:aRe(!0)};k=W_e(H_e({...p,children:[e,...x]})).slice(1)}const N=pc(k),L=dc(k);let T=-1,B=-1;for(let e=0;e<E.length&&(E[e].id===(null==N?void 0:N.id)&&(T=e),E[e].id===(null==L?void 0:L.id)&&(B=e),-1===T||-1===B);e++);if(-1===T||-1===B)return Y3()(e);if(S){const e=E.length-1-B;e&&E.splice(B,e)}const A=[a],M=T,O=B-T+1,R=E.slice(M,M+O),P={};for(const e of R)P[e.id]=e;E.splice(M,O,...k.map((t=>{const{id:n,title:o,payload:i,dot:r}=t;let l=t.type;const s=P[n];if((null==s?void 0:s.id)&&!s.type)return t;if(void 0!==s){delete P[n],s.type===l||A.some((e=>e.id===n))||A.push(t);let c=t.children;"page"!==l&&"root"!==l||(u!==n&&(c=s.children),b3(s.title,o)||A.some((e=>e.id===n))||A.push(t)),"root"===s.type&&(l=s.type),Object.assign(t,s,{children:c,title:o,payload:i,dot:r,type:l}),e.file&&h===n&&(e.file.branch=t)}else"page"!==l&&"root"!==l||A.some((e=>e.id===n))||A.push(t);return t})));const F=z_e(E);if(a.type!==F.type&&(F.type=a.type),Object.assign(a,F),a.children&&I3(a.children,((e,t)=>{e&&(e.path=t)}),d),Pc(g)?delete a.segments:a.segments=g,Pc(m)?delete a.uids:a.uids=m,!0===f&&void 0!==h){const t=V_e([a],h);null===t&&e.file&&(e.file.branch=a),null!==t&&(t.active=!0)}e=W3(!0)(e);for(const t of A)e=jq(t)(e);return e},G3=()=>e=>{var t,n,o,i;const{node:r,scrollTop:l,scrollOffset:s,scrollHeight:c,clientHeight:a}=e.editor;if(c<=a)return e;for(let c=r.children.length-1;c>=0;c--){const a=r.children[c];if(Rve(a)){if(!a.position)continue;if(S3(a.key)[0]>0&&(null===(t=a.props)||void 0===t?void 0:t.subclass)===iae.H)continue;const c=S3(a.key);if(Qc(x3(r,c))-l-(null!==(n=null==s?void 0:s.top)&&void 0!==n?n:0)<100){const t=null===(o=a.props)||void 0===o?void 0:o.id,n=null===(i=e.file)||void 0===i?void 0:i.branch;return n&&void 0!==t&&n.id!==t&&(e=z3(n)(e)),e}}}return e},X3=(e,t)=>n=>{var o;const i=null===(o=n.file)||void 0===o?void 0:o.tree;if(!i||!t)return n;const r=R3(i,t);return r?(r.children||(r.children=[]),r.children.push(e),e.path||(e.path=[...t,r.children.length],n=m6(e.path)(n)),n=jq(e,r)(n),n=jq(r)(n),n=W3(!0)(n)):n},J3=(e,t)=>n=>{var o,i,r;const l=null===(o=n.file)||void 0===o?void 0:o.tree;if(!l||!t)return n;const s=R3(l,hc(t));if(null===s){if("root"!==e.type)return n;const o=null!==(i=dc(t))&&void 0!==i?i:0;l.splice(o+1,0,e)}else{s.children||(s.children=[]);const n=null!==(r=dc(t))&&void 0!==r?r:0;s.children.splice(n+1,0,e)}return n=m6(hc(t))(n),n=jq(e,null!=s?s:void 0)(n),s&&(n=jq(s)(n)),n=W3(!0)(n)},Q3=e=>t=>{var n;const o=null===(n=t.file)||void 0===n?void 0:n.tree;if(!o)return t;if(!e.path)return t;const i=R3(o,hc(e.path));if(!(null==i?void 0:i.children))return t;const r=i.children.findIndex((t=>(null==t?void 0:t.id)===e.id));return void 0===r||-1===r?t:(i.children[r]=e,t=jq(e,i)(t),t=jq(i)(t),t=W3(!0)(t))},e6=(e,t,n)=>e=>{var o,i;const{store:r,file:l}=e;if(void 0===r||void 0===(null==l?void 0:l.tree))return e;e=B6(t)(e),e=Iq(t)(e);let s=null===(o=r.editor)||void 0===o?void 0:o[t];if(n||Aje(t,r)||Ku(s)&&(s=ed(s)),void 0===s)return e;const{cwnd:c=3,data:a,scrollHeight:u}=s,d=null!==(i=dPe(a,[],c))&&void 0!==i?i:C3(a),f=k$e(s,D3(d),k3(d)),{clientHeight:h,clientWidth:p}=e.editor;return delete f.resizeWidth,delete f.location,f.cwnd=c,f.clientHeight=h,f.clientWidth=p,f.scrollHeight=Math.max(u,h),e=X8(f)(e),e=i9()(e),e=v3()(e)},t6=(e,t,n)=>e=>{var o,i,r,l;const{store:s,file:c}=e,a=null==c?void 0:c.currentPageId;if(void 0===a)return e;e=v9(a)(e);let u=null===(i=null===(o=(e=Iq(a)(e)).store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[a];if(n||Aje(a,s)||Bje(a,s)||Ku(u)&&(u=ed(u)),void 0===u)return e;const{data:d,scrollHeight:f}=u,h=Ove(d,t);if(!Rve(h))return e;const p=d.children.indexOf(h);if(-1===p)return e;if(0===h.children.length){u=null===(l=null===(r=e.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[a];u.data.children[p].children.push(E3([]))}const{clientHeight:v,clientWidth:g}=e.editor,m=[p,...w3(h)],y=D$e(u,m,m);return y.clientHeight=v,y.clientWidth=g,y.scrollHeight=Math.max(f,v),y.scrollOffset={top:m$},e=X8(y)(e),e=i9()(e)},n6=e=>t=>{var n,o,i,r,l,s;const c=null===(n=t.file)||void 0===n?void 0:n.currentPageId;if(void 0===c)return t;const a=null===(i=null===(o=t.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[c];if(void 0===a)return t;const{data:u}=a;let d=[],f=u.children;Ku(f)&&(f=null!==(r=ed(f))&&void 0!==r?r:f);const h=f.map(((e,t)=>({node:e,path:[t]})));for(;h.length;){const t=h.shift();if(!t)break;if(Rve(t.node)){if((null===(l=t.node.props)||void 0===l?void 0:l.id)===e){d=t.path;break}const n=null===(s=t.node.props)||void 0===s?void 0:s.list;et(n)&&h.unshift(...n.map(((e,n)=>({node:e,path:[...t.path,n]}))))}}let p=0;for(let e=0;e<d.length;e++){p+=d[e]+1;const t=f[d[e]];if(Rve(t)&&t.props){const{list:e,expand:n}=t.props;!n&&et(e)&&(u.children.splice(p,0,...e),t.props.expand=!0,delete t.props.list,f=e)}}return t},o6=(e,t)=>n=>{var o;const i=null===(o=n.file)||void 0===o?void 0:o.tree;if(!i)return n;const{more:r,moving:l,rename:s}=n.file,c=[];if(e.includes("more")){if(r){const e=R3(i,r);e&&(delete e.more,delete n.file.more,c.includes(e)||c.push(e))}if((null==t?void 0:t.more)&&t.path){const e=R3(i,t.path);e&&(delete e.more,c.includes(e)||c.push(e))}null==t||delete t.more}if(e.includes("moving")){if(l){const e=R3(i,l);e&&(delete e.moving,delete n.file.moving,c.includes(e)||c.push(e))}if((null==t?void 0:t.moving)&&t.path){const e=R3(i,t.path);e&&(delete e.moving,c.includes(e)||c.push(e))}null==t||delete t.moving}if(e.includes("rename")){if(s){const e=R3(i,s);e&&(delete e.rename,delete n.file.rename,c.includes(e)||c.push(e))}if((null==t?void 0:t.rename)&&t.path){const e=R3(i,t.path);e&&(delete e.rename,c.includes(e)||c.push(e))}null==t||delete t.rename}for(const e of c)n=jq(e)(n);return c.length&&(n=W3(!0)(n)),n},i6=(e,t,n)=>e=>{var n;const o=null===(n=e.file)||void 0===n?void 0:n.tree;if(!o)return e;const{path:i}=t;if(!i)return e;const r=R3(o,i);return r?(r.more=!0,r.moving=!0,e.file.more=i,e.file.moving=i,e=jq(r)(e),e=W3(!0)(e)):e},r6=(e,t,n)=>e=>{var n;const o=null===(n=e.file)||void 0===n?void 0:n.tree;if(!o)return e;const{path:i}=t;if(!i)return e;const r=R3(o,i);return r?(r.rename=!0,e.file.rename=i,e=jq(r)(e),e=W3(!0)(e)):e},l6=(e,t)=>n=>{var o,i,r;const l=null===(o=n.file)||void 0===o?void 0:o.tree;if(!l)return n;const{path:s}=e;if(!s)return n;const c=R3(l,s);return c?(Object.assign(c,t),(null===(r=null===(i=n.file)||void 0===i?void 0:i.branch)||void 0===r?void 0:r.id)===e.id&&Object.assign(n.file.branch,t),n=W3(!0)(n)):n},s6=(e,t)=>n=>{var o,i,r;const l=null===(o=n.file)||void 0===o?void 0:o.tree;if(!l)return n;const{path:s}=e;if(!s)return n;const c=R3(l,s);if(!c)return n;for(const o in t)delete c[o],(null===(r=null===(i=n.file)||void 0===i?void 0:i.branch)||void 0===r?void 0:r.id)===e.id&&delete n.file.branch[o];return n=jq(c)(n),n=W3(!0)(n)},c6=(e,t)=>n=>{var o,i,r;const l=null===(o=n.file)||void 0===o?void 0:o.tree;if(!l)return n;if(!(t=null!=t?t:e.path))return n;const s=R3(l,hc(t));return(null!==(i=null==s?void 0:s.children)&&void 0!==i?i:l)[null!==(r=dc(t))&&void 0!==r?r:0]=e,n=m6(t)(n),n=W3(!0)(n)},a6=(e,t)=>n=>void 0===n.file?n:(n.file=L3(e,t)(n.file),n=W3(!0)(n)),u6=e=>t=>void 0===t.file?t:(t.file=T3(e)(t.file),t=W3(!0)(t)),d6=e=>t=>{var n;if(void 0===t.file||!e.path)return t;const o=t.file.tree,i=R3(o,e.path);return(null===(n=null==i?void 0:i.children)||void 0===n?void 0:n.length)?(N3(i.children,(e=>{e.expand=!1})),t=p6()(t),t=y6()(t),t=W3(!0)(t)):t},f6=e=>t=>{if(void 0===t.file||!e.path)return t;const n=t.file.tree,o=R3(n,e.path);return o?(N3([o],(e=>{e.expand=!0})),t=p6()(t),t=y6()(t),t=W3(!0)(t)):t},h6=(e,t)=>n=>{if(void 0===n.file||!e.path)return n;const o=n.file.tree,i=R3(o,e.path);return i?(N3([i],(e=>{"page"!==e.type&&"root"!==e.type||(e.readonly=t)})),n=W3(!0)(n)):n},p6=()=>e=>void 0===e.file?e:(e.file=A3()(e.file),e=W3(!0)(e)),v6=(e,t)=>n=>{var o;if(void 0===n.file)return n;if(!t)return n=y6()(n);const{scrollTop:i,scrollOffset:r,clientHeight:l,scrollHeight:s}=n.file;let c=Kf&&null!==(o=null==r?void 0:r.top)&&void 0!==o?o:0,a=!1;N3(n.file.tree,(t=>!!a||(c+=j3,t.id===e.id&&(a=!0),!1!==t.expand&&void 0)));const u=c-(i+l-t);return u>0&&(n.file=_3(Math.max(c+t,s))(n.file),n.file=O3(u)(n.file),n=g6(!0,!0)(n)),n},g6=(e,t)=>n=>void 0===n.file?n:(n.file=F3(e)(n.file),n.file=H3(!!t)(n.file),n=W3(!0)(n)),m6=(e,t)=>n=>void 0===n.file?n:(n.file=P3(e,t)(n.file),n=W3(!0)(n)),y6=()=>e=>void 0===e.file?e:(e.file=B3()(e.file),e=W3(!0)(e)),b6=()=>e=>void 0===e.file?e:(e.file.clientHeight=DFe(),e=W3(!0)(e)),C6=e=>t=>{if(!t.file)return t;let n=t.file.scrollHeight;return N3([e],(e=>{if(n+=j3,!1===e.expand)return!1})),t.file.scrollHeight=n,t=p6()(t),t=W3(!0)(t)},w6=e=>t=>{if(!t.file)return t;let n=t.file.scrollHeight;return N3([e],(e=>{if(n-=j3,!1===e.expand)return!1})),t.file.scrollHeight=n,t=p6()(t),t=W3(!0)(t)},x6=(e,t)=>n=>{var o,i,r;if(!e.title)return n;if(pBe(e.title)){const l=null===(r=null===(i=null===(o=n.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[t])||void 0===r?void 0:r.data;if(l){let o=l.children.findIndex((t=>{var n;return y3(t)&&(null===(n=t.props)||void 0===n?void 0:n.id)===e.id}));-1===o&&(o=l.children.findLastIndex((e=>y3(e)&&pBe(e)))),-1!==o&&(n=OBe(t,o,!0,!1)(n))}}return n},S6=e=>t=>t.file?(t.file=M3(e)(t.file),t=p6()(t),t=g6(!0)(t),t=W3(!0)(t)):t,E6=()=>e=>{var t;if(!e.file)return e;let n=dc(e.file.tree);for(;null===(t=null==n?void 0:n.children)||void 0===t?void 0:t.length;)n=dc(n.children);return n?S6(n.id)(e):e},{saftyTreeState:k6,resetTreePath:D6}=OB,I6=(e,t,n)=>o=>{if(void 0===o.file)return o;if(e.tree.length&&(!e.tree[0].path||t))try{e=D6()(e)}catch(i){}if(Object.assign(o.file,e),n){function r(e,t,n){var o;for(let i=0;i<e.length;i++){const l=e[i];if("outline"!==l.type)if(t[l.id]){e[i]=K_e(t[l.id]);const n=e[i].children;(null==n?void 0:n.length)&&(delete t[l.id],r(n,t,!1===e[i].expand))}else!1!==l.expand&&(null===(o=l.children)||void 0===o?void 0:o.length)&&!n&&(e[i].expand=!1)}}n={...n},r(o.file.tree,n),o=y6()(o)}if(!o.file)return o;if(delete o.file.catalogs,rh&&(o.file.clientWidth=document.documentElement.clientWidth-WQ),t){o.file.tree.forEach((e=>{var t,n;delete e.syncing,e.tag=!0,e.type="root";const i=null===(n=null===(t=o.file)||void 0===t?void 0:t.cloud)||void 0===n?void 0:n[e.id];(null==i?void 0:i.length)&&i.some((e=>e.bind&&"webdav"===e.type))&&(e.icon=u3)}));for(const l in o.file.cloud)o.file.tree.some((e=>e.id===l))?o.file.cloud[l].forEach((e=>{delete e.syncing,delete e.update})):delete o.file.cloud[l]}return o},N6=()=>e=>(void 0===e.file||(e.file=k6()(e.file)),e),L6=e=>t=>(void 0===t.file||Object.assign(t.file,e),t),T6=e=>e=>(e.file,e),B6=e=>t=>(void 0===t.file||(t.file.currentPageId=e),t),A6=()=>e=>{var t;return null===(t=e.file)||void 0===t||delete t.currentPageId,e},M6=e=>t=>(void 0===t.file||(t.file.visible=e),t),O6=()=>e=>e,{createBlockNode:R6,createInlineNode:P6,createReferenceBlockNode:F6,getNodeByPath:H6,isNode:_6,isEmptyNode:j6}=hk,W6=(e,t,n)=>o=>{var i,r,l,s,c,a;const{file:u}=o;if(!u)return o;const d=lje(u.tree,t);if(!d)return o;const f=Tve(null!==(r=null===(i=(t=d).payload)||void 0===i?void 0:i.subclass)&&void 0!==r?r:iae.H);if(null===f)return o;(null==u?void 0:u.currentPageId)!==n&&(o=e6(e,n)(o));const h=o.editor,p=aRe(),v=_ve({subclass:f,id:p},[R6([P6([""])],Ave(f))]),g=h.data;let m=[];for(let e=0;e<g.children.length;e++){const n=g.children[e];if(Rve(n)&&(null===(l=n.props)||void 0===l?void 0:l.id)===t.id){m=[e];break}}const y=H6(g,m),b=H6(g,hc(m));if(_6(b)&&Rve(y)){let i=b.children.indexOf(y)+1;for(;i<b.children.length;){if(Rve(b.children[i]))break;i++}b.children.splice(i,0,v);const r=[...hc(m),i,0,0,0],l={anchor:{path:[...r],offset:0},focus:{path:[...r],offset:0}},u=H_e(R6([v]));u.type="outline",u.path=[...null!==(s=t.path)&&void 0!==s?s:[],null!==(a=null===(c=t.children)||void 0===c?void 0:c.length)&&void 0!==a?a:0],o=kq(n,h)(o),o=t6(e,p,!0)(o),o=X3(u,t.path)(o),o=z3(u)(o),o=k9(l)(o)}return o},z6=(e,t,n)=>n=>{var o,i,r,l;const{store:s,file:c}=n;if(!c)return n;const a=lje(c.tree,t);if(!a)return n;const u=(t=a).id,d=null===(o=null==s?void 0:s.editor)||void 0===o?void 0:o[u];if(void 0===d)return n;const f=iae.H,h=aRe(),p=R6([P6([""])],Ave(f)),v=F6({id:h,uid:h},[p]),g=_ve({subclass:f,id:h},[v]),m=d.data,y=dc(m.children),b=m.children.length;j6(y,!0)&&b>1&&m.children.pop(),m.children.push(g),j6(y,!0)&&b>1&&m.children.push(y),T9(h,h)({editor:d});const C=H_e(R6([g]));C.path=[...null!==(i=t.path)&&void 0!==i?i:[],null!==(l=null===(r=t.children)||void 0===r?void 0:r.length)&&void 0!==l?l:0];const w=uFe({data:R6([g],Y$),uids:{[h]:h}});return n=kq(h,w)(n),n=Rq(h,v,h)(n),n=X3(C,t.path)(n),n=e6(e,C.id,!0)(n),n=z3(C)(n),n=kq(u,d)(n),n=S6(C.id)(n),n=Rq(h,v,u)(n),n=A9()(n)},V6=(e,t,n,o)=>i=>{var r,l,s,c;const{store:a}=i,u=e.id,d=null===(r=null==a?void 0:a.editor)||void 0===r?void 0:r[u];if(void 0===d)return i;const f=iae.H,h=R6([P6([n])],Ave(f)),p=F6({id:t,uid:t},[h]),v=_ve({subclass:f,id:t},[p]),g=d.data,m=dc(g.children),y=g.children.length;j6(m,!0)&&y>1&&g.children.pop(),g.children.push(v),j6(m,!0)&&y>1&&g.children.push(m),T9(t,t)({editor:d});const b=H_e(R6([v]));b.path=[...null!==(l=e.path)&&void 0!==l?l:[],null!==(c=null===(s=e.children)||void 0===s?void 0:s.length)&&void 0!==c?c:0],b.expand=o;const C=uFe({data:R6([v],Y$),uids:{[t]:t}});return i=kq(t,C)(i),i=Rq(t,p,t)(i),i=X3(b,e.path)(i),i=kq(u,d)(i),i=Rq(t,p,u)(i)},{isNode:$6,isReferenceBlockNode:Z6,isReferenceNode:U6,traverseNode:q6,isNodeEqual:Y6}=hk,{getBranchByPath:K6}=OB,G6=(e,t,n,o,i=!0)=>r=>{var l,s,c,a,u;if(!Rve(e,iae.H))return r;const d=null===(l=e.props)||void 0===l?void 0:l.id;if(!d)return r;let f=null===(c=null===(s=r.store)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[n];if(f)f=i?ps({...f,uids:void 0,node:void 0,ureference:void 0}):{...f,uids:void 0,node:void 0,ureference:void 0};else{const t=e.children[0];if(!Z6(t))return r;f=dFe(t,d)}const h=[],p=[],v=e=>{h.push(e)},g=e=>{p.push(e)};f.data.children.slice(1).forEach((e=>{var n,l,s,c;if($6(e)){if(Fve(e)){const t=null===(n=e.props)||void 0===n?void 0:n.id;if(t){const n=e.children[0],o=null===(s=null===(l=r.store)||void 0===l?void 0:l.reference)||void 0===s?void 0:s[t];if(o){const e=o.data,t=null===(c=n.props)||void 0===c?void 0:c.uid,i={...e.props,uid:t},r={...e,props:i};Y6(n,r)||Object.assign(n,r)}}}X6(e,t,d,v,g,o,i)}})),f.data.children[0]=e;const m=RPe(e);for(const e in m){const t=m[e],n=null===(a=t.props)||void 0===a?void 0:a.id;n&&(T9(e,n)({editor:f}),r=Rq(n,t,d)(r))}h.forEach((e=>{e({editor:f})}));const y=null===(u=(r=kq(d,f)(r)).file)||void 0===u?void 0:u.tree;if(y&&t.length){const e=K6(y,t);if(e){e.path||(r=m6(t)(r));const n=V_e([e],d);n&&(r=Y3(n)(r))}else r=Y3(d)(r)}else r=Y3(d)(r);return p.forEach((e=>{r=e(r)})),r};function X6(e,t,n,o,i,r,l=!0){q6(e,(e=>{var s,c,a,u,d,f,h,p,v,g,m,y;if(Yse(e)){const d=null!==(a=null===(c=null===(s=e.props)||void 0===s?void 0:s.value)||void 0===c?void 0:c.cells)&&void 0!==a?a:{};for(const e in d){const s=null===(u=d[e].state)||void 0===u?void 0:u.editor;if(!s)return;n4(s),X6(s.node,t,n,o,i,r,l)}}else if(Zde(e)){if(e.props){const t=aRe();e.props.uid=t;const r=e.children[0];if(U6(r)){const e=null===(d=r.props)||void 0===d?void 0:d.id;e&&r.props&&(r.props.uid=t,o(T9(t,e)),i(Rq(e,r,n)))}return!1}}else if(U6(e)){const t=null===(f=e.props)||void 0===f?void 0:f.id;if(t&&e.props){const r=aRe();e.props.uid=r,o(T9(r,t)),i(Rq(t,e,n))}}else if(Ohe(e)||Sae(e))(null===(h=e.props)||void 0===h?void 0:h.uid)&&(e.props.uid=aRe());else if(Eae(e)){if(e.props){const{id:t,uid:o}=e.props;t&&o&&n&&(e.props.id=aRe(),e.props.uid=aRe(),i(rue(e,t,n)))}}else if(Rve(e)){if(Fve(e)){if(r)return e.props={type:lae,id:null===(m=e.props)||void 0===m?void 0:m.id,subclass:null===(y=e.props)||void 0===y?void 0:y.subclass},void delete e.style;{const s=aRe(),c=null===(p=e.props)||void 0===p?void 0:p.id;(null===(v=e.props)||void 0===v?void 0:v.id)&&(e.props.id=s),(null===(g=e.props)||void 0===g?void 0:g.uid)&&(e.props.uid=s);const a=e.children[0];return Z6(a)&&(a.props&&(a.props.id=s,a.props.uid=s),o(T9(s,s)),i(Rq(s,a,null!=n?n:s)),a.children.forEach((e=>{$6(e)&&X6(e,t,n,o,i,r,l)})),i(G6(e,t,c,r,l))),!1}}if(!e.props)return;e.props.id=aRe();const s=e.props.list;et(s)&&s.forEach((e=>{$6(e)&&X6(e,t,n,o,i,r,l)}))}else if(rSe(e)){if(!e.props)return;const s=e.props.list;et(s)&&s.forEach((e=>{$6(e)&&X6(e,t,n,o,i,r,l)}))}}))}const J6=(e,t,n,o,i)=>r=>{var l,s,c,a;if(!Rve(e,iae.H))return r;const u=null===(l=e.props)||void 0===l?void 0:l.id;if(!u)return r;const d=null===(s=o.editor)||void 0===s?void 0:s[n];if(!d)return r;const f=[],h=[],p=[],v=e=>{f.push(e)},g=e=>{h.push(e)};i||(i=e=>{p.push(e)});d.data.children.slice(1).forEach((e=>{$6(e)&&Q6(e,t,u,o,v,g,i)})),d.data.children[0]=e,delete d.uids;const m=RPe(e);for(const e in m){const t=m[e],n=null===(c=t.props)||void 0===c?void 0:c.id;n&&(T9(e,n)({editor:d}),r=Rq(n,t,u)(r))}f.forEach((e=>{e({editor:d})}));const y=null===(a=(r=kq(u,d)(r)).file)||void 0===a?void 0:a.tree;if(y&&t.length){const e=K6(y,t);if(e){e.path||(r=m6(t)(r));const n=V_e([e],u);n&&(r=Y3(n)(r))}else r=Y3(u)(r)}else r=Y3(u)(r);return h.forEach((e=>{r=e(r)})),p.forEach((e=>{r=e(r)})),r};function Q6(e,t,n,o,i,r,l){q6(e,(e=>{var s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x,S,E,k,D;if(Yse(e)){const d=null!==(a=null===(c=null===(s=e.props)||void 0===s?void 0:s.value)||void 0===c?void 0:c.cells)&&void 0!==a?a:{};for(const e in d){const s=null===(u=d[e].state)||void 0===u?void 0:u.editor;if(!s)return;n4(s),Q6(s.node,t,n,o,i,r,l)}}else if(Zde(e)){if(e.props){const t=aRe();e.props.uid=t;const l=e.children[0];if(U6(l)){let e=null===(d=l.props)||void 0===d?void 0:d.id;if(e){const t=null===(h=null===(f=o.reference)||void 0===f?void 0:f[e])||void 0===h?void 0:h.data;if(t){Object.assign(l,{...t,props:{...t.props}});const n=null===(p=t.props)||void 0===p?void 0:p.id;n&&n!==e&&(e=n)}}e&&l.props&&(l.props.uid=t,i(T9(t,e)),r(Rq(e,l,n)))}return!1}}else if(U6(e)){let t=null===(v=e.props)||void 0===v?void 0:v.id;if(t){const n=null===(m=null===(g=o.reference)||void 0===g?void 0:g[t])||void 0===m?void 0:m.data;if(n&&n.props){Object.assign(e,{...n,props:{...n.props}});const o=null===(y=n.props)||void 0===y?void 0:y.id;o&&o!==t&&(t=o)}}if(t&&e.props){let o=t;APe(e)||(o=aRe()),e.props.uid=o,i(T9(o,t)),r(Rq(t,e,n))}}else if(Ohe(e)||Sae(e))(null===(b=e.props)||void 0===b?void 0:b.uid)&&(e.props.uid=aRe());else if(Eae(e)){if(e.props){const{id:t,uid:i,value:r}=e.props;if(t&&i&&(e.props.id=aRe(),e.props.uid=aRe(),l(rue(e,t,n))),r){const e=r.pageId,t=null===(w=null===(C=o.reference)||void 0===C?void 0:C[e])||void 0===w?void 0:w.data;if(t&&t.props){const n=t.props.id;if(n&&n!==e)r.pageId=n;else{const e=aRe();r.pageId=e,t.props.id=e}}}}}else if(Rve(e)){if(Fve(e)){let s=aRe();const c=null===(x=e.props)||void 0===x?void 0:x.id,a=e.children[0];if(Z6(a)){if(c){const e=null===(S=o.reference)||void 0===S?void 0:S[c].data;if(e&&e.props){Object.assign(a,{...e,props:{...e.props}});const t=null===(E=e.props)||void 0===E?void 0:E.id;t&&t!==c?s=t:e.props.id=s}}return e.props&&(e.props.id=s),a.props&&(a.props.id=s,a.props.uid=s),i(T9(s,s)),r(Rq(s,a,n)),a.children.forEach((e=>{$6(e)&&Q6(e,t,n,o,i,r,l)})),r(J6(e,t,c,o,l)),!1}}if(!e.props)return;e.props.id=aRe();const s=e.props.list;et(s)&&s.forEach((e=>{$6(e)&&Q6(e,t,n,o,i,r,l)}))}else if(Hve(e)){if(e.props){const t=e.props.id,n=null===(D=null===(k=o.reference)||void 0===k?void 0:k[t])||void 0===D?void 0:D.data;if(n&&n.props){const o=n.props.id;if(o&&o!==t)e.props.id=o;else{const t=aRe();e.props.id=t,n.props.id=t}}}}else if(rSe(e)){if(!e.props)return;const s=e.props.list;et(s)&&s.forEach((e=>{$6(e)&&Q6(e,t,n,o,i,r,l)}))}}))}function e4(e,t,n,o){q6(e,(e=>{var i,r,l,s,c,a,u,d;if(Yse(e)){const c=null!==(l=null===(r=null===(i=e.props)||void 0===i?void 0:i.value)||void 0===r?void 0:r.cells)&&void 0!==l?l:{};for(const e in c){const i=null===(s=c[e].state)||void 0===s?void 0:s.editor;if(!i)return;e4(i.node,t,n,o)}}else if(U6(e)){const i=null===(c=e.props)||void 0===c?void 0:c.id,r=null===(a=e.props)||void 0===a?void 0:a.uid;i&&r&&(n(M9(r)),o(Fq(i,r,t)))}else if(Rve(e)){const i=null===(u=e.props)||void 0===u?void 0:u.list;et(i)&&i.forEach((e=>{$6(e)&&e4(e,t,n,o)}))}else if(rSe(e)){const i=null===(d=e.props)||void 0===d?void 0:d.list;et(i)&&i.forEach((e=>{$6(e)&&e4(e,t,n,o)}))}}))}function t4(e,t,n,o,i,r){q6(e,(e=>{var l,s,c,a,u,d,f,h;if(Yse(e)){const u=null!==(c=null===(s=null===(l=e.props)||void 0===l?void 0:l.value)||void 0===s?void 0:s.cells)&&void 0!==c?c:{};for(const e in u){const l=null===(a=u[e].state)||void 0===a?void 0:a.editor;if(!l)return;t4(l.node,t,n,o,i,r)}}else if(U6(e)){const l=null===(u=e.props)||void 0===u?void 0:u.id,s=null===(d=e.props)||void 0===d?void 0:d.uid;l&&s&&(o(M9(s)),i(T9(s,l)),r(Fq(l,s,t)),r(Rq(l,e,n)))}else if(Rve(e)){const l=null===(f=e.props)||void 0===f?void 0:f.list;et(l)&&l.forEach((e=>{$6(e)&&t4(e,t,n,o,i,r)}))}else if(rSe(e)){const l=null===(h=e.props)||void 0===h?void 0:h.list;et(l)&&l.forEach((e=>{$6(e)&&t4(e,t,n,o,i,r)}))}}))}function n4(e){delete e.ureference,delete e.isEditPending,delete e.isScrollPending,delete e.isScrolling,delete e.isDetectPending,delete e.reflowStart,delete e.selection,delete e.selectionStyle,delete e.selectionDecorate,delete e.resizeWidth,delete e.resizeHeight,delete e.location}const o4=e=>t=>(Fc(t.gfocus,e)||(t.gfocus=e),t),i4=()=>e=>(delete e.gfocus,e),r4=(e,t)=>n=>{var o;const i=null===(o=null==t?void 0:t.current)||void 0===o?void 0:o.options;if(i){const t=e?NHe(e):null;for(const e in i){const o=i[e];if(!(null==o?void 0:o.rstate))continue;const r=e.replace(/>search$/,"");if(null===t||t.startsWith(r)||r.startsWith(t)){const t=LHe(e),i=AHe(t);wDe(t,[])(o.rstate),n=wDe(i,[])(n)}}}if(n.gfocus){const{gfocus:e}=n;n=wDe(e,[])(n)}return e&&!Fc(n.gfocus,e)&&(n=wDe(e,[])(n)),e&&(n=o4(e)(n)),n},l4=e=>t=>{const n=t.gfocus;return n?t=gHe(n)?bDe(n,[D9(e)])(t):D9(e)(t):t},{traverseNode:s4,isReferenceNode:c4,getEditBlockNodeStartPath:a4,getEditBlockNodeEndPath:u4}=hk,d4=()=>e=>{const{file:t,store:n,editor:o,gfocus:i}=e;return t&&i&&n?(e.undoredo=Sqe(t,o,i,n),e):e},f4=()=>e=>{var t;const{file:n,store:o,editor:i,gfocus:r}=e;if(!n||!r||!o)return e;const l=n.currentPageId;return!l||(null===(t=e.undoredo)||void 0===t?void 0:t[l])||(e.undoredo=Sqe(n,i,r,o)),e},h4=e=>t=>e?(t.undoredo={...t.undoredo,...e},t):t,p4=e=>t=>{if(!e)return t;if(!t.undoredo)return t.undoredo=e,t;for(const n in e)t.undoredo[n]||(t.undoredo[n]=e[n]);return t},v4=()=>e=>{var t;if(!e.undoredo)return e;const n=null===(t=e.file)||void 0===t?void 0:t.currentPageId;if(!n)return e;let{editor:o,gfocus:i,store:r,changelog:l}=e;if(r=lVe(n,r),o.cwnd){o=ds(o);const{data:e,node:t}=o;o.bounds=I_(e,t),o.boundsReset=!0,o.status="normal"}!function(e){let t=0,n=null,o=null;for(const i in e){const r=e[i];if(t+=r.stack.length,null===n){n=r,o=i;continue}n.stack[0].timestamp>r.stack[0].timestamp&&(n=r,o=i)}t>100&&n&&o&&(n.stack.shift(),n.offset=Math.min(n.offset,n.stack.length-1),0===n.stack.length&&delete e[o])}(e.undoredo);const s=Date.now(),c=e.undoredo[n];if(void 0===c)return e.undoredo[n]={offset:0,timestamp:s,stack:[{editor:o,gfocus:i,timestamp:s,store:r,changelog:l}]},e;if(c.stack.length=c.offset+1,c.timestamp+1e3>s&&c.stack.length>1){const t=c.stack[c.offset],n={editor:o,gfocus:i,store:r,timestamp:s,changelog:l};return c.stack[c.offset]=gq(t.store)(n),e}return c.timestamp=s,c.stack.push({editor:o,gfocus:i,store:r,timestamp:s,changelog:l}),c.offset=c.stack.length-1,e},g4=()=>e=>{var t;if(!e.undoredo)return e;const n=null===(t=e.file)||void 0===t?void 0:t.currentPageId;if(!n)return e;let{editor:o,gfocus:i,store:r,changelog:l}=e;r=lVe(n,r);const s={...null==r?void 0:r.editor};delete s[n],r={...r,editor:s};const c=Date.now(),a=e.undoredo[n];if(void 0===a)return e.undoredo[n]={offset:0,timestamp:c,stack:[{editor:o,gfocus:i,timestamp:c,store:r,changelog:l}]},e;const u=a.stack[a.offset];if(null==u?void 0:u.store)try{mq(r)(u),r=u.store}catch(e){console.error(e)}return a.stack[a.offset]={editor:o,gfocus:i,timestamp:c,store:r,changelog:l},e},m4=e=>t=>{var n;if(!t.undoredo)return t;const o=null===(n=t.file)||void 0===n?void 0:n.currentPageId;if(!o)return t;const i=t.undoredo[o];if(void 0===i)return t;let{offset:r}=i;return r<=0||(r--,t=b4(r,e)(t),i.offset=r),t},y4=e=>t=>{var n;if(!t.undoredo)return t;const o=null===(n=t.file)||void 0===n?void 0:n.currentPageId;if(!o)return t;const i=t.undoredo[o];if(void 0===i)return t;let{stack:r,offset:l}=i;return l>=r.length-1||(l++,t=b4(l,e)(t),i.offset=l),t},b4=(e,t)=>n=>{var o,i,r,l,s,c,a,u,d,f,h,p,v,g;if(!n.undoredo)return n;const m=null===(o=n.file)||void 0===o?void 0:o.currentPageId;if(!m)return n;const y=ed(n.undoredo[m]);if(void 0===y)return n;const{stack:b}=y;let{editor:{...C},gfocus:w,store:x,changelog:S}=b[e];if(void 0===C||void 0===w)return n;n=gq(t=null!=t?t:x)(n);const{duids:E,cuids:k,uuids:D}=pFe(n.editor,C),I={},N=[];for(const e in E){const t=E[e];if(n=Fq(t,e,m)(n),e===t){const e=null===(l=null===(r=null===(i=n.store)||void 0===i?void 0:i.catalog)||void 0===r?void 0:r[t])||void 0===l?void 0:l.type;if("page"===e||"root"===e){const e=null===(s=n.store)||void 0===s?void 0:s.editor;n=Bq(t,!0,(t=>{if(!(null==e?void 0:e[t]))return I[t]=!0,!0}))(n)}}}for(const e in k){const o=k[e],i=null===(c=null==t?void 0:t.reference)||void 0===c?void 0:c[o];if(!i)continue;const r={...i.data};if(r.props={...r.props,uid:e},n=Rq(o,r,m)(n),e===o){const e=null===(u=null===(a=null==t?void 0:t.catalog)||void 0===a?void 0:a[o])||void 0===u?void 0:u.type;"page"!==e&&"root"!==e||(n=Tq(o,!0,(e=>{if(I[e])return delete I[e],!0;N.includes(e)||N.push(e)}))(n))}}for(const e in D){const o=D[e],i=null===(d=null==t?void 0:t.reference)||void 0===d?void 0:d[o];if(!i)continue;const r={...i.data};if(r.props={...r.props,uid:e},e===o){const l=null===(h=null===(f=null==t?void 0:t.catalog)||void 0===f?void 0:f[o])||void 0===h?void 0:h.type;if("page"===l||"root"===l){const l=Object.keys(i.detail).filter((e=>e!==m)),s={},c={},a=null===(v=null===(p=n.store)||void 0===p?void 0:p.reference)||void 0===v?void 0:v[o];if(!a)continue;const u={...a.data};u.props={...u.props,uid:e},s4(u,(e=>{var t,n;if(c4(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;s[i]=o}})),s4(r,(e=>{var t,n;if(c4(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;if(!s[i])return void(c[i]=o);delete s[i]}}));for(const e in s){const t=s[e];for(const o of l)n=Fq(t,e,o)(n)}for(const e in c){const o=c[e],i=null===(g=null==t?void 0:t.reference)||void 0===g?void 0:g[o];if(!i)continue;const r={...i.data};r.props={...r.props,uid:e};for(const e of l)n=Rq(o,r,e)(n)}}}n=Oq(o,r,m)(n)}const{clientWidth:L,clientHeight:T}=n.editor;if(C.clientWidth!==L||C.clientHeight!==T){C=k$e(C,a4(C.node),u4(C.node)),C.clientHeight=T,C.clientWidth=L,C.scrollHeight=2*T}else C.bounds=I_(C.data,C.node),C.boundsReset=!0,delete C.status,delete C.ureference;C.ureference=RPe(C.node),n.editor=C,n=kq(m,C)(n),n=Y3(m,!0)(n);for(const e of N)n=Y3(e,!0)(n);return n=o4(w)(n),n=bDe(w,[e=>(e.editor.selectionReflow=!0,e)])(n),S&&(n=XU(S,!0)(n)),n};const{initNodeKey:C4,createBlockNode:w4,createReferenceBlockNode:x4,transformEditNodeToNode:S4,clearSelection:E4,isReferenceBlockNode:k4}=hk,D4=e=>t=>(t=I4(e)(t),t=L4()(t),t=N4()(t),t=d4()(t),t=wq({bootstrap:!0})(t)),I4=e=>t=>{const n=zZe(),o=[WZe(e,WK.note,[n])];return t.file?(t.file.tree=o,t.file.isEditPending=!0,t.file.currentPageId=n.id,t):t},N4=e=>e=>{var t,n,o,i;const r=null===(t=e.file)||void 0===t?void 0:t.currentPageId;if(!r)return e;const l=null===(o=null===(n=(e=Iq(r)(e)).store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[r];if(void 0===l)return e;const{cwnd:s=3,data:c,scrollHeight:a}=l,u=null!==(i=dPe(c,[],s))&&void 0!==i?i:C4(c),d=I_(c,u),{clientHeight:f,clientWidth:h}=gqe();return delete l.isEditPending,delete l.isScrollPending,delete l.isScrolling,delete l.reflowStart,delete l.selection,delete l.selectionStyle,delete l.selectionDecorate,delete l.resizeWidth,delete l.resizeHeight,delete l.location,l.refresh=aRe(!0),l.data=c,l.node=u,l.bounds=d,l.boundsReset=!0,l.scrollTop=0,l.clientHeight=f,l.clientWidth=h,l.scrollHeight=Math.max(a,f),l.scrollOffset={top:m$},e=X8(l)(e)},L4=e=>e=>{var t;const n=null===(t=e.file)||void 0===t?void 0:t.tree;return void 0===n||(e=T4(n[0])(e),n.forEach((t=>{e=jq(t,void 0,!0)(e)}))),e},T4=e=>t=>{var n,o;let i={};const r=e.id,l={[r]:r};let s=e.title;k4(s)&&(s=s.children[0]);const c=[_ve({subclass:iae.H,id:r},[x4({id:r,uid:r},[{...ps(s),style:{...s.style,...Ave(iae.H)}}])])];null===(n=e.children)||void 0===n||n.forEach((e=>{if(!e)return;const{type:n,title:o,id:i,payload:r}=e;"page"===n?(c.push(_ve({subclass:r.subclass,id:i},[x4({id:i,uid:i},[{...ps(o),style:{...o.style,...Ave(r.subclass)}}])])),t=T4(e)(t)):"outline"===n&&c.push(...__e(e))}));const a=S4(w4(c,Y$)),u=RPe(a);for(const e in u){const n=u[e],i=null===(o=n.props)||void 0===o?void 0:o.id;i&&(l[e]=i,t=Rq(i,n,r)(t))}return i.uids=l,i.data=a,i=uFe(i),i=E4()(i),t=kq(r,i)(t)},{isNode:B4}=hk,{getBranchByPath:A4}=OB,M4=(e,t)=>n=>{var o;const{path:i=[0]}=t,r=null===(o=(n=O4(e,t)(n)).file)||void 0===o?void 0:o.tree;if(!(null==r?void 0:r.length))return n=D4(e)(n),n=$9()(n);let l=A4(r,i);if(l||(l=i.length>1?A4(r,hc(i)):r[i[0]-1]),null!==l){const{id:t,type:o}=l;"outline"===o?n=t6(e,t,!0)(n):(n=A6()(n),n=e6(e,t,!0)(n)),n=z3(l)(n)}return n},O4=(e,t)=>e=>{var n,o,i,r,l,s;const{file:c}=e;if(void 0===c)return e;const{id:a,path:u}=t;if(!u)return e;const{tree:d}=c;let f=t;if(f="outline"===f.type?eje(d,t):A4(d,hc(u)),f){const{id:l}=f,s=null===(o=null===(n=(e=$3(t)(e)).store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[l];if(void 0===s)return e;const{uids:c,data:u}=s;let d=!0;for(const e in c)c[e]!==e&&(d=!1);if(d){let t=-1,n=-1,o=null;for(let e=0;e<u.children.length;e++){const l=u.children[e];if(Rve(l)){const s=null===(i=l.props)||void 0===i?void 0:i.id,c=null===(r=l.props)||void 0===r?void 0:r.subclass;if(!c||!s)continue;if(-1===t){if(s===a&&(t=e,o=c,c===iae.H)){n=e+1;break}continue}if(o&&o<=c){n=e;break}}}if(-1===t)return e;-1===n&&(n=u.children.length),u.children.splice(t,n-t),e=kq(l,s)(e)}else{const t=[],n=[];!function(e,t,n,o,i){var r,l,s,c;const a=e.children.map((t=>({parent:e.children,cnode:t})));let u=null;for(;a.length;){const e=a.shift();if(void 0===e)continue;const{parent:d,cnode:f}=e;if(Rve(f)){if(null!==u){if(u>(null===(r=f.props)||void 0===r?void 0:r.subclass)){const e=d.indexOf(f);d.splice(e,1),e4(f,n,o,i);continue}break}const e=null===(l=f.props)||void 0===l?void 0:l.list;if(et(e)&&a.unshift(...e.map((t=>({parent:e,cnode:t})))),(null===(s=f.props)||void 0===s?void 0:s.id)===t){const e=d.indexOf(f);if(d.splice(e,1),e4(f,n,o,i),u=null===(c=f.props)||void 0===c?void 0:c.subclass,u===iae.H)break;continue}}else if(null!==u){const e=d.indexOf(f);d.splice(e,1),B4(f)&&e4(f,n,o,i)}}}(u,a,l,(e=>{t.push(e)}),(e=>{n.push(e)})),t.forEach((e=>{e({editor:s})})),n.forEach((t=>{e=t(e)})),e=kq(l,s)(e),e=Y3(f)(e)}}else{const n=d.findIndex((e=>e.id===t.id));-1!==n&&(d.splice(n,1),e=m6([],n)(e))}return(null===(s=null===(l=e.store)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[a])&&(e=Bq(a)(e)),e};const{isNode:R4}=hk,{getBranchByPath:P4}=OB,F4=(e,t)=>n=>{var o;const{file:i}=n;if(void 0===i)return n;const r=null===(o=(n=H4(e,t)(n)).file)||void 0===o?void 0:o.tree;if(void 0===r)return n;const l=q_e(r,t);if(null!==l){const{id:t,type:o}=l;n="outline"===o?t6(e,t,!0)(n):e6(e,t,!0)(n),n=z3(l)(n)}return n},H4=(e,t)=>e=>{var n,o,i,r;const{file:l}=e;if(void 0===l)return e;const s=[],c=[],a=e=>{s.push(e)},u=e=>{c.push(e)},{id:d,type:f,path:h=[0]}=t;if("root"===f){const t=null===(o=null===(n=e.store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[d];if(void 0===t)return e;const i=t.data.children.slice(0,1),r=ps({...t.data,children:i});X6(r,[h[0]+1],null,a,u);const l=H_e(r);return l.type="root",l.tag=!0,e=J3(l,h)(e),c.forEach((t=>{e=t(e)})),e=C6(l)(e)}const{tree:p}=l;let v=t;v="outline"===v.type?eje(p,t):P4(p,hc(t.path));const{id:g}=v,m=null===(r=null===(i=e.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[g];return void 0===m?e:(e=v9(g)(e),function(e,t,n,o,i){var r,l,s,c;let a=null,u=-1,d=[];const f=[],{id:h,path:p=[]}=t,v=e.children.map((t=>({parent:e.children,cnode:t})));for(;v.length;){const e=v.shift();if(void 0===e)continue;const{parent:t,cnode:g}=e;if(Rve(g)){if(null!==a){if(!(a>(null===(r=g.props)||void 0===r?void 0:r.subclass)))break;{const e=ps(g);X6(e,p,h,o,i),f.push(e)}}const e=null===(l=g.props)||void 0===l?void 0:l.list;if(et(e)&&v.unshift(...e.map((t=>({parent:e,cnode:t})))),(null===(s=g.props)||void 0===s?void 0:s.id)===n){a=null===(c=g.props)||void 0===c?void 0:c.subclass,u=t.indexOf(g),d=t;const e=ps(g);if(X6(e,p,h,o,i),f.push(e),a===iae.H)break;continue}}else if(null!==a)if(R4(g)){const e=ps(g);X6(e,p,h,o,i),f.push(e)}else f.push(g)}d.splice(u+f.length,0,...f)}(m.data,v,d,a,u),s.forEach((e=>{e({editor:m})})),e=Y3(v)(e),c.forEach((t=>{e=t(e)})),e=kq(g,m)(e),e=y6()(e))};const{createBlockNode:_4,isNode:j4,isEmptyNode:W4}=hk,{getBranchByPath:z4}=OB,V4=(e,t)=>n=>{var o,i,r,l,s,c,a;const{file:u}=n;if(void 0===u)return n;const{tree:d}=u,{id:f,type:h,path:p}=e.branch;if(!p)return n;if("root"===h){if("root"===t.type){let e=null!==(o=pc(t.path))&&void 0!==o?o:0,r=null!==(i=pc(p))&&void 0!==i?i:0,l=d[e],s=d[r];d.splice(r,1),e=d.indexOf(l),d.splice(e+1,0,s),n=m6()(n),n=W3(!0)(n)}return n}let v=e.branch;if("outline"===v.type)v=eje(d,e.branch);else{const t=hc(e.branch.path);v=z4(d,t)}const{id:g}=v,m=null===(l=null===(r=n.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[g];if(void 0===m)return n;const y=function(e,t){var n,o,i;let r=null,l=-1;const s=[],c=[...e.children];for(;c.length;){const a=c.shift();if(void 0!==a)if(Rve(a)){if(null!==r){if(!(r>(null===(n=a.props)||void 0===n?void 0:n.subclass)))break;s.push(a)}if((null===(o=a.props)||void 0===o?void 0:o.id)===t&&(r=null===(i=a.props)||void 0===i?void 0:i.subclass,l=e.children.indexOf(a),s.push(a),r===iae.H))break}else null!==r&&s.push(a)}return e.children.splice(l,s.length),s}(m.data,f),b=eje(d,t),{id:C,type:w}=b,x=null===(c=null===(s=n.store)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[C];if(void 0===x)return n;const S=x.data,{path:E}=t;if(!E)return n;const k=z4(d,E),D=q_e(d,t);if(k&&"outline"!==k.type){const t=dc(S.children),o=S.children.length;W4(t,!0)&&o>1&&S.children.pop(),S.children.push(...y),W4(t,!0)&&o>1&&S.children.push(t),n=e6(e,k.id,!0)(n)}else if((null==D?void 0:D.id)===C){const e=dc(S.children),t=S.children.length;W4(e,!0)&&t>1&&S.children.pop(),S.children.push(...y),W4(e,!0)&&t>1&&S.children.push(e)}else if(D){const e=Ove(S,D.id);if(j4(e)){const t=S.children.indexOf(e);S.children.splice(t,0,...y)}}const I=[],N=[],L=[];t4(fPe(_4(y),{reference:null===(a=n.store)||void 0===a?void 0:a.reference}),g,C,(e=>{I.push(e)}),(e=>{N.push(e)}),(e=>{L.push(e)})),I.length&&I.forEach((e=>{e({editor:m})})),N.length&&N.forEach((e=>{e({editor:x})})),L.forEach((e=>{n=e(n)})),n=kq(g,m)(n),g!==C&&(n=kq(C,x)(n)),n=Y3(v)(n),g!==C&&(n=Y3(b)(n));const T=V_e(d,f);if(T&&"page"===h){const{children:t,expand:o}=e.branch,i={...T,children:t,expand:o};n=c6(i)(n),n=Y3(i)(n)}return n=t6(e,f,!0)(n),n=z3(t)(n)};const{getPathFromKey:$4,initNodeKey:Z4,isBlockNodeX:U4,isEditNode:q4,isNode:Y4,isReferenceNode:K4,transformEditNodeToNode:G4}=hk,X4=(e,t)=>n=>{var o,i,r,l;if(void 0===(null===(o=n.file)||void 0===o?void 0:o.tree))return n;const{branch:{id:s,type:c},pageId:a}=e;let u=a;"outline"!==c&&(u=s);const d=null===(r=null===(i=n.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[u];if(void 0===d)return n;let f=null,h=Ove(d.data,s);if(Y4(h)){for(;U4(h);)K4(h)&&(f=h),h=h.children[0];h.children=G4(t).children}f&&(n=Oq(s,f,null)(n));const p=null===(l=n.file)||void 0===l?void 0:l.currentPageId;if(p===a||p===s){const e=n.editor;let o=!1,i=Ove(e.data,s);if(Y4(i)){for(;U4(i);)i=i.children[0];i.children=G4(t).children}let r=Ove(e.node,s);if(Y4(r)){for(;U4(r);)r=r.children[0];if(q4(r)){const e=$4(r.key);r.children=Z4(t,e).children,o=!0}}o&&(n.editor.isEditPending=o)}return n=kq(u,d)(n),n=Y3(u)(n)},J4=(e,t)=>n=>{var o,i,r;if(void 0===n.file)return n;n.file.cloud=null!==(o=n.file.cloud)&&void 0!==o?o:{};for(const o in n.file.cloud){if(o===e)continue;const r=null!==(i=n.file.cloud[o])&&void 0!==i?i:[],l=r.findIndex((e=>e.id===t.id));-1!==l&&r.splice(l,1)}const l=null!==(r=n.file.cloud[e])&&void 0!==r?r:[],s=l.findIndex((e=>e.id===t.id));return-1===s?l.push(t):l[s]=t,n.file.cloud[e]=l,n=W3(!0)(n)},Q4=(e,t)=>n=>{var o,i,r,l;if(void 0===n.file)return n;const s=null===(o=n.file.cloud)||void 0===o?void 0:o[e];if(!s)return n;if(!Array.isArray(s))return null===(i=n.file.cloud)||void 0===i||delete i[e],n;if(!t)return null===(r=n.file.cloud)||void 0===r||delete r[e],n;const c=s.findIndex((e=>e.id===t));return-1!==c&&s.splice(c,1),Pc(s)&&(null===(l=n.file.cloud)||void 0===l||delete l[e]),Pc(n.file.cloud)&&delete n.file.cloud,n=W3(!0)(n)},e8=(e,t,n)=>o=>{var i;if(void 0===o.file)return o;const r=null===(i=o.file.cloud)||void 0===i?void 0:i[e];if(!r)return o;for(const e of r)e.id===t&&Object.assign(e,n);return o=W3(!0)(o)},t8=(e,t,n)=>o=>{var i;if(void 0===o.file)return o;const r=null===(i=o.file.cloud)||void 0===i?void 0:i[e];if(!r)return o;for(const e of r)e.id===t&&(e.timer=n);return o},n8=e=>t=>{var n,o,i,r;return(null===(o=null===(n=t.file)||void 0===n?void 0:n.cloud)||void 0===o?void 0:o[e])?(null===(r=null===(i=t.file)||void 0===i?void 0:i.cloud)||void 0===r||delete r[e],t):t},o8=e=>t=>{var n;if(void 0===t.file)return t;const o=null===(n=t.file.cloud)||void 0===n?void 0:n[e];return o?(o.forEach((e=>delete e.bind)),t=W3(!0)(t)):t},i8=(e,t)=>n=>{var o;const i=null===(o=n.file)||void 0===o?void 0:o.tree;if(!i)return n;const r=eje(i,e);return r?(r.float=t,n):n},r8=(e,t)=>n=>{var o;const i=null===(o=n.file)||void 0===o?void 0:o.tree;if(!i)return n;const r=eje(i,e);return(null==r?void 0:r.float)?(Object.assign(r.float,t),n=W3(!0)(n)):n},l8=e=>t=>{var n;const o=null===(n=t.file)||void 0===n?void 0:n.tree;if(!o)return t;const i=eje(o,e);return(null==i?void 0:i.float)?(delete i.float,t=W3(!0)(t)):t},s8=(e,t)=>t=>{if(!t.file)return t;return eje(t.file.tree,e),t},{transformEditNodeToNode:c8,removePositionStyle:a8,isPathBefore:u8,isPathAfter:d8,isCollapsed:f8,isNode:h8,isEditNode:p8,isNodeEqual:v8,isReferenceNode:g8,isEmptyNode:m8,isEditBlockNode:y8,injectSplitBlockNodeStyle:b8,deleteFragment:C8,getEditBlockNodeStartPath:w8,getEditBlockNodeEndPath:x8,sliceNode:S8,getNodeLength:E8,getPathFromKey:k8,isBlockNode:D8,isBlockNodeX:I8,getEditNodeByPath:N8,getNodeByPath:L8,traverseNode:T8,resetEditNodeKey:B8,getNodeStartPath:A8,getNodeEndPath:M8,isBlockNodeCritical:O8,transformNodeToEditNode:R8,getEditNodeEndPath:P8,getKeyFromPath:F8,clearSelection:H8,removeLocation:_8,reflowEditNodeByPath:j8,calcTouchHeight:W8,sortSelection:z8,getEditNodeStartPath:V8,sliceBlockPath:$8,isStartPath:Z8,createBlockNode:U8,removeBoxSizeStyle:q8,getRelativePath:Y8,SPLIT_BLOCK_MARGIN:K8}=hk,G8=e=>t=>(Object.assign(t.editor,e),t),X8=e=>t=>{var n,o;const{node:i,uids:r={},ureference:l={}}=e,s={},c={reference:null===(n=t.store)||void 0===n?void 0:n.reference,callback(e){var t,n;if(!g8(e))return;T8(e,(e=>{Ku(e.children)&&(e.children=Md(e.children)),Ku(e.style)&&(e.style=Md(e.style)),Ku(e.props)&&(e.props=Md(e.props));for(const t in e.props){const n=e.props[t];Ku(n)&&(e.props[t]=Md(n))}}));const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;o&&i&&(s[i]=e)}},a=fPe(i,c);for(const e in l)delete r[e];for(const e in s){const t=null===(o=s[e].props)||void 0===o?void 0:o.id;t&&(r[e]=t)}return e.uids=r,e.node=a,e.ureference=s,t.editor=e,t},J8=(e,t,n)=>o=>{var i,r,l,s,c;const{editor:{data:a,node:u,uids:d,scrollTop:f},store:h}=o,p=Ku(a)&&null!==(i=ed(a))&&void 0!==i?i:a,{before:v,after:g}=z8(t);let m=v.path,y=pc(u.children);if(!y8(y))return o;let b=V8(y);u8(b,m)&&(m=b),m=$8(p,m);let C=g.path,w=dc(u.children);if(!y8(w))return o;const x=P8(w);d8(x,C)&&(C=x),C=$8(p,C);let S=null!==(l=null===(r=y.position)||void 0===r?void 0:r.top)&&void 0!==l?l:0;if(!Z8(b)){let e=fc(b),t=y.children[0];for(;null==t?void 0:t.position;){S+=t.position.top,Z8(e)||((null===(s=t.style)||void 0===s?void 0:s.paddingTop)&&(S-=Number(t.style.paddingTop)),(null===(c=t.style)||void 0===c?void 0:c.marginTop)&&(S-=Number(t.style.marginTop)));const n=t.children[0];if(!y8(n))break;t=n,e=fc(e)}}const E=S-f;let k;if(Pc(d)||1===Object.keys(d).length)k=S8(p,m,C);else{k=wPe(p,{focus:{path:m,offset:0},anchor:{path:C,offset:0}},null==h?void 0:h.reference)}const D={start:{path:m,slice:!1},end:{path:C,slice:!1}};o.editor.bounds=D,o.editor.node=k;const I=ds(o.editor.ureference);for(const t of e)o.editor=t(o.editor);const N=RPe(o.editor.node);o.editor.ureference=N,o=P9(I,N)(o);for(const e of n)o=e(o);const L=D$e((o=H9()(o)).editor,m,m);L.selection=o.editor.selection,o.editor=L;const T={top:0,left:0,right:0,bottom:0};o.editor.node.position={...T};return o.editor.node.children[0].position={...T,top:E},j8(m)(o.editor),o=Dq()(o),o=g4()(o)},Q8=e=>t=>(t.editor.bounds=e,t),e9=e=>t=>(t.editor.boundsReset=e,t),t9=e=>t=>(t.editor.isPastePending=e,t),n9=()=>e=>{const{node:t,bounds:n}=e.editor,o=x8(t);return d8(n.end.path,o)?(n.end.path=o,n.end.slice=!1,e):e},o9=()=>e=>{var t,n,o;if(e.editor.createTime)return e;const i=null===(t=e.file)||void 0===t?void 0:t.currentPageId;if(!i)return e;const r=Date.now();e.editor.createTime=r;const l=null===(o=null===(n=e.store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[i];return l&&(l.readTime=r),e},i9=()=>e=>{var t,n,o;const i=null===(t=e.file)||void 0===t?void 0:t.currentPageId;if(!i)return e;const r=Date.now();e.editor.readTime=r;const l=null===(o=null===(n=e.store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[i];return l&&(l.readTime=r),e},r9=()=>e=>{var t,n,o;const i=null===(t=e.file)||void 0===t?void 0:t.currentPageId;if(!i)return e;const r=Date.now();e.editor.updateTime=r;const l=null===(o=null===(n=e.store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[i];return l&&(l.updateTime=r),e},l9=e=>t=>(t.editor.isEditPending=e,t),s9=e=>t=>(t.editor.refresh=e,t),c9=e=>t=>(t.editor.slicer=e,t),a9=e=>t=>(t.editor.reload=e,t),u9=e=>t=>{if(t.editor.formatPaint=e,e){const e={...t.editor.selectionStyle};delete e.cursor,t.editor.formatPaintStyle=e}else delete t.editor.formatPaintStyle;return t},d9=e=>t=>(t.editor.scrollTouchReset=e,t),f9=e=>t=>(t.editor.scrollProgress=e,t),h9=()=>e=>(delete e.editor.scrollProgress,e),p9=()=>e=>{var t,n,o,i;const{data:r,node:l}=e.editor;let s=l.children[0];(Fve(s)||Hve(s))&&(null===(t=l.children[1])||void 0===t?void 0:t.position)&&(s=l.children[1]);const c=dc(l.children);if(!y8(s)||!y8(c))return e;const a=null===(n=s.position)||void 0===n?void 0:n.top,u=null===(o=l.position)||void 0===o?void 0:o.bottom;if(void 0===a||void 0===u)return e;const d=Math.max(1,r.children.length-1),f=Math.max(1,l.children.length-1),h=Math.ceil((u-a)/f),p=a-k8(s.key)[0]*h*.8,v=[p,u+(d-k8(c.key)[0]-1)*h],g=W8(v);e.editor.scrollTouch=v,e.editor.scrollHeight=g,e.editor.contentHeight=g;const m=e.editor.scrollProgress;if(m){const{scrollTop:t,clientHeight:n}=e.editor,o=t-(null!==(i=null==v?void 0:v[0])&&void 0!==i?i:0);if(m!==o/(g-n)){const t=o/m+n,i=[p,t+p];e.editor.scrollTouch=i,e.editor.scrollHeight=t,e.editor.contentHeight=t}e=h9()(e)}return e},v9=e=>t=>{var n;const{store:o}=t;if(!o)return t;if(e&&!Bje(e,o))return t;let i=t.editor;if(e&&(i=null===(n=o.editor)||void 0===n?void 0:n[e]),!i)return t;if(Pc(i.uids))return t;const r={},l={reference:o.reference,callback(e){var t,n;if(!g8(e))return;const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;o&&i&&(r[i]=o)}};return mFe(i,l),Pc(r)||(i.uids=r),t},g9=e=>t=>{var n;if(Pc(e={...null===(n=t.store)||void 0===n?void 0:n.reference,...e}))return t;let o=!1;const{node:i,ureference:r={}}=t.editor;return function e(t,n){T8(t,((t,o)=>{var i,r,l;g8(t)?n(t,o):(rSe(t)||Rve(t))&&!1===(null===(i=t.props)||void 0===i?void 0:i.expand)&&(null===(l=null===(r=t.props)||void 0===r?void 0:r.list)||void 0===l||l.forEach((t=>{e(t,n)})))}))}(i,((t,n)=>{var i,l,s;const c=null===(i=t.props)||void 0===i?void 0:i.id,a=null===(l=t.props)||void 0===l?void 0:l.uid,u=null===(s=null==e?void 0:e[c])||void 0===s?void 0:s.data;if(!u||!a||!c)return;const d={...u.props,uid:a},f=R8({...u,props:d},t.key);r[a]=f,Object.assign(t,f),o=!0})),o&&(t.editor.isEditPending=!0,t.editor.refresh=aRe(!0),t.editor.ureference=r),t},m9=e=>t=>(void 0===e||(t.editor.ureference={...t.editor.ureference,...e}),t),y9=(e,t)=>n=>{var o;if(void 0===t&&void 0===e)return n;const i={...n.editor.ureference},r={};for(const t in e)delete i[t];for(const n in t){const l=t[n];if(i[n]=l,!v8(l,null==e?void 0:e[n])){const e=null===(o=l.props)||void 0===o?void 0:o.id;e&&(r[e]=l)}}if(n.editor.ureference=i,Pc(r))return n;const{node:l}=n.editor;let s=!1;const c=[];if(function e(t,n){T8(t,((t,o)=>{var i,r,l;g8(t)?n(t,o):(rSe(t)||Rve(t))&&!1===(null===(i=t.props)||void 0===i?void 0:i.expand)&&(null===(l=null===(r=t.props)||void 0===r?void 0:r.list)||void 0===l||l.forEach((t=>{e(t,n)})))}))}(l,((e,t)=>{var n,o;const i=null===(n=e.props)||void 0===n?void 0:n.id,l=null===(o=e.props)||void 0===o?void 0:o.uid,a=null==r?void 0:r[i];if(!a||!l||!i)return;const u={...a.props,uid:l},d=R8({...a,props:u},e.key);Object.assign(e,d),s=!0,c.push(t)})),s){n.editor.isEditPending=!0;for(const e of c)n.editor=j8(e,!0)(n.editor)}return n},b9=e=>t=>(t.editor.status=e,t),C9=e=>t=>(t.editor.data=e,t),w9=e=>t=>(t.editor.threshold=e,t),x9=e=>t=>(t.editor.scrollOffset=e,t),S9=e=>t=>(t.editor.clientHeight=e.clientHeight,t.editor.clientWidth=e.clientWidth,t),E9=(e,t)=>n=>{if(!oHe(e))return n;const{ghighlights:o=[]}=n.editor,i=o.find((t=>Fc(t.search,e)));return i?i.highlights=t:o.push({search:e,highlights:t}),n.editor.ghighlights=o,n},k9=(e,t)=>n=>(n.editor.selection=e,t&&(n.editor.selectionReflow=!0),n),D9=e=>t=>(t.editor.selectionReflow=e,t),I9=()=>e=>(e.editor=H8()(e.editor),e),N9=()=>e=>(e.editor=_8()(e.editor),e),L9=()=>e=>{const t=e.editor.selection;return f8(t)?(e.editor=H8()(e.editor),e):e},T9=(e,t)=>n=>{var o;const i=null!==(o=n.editor.uids)&&void 0!==o?o:{};return i[e]=t,n.editor.uids=i,n},B9=()=>e=>{const{data:t}=e.editor,n=A8(t),o={focus:{path:[...n],offset:0},anchor:{path:[...n],offset:0}};return e.editor.selection=o,e},A9=()=>e=>{const{data:t}=e.editor,n=M8(t),o=L8(t,n);if(null===o)return e;const i=E8(o),r={focus:{path:[...n],offset:i},anchor:{path:[...n],offset:i}};return e.editor.selection=r,e},M9=(e,t)=>n=>{const o=n.editor.uids;return o?(t?Object.keys(o).forEach((e=>{o[e]===e&&delete o[e]})):delete o[e],Pc(o)?(delete n.editor.uids,n):n):n},O9=()=>e=>{const{ghighlights:t,data:n,node:o}=e.editor;return null==t||t.forEach((e=>{const t=e.search;t&&(_He(n,t,(e=>{e.editor.refresh=aRe(!0),delete e.editor.highlights})),_He(o,t,(e=>{e.editor.refresh=aRe(!0),delete e.editor.highlights})))})),e.editor.refresh=aRe(!0),delete e.editor.highlights,delete e.editor.ghighlights,e},R9=()=>e=>{const t=e.editor.selectionDecorate;return(null==t?void 0:t[Bhe])===Bhe?e.editor.cursorStyle={backgroundImage:Ahe}:(null==t?void 0:t[gae])===gae?e.editor.cursorStyle={backgroundImage:mae}:(null==t?void 0:t[vae])===vae?e.editor.cursorStyle={backgroundImage:yae}:e.editor.cursorStyle=void 0,e},P9=(e,t)=>n=>{var o,i,r,l;const{uids:{...s}}=n.editor;if(void 0===s)return n;const c=null===(o=n.file)||void 0===o?void 0:o.currentPageId;if(void 0===c)return n;const a={},u={},d={},f={};for(const t in e){const{props:n}=e[t];if(!n)continue;const{uid:o,id:i}=n;delete s[o],a[o]=i}for(const e in t){const{props:n}=t[e];if(!n)continue;const{uid:o,id:i}=n;s[o]=i,f[o]||(f[o]=c8(t[e])),a[o]?(delete a[o],d[o]=i):u[o]=i}const h={};for(const t in a){const o=a[t],r=null==e?void 0:e[t];if(r&&(n=Fq(o,t,c)(n),APe(r))){const e=null===(i=n.store)||void 0===i?void 0:i.editor;n=Bq(o,!0,(t=>{if(!(null==e?void 0:e[t]))return h[t]=!0,!0}))(n)}}for(const e in u){const t=u[e],o=f[e];o&&(n=Rq(t,o,c)(n),APe(o)&&(n=Tq(t,!0,(e=>{if(h[e])return delete h[e],!0}))(n)))}for(const o in d){const i=d[o],s=f[o];if(s&&(null==e?void 0:e[o])&&(null==t?void 0:t[o])){if(APe(s)){const a=null===(l=null===(r=n.store)||void 0===r?void 0:r.reference)||void 0===l?void 0:l[i];if(!(null==a?void 0:a.detail[c])){n=Rq(i,s,c)(n);continue}const u=Object.keys(a.detail).filter((e=>e!==c)),d={},h={};T8(e[o],(e=>{var t,n;if(g8(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;d[i]=o}})),T8(t[o],(e=>{var t,n;if(g8(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;if(!d[i])return void(h[i]=o);delete d[i]}}));for(const e in d){const t=d[e];for(const o of u)n=Fq(t,e,o)(n)}for(const e in h){const t=h[e],o=f[e];if(o)for(const e of u)n=Rq(t,o,e)(n)}}MPe(s)||(n=Oq(i,s,c)(n))}}return n.editor.uids=s,n},F9=()=>e=>{var t;const n=null===(t=e.store)||void 0===t?void 0:t.reference;if(void 0===n)return e;const o=e.editor.ureference;if(void 0===o)return e;for(const e in o){const{props:t,key:i}=o[e];if(void 0===t)continue;const{id:r}=t;if(void 0===n[r])continue;const{data:l}=n[r];o[e]={...R8(l,i),props:t}}return e},H9=(e,t)=>n=>{var o,i,r,l;const{data:s,node:c,bounds:a}=n.editor,u=ds(Ku(s)&&null!==(o=ed(s))&&void 0!==o?o:s),d=ds(Ku(c)?t?Md(c):null!==(i=ed(c))&&void 0!==i?i:c:c);_9(u,c8(d),a);const f=dc(u.children),h=u.children.length;if(!m8(f,!0)){const e=vPe();b8(e);if(Fc(M8(u),P8(d))){const t=F8([h]),n=R8(e,t),o=null!==(l=null===(r=dc(c.children).position)||void 0===r?void 0:r.bottom)&&void 0!==l?l:0,i=2*K8,s=26;n.position={top:o,left:0,right:0,bottom:o+i+s},n.style={...n.style,position:"absolute",top:o,left:0,right:0,height:s},c.children.push(n)}u.children.push(e)}const p=u.children[0];p.style&&(p.style=q8(p.style));const v=I_(u,d);n=Q8(v)(n),ud(u),n.editor.data=u,n=Dq()(n);const g=null==e?void 0:e(n);return g||n};function _9(e,t,n,o=0){const i=n.start.path,r=n.end.path;Fc(e.type,t.type)||(e.type=t.type),delete e.position;let l=t.style;if(D8(t)&&(l=a8(l)),Fc(e.style,l)||(e.style=l),Fc(e.props,t.props)||(e.props=t.props),Pc(i)||Pc(r)){const o=t.children;return Pc(i)&&n.start.slice?e.children=[...e.children,...o]:Pc(r)&&n.end.slice?e.children=[...o,...e.children]:e.children=o,e}let s=!1;function c(){s||(s=!0,e.children=e.children.slice())}const a=O8(e),u=O8(t);if(a||u)return e.children=t.children,e;if(1===o)c(),e.children.splice(i[0]+1,e.children.length-i[0]-1,...t.children.splice(1,t.children.length-1)),r[0]=i[0];else if(-1===o){const n=t.children.length-1;c(),e.children.splice(0,r[0],...t.children.splice(0,t.children.length-1)),i[0]=r[0]=n}let d=r[0]-i[0];if(Pc(t.children))return c(),e.children.splice(i[0],d),e;if(0===d){const l=E8(t);if(1===l){const l=e.children[i[0]],s=t.children[0];if(h8(l)&&h8(s)){const t=fc(i);if(0===t.length){E8(s)>0&&t.push(0)}const a=fc(r);if(0===a.length){const e=E8(s);e>0&&a.push(e-1)}const u=ds(l);c(),e.children[i[0]]=u,_9(u,s,{start:{...n.start,path:t},end:{...n.end,path:a}},o)}else(!h8(l)&&h8(s)||h8(l)&&!h8(s))&&(c(),e.children[i[0]]=s);return e}const s=e.children[i[0]];for(;r[0]-i[0]<l-1;){r[0]++;let t=s;r[0]-i[0]==l-1&&(t=ps(s)),c(),e.children.splice(r[0],0,t)}d=r[0]-i[0]}const f=e.children[i[0]],h=e.children[r[0]],p=pc(t.children),v=dc(t.children);if(void 0===p||void 0===v)return e;if(h8(f)&&h8(p)){const t=fc(i),o=ds(f);c(),e.children[i[0]]=o,_9(o,p,{start:{...n.start,path:t},end:{slice:!1,path:[f.children.length-1]}},1)}else c(),e.children[i[0]]=p;if(p===v)d>=1&&(c(),e.children.splice(i[0]+1,d));else if(h8(h)&&h8(v)){const t=fc(r),o=ds(h);c(),e.children[r[0]]=o,_9(o,v,{start:{slice:!1,path:[0]},end:{...n.end,path:t}},-1)}else c(),e.children[r[0]]=v;const g=t.children.slice(1,-1);return c(),e.children.splice(i[0]+1,Math.max(0,d-1),...g),e}const j9=e=>t=>{const n=t.editor;if(!e)return t;if(gHe(e)){const t=FHe(n.node,e);t&&l9(!0)(t),_He(n.node,e,(e=>{e.editor.refresh=aRe(!0)}));const o=FHe(n.data,e);o&&l9(!0)(o),_He(n.data,e,(e=>{e.editor.refresh=aRe(!0)}))}else t=l9(!0)(t);return t=s9(aRe(!0))(t)},W9=()=>e=>{var t;const{file:n,store:o,editor:{node:i}}=e,r=null==n?void 0:n.currentPageId;if(!r)return e;const l=null===(t=null==o?void 0:o.editor)||void 0===t?void 0:t[r];if(!l)return e;const{data:s,uids:c}=l,a=I_(s,i);e.editor.bounds=a,e.editor.boundsReset=!0,e.editor.data=s,e.editor.uids=c;const u=RPe(i);return e.editor.ureference=u,e},z9=()=>e=>{const{data:t,clientHeight:n,clientWidth:o,scrollHeight:i}=e.editor;return e.editor=uFe({data:t,clientHeight:n,clientWidth:o,scrollHeight:i}),e=W9()(e),e=a9(!1)(e)},V9=e=>t=>{const{editor:n,file:o,gfocus:i}=t;if(!i||!iHe(i))return t;const r=null==o?void 0:o.currentPageId;if(!r)return t;const{selection:l}=n,s=l&&z8(l).before;for(let t=0;t<e.length;t++)D8(e[t])||(e[t]=U8([e[t]]),b8(e[t]));function c(t){var n;const{editor:o}=t;if(!o.selection)return t;f8(o.selection)||C8()(o);const{selection:{focus:i},node:l}=o;if(Z8(i.path)){const i=pc(l.children);if(Fve(i)&&m8(i,!0)){i.style={...i.style,...e[0].style};const l=i.children[0],s=l.children[0];if(D8(s)){const i=[e];let c=e[0];for(;I8(c);)i.push(c.children),c=c.children[0];if(D8(c)){for(let e=i.length-1;e>=1&&i[e].length<=1;e--)i[e-1].shift();s.children=c.children.map((e=>(h8(e)&&(e.style=q8(e.style)),e)));const e=k8(s.key);j8(e)(o)}const a=null===(n=l.props)||void 0===n?void 0:n.id;a&&r&&(t=Oq(a,l,r)(t))}}l.children.splice(1,0,...e)}else{const{path:t,offset:n}=i,r={path:Y8(o.node,t),offset:n},s=kPe(l,r),c=DPe(l,r),a=[];s&&!m8(s,!0)&&a.push(...s.children),a.push(...e),c&&!m8(c,!0)&&a.push(...c.children),l.children=a}B8()(o);const s=dc(e);if(p8(s)){const e=P8(s),n=N8(l,e);if(null!==n){const o=E8(n),i={focus:{path:[...e],offset:o},anchor:{path:[...e],offset:o}};t=I9()(t),t=k9(i,!0)(t)}}return t}const a=RPe(n.node),u=gHe(i);if(u){const e=FHe(n.node,i);e&&(c(e),_He(n.node,i,(e=>{e.editor.refresh=aRe(!0),e.editor.isEditPending=!0}))),n.isEditPending=!0}else c(t);const d=RPe(n.node);t=P9(a,d)(t);if(t=H9((e=>(e=K3()(e),e=y6()(e))),!0)(t),u||!s)return t;const{path:f,offset:h}=s,p={path:Y8(n.node,f),offset:h},v=kPe(n.node,p);if(!v)return t;const g=x8(v);return n.bounds.end={path:g,slice:!1},n.boundsReset=!0,n.isEditPending=!0,n.node=v,n.ureference=RPe(v),t},$9=()=>e=>{const{data:t}=e.editor,n=M8(t),o=L8(t,n);if(null===o)return e;const i=E8(o),r={focus:{path:[...n],offset:i},anchor:{path:[...n],offset:i}};return e=k9(r,!0)(e)},{clearEditNodePosition:Z9,isEditBlockNode:U9,getPathFromKey:q9,resetReflowStart:Y9,ReflowStartFlag:K9}=hk,G9=(e,t)=>n=>{var o;const i=n.editor;if(i.clientWidth!==e){i.clientWidth=e;const{scrollTop:t,node:r}=i,l=r.children[0];if(!U9(l))return n;const s=null===(o=l.position)||void 0===o?void 0:o.top;if(void 0===s)return n;const c=q9(l.key),a=s-t;l.position={top:a,left:0,right:0,bottom:0},n.editor=D$e(i),Y9(c,K9.next)(n.editor),n.editor.node=Z9(i.node)}return t&&(n.editor.clientHeight=t),n},X9=(e,t)=>n=>n.file?(n.file.clientWidth=e,void 0!==t&&(n.file.clientHeight=t,n=p6()(n)),n=W3(!0)(n)):n,J9=(e,t)=>n=>(n.client?(n.client.width=e,n.client.height=t):n.client={width:e,height:t},n),Q9=e=>t=>(t.toolbar&&(t.toolbar.refresh=e),t),e7=e=>t=>(t.toolbar&&(t.toolbar.resize=e),t),t7=(e,t)=>n=>{var o;return vc(null===(o=n.toolbar)||void 0===o?void 0:o.tools).forEach((n=>{n.name===e?n.active=!n.active:t&&(n.active=!1)})),n=Q9(aRe(!0))(n)},n7=(e,t)=>n=>{var o;return vc(null===(o=n.toolbar)||void 0===o?void 0:o.tools).forEach((n=>{n.name===e&&(n.active=t)})),n=Q9(aRe(!0))(n)},o7=()=>e=>{var t;return vc(null===(t=e.toolbar)||void 0===t?void 0:t.tools).forEach((e=>{e.active=!1})),e=Q9(aRe(!0))(e)},i7=e=>t=>(void 0===t.agent&&(t.agent={}),t.agent.propagation=e,t),r7=()=>e=>{var t;return null===(t=e.agent)||void 0===t||delete t.propagation,e},l7=e=>t=>(void 0===t.agent&&(t.agent={}),void 0===t.agent.orders&&(t.agent.orders=[]),t.agent.orders.push(e),t),s7=e=>t=>{var n;return void 0===(null===(n=t.agent)||void 0===n?void 0:n.orders)||-1===t.agent.orders.indexOf(e)||(t.agent.orders=t.agent.orders.filter((t=>t!==e))),t},c7=e=>t=>{var n,o;return(null===(o=null===(n=t.agent)||void 0===n?void 0:n.orders)||void 0===o?void 0:o.length)&&t.agent.orders.forEach((t=>t(e))),t=a7()(t)},a7=()=>e=>{var t,n;return(null===(n=null===(t=e.agent)||void 0===t?void 0:t.orders)||void 0===n?void 0:n.length)&&(e.agent.orders.length=0),e},{recursiveTree:u7,isBranchInclude:d7,getBranchByPath:f7}=OB,h7=(e,t,n)=>e=>e,p7=(e,t,n)=>e=>e,v7=(e,t,n,o,i)=>e=>{var r,l,s,c;const{type:a,id:u}=t;if("page"===a||"root"===a){return(null===(l=null===(r=e.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[u])?(Dje(u,Md(e.store)).then((e=>{YZe(e,o,i)})),e):e}return(null===(c=null===(s=e.store)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[n])?(Q_e(n,u,Md(e.store)).then((e=>{YZe(e,o,i)})),e):e},g7=(e,t,n,o)=>e=>{var o,i,r,l;const{type:s,id:c}=t;if("page"===s||"root"===s){return(null===(i=null===(o=e.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[c])?(Dje(c,Md(e.store)).then((e=>{GZe(e)})),e):e}return(null===(l=null===(r=e.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[n])?(Q_e(n,c,Md(e.store)).then((e=>{GZe(e)})),e):e},m7=(e,t,n,o)=>i=>{var r,l,s,c;const{type:a,id:u}=t;if("page"===a||"root"===a){return(null===(l=null===(r=i.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[u])?(Dje(u,Md(i.store)).then((t=>{JZe(e,t,o)})),i):i}return(null===(c=null===(s=i.store)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[n])?(Q_e(n,u,Md(i.store)).then((t=>{JZe(e,t,o)})),i):i},y7=(e,t,n,o)=>o=>{var i,r,l,s;const{type:c,id:a}=t;if("page"===c||"root"===c){return(null===(r=null===(i=o.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[a])?(Dje(a,Md(o.store)).then((t=>{XZe(e,t)})),o):o}return(null===(s=null===(l=o.store)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[n])?(Q_e(n,a,Md(o.store)).then((t=>{XZe(e,t)})),o):o},b7=(e,t,n)=>e=>e,C7=(e,t,n)=>o=>("root"===t.type||"page"===t.type?o=z6(e,t)(o):"outline"===t.type&&(o=W6(e,t,n)(o)),o),w7=(e,t,n)=>o=>{const{file:i}=o;if(void 0===i)return o;const{currentPageId:r,tree:l}=i,s=eje(l,t),{id:c,type:a}=t;return"root"===(null==s?void 0:s.type)?o=r===c?F4(e,t)(o):H4(e,t)(o):"page"===a?r===c?(o=e6(e,n)(o),o=F4(e,t)(o)):o=r===n?F4(e,t)(o):H4(e,t)(o):"outline"===a&&(o=r===n?F4(e,t)(o):H4(e,t)(o)),o=x6(t,n)(o)},x7=(e,t,n)=>o=>{var i;const{id:r,type:l}=t;if(e.branch.id===t.id)return o;const s=null===(i=o.file)||void 0===i?void 0:i.tree;if(!s)return o;const c=e.branch.path;if(!c)return o;let a=f7(s,c);if(a){let e=!1,n=!1;if(u7([a],(o=>!!n||(o.id===t.id?(e=!0,n=!0,!0):void 0))),e)return o}o=V4(e,t)(o);const u=new Set([e.pageId,n]);"outline"!==l&&u.add(t.id);for(const t of u)o=x6(e.branch,t)(o);return o},S7=(e,t)=>n=>n=X4(e,t)(n),E7=(e,t,n)=>o=>{const{file:i}=o;if(void 0===i)return o;const r=eje(i.tree,t),{currentPageId:l}=i,{id:s,type:c}=t;return"root"===r.type?o=l===s||d7(r,t)?M4(e,t)(o):O4(e,t)(o):"page"===c?l===s?(o=e6(e,n)(o),o=M4(e,t)(o)):o=d7(r,t)?M4(e,t)(o):O4(e,t)(o):"outline"===c&&(o=l===n?M4(e,t)(o):O4(e,t)(o)),o=w6(t)(o),o=x6(t,n)(o)},k7=(e,t)=>n=>(void 0===n.flush&&(n.flush={}),void 0===n.flush.ids&&(n.flush.ids=[]),n.flush.ids.includes(e)||n.flush.ids.push(e),t?(void 0===n.flush.after&&(n.flush.after=[]),n.flush.after.includes(t)||n.flush.after.push(t),n):n),D7=e=>t=>{var n;if(void 0===(null===(n=t.flush)||void 0===n?void 0:n.ids))return t;const o=t.flush.ids.indexOf(e);return-1!==o&&t.flush.ids.splice(o,1),t},I7=()=>e=>(void 0===e.flush||e.flush.ids&&delete e.flush.ids,e),N7=()=>e=>{var t;return(null===(t=e.flush)||void 0===t?void 0:t.after)?(e.flush.after.forEach((t=>{e=t(e)})),delete e.flush.after,e):e},{calcCommonSelectionPath:L7,createBlockNode:T7,createDecorateInlineNode:B7,createInlineNode:A7,isDecorateInlineNode:M7,isNode:O7,transformNodeToEditNode:R7,traverseNode:P7}=hk,{BRANCH_HEIGHT:F7,recursiveTree:H7,syncScrollHeight:_7}=OB,j7=e=>t=>(t.searchText=e,t),W7=e=>t=>(t.percent=e,t),z7=e=>t=>(t.replaceText=e,t),V7=e=>t=>(t.research=e,t),$7=e=>t=>(t.searchComposition=e,t),Z7=e=>t=>(t.searchComposition=e,t),U7=(e,t)=>n=>{var o;const i=n.result.branch,r=n.result.count;let l="";if(e){let e=0;if(i&&!t){const t=n.result.tree[0].children,o=null==t?void 0:t.indexOf(i);o&&-1!==o&&(e=o+1)}l=` ${r} `,e>0&&(l=` ${e} ${l}`)}else{const e=n.result.tree[0].children;l=`${null!==(o=null==e?void 0:e.length)&&void 0!==o?o:0}  ${r} `}return n.result.tree[0].title=R7(T7([l]),""),n},q7=()=>e=>(e.result.tree[0].children=[],delete e.result.renderStart,delete e.result.count,delete e.result.branch,e.result.scrollHeight=cje(e.result.tree),e),Y7=e=>t=>(t.branchRemoved=e,t),K7=()=>e=>(delete e.branchRemoved,e),G7=e=>t=>{var n,o,i,r,l,s;if(!(null===(n=e.children)||void 0===n?void 0:n.length))return t;const c=t.result.tree;let a=!1;for(let t=0;t<c.length;t++){const n=c[t];if(n.id===e.id){n.children=[...null!==(o=n.children)&&void 0!==o?o:[],...ud(e.children)],a=!0;break}if(null===(i=n.children)||void 0===i?void 0:i.length){if("outline"===n.children[0].type)continue;for(let t=0;t<n.children.length;t++){const o=n.children[t];if(o.id===e.id){o.children=[...null!==(r=o.children)&&void 0!==r?r:[],...ud(e.children)],a=!0;break}}if(a)break}}let u=t.result.scrollHeight;u+=e.children.length*F7,!1===a&&(e.children=ud(e.children),null===(l=t.result.tree[0].children)||void 0===l||l.push(e),u+=F7),t.result.scrollHeight=u;const d=null!==(s=t.result.count)&&void 0!==s?s:0;return t.result.count=d+e.children.length,t.result.isEditPending=!0,t},X7=e=>t=>(Object.assign(t.result,e),t),J7=e=>t=>{const n=t.result.tree;let o=!1;return H7(n,(t=>!!o||!!t&&(t.id===e.id?(t.expand=!t.expand,o=!0,!0):void 0))),t.result.isEditPending=!0,t},Q7=e=>t=>(t.result.clientWidth!==e&&(t.result.clientWidth=e,t.result.isEditPending=!0),t),eee=e=>t=>(t.result.clientHeight!==e&&(t.result.clientHeight=e,t.result.isEditPending=!0),t),tee=e=>t=>{var n;const o=t.result.tree;let i=0;const r=null===(n=t.result.branch)||void 0===n?void 0:n.id;return H7(o,(n=>i>=2||!!n&&void(n.id===e.id?(n.active=!0,i++,t.result.branch=n):r===n.id&&(i++,n.active=!1)))),t.result.isEditPending=!0,t},nee=e=>t=>{var n;const o=t.result.tree;let i=!1;return H7(o,((n,o)=>{var r,l;if(i)return!0;if(!n)return!1;if(n.id===e.id&&(null==o?void 0:o.children)){const e=o.children.indexOf(n);return void 0!==e&&(o.children.splice(e,1),t.result.count&&("outline"===n.type?t.result.count--:"page"===n.type&&(t.result.count-=null!==(l=null===(r=n.children)||void 0===r?void 0:r.length)&&void 0!==l?l:0)),"root"===o.type||o.children.length||(t=nee(o)(t))),i=!0,!0}return n.id===e.id&&"root"===n.type?(t.result.tree[0].children=[],t.result.count=0,i=!0,!0):void 0})),(null===(n=t.result.branch)||void 0===n?void 0:n.id)===e.id&&delete t.result.branch,t.result.isEditPending=!0,t},oee=()=>e=>{let t=0;const n=e.result.tree;return H7(n,(e=>{"outline"===e.type&&t++})),e.result.count=t,e},iee=()=>e=>(e.result=_7()(e.result),e.result.isEditPending=!0,e),ree=e=>t=>(H7(t.result.tree,(t=>{if("outline"===t.type){const n=t.title;if(O7(n)){let t=null;if(P7(n,(e=>{var n;if(O7(e)&&Uje(e)){if(null===(n=e.style)||void 0===n?void 0:n.content)return t=e,!1}})),null===t)return;const o=dc(t.children);if(RWe(o)){const t=o.children[0];O7(t)&&(t.children[0]=e)}else t.children.push(B7({type:"replace"},[A7([e],{backgroundColor:"red",color:"#fff"})]))}}})),t.result.isEditPending=!0,t),lee=()=>e=>(H7(e.result.tree,(e=>{if("outline"===e.type){const t=e.title;O7(t)&&P7(t,(e=>{var t,n;if(O7(e)&&Uje(e)){if(null===(t=e.style)||void 0===t?void 0:t.content){const t=dc(e.children);return O7(t)&&M7(t)&&"replace"===(null===(n=t.props)||void 0===n?void 0:n.type)&&e.children.pop(),!1}}}))}})),e.result.isEditPending=!0,e),see=(e,t,n,o)=>i=>{var r,l,s,c,a;let u=i.result.tree[0];if(!o){const e=V_e(i.result.tree,n);if(null===e)return i;u=e}if(!u.children)return i;const d=$je(t),f=L7(d);if(f.length<=0)return i;const h=f[0];let p=0;t.search&&(p=null!==(r=u.children.findIndex((e=>!!Fc(e.payload.search,t.search))))&&void 0!==r?r:0,-1===p&&(p=0));let v=0;const g=u.children.slice(p);for(let t=0;t<g.length;t++){const n=g[t],o=$je(n.payload),r=L7(o);if(h===r[0]){const t=null===(s=null===(l=e.children)||void 0===l?void 0:l[v++])||void 0===s?void 0:s.payload;t&&(null===(c=n.payload)||void 0===c||delete c.node,Object.assign(n.payload,ps(t)),(null===(a=i.result.branch)||void 0===a?void 0:a.id)===n.id&&(i.result.branch=n))}else if(h<r[0])break}return i.result.isEditPending=!0,i},{toggleBranchArrow:cee,getBranchByPath:aee,resetTreePath:uee}=OB,dee=e=>t=>(t.searchText=e,t),fee=e=>t=>(Object.assign(t.result,e),t),hee=e=>t=>(t.result=xqe(e),t.result.isEditPending=!0,t),pee=(e,t)=>n=>(n.result=cee(e,t)(n.result),n.result.isEditPending=!0,n),vee=(e,t)=>n=>{var o,i;const r=n.result.tree;if(!(t=null!=t?t:e.path))return n;const l=aee(r,hc(t));return(null!==(o=null==l?void 0:l.children)&&void 0!==o?o:r)[null!==(i=dc(t))&&void 0!==i?i:0]=e,n.result=uee(t)(n.result),n.result.isEditPending=!0,n},gee=e=>t=>{const n=mee(t.result.tree,(t=>{const n=LWe(t.title);return n.includes(e)||e.includes(n)?t:null}));return t.result.tree=n,t.result.isEditPending=!0,t};function mee(e,t,n){const o=[...e];for(let i=e.length-1;i>=0;i--){const r=e[i].children;(null==r?void 0:r.length)&&(o[i].children=mee(r,t,e[i]));if(null===t(e[i],n)){const e=o[i].children;e&&0!==e.length||o.splice(i,1)}if(o[i]){const e=o[i].children;e&&0!==e.length||(o[i]={...o[i],expand:!1})}}return o}const{toggleBranchArrow:yee,BRANCH_HEIGHT:bee}=OB,Cee=e=>t=>{const n=cje(e.tree)-bee;return t.value={...e,scrollHeight:n},t=wee(aRe(!0))(t)},wee=e=>t=>(t.refresh=e,t),xee=e=>t=>(t.moving=e,t),See=e=>t=>(t.id=e,t),Eee=(e,t)=>n=>(n.fully=t,t&&(n.float=kqe(e)),n),kee=(e,t)=>n=>{let o,i=n.value.scrollTop;return e.id!==n.pageId&&(i=0,o=!0),n.pageId=e.id,n.id=t,n.float=e.float,n.value=vje(e,t,i,o),n=wee(aRe(!0))(n)},Dee=e=>t=>t.float?(Object.assign(t.float,e),t=wee(aRe(!0))(t)):t,Iee=(e,t)=>n=>{if(!n.float)return n;const{id:o,value:{scrollTop:i}}=n,r={...e,float:{...n.float,...t}};return n.value=vje(r,o,i),n=Dee(t)(n),n=wee(aRe(!0))(n)},Nee=(e,t)=>n=>(n.value=yee(e,t)(n.value),n=wee(aRe(!0))(n)),Lee=()=>e=>(e.value=ud(e.value),e),{calcCommonSelectionPath:Tee,comparePath:Bee,excludeCommonSelection:Aee,getNodeByPath:Mee,getNodeEndPath:Oee,getNodeLength:Ree,getNodeStartPath:Pee,isBlockNode:Fee,isEditNode:Hee,isEmptyNode:_ee,isNode:jee,isReferenceNode:Wee,isSameStyleNode:zee,resetEditNodeKeyRecursion:Vee,sliceSelectionStartBlockPath:$ee,sortSelection:Zee,traverseNode:Uee}=hk,{recursiveTreeReverse:qee}=OB,Yee=(e,t)=>n=>{var o,i,r,l;const{store:s,file:c}=n,{title:a,payload:u}=e,d=FWe(a);if(!d.trim())return n;n=v9(t)(n);const f=null===(o=null==s?void 0:s.editor)||void 0===o?void 0:o[t];if(void 0===f)return n;const h=f.uids,p={},v={};let g=u.search;function m(e){var t,n;let{data:o,node:i}=e.editor;g&&gHe(g)&&(o=i);const{before:r,after:l}=Zee(u),s=$ee(o,u);let c=Mee(o,s);if(Fee(c)){let i={anchor:{path:fc(r.path,s.length),offset:r.offset},focus:{path:fc(l.path,s.length),offset:l.offset}};if(0!==Bee(s,r.path)){const e=Pee(c);i.anchor.path=e,i.anchor.offset=0}if(0!==Bee(s,l.path)){const e=Oee(c),t=Mee(c,e);null!==t&&(i.focus.path=e,i.focus.offset=Ree(t))}let a=Tee(i),u=Mee(c,a);if(null===u)return e;let f=a[0];Cc(u)&&(f=null!==(t=dc(a))&&void 0!==t?t:0,a=hc(a),u=Mee(c,a)),i=Aee(i),0===i.anchor.path.length&&i.anchor.path.push(f),0===i.focus.path.length&&i.focus.path.push(f),h&&Uee(u,(e=>{var t,n;if(Wee(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;p[i]=o}})),HWe(u,i),h&&Uee(u,(e=>{var t,n;if(Wee(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;delete p[i]}}));for(let e=u.children.length-1;e>=0;e--){const t=u.children[e];t&&!_ee(t,!0)||(u.children.splice(e,1),f>=e&&f--)}const g=Math.max(0,f+1);u.children.splice(g,0,d),ZHe(u);let m=u.children.length-1;for(;m>0;){const e=u.children[m],t=u.children[m-1];zee(t,e)&&(Cc(t)&&Cc(e)?u.children[m-1]=t+e:jee(t)&&jee(e)?(t.children.push(...e.children),t.children=[t.children.join("")]):Cc(t)&&jee(e)&&(u.children[m-1]=t+e.children[0]),u.children.splice(m,1)),m--}for(let e=0;e<=s.length;e++){const t=Mee(o,s.slice(0,e));if(Wee(t)){const e=null===(n=t.props)||void 0===n?void 0:n.uid;e&&(v[e]=t)}}Uee(c,(e=>{var t;if(Wee(e)){const n=null===(t=e.props)||void 0===t?void 0:t.uid;n&&(v[n]=e)}}))}return u.search&&Hee(o)&&Vee(o),delete e.editor.highlights,e}g?(vHe(g)&&(g=kHe(g)),bHe(g)&&(g=MHe(g)),gHe(g)?bDe(g,[m])({editor:f}):m({editor:f})):m({editor:f});for(const e in p)M9(e)({editor:f});const y=[t];for(const e in v){const o=v[e],s=null===(i=o.props)||void 0===i?void 0:i.id;if(s&&T9(e,s)({editor:f}),n=Oq(s,o,t)(n),!Wee(o))continue;const c=null===(l=null===(r=n.store)||void 0===r?void 0:r.reference)||void 0===l?void 0:l[s];if(c){const e=Object.keys(c.detail);y.push(...e.filter((e=>e!==t)))}}for(const e of y)for(const t in p){const o=p[t];n=Fq(o,t,e)(n)}return(null==c?void 0:c.currentPageId)===t&&(n.editor.data=f.data,n.editor.uids=f.uids,delete n.editor.ureference,n=k7(t)(n)),n=kq(t,f)(n)},Kee=(e,t)=>n=>(qee([e],((e,o)=>{"outline"===e.type&&((null==o?void 0:o.id)&&(t=o.id),n=Yee(e,t)(n))})),n),{isNode:Gee,getNodeByPath:Xee,getBlockNodeStartPath:Jee,getBlockNodeEndPath:Qee,sliceSelectionStartBlockPath:ete,getKeyFromPath:tte,sliceBlockPath:nte,sortSelection:ote,sliceMetaNodePath:ite}=hk,rte=(e,t)=>n=>{var o,i,r;const l=null===(i=null===(o=n.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[e];if(void 0===l)return n;const{data:s}=l,c=null===(r=n.store)||void 0===r?void 0:r.reference,a=YWe(s,e,{},[t],c);if(null==a?void 0:a.children){const{payload:t}=a.children[0];let o=WFe(),i=null==t?void 0:t.search;if(i&&gHe(i)){bHe(i)&&(i=MHe(i));oHe(BHe(i))&&(i=EHe(i)),o=xHe(o,i)}n=o4(o)(n),n=lte(e,t)(n)}return n=z3(e)(n)},lte=(e,t)=>n=>{var o,i;if(!t)return n;let r=t.search;r&&bHe(r)&&(n=Qq(e,r)(n)),n=ate(e,t)(n),n=v9(e)(n);const l=null===(i=null===(o=(n=Iq(e)(n)).store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[e];if(void 0===l)return n;if(!l.selection)return n;const s=ete(l.data,l.selection);if(0===s.length)return n;const c=D$e(l,s,s);if(c.selection=l.selection,c.selectionReflow=l.selectionReflow,t){let e=[];if(r&&gHe(r))r&&bHe(r)&&(r=MHe(r)),r.path&&(e=ite(c.data,r.path));else{const n=$je(t),{before:o}=ote(n);e=o.path,Gee(Xee(c.data,e))||(e=hc(e))}c.location=tte(e)}const{clientHeight:a,clientWidth:u}=n.editor;return c.clientHeight=a,c.clientWidth=u,c.scrollHeight=2*a,n=X8(c)(n),n=i9()(n),n=z3(e)(n)},ste=(e,t)=>n=>{var o,i,r,l,s;const{clientHeight:c,clientWidth:a}=n.editor;let u=null===(o=e.payload)||void 0===o?void 0:o.search;n=v9(t)(n),u&&bHe(u)&&(n=Qq(t,u)(n));const d=null===(r=null===(i=(n=Iq(t)(n)).store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[t];if(void 0===d)return n;const f=Jee(d.data);u&&bHe(u)&&(u=MHe(u));let h=[...f];if(u&&gHe(u))u.path&&(h=nte(d.data,u.path));else{const t=$je(e.payload);h=ete(d.data,t)}if(0===h.length)return n;const p=D$e(d,h,h);if(e.payload){let t=[];if(u&&gHe(u))u.path&&(t=ite(p.data,u.path));else{const n=$je(e.payload),{before:o}=ote(n);t=o.path,Gee(Xee(p.data,t))||(t=hc(t))}p.location=tte(t)}return p.clientHeight=c,p.clientWidth=a,p.scrollHeight=2*c,(null===(l=n.file)||void 0===l?void 0:l.currentPageId)===t&&(null===(s=n.editor.ghighlights)||void 0===s?void 0:s.length)&&n.editor.ghighlights.forEach((({search:e})=>{e&&bDe(e,[e=>(delete e.editor.highlights,e)])({editor:p})})),u&&gHe(u)?bDe(u,[t=>(t.editor.highlights=Zje(e),t)])({editor:p}):p.highlights=Zje(e),n=X8(p)(n),n=i9()(n),n=z3(t)(n)},cte=e=>t=>{const n=t.editor.data,o=n.children.length-1,i=Math.floor(o*e),r=n.children[i];if(!r)return t;const l=[i,...Qee(r)],s=D$e(t.editor,l,l);if(1===e){const{scrollHeight:e,clientHeight:t}=s,n=t-e;s.scrollTouch=[n,t]}return t=X8(s)(t),t=f9(e)(t),t=i9()(t)},ate=(e,t)=>n=>{var o,i;if(!t)return n;let r=t.search;r&&bHe(r)&&(n=Qq(e,r)(n));const l=null===(i=null===(o=n.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[e];if(void 0===l)return n;const s=$je(t),{after:c}=ote(s);if(r)if(vHe(r)&&(r=kHe(r)),bHe(r)&&(r=MHe(r)),gHe(r)){bDe(r,[a])({editor:l}),xDe(r,[(e,t)=>{if(nHe(t)&&t.key){const{rowIndex:n,columnIndex:o}=UL.getIndexByKey(t.key);e.indicatorRange={rowStartIndex:n,rowEndIndex:n+1,columnStartIndex:o,columnEndIndex:o+1},e.selectedCoordinates={rowIndex:n,columnIndex:o}}return e}])({editor:l});const e=r.path;(null==e?void 0:e.length)&&(l.selection={anchor:{path:[...e],offset:0},focus:{path:[...e],offset:0}})}else a({editor:l});else a({editor:l});function a(e){return e.editor.selectionReflow=!0,e.editor.selection={anchor:ps(c),focus:ps(c)},delete e.editor.highlights,e}return n};var ute,dte=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),fte=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));const hte=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),pte=null!==(ute=String.fromCodePoint)&&void 0!==ute?ute:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var vte;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(vte||(vte={}));var gte,mte,yte,bte,Cte,wte;function xte(e){return e>=vte.ZERO&&e<=vte.NINE}function Ste(e){return e>=vte.UPPER_A&&e<=vte.UPPER_F||e>=vte.LOWER_A&&e<=vte.LOWER_F}function Ete(e){return e===vte.EQUALS||function(e){return e>=vte.UPPER_A&&e<=vte.UPPER_Z||e>=vte.LOWER_A&&e<=vte.LOWER_Z||xte(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(gte||(gte={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(mte||(mte={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(yte||(yte={}));class kte{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=mte.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=yte.Strict}startEntity(e){this.decodeMode=e,this.state=mte.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case mte.EntityStart:return e.charCodeAt(t)===vte.NUM?(this.state=mte.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=mte.NamedEntity,this.stateNamedEntity(e,t));case mte.NumericStart:return this.stateNumericStart(e,t);case mte.NumericDecimal:return this.stateNumericDecimal(e,t);case mte.NumericHex:return this.stateNumericHex(e,t);case mte.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===vte.LOWER_X?(this.state=mte.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=mte.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,o){if(t!==n){const i=n-t;this.result=this.result*Math.pow(o,i)+parseInt(e.substr(t,i),o),this.consumed+=i}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const o=e.charCodeAt(t);if(!xte(o)&&!Ste(o))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(o,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const o=e.charCodeAt(t);if(!xte(o))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(o,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===vte.SEMI)this.consumed+=1;else if(this.decodeMode===yte.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=hte.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==vte.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let o=n[this.treeIndex],i=(o&gte.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const r=e.charCodeAt(t);if(this.treeIndex=Ite(n,o,this.treeIndex+Math.max(1,i),r),this.treeIndex<0)return 0===this.result||this.decodeMode===yte.Attribute&&(0===i||Ete(r))?0:this.emitNotTerminatedNamedEntity();if(o=n[this.treeIndex],i=(o&gte.VALUE_LENGTH)>>14,0!==i){if(r===vte.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==yte.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,o=(n[t]&gte.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,o,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:o}=this;return this.emitCodePoint(1===t?o[e]&~gte.VALUE_LENGTH:o[e+1],n),3===t&&this.emitCodePoint(o[e+2],n),n}end(){var e;switch(this.state){case mte.NamedEntity:return 0===this.result||this.decodeMode===yte.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case mte.NumericDecimal:return this.emitNumericEntity(0,2);case mte.NumericHex:return this.emitNumericEntity(0,3);case mte.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mte.EntityStart:return 0}}}function Dte(e){let t="";const n=new kte(e,(e=>t+=pte(e)));return function(e,o){let i=0,r=0;for(;(r=e.indexOf("&",r))>=0;){t+=e.slice(i,r),n.startEntity(o);const l=n.write(e,r+1);if(l<0){i=r+n.end();break}i=r+l,r=0===l?i+1:i}const l=t+e.slice(i);return t="",l}}function Ite(e,t,n,o){const i=(t&gte.BRANCH_LENGTH)>>7,r=t&gte.JUMP_TABLE;if(0===i)return 0!==r&&o===r?n:-1;if(r){const t=o-r;return t<0||t>=i?-1:e[n+t]-1}let l=n,s=l+i-1;for(;l<=s;){const t=l+s>>>1,n=e[t];if(n<o)l=t+1;else{if(!(n>o))return e[t+i];s=t-1}}return-1}function Nte(e){return e===bte.Space||e===bte.NewLine||e===bte.Tab||e===bte.FormFeed||e===bte.CarriageReturn}function Lte(e){return e===bte.Slash||e===bte.Gt||Nte(e)}Dte(dte),Dte(fte),function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(bte||(bte={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"}(Cte||(Cte={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(wte||(wte={}));const Tte={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Bte{constructor({xmlMode:e=!1,decodeEntities:t=!0},n){this.cbs=n,this.state=Cte.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Cte.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=t,this.entityDecoder=new kte(e?fte:dte,((e,t)=>this.emitCodePoint(e,t)))}reset(){this.state=Cte.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Cte.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===bte.Lt||!this.decodeEntities&&this.fastForwardTo(bte.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Cte.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===bte.Amp&&this.startEntity()}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?Lte(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=Cte.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===bte.Gt||Nte(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===Tte.TitleEnd?this.decodeEntities&&e===bte.Amp&&this.startEntity():this.fastForwardTo(bte.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===bte.Lt)}stateCDATASequence(e){e===Tte.Cdata[this.sequenceIndex]?++this.sequenceIndex===Tte.Cdata.length&&(this.state=Cte.InCommentLike,this.currentSequence=Tte.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Cte.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Tte.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Cte.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Lte(e):function(e){return e>=bte.LowerA&&e<=bte.LowerZ||e>=bte.UpperA&&e<=bte.UpperZ}(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=Cte.SpecialStartSequence}stateBeforeTagName(e){if(e===bte.ExclamationMark)this.state=Cte.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===bte.Questionmark)this.state=Cte.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=32|e;this.sectionStart=this.index,this.xmlMode?this.state=Cte.InTagName:t===Tte.ScriptEnd[2]?this.state=Cte.BeforeSpecialS:t===Tte.TitleEnd[2]?this.state=Cte.BeforeSpecialT:this.state=Cte.InTagName}else e===bte.Slash?this.state=Cte.BeforeClosingTagName:(this.state=Cte.Text,this.stateText(e))}stateInTagName(e){Lte(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Cte.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Nte(e)||(e===bte.Gt?this.state=Cte.Text:(this.state=this.isTagStartChar(e)?Cte.InClosingTagName:Cte.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===bte.Gt||Nte(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Cte.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===bte.Gt||this.fastForwardTo(bte.Gt))&&(this.state=Cte.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===bte.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Cte.InSpecialTag,this.sequenceIndex=0):this.state=Cte.Text,this.sectionStart=this.index+1):e===bte.Slash?this.state=Cte.InSelfClosingTag:Nte(e)||(this.state=Cte.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===bte.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Cte.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Nte(e)||(this.state=Cte.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===bte.Eq||Lte(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Cte.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===bte.Eq?this.state=Cte.BeforeAttributeValue:e===bte.Slash||e===bte.Gt?(this.cbs.onattribend(wte.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Cte.BeforeAttributeName,this.stateBeforeAttributeName(e)):Nte(e)||(this.cbs.onattribend(wte.NoValue,this.sectionStart),this.state=Cte.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===bte.DoubleQuote?(this.state=Cte.InAttributeValueDq,this.sectionStart=this.index+1):e===bte.SingleQuote?(this.state=Cte.InAttributeValueSq,this.sectionStart=this.index+1):Nte(e)||(this.sectionStart=this.index,this.state=Cte.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===bte.DoubleQuote?wte.Double:wte.Single,this.index+1),this.state=Cte.BeforeAttributeName):this.decodeEntities&&e===bte.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,bte.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,bte.SingleQuote)}stateInAttributeValueNoQuotes(e){Nte(e)||e===bte.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(wte.Unquoted,this.index),this.state=Cte.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===bte.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===bte.OpeningSquareBracket?(this.state=Cte.CDATASequence,this.sequenceIndex=0):this.state=e===bte.Dash?Cte.BeforeComment:Cte.InDeclaration}stateInDeclaration(e){(e===bte.Gt||this.fastForwardTo(bte.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Cte.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===bte.Gt||this.fastForwardTo(bte.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Cte.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===bte.Dash?(this.state=Cte.InCommentLike,this.currentSequence=Tte.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Cte.InDeclaration}stateInSpecialComment(e){(e===bte.Gt||this.fastForwardTo(bte.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Cte.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=32|e;t===Tte.ScriptEnd[3]?this.startSpecial(Tte.ScriptEnd,4):t===Tte.StyleEnd[3]?this.startSpecial(Tte.StyleEnd,4):(this.state=Cte.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){const t=32|e;t===Tte.TitleEnd[3]?this.startSpecial(Tte.TitleEnd,4):t===Tte.TextareaEnd[3]?this.startSpecial(Tte.TextareaEnd,4):(this.state=Cte.InTagName,this.stateInTagName(e))}startEntity(){this.baseState=this.state,this.state=Cte.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?yte.Strict:this.baseState===Cte.Text||this.baseState===Cte.InSpecialTag?yte.Legacy:yte.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,0===e&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Cte.Text||this.state===Cte.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==Cte.InAttributeValueDq&&this.state!==Cte.InAttributeValueSq&&this.state!==Cte.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Cte.Text:this.stateText(e);break;case Cte.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case Cte.InSpecialTag:this.stateInSpecialTag(e);break;case Cte.CDATASequence:this.stateCDATASequence(e);break;case Cte.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case Cte.InAttributeName:this.stateInAttributeName(e);break;case Cte.InCommentLike:this.stateInCommentLike(e);break;case Cte.InSpecialComment:this.stateInSpecialComment(e);break;case Cte.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case Cte.InTagName:this.stateInTagName(e);break;case Cte.InClosingTagName:this.stateInClosingTagName(e);break;case Cte.BeforeTagName:this.stateBeforeTagName(e);break;case Cte.AfterAttributeName:this.stateAfterAttributeName(e);break;case Cte.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case Cte.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case Cte.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case Cte.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case Cte.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case Cte.BeforeSpecialT:this.stateBeforeSpecialT(e);break;case Cte.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case Cte.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case Cte.InDeclaration:this.stateInDeclaration(e);break;case Cte.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case Cte.BeforeComment:this.stateBeforeComment(e);break;case Cte.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case Cte.InEntity:this.stateInEntity()}this.index++}this.cleanup()}finish(){this.state===Cte.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===Cte.InCommentLike?this.currentSequence===Tte.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Cte.InTagName||this.state===Cte.BeforeAttributeName||this.state===Cte.BeforeAttributeValue||this.state===Cte.AfterAttributeName||this.state===Cte.InAttributeName||this.state===Cte.InAttributeValueSq||this.state===Cte.InAttributeValueDq||this.state===Cte.InAttributeValueNq||this.state===Cte.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){this.baseState!==Cte.Text&&this.baseState!==Cte.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}const Ate=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Mte=new Set(["p"]),Ote=new Set(["thead","tbody"]),Rte=new Set(["dd","dt"]),Pte=new Set(["rt","rp"]),Fte=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Mte],["h1",Mte],["h2",Mte],["h3",Mte],["h4",Mte],["h5",Mte],["h6",Mte],["select",Ate],["input",Ate],["output",Ate],["button",Ate],["datalist",Ate],["textarea",Ate],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Rte],["dt",Rte],["address",Mte],["article",Mte],["aside",Mte],["blockquote",Mte],["details",Mte],["div",Mte],["dl",Mte],["fieldset",Mte],["figcaption",Mte],["figure",Mte],["footer",Mte],["form",Mte],["header",Mte],["hr",Mte],["main",Mte],["nav",Mte],["ol",Mte],["pre",Mte],["section",Mte],["table",Mte],["ul",Mte],["rt",Pte],["rp",Pte],["tbody",Ote],["tfoot",Ote]]),Hte=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),_te=new Set(["math","svg"]),jte=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Wte=/\s|\//;class zte{constructor(e,t={}){var n,o,i,r,l,s;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:this.htmlMode,this.lowerCaseAttributeNames=null!==(o=t.lowerCaseAttributeNames)&&void 0!==o?o:this.htmlMode,this.recognizeSelfClosing=null!==(i=t.recognizeSelfClosing)&&void 0!==i?i:!this.htmlMode,this.tokenizer=new(null!==(r=t.Tokenizer)&&void 0!==r?r:Bte)(this.options,this),this.foreignContext=[!this.htmlMode],null===(s=(l=this.cbs).onparserinit)||void 0===s||s.call(l,this)}ontext(e,t){var n,o;const i=this.getSlice(e,t);this.endIndex=t-1,null===(o=(n=this.cbs).ontext)||void 0===o||o.call(n,i),this.startIndex=t}ontextentity(e,t){var n,o;this.endIndex=t-1,null===(o=(n=this.cbs).ontext)||void 0===o||o.call(n,pte(e)),this.startIndex=t}isVoidElement(e){return this.htmlMode&&Hte.has(e)}onopentagname(e,t){this.endIndex=t;let n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(e){var t,n,o,i;this.openTagStart=this.startIndex,this.tagname=e;const r=this.htmlMode&&Fte.get(e);if(r)for(;this.stack.length>0&&r.has(this.stack[0]);){const e=this.stack.shift();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,e,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(_te.has(e)?this.foreignContext.unshift(!0):jte.has(e)&&this.foreignContext.unshift(!1))),null===(i=(o=this.cbs).onopentagname)||void 0===i||i.call(o,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var n,o,i,r,l,s,c,a;this.endIndex=t;let u=this.getSlice(e,t);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),this.htmlMode&&(_te.has(u)||jte.has(u))&&this.foreignContext.shift(),this.isVoidElement(u))this.htmlMode&&"br"===u&&(null===(r=(i=this.cbs).onopentagname)||void 0===r||r.call(i,"br"),null===(s=(l=this.cbs).onopentag)||void 0===s||s.call(l,"br",{},!0),null===(a=(c=this.cbs).onclosetag)||void 0===a||a.call(c,"br",!1));else{const e=this.stack.indexOf(u);if(-1!==e)for(let t=0;t<=e;t++){const i=this.stack.shift();null===(o=(n=this.cbs).onclosetag)||void 0===o||o.call(n,i,t!==e)}else this.htmlMode&&"p"===u&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,n;const o=this.tagname;this.endOpenTag(e),this.stack[0]===o&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,o,!e),this.stack.shift())}onattribname(e,t){this.startIndex=e;const n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=pte(e)}onattribend(e,t){var n,o;this.endIndex=t,null===(o=(n=this.cbs).onattribute)||void 0===o||o.call(n,this.attribname,this.attribvalue,e===wte.Double?'"':e===wte.Single?"'":e===wte.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(Wte);let n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${e}`,`!${n}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${e}`,`?${n}`)}this.startIndex=t+1}oncomment(e,t,n){var o,i,r,l;this.endIndex=t,null===(i=(o=this.cbs).oncomment)||void 0===i||i.call(o,this.getSlice(e,t-n)),null===(l=(r=this.cbs).oncommentend)||void 0===l||l.call(r),this.startIndex=t+1}oncdata(e,t,n){var o,i,r,l,s,c,a,u,d,f;this.endIndex=t;const h=this.getSlice(e,t-n);!this.htmlMode||this.options.recognizeCDATA?(null===(i=(o=this.cbs).oncdatastart)||void 0===i||i.call(o),null===(l=(r=this.cbs).ontext)||void 0===l||l.call(r,h),null===(c=(s=this.cbs).oncdataend)||void 0===c||c.call(s)):(null===(u=(a=this.cbs).oncomment)||void 0===u||u.call(a,`[CDATA[${h}]]`),null===(f=(d=this.cbs).oncommentend)||void 0===f||f.call(d)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let e=0;e<this.stack.length;e++)this.cbs.onclosetag(this.stack[e],!0)}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)}reset(){var e,t,n,o;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(o=(n=this.cbs).onparserinit)||void 0===o||o.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))}end(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}var Vte;!function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(Vte||(Vte={})),Vte.Root,Vte.Text,Vte.Directive,Vte.Comment,Vte.Script,Vte.Style,Vte.Tag,Vte.CDATA,Vte.Doctype;let $te=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return nne(this,e)}};class Zte extends $te{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class Ute extends Zte{constructor(){super(...arguments),this.type=Vte.Text}get nodeType(){return 3}}class qte extends Zte{constructor(){super(...arguments),this.type=Vte.Comment}get nodeType(){return 8}}class Yte extends Zte{constructor(e,t){super(t),this.name=e,this.type=Vte.Directive}get nodeType(){return 1}}class Kte extends $te{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class Gte extends Kte{constructor(){super(...arguments),this.type=Vte.CDATA}get nodeType(){return 4}}class Xte extends Kte{constructor(){super(...arguments),this.type=Vte.Root}get nodeType(){return 9}}class Jte extends Kte{constructor(e,t,n=[],o=("script"===e?Vte.Script:"style"===e?Vte.Style:Vte.Tag)){super(n),this.name=e,this.attribs=t,this.type=o}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,n;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(n=this["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))}}function Qte(e){return(t=e).type===Vte.Tag||t.type===Vte.Script||t.type===Vte.Style;var t}function ene(e){return e.type===Vte.Text}function tne(e){return e.type===Vte.Root}function nne(e,t=!1){let n;if(ene(e))n=new Ute(e.data);else if(function(e){return e.type===Vte.Comment}(e))n=new qte(e.data);else if(Qte(e)){const o=t?one(e.children):[],i=new Jte(e.name,{...e.attribs},o);o.forEach((e=>e.parent=i)),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=i}else if(function(e){return e.type===Vte.CDATA}(e)){const o=t?one(e.children):[],i=new Gte(o);o.forEach((e=>e.parent=i)),n=i}else if(tne(e)){const o=t?one(e.children):[],i=new Xte(o);o.forEach((e=>e.parent=i)),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),n=i}else{if(!function(e){return e.type===Vte.Directive}(e))throw new Error(`Not implemented yet: ${e.type}`);{const t=new Yte(e.name,e.data);null!=e["x-name"]&&(t["x-name"]=e["x-name"],t["x-publicId"]=e["x-publicId"],t["x-systemId"]=e["x-systemId"]),n=t}}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function one(e){const t=e.map((e=>nne(e,!0)));for(let e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}const ine={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class rne{constructor(e,t,n){this.dom=[],this.root=new Xte(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=ine),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:ine,this.elementCB=null!=n?n:null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Xte(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const n=this.options.xmlMode?Vte.Tag:void 0,o=new Jte(e,t,void 0,n);this.addNode(o),this.tagStack.push(o)}ontext(e){const{lastNode:t}=this;if(t&&t.type===Vte.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const t=new Ute(e);this.addNode(t),this.lastNode=t}}oncomment(e){if(this.lastNode&&this.lastNode.type===Vte.Comment)return void(this.lastNode.data+=e);const t=new qte(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Ute(""),t=new Gte([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const n=new Yte(e,t);this.addNode(n)}handleCallback(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null}}var lne=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function sne(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let cne={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function ane(e){cne=e}const une=/[&<>"']/,dne=new RegExp(une.source,"g"),fne=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,hne=new RegExp(fne.source,"g"),pne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vne=e=>pne[e];function gne(e,t){if(t){if(une.test(e))return e.replace(dne,vne)}else if(fne.test(e))return e.replace(hne,vne);return e}const mne=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const yne=/(^|[^\[])\^/g;function bne(e,t){let n="string"==typeof e?e:e.source;t=t||"";const o={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(yne,"$1"),n=n.replace(e,i),o},getRegex:()=>new RegExp(n,t)};return o}function Cne(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const wne={exec:()=>null};function xne(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let o=!1,i=t;for(;--i>=0&&"\\"===n[i];)o=!o;return o?"|":" |"})),o=n.split(/ \|/);let i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),t)if(o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function Sne(e,t,n){const o=e.length;if(0===o)return"";let i=0;for(;i<o;){const r=e.charAt(o-i-1);if(r!==t||n){if(r===t||!n)break;i++}else i++}return e.slice(0,o-i)}function Ene(e,t,n,o){const i=t.href,r=t.title?gne(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){o.state.inLink=!0;const e={type:"link",raw:n,href:i,title:r,text:l,tokens:o.inlineTokens(l)};return o.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:r,text:gne(l)}}class kne{options;rules;lexer;constructor(e){this.options=e||cne}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Sne(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const o=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Sne(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Sne(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=Sne(t[0],"\n").split("\n"),n="",o="";const i=[];for(;e.length>0;){let t=!1;const r=[];let l;for(l=0;l<e.length;l++)if(/^ {0,3}>/.test(e[l]))r.push(e[l]),t=!0;else{if(t)break;r.push(e[l])}e=e.slice(l);const s=r.join("\n"),c=s.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}\n${s}`:s,o=o?`${o}\n${c}`:c;const a=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,i,!0),this.lexer.state.top=a,0===e.length)break;const u=i[i.length-1];if("code"===u?.type)break;if("blockquote"===u?.type){const t=u,r=t.raw+"\n"+e.join("\n"),l=this.blockquote(r);i[i.length-1]=l,n=n.substring(0,n.length-t.raw.length)+l.raw,o=o.substring(0,o.length-t.text.length)+l.text;break}if("list"!==u?.type);else{const t=u,r=t.raw+"\n"+e.join("\n"),l=this.list(r);i[i.length-1]=l,n=n.substring(0,n.length-u.raw.length)+l.raw,o=o.substring(0,o.length-t.raw.length)+l.raw,e=r.substring(i[i.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const r=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;e;){let n=!1,o="",s="";if(!(t=r.exec(e)))break;if(this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),a=e.split("\n",1)[0],u=!c.trim(),d=0;if(this.options.pedantic?(d=2,s=c.trimStart()):u?d=t[1].length+1:(d=t[2].search(/[^ ]/),d=d>4?1:d,s=c.slice(d),d+=t[1].length),u&&/^ *$/.test(a)&&(o+=a+"\n",e=e.substring(a.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(a=l,this.options.pedantic&&(a=a.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(a))break;if(r.test(a))break;if(t.test(a))break;if(n.test(e))break;if(a.search(/[^ ]/)>=d||!a.trim())s+="\n"+a.slice(d);else{if(u)break;if(c.search(/[^ ]/)>=4)break;if(i.test(c))break;if(r.test(c))break;if(n.test(c))break;s+="\n"+a}u||a.trim()||(u=!0),o+=l+"\n",e=e.substring(l.length+1),c=a.slice(d)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(o)&&(l=!0));let f,h=null;this.options.gfm&&(h=/^\[[ xX]\] /.exec(s),h&&(f="[ ] "!==h[0],s=s.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:o,task:!!h,checked:f,loose:!1,text:s,tokens:[]}),i.raw+=o}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=xne(t[1]),o=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===o.length){for(const e of o)/^ *-+: *$/.test(e)?r.align.push("right"):/^ *:-+: *$/.test(e)?r.align.push("center"):/^ *:-+ *$/.test(e)?r.align.push("left"):r.align.push(null);for(let e=0;e<n.length;e++)r.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:r.align[e]});for(const e of i)r.rows.push(xne(e,r.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:r.align[t]}))));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:gne(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Sne(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let o=0;o<e.length;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&(n--,n<0))return o;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],o="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Ene(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:o?o.replace(this.rules.inline.anyPunctuation,"$1"):o},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Ene(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o)return;if(o[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...o[0]].length-1;let i,r,l=n,s=0;const c="*"===o[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(o=c.exec(t));){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(r=[...i].length,o[3]||o[4]){l+=r;continue}if((o[5]||o[6])&&n%3&&!((n+r)%3)){s+=r;continue}if(l-=r,l>0)continue;r=Math.min(r,r+l+s);const t=[...o[0]][0].length,c=e.slice(0,n+o.index+t+r);if(Math.min(n,r)%2){const e=c.slice(1,-1);return{type:"em",raw:c,text:e,tokens:this.lexer.inlineTokens(e)}}const a=c.slice(2,-2);return{type:"strong",raw:c,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),o=/^ /.test(e)&&/ $/.test(e);return n&&o&&(e=e.substring(1,e.length-1)),e=gne(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=gne(t[1]),n="mailto:"+e):(e=gne(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=gne(t[0]),n="mailto:"+e;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);e=gne(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:gne(t[0]),{type:"text",raw:t[0],text:e}}}}const Dne=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ine=/(?:[*+-]|\d{1,9}[.)])/,Nne=bne(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ine).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Lne=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Tne=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Bne=bne(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Tne).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ane=bne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ine).getRegex(),Mne="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",One=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Rne=bne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",One).replace("tag",Mne).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Pne=bne(Lne).replace("hr",Dne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mne).getRegex(),Fne={blockquote:bne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Pne).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:Bne,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Dne,html:Rne,lheading:Nne,list:Ane,newline:/^(?: *(?:\n|$))+/,paragraph:Pne,table:wne,text:/^[^\n]+/},Hne=bne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Dne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mne).getRegex(),_ne={...Fne,table:Hne,paragraph:bne(Lne).replace("hr",Dne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Hne).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mne).getRegex()},jne={...Fne,html:bne("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",One).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wne,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:bne(Lne).replace("hr",Dne).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Nne).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Wne=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,zne=/^( {2,}|\\)\n(?!\s*$)/,Vne="\\p{P}\\p{S}",$ne=bne(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Vne).getRegex(),Zne=bne(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Vne).getRegex(),Une=bne("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Vne).getRegex(),qne=bne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Vne).getRegex(),Yne=bne(/\\([punct])/,"gu").replace(/punct/g,Vne).getRegex(),Kne=bne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gne=bne(One).replace("(?:--\x3e|$)","--\x3e").getRegex(),Xne=bne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gne).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Jne=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qne=bne(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Jne).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),eoe=bne(/^!?\[(label)\]\[(ref)\]/).replace("label",Jne).replace("ref",Tne).getRegex(),toe=bne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Tne).getRegex(),noe={_backpedal:wne,anyPunctuation:Yne,autolink:Kne,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:zne,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:wne,emStrongLDelim:Zne,emStrongRDelimAst:Une,emStrongRDelimUnd:qne,escape:Wne,link:Qne,nolink:toe,punctuation:$ne,reflink:eoe,reflinkSearch:bne("reflink|nolink(?!\\()","g").replace("reflink",eoe).replace("nolink",toe).getRegex(),tag:Xne,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:wne},ooe={...noe,link:bne(/^!?\[(label)\]\((.*?)\)/).replace("label",Jne).getRegex(),reflink:bne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jne).getRegex()},ioe={...noe,escape:bne(Wne).replace("])","~|])").getRegex(),url:bne(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},roe={...ioe,br:bne(zne).replace("{2,}","*").getRegex(),text:bne(ioe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},loe={normal:Fne,gfm:_ne,pedantic:jne},soe={normal:noe,gfm:ioe,breaks:roe,pedantic:ooe};class coe{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||cne,this.options.tokenizer=this.options.tokenizer||new kne,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:loe.normal,inline:soe.normal};this.options.pedantic?(t.block=loe.pedantic,t.inline=soe.pedantic):this.options.gfm&&(t.block=loe.gfm,this.options.breaks?t.inline=soe.breaks:t.inline=soe.gfm),this.tokenizer.rules=t}static get rules(){return{block:loe,inline:soe}}static lex(e,t){return new coe(t).lex(e)}static lexInline(e,t){return new coe(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){let o,i,r;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(o=n.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0)))))if(o=this.tokenizer.space(e))e=e.substring(o.raw.length),1===o.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(o);else if(o=this.tokenizer.code(e))e=e.substring(o.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(o):(i.raw+="\n"+o.raw,i.text+="\n"+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(o=this.tokenizer.fences(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.heading(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.hr(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.blockquote(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.list(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.html(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.def(e))e=e.substring(o.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title}):(i.raw+="\n"+o.raw,i.text+="\n"+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(o=this.tokenizer.table(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.lheading(e))e=e.substring(o.raw.length),t.push(o);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startBlock.forEach((e=>{o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r)))i=t[t.length-1],n&&"paragraph"===i?.type?(i.raw+="\n"+o.raw,i.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o),n=r.length!==e.length,e=e.substring(o.raw.length);else if(o=this.tokenizer.text(e))e=e.substring(o.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+o.raw,i.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(o);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,o,i,r,l,s,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,r.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(s=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((o=>!!(n=o.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),o=t[t.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let o;this.options.extensions.startInline.forEach((e=>{o=e.call({lexer:this},n),"number"==typeof o&&o>=0&&(t=Math.min(t,o))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),l=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class aoe{options;parser;constructor(e){this.options=e||cne}space(e){return""}code({text:e,lang:t,escaped:n}){const o=(t||"").match(/^\S*/)?.[0],i=e.replace(/\n$/,"")+"\n";return o?'<pre><code class="language-'+gne(o)+'">'+(n?i:gne(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:gne(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let o="";for(let t=0;t<e.items.length;t++){const n=e.items[t];o+=this.listitem(n)}const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+o+"</"+i+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&"paragraph"===e.tokens[0].type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let o="";for(let t=0;t<e.rows.length;t++){const i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);o+=this.tablerow({text:n})}return o&&(o=`<tbody>${o}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+o+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const o=this.parser.parseInline(n),i=Cne(e);if(null===i)return o;let r='<a href="'+(e=i)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+o+"</a>",r}image({href:e,title:t,text:n}){const o=Cne(e);if(null===o)return n;let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class uoe{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class doe{options;renderer;textRenderer;constructor(e){this.options=e||cne,this.options.renderer=this.options.renderer||new aoe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new uoe}static parse(e,t){return new doe(t).parse(e)}static parseInline(e,t){return new doe(t).parseInline(e)}parse(e,t=!0){let n="";for(let o=0;o<e.length;o++){const i=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const r=i;switch(r.type){case"space":n+=this.renderer.space(r);continue;case"hr":n+=this.renderer.hr(r);continue;case"heading":n+=this.renderer.heading(r);continue;case"code":n+=this.renderer.code(r);continue;case"table":n+=this.renderer.table(r);continue;case"blockquote":n+=this.renderer.blockquote(r);continue;case"list":n+=this.renderer.list(r);continue;case"html":n+=this.renderer.html(r);continue;case"paragraph":n+=this.renderer.paragraph(r);continue;case"text":{let i=r,l=this.renderer.text(i);for(;o+1<e.length&&"text"===e[o+1].type;)i=e[++o],l+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):l;continue}default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let o=0;o<e.length;o++){const i=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}const r=i;switch(r.type){case"escape":case"text":n+=t.text(r);break;case"html":n+=t.html(r);break;case"link":n+=t.link(r);break;case"image":n+=t.image(r);break;case"strong":n+=t.strong(r);break;case"em":n+=t.em(r);break;case"codespan":n+=t.codespan(r);break;case"br":n+=t.br(r);break;case"del":n+=t.del(r);break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class foe{options;constructor(e){this.options=e||cne}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}const hoe=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(coe.lex,doe.parse);parseInline=this.#e(coe.lexInline,doe.parseInline);Parser=doe;Renderer=aoe;TextRenderer=uoe;Lexer=coe;Tokenizer=kne;Hooks=foe;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{const e=o;for(const o of e.header)n=n.concat(this.walkTokens(o.tokens,t));for(const o of e.rows)for(const e of o)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=o;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=o;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((o=>{const i=e[o].flat(1/0);n=n.concat(this.walkTokens(i,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let o=e.renderer.apply(this,t);return!1===o&&(o=n.apply(this,t)),o}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new aoe(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const o=n;let i=e.renderer[o];const r=t[o];t[o]=(...n)=>{e.useNewRenderer||(i=this.#t(i,o,t));let l=i.apply(t,n);return!1===l&&(l=r.apply(t,n)),l||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new kne(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const o=n,i=e.tokenizer[o],r=t[o];t[o]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new foe;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const o=n,i=e.hooks[o],r=t[o];foe.passThroughHooks.has(n)?t[o]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then((e=>r.call(t,e)));const n=i.call(t,e);return r.call(t,n)}:t[o]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=r.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,o=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(o.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}#t(e,t,n){switch(t){case"heading":return function(o){return o.type&&o.type===t?e.call(this,n.parser.parseInline(o.tokens),o.depth,function(e){return e.replace(mne,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}(n.parser.parseInline(o.tokens,n.parser.textRenderer))):e.apply(this,arguments)};case"code":return function(n){return n.type&&n.type===t?e.call(this,n.text,n.lang,!!n.escaped):e.apply(this,arguments)};case"table":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let o="",i="";for(let e=0;e<n.header.length;e++)i+=this.tablecell({text:n.header[e].text,tokens:n.header[e].tokens,header:!0,align:n.align[e]});o+=this.tablerow({text:i});let r="";for(let e=0;e<n.rows.length;e++){const t=n.rows[e];i="";for(let e=0;e<t.length;e++)i+=this.tablecell({text:t[e].text,tokens:t[e].tokens,header:!1,align:n.align[e]});r+=this.tablerow({text:i})}return e.call(this,o,r)};case"blockquote":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);const o=this.parser.parse(n.tokens);return e.call(this,o)};case"list":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);const o=n.ordered,i=n.start,r=n.loose;let l="";for(let e=0;e<n.items.length;e++){const t=n.items[e],o=t.checked,i=t.task;let s="";if(t.task){const e=this.checkbox({checked:!!o});r?t.tokens.length>0&&"paragraph"===t.tokens[0].type?(t.tokens[0].text=e+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=e+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",text:e+" "}):s+=e+" "}s+=this.parser.parse(t.tokens,r),l+=this.listitem({type:"list_item",raw:s,text:s,task:i,checked:!!o,loose:r,tokens:t.tokens})}return e.call(this,l,o,i)};case"html":return function(n){return n.type&&n.type===t?e.call(this,n.text,n.block):e.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(n){return n.type&&n.type===t?e.call(this,this.parser.parseInline(n.tokens)):e.apply(this,arguments)};case"escape":case"codespan":case"text":return function(n){return n.type&&n.type===t?e.call(this,n.text):e.apply(this,arguments)};case"link":return function(n){return n.type&&n.type===t?e.call(this,n.href,n.title,this.parser.parseInline(n.tokens)):e.apply(this,arguments)};case"image":return function(n){return n.type&&n.type===t?e.call(this,n.href,n.title,n.text):e.apply(this,arguments)}}return e}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return coe.lex(e,t??this.defaults)}parser(e,t){return doe.parse(e,t??this.defaults)}#e(e,t){return(n,o)=>{const i={...o},r={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const l=this.#n(!!r.silent,!!r.async);if(null==n)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then((t=>e(t,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>t(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(l);try{r.hooks&&(n=r.hooks.preprocess(n));let o=e(n,r);r.hooks&&(o=r.hooks.processAllTokens(o)),r.walkTokens&&this.walkTokens(o,r.walkTokens);let i=t(o,r);return r.hooks&&(i=r.hooks.postprocess(i)),i}catch(e){return l(e)}}}#n(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+gne(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function poe(e,t){return hoe.parse(e,t)}poe.options=poe.setOptions=function(e){return hoe.setOptions(e),poe.defaults=hoe.defaults,ane(poe.defaults),poe},poe.getDefaults=sne,poe.defaults=cne,poe.use=function(...e){return hoe.use(...e),poe.defaults=hoe.defaults,ane(poe.defaults),poe},poe.walkTokens=function(e,t){return hoe.walkTokens(e,t)},poe.parseInline=hoe.parseInline,poe.Parser=doe,poe.parser=doe.parse,poe.Renderer=aoe,poe.TextRenderer=uoe,poe.Lexer=coe,poe.lexer=coe.lex,poe.Tokenizer=kne,poe.Hooks=foe,poe.parse=poe,poe.options,poe.setOptions,poe.use,poe.walkTokens,poe.parseInline,doe.parse,coe.lex;const voe=function({onlyFirst:e=!1}={}){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}();function goe(e,{ambiguousAsWide:t=!1}={}){return function(e){if(!Number.isSafeInteger(e))throw new TypeError(`Expected a code point, got \`${typeof e}\`.`)}(e),function(e){return 12288===e||e>=65281&&e<=65376||e>=65504&&e<=65510}(e)||function(e){return e>=4352&&e<=4447||8986===e||8987===e||9001===e||9002===e||e>=9193&&e<=9196||9200===e||9203===e||9725===e||9726===e||9748===e||9749===e||e>=9776&&e<=9783||e>=9800&&e<=9811||9855===e||e>=9866&&e<=9871||9875===e||9889===e||9898===e||9899===e||9917===e||9918===e||9924===e||9925===e||9934===e||9940===e||9962===e||9970===e||9971===e||9973===e||9978===e||9981===e||9989===e||9994===e||9995===e||10024===e||10060===e||10062===e||e>=10067&&e<=10069||10071===e||e>=10133&&e<=10135||10160===e||10175===e||11035===e||11036===e||11088===e||11093===e||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||94192===e||94193===e||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||110589===e||110590===e||e>=110592&&e<=110882||110898===e||e>=110928&&e<=110930||110933===e||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||126980===e||127183===e||127374===e||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||127568===e||127569===e||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||127988===e||e>=127992&&e<=128062||128064===e||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||128378===e||128405===e||128406===e||128420===e||e>=128507&&e<=128591||e>=128640&&e<=128709||128716===e||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||128747===e||128748===e||e>=128756&&e<=128764||e>=128992&&e<=129003||129008===e||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}(e)||t&&function(e){return 161===e||164===e||167===e||168===e||170===e||173===e||174===e||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||198===e||208===e||215===e||216===e||e>=222&&e<=225||230===e||e>=232&&e<=234||236===e||237===e||240===e||242===e||243===e||e>=247&&e<=250||252===e||254===e||257===e||273===e||275===e||283===e||294===e||295===e||299===e||e>=305&&e<=307||312===e||e>=319&&e<=322||324===e||e>=328&&e<=331||333===e||338===e||339===e||358===e||359===e||363===e||462===e||464===e||466===e||468===e||470===e||472===e||474===e||476===e||593===e||609===e||708===e||711===e||e>=713&&e<=715||717===e||720===e||e>=728&&e<=731||733===e||735===e||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||1025===e||e>=1040&&e<=1103||1105===e||8208===e||e>=8211&&e<=8214||8216===e||8217===e||8220===e||8221===e||e>=8224&&e<=8226||e>=8228&&e<=8231||8240===e||8242===e||8243===e||8245===e||8251===e||8254===e||8308===e||8319===e||e>=8321&&e<=8324||8364===e||8451===e||8453===e||8457===e||8467===e||8470===e||8481===e||8482===e||8486===e||8491===e||8531===e||8532===e||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||8585===e||e>=8592&&e<=8601||8632===e||8633===e||8658===e||8660===e||8679===e||8704===e||8706===e||8707===e||8711===e||8712===e||8715===e||8719===e||8721===e||8725===e||8730===e||e>=8733&&e<=8736||8739===e||8741===e||e>=8743&&e<=8748||8750===e||e>=8756&&e<=8759||8764===e||8765===e||8776===e||8780===e||8786===e||8800===e||8801===e||e>=8804&&e<=8807||8810===e||8811===e||8814===e||8815===e||8834===e||8835===e||8838===e||8839===e||8853===e||8857===e||8869===e||8895===e||8978===e||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||9632===e||9633===e||e>=9635&&e<=9641||9650===e||9651===e||9654===e||9655===e||9660===e||9661===e||9664===e||9665===e||e>=9670&&e<=9672||9675===e||e>=9678&&e<=9681||e>=9698&&e<=9701||9711===e||9733===e||9734===e||9737===e||9742===e||9743===e||9756===e||9758===e||9792===e||9794===e||9824===e||9825===e||e>=9827&&e<=9829||e>=9831&&e<=9834||9836===e||9837===e||9839===e||9886===e||9887===e||9919===e||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||9955===e||9960===e||9961===e||e>=9963&&e<=9969||9972===e||e>=9974&&e<=9977||9979===e||9980===e||9982===e||9983===e||10045===e||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||65533===e||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||127375===e||127376===e||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109}(e)?2:1}const moe=new Intl.Segmenter,yoe=/^\p{Default_Ignorable_Code_Point}$/u;function boe(e,t={}){if("string"!=typeof e||0===e.length)return 0;const{ambiguousIsNarrow:n=!0,countAnsiEscapeCodes:o=!1}=t;if(o||(e=function(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(voe,"")}(e)),0===e.length)return 0;let i=0;const r={ambiguousAsWide:!n};for(const{segment:t}of moe.segment(e)){const e=t.codePointAt(0);e<=31||e>=127&&e<=159||(e>=8203&&e<=8207||65279===e||e>=768&&e<=879||e>=6832&&e<=6911||e>=7616&&e<=7679||e>=8400&&e<=8447||e>=65056&&e<=65071||e>=55296&&e<=57343||e>=65024&&e<=65039||yoe.test(t)||(lne().test(t)?i+=2:i+=goe(e,r)))}return i}function Coe(e){const{type:t,style:n,props:o,children:i}=e;let r="<";if(r+=t,n){const e=Object.keys(n);e.length>0&&(r+=' style="',r+=e.map((e=>`${String(e)}:${String(n[e])}`)).join(";"),r+=';"')}if(o){const e=Object.keys(o);e.length>0&&(r+=e.map((e=>`${e}="${String(o[e])}"`)).join(" "))}return"img"===t||"input"===t?r+=" />":i.length>0&&(r+=">",r+=i.map((e=>"string"==typeof e?e:Coe(e))).join(""),r+=`</${t}>`),r}function woe(e,t="  "){const n=e=>/<[^>!]+>/.test(e),o=e=>/<\/+[^>]+>/.test(e),i=e=>/^<(span|a|img)/.test(e.trimStart()),r=e=>/<\/(span|a|img)>$/.test(e.trimEnd());let l=0;t=t||"    ";let s=!1,c=[];const a=(u=e,u.split(/(<\/?[^>]+>)/g).filter((e=>""!==e.trim()))).map((e=>{if(e.trim().startsWith("<![CDATA[")&&(s=!0),e.trim().endsWith("]]>")){s=!1,c.push(e);let t=c.join("");return c=[],t}if(s)return c.push(e),null;e=e.replace(/^\s+|\s+$/g,""),o(e)&&l--;const i=t.repeat(l>=0?l:0)+e;return(e=>n(e)&&!o(e)&&!(e=>/<[^>]+\/>/.test(e))(e)&&!(e=>/<\?[^?>]+\?>/.test(e))(e))(e)&&l++,i})).filter((e=>e));var u;function d(e,t){return!n(e)||!!t&&(!n(t)||(!(!i(e)||!r(t))||(!(!r(e)||!r(t))||(!(!i(e)||!i(t))||(!(!r(e)||!i(t))||void 0)))))}let f="";for(let e=0;e<a.length;e++){const t=a[e];if(!t)continue;d(t,a[e-1])?(f=f.trimEnd(),f+=t.trimStart(),f+="\n"):(f+=t,f+="\n")}return f}const xoe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Soe(e){return e.replace(xoe,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"amp"===t?"&":"lt"===t?"<":"gt"===t?">":"quot"===t?'"':"#39"===t?"'":""))}const Eoe={a:{},address:{fontStyle:"italic"},area:{display:"none"},b:{fontWeight:"bolder"},bdo:{unicodeBidi:"bidi-override"},blockquote:{paddingTop:16,paddingBottom:16,paddingLeft:40,paddingRight:40},body:{paddingTop:8,paddingRight:8,paddingBottom:8,paddingLeft:8},caption:{display:"table-caption",textAlign:"center"},cite:{fontStyle:"italic"},code:{fontFamily:"monospace"},col:{display:"table-column"},colgroup:{display:"table-column-group"},datalist:{display:"none"},dd:{paddingLeft:40},del:{textDecoration:"line-through"},dfn:{fontStyle:"italic"},dl:{},em:{fontStyle:"italic"},fieldset:{paddingLeft:12,paddingRight:12,paddingTop:5,paddingBottom:10,borderWidth:2,borderStyle:"groove"},figure:{paddingTop:16,paddingBottom:16,paddingLeft:40,paddingRight:40},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},hr:{borderStyle:"inset",borderWidth:1},i:{fontStyle:"italic"},iframe:{outline:"none"},ins:{textDecoration:"underline"},kbd:{fontFamily:"monospace"},label:{cursor:"default"},legend:{paddingLeft:2,paddingRight:2},li:{display:"list-item"},link:{display:"none"},mark:{backgroundColor:"yellow",color:"black"},menu:{},ol:{},p:{},param:{display:"none"},pre:{fontFamily:"monospace",whiteSpace:"pre"},s:{textDecoration:"line-through"},samp:{fontFamily:"monospace"},script:{display:"none"},small:{fontSize:"smaller"},strike:{textDecoration:"line-through"},strong:{fontWeight:"bolder"},style:{display:"none"},sub:{verticalAlign:"super",fontSize:"smaller"},table:{display:"table",borderCollapse:"separate",borderSpacing:2,borderColor:"gray"},tbody:{display:"table-row-group",verticalAlign:"middle",borderColor:"inherit"},td:{display:"table-cell",verticalAlign:"inherit"},tfoot:{display:"table-footer-group",verticalAlign:"middle",borderColor:"inherit"},th:{display:"table-cell",verticalAlign:"inherit",fontWeight:"bolder",textAlign:"center"},thead:{display:"table-header-group",verticalAlign:"middle",borderColor:"inherit"},title:{display:"none"},tr:{display:"table-row",verticalAlign:"inherit",borderColor:"inherit"},u:{textDecoration:"underline"},ul:{},var:{fontStyle:"italic"}};const koe=lne(),{createBlockNode:Doe,createInlineNode:Ioe,createMetaBrNode:Noe,createMetaSpaceNode:Loe,createMetaNode:Toe}=hk,Boe={block:Doe,inline:Ioe,outline:Doe,separate:Doe,image:Doe,bulleted:Doe,numbered:Doe,checked:Doe,emoji:Doe,sheet:Doe,quote:Doe,link:Doe,code:Doe,br:Noe,space:()=>Loe(),meta:Toe},Aoe="    ";function Moe(e,t){const{rowStartIndex:n,rowEndIndex:o,columnStartIndex:i,columnEndIndex:r}=e,{rowIndex:l,columnIndex:s}=t;return void 0===l&&void 0!==s?i<s&&r>s:void 0!==l&&void 0===s?n<l&&o>l:void 0!==l&&void 0!==s&&(n<l&&o>l&&i<s&&r>s)}function Ooe(e,t){const{rowStartIndex:n,rowEndIndex:o,columnStartIndex:i,columnEndIndex:r}=e,{rowIndex:l=n,columnIndex:s=i}=t;return n<=l&&o>=l&&i<=s&&r>=s}function Roe(e,t){return e.some((e=>Moe(e,t)))}const Poe=["address","article","aside","blockquote","body","caption","colgroup","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","table","thead","tbody","td","tfoot","th","tr","ul"],Foe=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","menu","meter","noscript","object","output","param","path","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strike","strong","sub","sup","svg","template","textarea","time","track","u","tt","var","video","wbr"];function Hoe(e){return"span"===e||"div"!==e&&!!Foe.includes(e)}function _oe(e){return["ul","ol"].includes(e)}function joe(e){return["h1","h2","h3","h4","h5","h6"].includes(e)}const Woe={top:"","top-mid":"","top-left":"","top-right":"",bottom:"","bottom-mid":"","bottom-left":"","bottom-right":"",left:"","left-mid":"",mid:"","mid-mid":"",right:"","right-mid":"",middle:"","half-width-space":" ","full-width-space":""},zoe=["","","",""],Voe=["","","","","","","","",""],$oe=6,{getColumnSize:Zoe,getIndexByKey:Uoe,getKeyByIndex:qoe,isRangeInclude:Yoe,calcIndicatorRangeByMerge:Koe}=UL,{isEmptyNode:Goe}=hk;async function Xoe(e,t){var n,o,i,r,l,s,c,a;let u="";const{columnTotalNumber:d,rowTotalNumber:f,cells:h}=e;if(!d||!f||!t.measurer)return u;const p={},v={},g=[],m=[];null===(o=null===(n=t.sheet)||void 0===n?void 0:n.nest)||void 0===o||o.call(n);for(const n in h){const{rowIndex:o,columnIndex:i}=Uoe(n),{state:r,merge:l}=h[n];if(l){const e=Koe(l);if(m.some((t=>Fc(t,e)))||m.push(e),e.rowStartIndex!==o&&e.columnStartIndex!==i)continue}const s=null==r?void 0:r.editor,c=null==s?void 0:s.node;if(!c)continue;let a="",u=!1;if(c&&!Goe(c,!0)){const e={...t.sheet,nest(){u=!0}};a=await cie(c,{...t,sheet:e},0),a=a.trimEnd()}g[o]||(g[o]=[]),g[o][i]=a;const d=a.split("\n");if(u){let e=0;const t=new RegExp(`^${Woe["top-left"]}.*${Woe["top-right"]}$`);for(const n of d){if(!t.test(n))continue;const o=boe(n);o>e&&(e=o)}if(e){l?(!v[l]||v[l]<e)&&(v[l]=e):(!p[i]||p[i]<e)&&(p[i]=e);continue}}let f=Zoe(e,i)-16;if(l){const{columnStartIndex:t,columnEndIndex:n}=Koe(l);f=Zoe(e,t,n)-16}let y="",b=0;for(const e of d){let t=0,n=0;for(const o of e){boe(o)>1?(n++,3===n&&(n=0,t+=5)):t+=1}n>0&&(t+=5),t>b&&(b=t,y=e)}let C=0,w=0,x=0;for(const e of y){const n=t.measurer(e);if(w+n>f)break;w+=n,boe(e)>1?x++:C+=1}C+=5*Math.ceil(x/3),l?(!v[l]||v[l]<C)&&(v[l]=C):(!p[i]||p[i]<C)&&(p[i]=C)}const y=t.measurer(Woe.top);for(let t=0;t<d;t++){if(p[t])continue;const n=Zoe(e,t)-16;let o=0,i=0;for(;o<n&&i<$oe;)o+=y,i++;p[t]=Math.min(i,$oe)}for(const e in v){const t=v[e],{columnStartIndex:n,columnEndIndex:o}=Koe(e);let r=0;for(let e=n;e<o;e++)r+=null!==(i=p[e])&&void 0!==i?i:0;const l=t-r;if(l<=0)continue;const s=Math.ceil(l/(o-n));for(let e=n;e<o;e++)p[e]+=s}const b=function(e,t,n){var o;let i=Woe["top-left"];for(let r=0;r<e;r++){r>0&&(Roe(n,{columnIndex:r})?i+=Woe.top:i+=Woe["top-mid"]);const e=null!==(o=t[r])&&void 0!==o?o:$oe;i+=Woe.top.repeat(e+2)}return i+=Woe["top-right"],i}(d,p,m.filter((e=>0===e.rowStartIndex)));u+=`${b}\n`;let C=0;for(;C<f;){let t=!1,n=Woe.left,o=0;for(;o<d;){let i=null!==(r=p[o])&&void 0!==r?r:$oe;const u=qoe(C,o),d=null===(s=null===(l=e.cells)||void 0===l?void 0:l[u])||void 0===s?void 0:s.merge;if(d){const{columnStartIndex:e,columnEndIndex:t}=Koe(d);if(o!==e){o++;continue}i=0;for(let n=e;n<t;n++)i+=null!==(c=p[n])&&void 0!==c?c:$oe,n>e&&(i+=3)}if(o>0){const e=m.find((e=>Yoe(e,{rowIndex:C,columnIndex:o})));e&&Moe(e,{columnIndex:o})?n+=Woe["half-width-space"]:n+=Woe.middle}let f=null===(a=g[C])||void 0===a?void 0:a[o];if(n+=Woe["half-width-space"],!f){n+=Woe["half-width-space"].repeat(i),n+=Woe["half-width-space"],o++;continue}let h=0,v=0,y=0,b=0,w=0;for(const e of f){if("\n"===e){h++;break}let t=boe(e);zoe.includes(e)?(zoe.includes(f[h-1])||Voe.includes(f[h-1]))&&(t=1):Voe.includes(e)&&Voe.includes(f[h-1])&&(t=1),t>1?(0===y&&(b=h),y++,3===y&&(v+=5,y=0,b=0,w=0)):(v+=1,y>0&&(w+=1));if(v+(y>0?5:0)>i){y>0&&b>0&&(h=b,v-=w,y=0,b=0,w=0);break}if(n+=e,h++,v===i){"\n"===f[h]&&h++;break}}let x=!1;if(Voe.includes(n[n.length-1])&&(n+=Woe["half-width-space"],x=!0),y>0){const e=3-y;n+=Woe["full-width-space"].repeat(e),v+=5}for(;v<i;)n+=Woe["half-width-space"],v+=1;f=f.slice(h),f.length&&(t=!0),g[C][o]=f,x||(n+=Woe["half-width-space"]),o++}if(n+=Woe.right,u+=`${n}\n`,C!==f-1&&!t){u+=`${Joe(d,C+1,p,m)}\n`}t||C++}const w=function(e,t,n){var o;let i=Woe["bottom-left"];for(let r=0;r<e;r++){r>0&&(Roe(n,{columnIndex:r})?i+=Woe.bottom:i+=Woe["bottom-mid"]);const e=null!==(o=t[r])&&void 0!==o?o:$oe;i+=Woe.bottom.repeat(e+2)}return i+=Woe["bottom-right"],i}(d,p,m.filter((e=>e.rowEndIndex===f)));return u+=w,u}function Joe(e,t,n,o){var i;let r=Woe["left-mid"];const l=o.find((e=>Yoe(e,{columnIndex:0,rowIndex:t})));l&&Moe(l,{rowIndex:t})&&(r=Woe.left);for(let l=0;l<e;l++){l>0&&(r+=Qoe(t,l,o));const e=null!==(i=n[l])&&void 0!==i?i:$oe,s=o.find((e=>Yoe(e,{columnIndex:l,rowIndex:t})));r+=s&&Moe(s,{rowIndex:t})?Woe["half-width-space"].repeat(e+2):Woe.mid.repeat(e+2)}const s=o.find((n=>Ooe(n,{columnIndex:e,rowIndex:t})));return s&&Moe(s,{rowIndex:t})?r+=Woe.right:r+=Woe["right-mid"],r}function Qoe(e,t,n){if(Roe(n,{rowIndex:e,columnIndex:t}))return Woe["half-width-space"];const o=n.filter((n=>Ooe(n,{rowIndex:e,columnIndex:t})));if(1===o.length){if(o[0].rowEndIndex===e&&Moe(o[0],{columnIndex:t}))return Woe["top-mid"];if(o[0].rowStartIndex===e&&Moe(o[0],{columnIndex:t}))return Woe["bottom-mid"];if(o[0].columnEndIndex===t&&Moe(o[0],{rowIndex:e}))return Woe["left-mid"];if(o[0].columnStartIndex===t&&Moe(o[0],{rowIndex:e}))return Woe["right-mid"]}if(o.length>=2){let n=!1,i=!1,r=!1,l=!1;for(const s of o){const{rowStartIndex:o,rowEndIndex:c,columnStartIndex:a,columnEndIndex:u}=s;e>o&&e<c&&(t<=a&&(n=!0),t>=u&&(i=!0)),t>a&&t<u&&(e<=o&&(l=!0),e>=c&&(r=!0))}if(n&&i)return Woe.middle;if(n&&!i)return Woe["right-mid"];if(!n&&i)return Woe["left-mid"];if(r&&l)return Woe.mid;if(r&&!l)return Woe["top-mid"];if(!r&&l)return Woe["bottom-mid"]}return Woe["mid-mid"]}const{isNode:eie,isEmptyNode:tie,traverseNode:nie,isReferenceNode:oie}=hk,{getKeyByIndex:iie}=UL;async function rie(e,t){var n,o,i;let r="",l=null,s=!1,c=0;for(;c<e.length;){const a=e[c];if("string"!=typeof a)if((t.filter.numbered(a)||t.filter.bulleted(a)||t.filter.checked(a)||t.filter.toggle(a)||t.filter.outline(a))&&(s=!0),t.filter.numbered(a)){null===l&&(l=[]);let e=null===(o=null===(n=a.props)||void 0===n?void 0:n.level)||void 0===o?void 0:o.length;e||(e=0),void 0===l[e]&&(l[e]=-1),l[e]=l[e]+1,r+=await lie(a,t,l[e])}else{if(t.filter.toggle(a)){const t=[...a.children];et(null===(i=a.props)||void 0===i?void 0:i.list)&&t.push(...a.props.list),e.splice(c,1,...t);continue}s&&!r.endsWith("\n\n")&&(r+="\n",s=!1),r+=await lie(a,t,c)}else r+=Soe(a);r=r.replace(/(\n\x20*){2,}$/,"\n\n"),c++}return r}async function lie(e,t,n){var o,i,r,l,s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x,S,E,k,D,I,N;const{style:L,props:T,children:B}=e;if(t.filter.outline(e)){const c=null!==(r=null===(i=null===(o=t.outline)||void 0===o?void 0:o.depth)||void 0===i?void 0:i.call(o,e))&&void 0!==r?r:0;if(1===c&&n>0){const n=await(null===(s=null===(l=t.outline)||void 0===l?void 0:l.source)||void 0===s?void 0:s.call(l,e));if(!n)return"";const{src:o,alt:i}=n;let r=`[${i}](${o} "${i}")`;return r=r.replace(/\n?$/,"\n\n"),r}const a="#".repeat(c);let u=B[0];for(;eie(u)&&(t.filter.numbered(u)||t.filter.bulleted(u)||t.filter.checked(u)||t.filter.toggle(u)||oie(u));)u=u.children[0];let d=await rie([u],t);return d=d.replace(/\n*$/,"\n\n"),d=`${a} ${d}`,d}if(t.filter.shortcut(e)){const n=await(null===(a=null===(c=t.shortcut)||void 0===c?void 0:c.source)||void 0===a?void 0:a.call(c,e));if(!n)return"";const{src:o,alt:i}=n;let r=`[${i}](${o} "${i}")`;return r=r.replace(/\n?$/,"\n\n"),r}if(t.filter.separate(e)){let e=await rie(B,t);return e=e.replace(/\n?$/,"\n"),e}if(t.filter.image(e)){let n=await rie(B,t);const o=await(null===(d=null===(u=t.image)||void 0===u?void 0:u.source)||void 0===d?void 0:d.call(u,e)),i=null!==(h=null!==(f=null==o?void 0:o.src)&&void 0!==f?f:null==T?void 0:T.src)&&void 0!==h?h:"";return n=`![${null!==(v=null!==(p=null==o?void 0:o.alt)&&void 0!==p?p:null==T?void 0:T.alt)&&void 0!==v?v:""}](${i}${n?` "${n}"`:""})`,n}if(t.filter.bulleted(e)){const n=(null!==(m=null===(g=null==T?void 0:T.level)||void 0===g?void 0:g.length)&&void 0!==m?m:1)-1,o=`${Aoe.repeat(n)}-`;let i=await aie(e,t,o);return i=i.replace(/\n?$/,"\n"),i}if(t.filter.numbered(e)){const o=(null!==(b=null===(y=null==T?void 0:T.level)||void 0===y?void 0:y.length)&&void 0!==b?b:1)-1,i=`${Aoe.repeat(o)}${n+1}.`;let r=await aie(e,t,i);return r=r.replace(/\n?$/,"\n"),r}if(t.filter.checked(e)){const n=(null!==(w=null===(C=null==T?void 0:T.level)||void 0===C?void 0:C.length)&&void 0!==w?w:1)-1,o=(null!==(x=null==T?void 0:T.numerator)&&void 0!==x?x:0)/(null!==(S=null==T?void 0:T.denominator)&&void 0!==S?S:1)>=1?"x":" ",i=`${Aoe.repeat(n)}- [${o}]`;let r=await aie(e,t,i);return r=r.replace(/\n?$/,"\n"),r}if(t.filter.emoji(e)){const t=e.children[0];if(eie(t)){const e=null===(E=t.props)||void 0===E?void 0:E.value;if(null==e?void 0:e.emoji)return e.emoji}return""}if(t.filter.sheet(e)){let n=await async function(e,t){var n,o,i,r,l,s;let c="";const a=e.children[0],u=null===(n=a.props)||void 0===n?void 0:n.value;if(!u)return c;const{columnTotalNumber:d,rowTotalNumber:f,cells:h}=u;if(!d||!f)return c;let p=!1;for(const e in h){if(null===(o=h[e])||void 0===o?void 0:o.merge){p=!0;break}const n=null===(r=null===(i=h[e])||void 0===i?void 0:i.state)||void 0===r?void 0:r.editor,l=null==n?void 0:n.node;if(eie(l)&&nie(l,(e=>{var n,o;if(null===(o=(n=t.filter).sheet)||void 0===o?void 0:o.call(n,e))return p=!0,!1})),p)break}if(p)return c+="```\n",c+=await Xoe(u,t),c+="\n```",c;const v=Symbol("token"),g=[],m=[],y="   ",b={};for(let e=0;e<f;e++){g[e]||(g[e]=["| "]);for(let n=0;n<d;n++){const o=iie(e,n),i=null==h?void 0:h[o],r=null===(l=null==i?void 0:i.state)||void 0===l?void 0:l.editor,s=null==r?void 0:r.node;let c=y;s&&!tie(s,!0)&&(c=await lie(s,t,0),c=c.replace(/\n*$/,""),c=c.replace(/\n/g,"<br>"));const a=boe(c);(!b[n]||b[n]<a)&&(b[n]=a),m.push(c),g[e].push(v),n===d-1?g[e].push(" |\n"):g[e].push(" | ")}}const C=["| "],w=[];for(let e=0;e<d;e++){const t="-".repeat(y.length);w.push(t),C.push(v),e===d-1?C.push(" |\n"):C.push(" | ")}m.splice(d,0,...w),g.splice(1,0,C);for(let e=0;e<g.length;e++){let t=0;for(const n of g[e])if(Cc(n))c+=n;else if(Je(n)){const e=m.shift();if(void 0===e){t++;continue}const n=(null!==(s=b[t])&&void 0!==s?s:0)-boe(e);n>=0&&(c+=e+" ".repeat(n)),t++}}return c}(e,t);return n=n.replace(/\n?$/,"\n\n"),n}if(t.filter.quote(e)){let n=await async function(e,t,n=""){let o="";for(let n=0;n<e.children.length;n++){const i=e.children[n];o+="string"==typeof i?Soe(i):await lie(i,t,n),o=o.replace(/^\x20*/,"").replace(/\n*$/,"\n").replace(/(\n\x20*)/g,"\n> ")}return o=`> ${o.replace(/(>\x20*)$/,"")}`,o}(e,t);return n=n.replace(/\n?$/,"\n\n"),n}if(t.filter.link(e)){let n=await rie(B,t);const o=await(null===(D=null===(k=t.link)||void 0===k?void 0:k.source)||void 0===D?void 0:D.call(k,e));if(o){const{src:e,alt:t}=o;return n=`[${n}](${e} "${t}")`,n}return n=`[${n}](${null!==(N=null===(I=null==T?void 0:T.value)||void 0===I?void 0:I.text)&&void 0!==N?N:""})`,n}if(t.filter.code(e)){let e=await rie(B,t);return e=e.replace(/\n?$/,"\n"),e=`\`\`\`\n${e}\`\`\``,e}if(t.filter.br(e))return"\n";if(t.filter.space(e))return" ";if(t.filter.meta(e),t.filter.block(e)){let e=await rie(B,t);return e=e.replace(/\n?$/,"\n\n"),e}if(t.filter.inline(e)){let e=await rie(B,t);const n=null==L?void 0:L.fontWeight;return("bold"===n||"bolder"===n||!isNaN(Number(n))&&Number(n)>=700)&&(e=`**${e}**`),"italic"===(null==L?void 0:L.fontStyle)&&(e=`*${e}*`),"line-through"===(null==L?void 0:L.textDecoration)&&(e=`~~${e}~~`),e}return""}async function sie(e,t){var n,o,i;let r="",l=null,s=0;for(;s<e.length;){const c=e[s];if("string"!=typeof c)if(t.filter.numbered(c)){null===l&&(l=[]);let e=null===(o=null===(n=c.props)||void 0===n?void 0:n.level)||void 0===o?void 0:o.length;e||(e=0),void 0===l[e]&&(l[e]=-1),l[e]=l[e]+1,r+=await cie(c,t,l[e])}else{if(t.filter.toggle(c)){const t=[...c.children];et(null===(i=c.props)||void 0===i?void 0:i.list)&&t.push(...c.props.list),e.splice(s,1,...t);continue}r+=await cie(c,t,s)}else r+=Soe(c);r=r.replace(/(\n\x20*){2,}$/,"\n\n"),s++}return r}async function cie(e,t,n){var o,i,r,l;const{props:s,children:c}=e;if(t.filter.emoji(e)){const t=e.children[0];if(eie(t)){const e=null===(o=t.props)||void 0===o?void 0:o.value;if(null==e?void 0:e.emoji)return e.emoji}return""}if(t.filter.bulleted(e)||t.filter.numbered(e)||t.filter.checked(e)){const o=(null!==(r=null===(i=null==s?void 0:s.level)||void 0===i?void 0:i.length)&&void 0!==r?r:1)-1,l=`${Aoe.repeat(o)}${n+1}.`;let c="";for(let n=0;n<e.children.length;n++){const o=e.children[n];c+="string"==typeof o?Soe(o):await cie(o,t,n),c=c.replace(/^\x20*/,"").replace(/\n*$/,"\n").replace(/(\n\x20*)/g,"\n    ")}return c=`${l} ${c.replace(/\x20*$/g,"")}`,c=c.replace(/\n?$/,"\n"),c}if(t.filter.sheet(e)){const n=null===(l=e.children[0].props)||void 0===l?void 0:l.value;if(!n)return"";return await Xoe(n,t)}if(t.filter.br(e))return"\n";if(t.filter.space(e))return" ";if(t.filter.block(e)){let e=await sie(c,t);return e=e.replace(/\n?$/,"\n"),e}if(t.filter.inline(e)){return await sie(c,t)}return""}async function aie(e,t,n){let o="";for(let n=0;n<e.children.length;n++){const i=e.children[n];o+="string"==typeof i?Soe(i):await lie(i,t,n),o=o.replace(/^\x20*/,"").replace(/\n*$/,"\n").replace(/(\n\x20*)/g,"\n    ")}return o=`${n} ${o.replace(/\x20*$/g,"")}`,o}const{isInlineNode:uie,isMetaNode:die}=hk;function fie(e,t){return function(e,t){var n,o;const i=[];i.links=e.links;for(const t of e)if("list"===t.type){const e=[];for(const r of t.items)"heading"===(null===(o=null===(n=r.tokens)||void 0===n?void 0:n[0])||void 0===o?void 0:o.type)?(e.length&&i.push({...t,items:e}),i.push(r.tokens[0]),e.length=0):e.push(r);e.length&&i.push({...t,items:e})}else i.push(t);return r(i);function r(e,n){if(n&&function(e){for(let t=0,n=e.length;t<n;t++)if("html"===e[t].type)return!0;return!1}(e)){let o="";return"block"===n?o=doe.parse(e):"inline"===n&&(o=doe.parseInline(e)),yie(o,t)}const o=[];let i=!1;const a=[],u=e=>{if("string"!=typeof e){if(uie(e)||die(e))return a.push(e),void(o.length&&(i=!0));a.length>0&&(o.push(t.block([...a])),i=!0,a.length=0),e&&o.push(e)}else a.push(...c(e))};for(const n of e){const e=n.type;let i=null;if("blockquote"===e){const e=r(n.tokens,"block");i=t.quote(e)}else if("br"===e)i=t.br([]);else if("code"===e)i=t.code([Soe(n.text)]);else if("codespan"===e)i=t.code([Soe(n.text)],void 0,{inline:!0});else if("def"===e)i=t.block([t.link([n.title],void 0,{src:n.href})]);else if("del"===e){const o=r(n.tokens,"inline");i=t.inline(o,Eoe[e])}else if("em"===e){const o=r(n.tokens,"inline");i=t.inline(o,Eoe[e])}else if("escape"===e)i=t.inline(c(n.text));else{if("heading"===e){u();const e=n.tokens;i=t.outline(r(e,"inline"),void 0,{depth:n.depth}),o.push(i);const l=n.raw.match(/\n+$/);if(null==l?void 0:l.length){const e=l[0];if(e.length>2){const n=Math.ceil((e.length-1)/2);for(let e=0;e<n;e++)o.push(t.block([]))}}continue}if("hr"===e)i=t.separate([n.raw]);else{if("html"===e){for(const e of yie(n.text,t))u(e);continue}if("image"===e)i=t.image([],void 0,{src:n.href,alt:n.text});else if("link"===e){const e=r(n.tokens,"inline");i=t.link(e,void 0,{src:n.href})}else{if("list"===e){u();const{ordered:e,items:t,start:i=1}=n,r=l(t,[i],e);for(let e=0;e<r.length;e++)o.push(r[e]);continue}if("paragraph"===e){const e=n.tokens;i=t.block(r(e,"inline"))}else if("space"===e){const e=Math.floor((n.raw.length-1)/2);if(!(e<=0&&a.length)){u();for(let n=0;n<e;n++)o.push(t.block([t.inline([""])]));continue}i=t.br([])}else if("strong"===e){const o=r(n.tokens,"inline");i=t.inline(o,Eoe[e])}else if("table"===e){const e={sheet:s(n)};i=t.block([t.sheet([],void 0,e)])}else if("text"===e){const e=n.tokens;i=et(e)?t.inline(r(e,"inline")):t.inline(c(n.text))}}}}null!==i&&u(i)}return i&&a.length>0?o.push(t.block(a)):o.push(...a),o}function l(e,n,o){var i;const s=[];for(const c of e){if("list_item"!==c.type){s.push(...r([c]));continue}let a=null;const u=[];function d(){if(!a)return;if(!u.length)return;const e=a(r(u,"block"));e&&s.push(e),u.length=0,a=null}a=c.task?e=>t.checked(e,void 0,{checked:c.checked,numerator:c.checked?1:0,denominator:1,level:n}):o?e=>t.numbered(e,void 0,{level:n}):e=>t.bulleted(e,void 0,{level:n});for(const h of c.tokens)if("list"!==h.type)u.push(h);else{const{items:p,ordered:v}=h;d(),s.push(...l(p,[...n,1],v))}d();const f=null!==(i=dc(n))&&void 0!==i?i:0;(n=hc(n)).push(f+1)}return s}function s(e){const n=[e.header,...e.rows],o={};for(let t=0;t<e.align.length;t++){const n=e.align[t];null!==n&&(o[t]={style:{textAlign:n}})}const i={};for(let e=0;e<n.length;e++)for(let o=0;o<n[e].length;o++){const l=n[e][o].tokens;i[`${e}.${o}`]=t.block(r(l))}return{columns:o,rows:{0:{style:{fontWeight:"bolder"}}},cells:i,rowTotalNumber:n.length,columnTotalNumber:e.header.length}}function c(e){const n=[],o=e.split("\n");for(const e of o)n.push(t.br([])),i(e);function i(e){const o=e.match(koe);if(null===o){if(""===e.trim()&&e.length>0)for(let o=0;o<e.length;o++)n.push(t.space([]));else n.push(Soe(e));return n}let i=0;for(const r of o){const o=e.indexOf(r,i);o>i&&n.push(Soe(e.substring(i,o))),n.push(t.emoji([r])),i=o+r.length}i<e.length&&n.push(Soe(e.substring(i)))}return n.shift(),n}}(coe.lex(e),{...Boe,...t})}async function hie(e,t){return await lie(e,t,0)}const{isInlineNode:pie,isBlockNode:vie,removeBoxSizeStyle:gie}=hk;function mie(e,t){const n=e.children.map((e=>{if(e instanceof Jte&&1===e.children.length){const n=e.children[0];if(ene(n))return t.block(fie(n.data,t))}const n=o(e);return Cc(n)&&""===n.trim()?null:n})).filter((e=>null!==e));return i(n),n;function o(e,n,c){var a,u,d,f;if(ene(e))return e.data;if(tne(e)){const n=e.children.map((e=>{const t=o(e,Hoe(e.type));return Cc(t)&&""===t.trim()?null:t})).filter((e=>null!==e));return t.block(n)}if(!Qte(e))return null;if("meta"===e.name||"svg"===e.name)return null;if(function(e){const t=e.attribs.style;if(!t)return;if(!t.includes("display: flex;"))return;t.includes("flex-direction: column;")&&t.includes("flex-direction: column-reverse;")||e.children.forEach((e=>{Qte(e)&&!Hoe(e.name)&&(e.name="span",e.attribs.style+="display: inline-block;")}))}(e),"table"===e.name){const n={sheet:l(e)};return t.sheet([],void 0,n)}const h=function(e){return"img"===e||"input"===e||"br"===e||"a"===e||joe(e)||_oe(e)?e:Poe.includes(e)?"div":(Foe.includes(e),"span")}(e.name),p=[];let v=!1;const g=[],m=e=>{if("string"!=typeof e){if(pie(e))return g.push(e),void(p.length&&(v=!0));g.length>0&&(p.push(t.block([...g])),v=!0,g.length=0),e&&p.push(e)}else g.push(...function(e){const n=[],o=e.split("\n");for(const e of o)n.push(t.br([])),i(e);function i(e){const o=e.match(koe);if(null===o){if(""===e.trim()&&e.length>0)for(let o=0;o<e.length;o++)n.push(t.space([]));else n.push(Soe(e));return n}let i=0;for(const r of o){const o=e.indexOf(r,i);o>i&&n.push(Soe(e.substring(i,o))),n.push(t.emoji([r])),i=o+r.length}i<e.length&&n.push(Soe(e.substring(i)))}return n.shift(),n}(e))},y=t=>{var n;if(Eoe[e.name]){const n=t.style;t.style={...Eoe[e.name],...n}}const o=e.attribs.style;if(o){const e=s(o);t.style={...t.style,...e}}if(!t.style)return;(function(e){const{overflow:t,float:n,position:o,display:i}=e;return!((!t||["visible","clip"].includes(t))&&(!n||["none"].includes(n))&&(!o||!["absolute","fixed"].includes(o))&&(!i||!["inlnie-block","table","table-cell","table-caption","table-row","table-row-group","table-header-group","table-footer-group","inline-table","flow-root","flex","inline-flex","grid","inline-grid"].includes(i)))})(t.style)||i(t.children);const r=t.style.display;if(void 0!==r){if("none"===r)return null;"inline-block"!==r&&delete t.style.display}if(null===(n=t.props)||void 0===n?void 0:n.empty){const{paddingTop:e,paddingBottom:n}=t.style;(e||n)&&delete t.style.boxSizing}else delete t.style.boxSizing;"start"===t.style.textAlign?t.style.textAlign="left":"end"===t.style.textAlign&&(t.style.textAlign="right"),delete t.style.float,delete t.style.position};if(_oe(h)){const t=r(e,[...null!=c?c:[],1],"ol"===h);return y(t),t}for(const t of e.children){const e=o(t,null!=n?n:Hoe(h),c);null!==e&&m(e)}if(v&&g.length>0?p.push(t.block(g)):p.push(...g),"span"===h){const e=t.inline(p);return y(e),e}if("br"===h){const e=t.br([]);return y(e),e}if("a"===h){const n=t.link(p,void 0,{src:e.attribs.href});return y(n),n}if("img"===h){const{src:n,alt:o,width:i,height:r,style:l}=e.attribs,c=s(l);if(void 0!==i){const e=parseInt(String(i));jc(e)?c.width=i:c.width=e}if(void 0!==r){const e=parseInt(String(r));jc(e)?c.height=r:c.height=e}const h={src:n,alt:o};_c(c.width)&&(h.value=null!==(a=h.value)&&void 0!==a?a:{},h.value.width=c.width),_c(c.height)&&(h.value=null!==(u=h.value)&&void 0!==u?u:{},h.value.height=c.height);const v=t.image(p,void 0,h),g=v.children[0];return y(g),null===(d=g.style)||void 0===d||delete d.width,null===(f=g.style)||void 0===f||delete f.height,v}if(n){const e=t.inline(p);return y(e),e}if("div"===h){const e=t.block(p);return p.length||(e.props={empty:!0}),y(e),e}if(joe(h)){const e=function(e){return"h1"===e?1:"h2"===e?2:"h3"===e?3:"h4"===e?4:"h5"===e?5:6}(h),n=t.outline(p,void 0,{depth:e});return y(n),n}if("li"===h){const e=t.block(p);return y(e),e}return null}function i(e){for(let t=1;t<e.length;t++){const n=e[t-1],o=e[t];if(Cc(n)||Cc(o))continue;if(!n.style||!o.style)continue;const i=n.style.marginBottom,r=o.style.marginTop;if(!i||!r)continue;const l=Math.max(i,r)/2;n.style.marginBottom=l,o.style.marginTop=l}}function r(e,n,i){var l;const s=[];for(const c of e.children){const e=c.name;if("ul"===e){const e=r(c,[...n,1],!1);s.push(e)}else if("ol"===e){const e=r(c,[...n,1],!0);s.push(e)}else{if("li"!==e){const e=o(c);null!==e&&s.push(e);continue}if(i){const e=o(c,!1,n);if(null===e)continue;for(let o of e.children){if("string"==typeof o){s.push(t.numbered([o],e.style,{level:n}));continue}let i=o.children[0];for(;i&&"string"!=typeof i&&vie(i);)o=i,i=o.children[0];"div"!==o.type?s.push(o):s.push(t.numbered(o.children,e.style,{level:n}))}}else{const e=o(c,!1,n);if(null===e)continue;for(let o of e.children){if("string"==typeof o){s.push(t.bulleted([o],e.style,{level:n}));continue}let i=o.children[0];for(;i&&"string"!=typeof i&&vie(i);)o=i,i=o.children[0];"div"!==o.type?s.push(o):s.push(t.bulleted(o.children,e.style,{level:n}))}}}const a=null!==(l=dc(n))&&void 0!==l?l:0;(n=hc(n)).push(a+1)}return t.block(s)}function l(e){if(Qte(e)){const t=e.children.reduce(((e,t)=>{if(Qte(t))if("colgroup"===t.name)for(let n=0;n<t.children.length;n++){const o=t.children[n];Qte(o)&&e.push(o)}else if("col"===t.name)e.push(t);else if("tbody"===t.name){const n=t.children[0];if(n)for(let t=0;t<n.children.length;t++){const o=n.children[t];Qte(o)&&e.push(o)}}return e}),[]),n=e.children.reduce(((e,t)=>{if(Qte(t))if("tbody"===t.name)for(let n=0;n<t.children.length;n++){const o=t.children[n];Qte(o)&&e.push(o)}else"tr"===t.name&&e.push(t);return e}),[]),i={};for(let e=0;e<t.length;e++){const n=t[e].attribs,o={};if(n.style&&(Object.assign(o,s(n.style)),o.borderWidth=0,o.width)){const e=parseInt(String(o.width));jc(e)||(o.width=e)}const r=parseInt(n.width);jc(r)||(o.width=r),i[e]={style:gie(o)}}const r={};for(let e=0;e<n.length;e++){const t=n[e].attribs,o={};if(t.style&&(Object.assign(o,s(t.style)),o.borderWidth=0,o.height)){const e=parseInt(String(o.height));jc(e)||(o.height=e)}const i=parseInt(t.height);jc(i)||(o.height=i),r[e]={style:gie(o)}}const l={};for(let e=0;e<n.length;e++)for(let t=0;t<n[e].children.length;t++){const i=o(n[e].children[t]);i.style&&(i.style.borderWidth=0,delete i.style.width,i.style=gie(i.style)),l[`${e}.${t}`]=i}return{columns:i,rows:r,cells:l,rowTotalNumber:n.length,columnTotalNumber:t.length}}return null}function s(e){const t={};return null==e||e.split(";").forEach((e=>{const n=e.split(":");if(2!==n.length)return;const o=n[0].trim().replace(/-\D/g,(e=>e.charAt(1).toUpperCase())),i=n[1].trim();if(!i.startsWith("var("))if("margin"===o){const e=function(e){var t,n,o,i;const r=e.split(" ").map(c),l={marginTop:r[0],marginRight:null!==(t=r[1])&&void 0!==t?t:r[0],marginBottom:null!==(n=r[2])&&void 0!==n?n:r[0],marginLeft:null!==(i=null!==(o=r[3])&&void 0!==o?o:r[1])&&void 0!==i?i:r[0]};for(const e in l){void 0===l[e]&&delete l[e]}return l}(i);Object.assign(t,e)}else if("padding"===o){const e=function(e){var t,n,o,i;const r=e.split(" ").map(c),l={paddingTop:r[0],paddingRight:null!==(t=r[1])&&void 0!==t?t:r[0],paddingBottom:null!==(n=r[2])&&void 0!==n?n:r[0],paddingLeft:null!==(i=null!==(o=r[3])&&void 0!==o?o:r[1])&&void 0!==i?i:r[0]};for(const e in l){void 0===l[e]&&delete l[e]}return l}(i);Object.assign(t,e)}else t[o]=c(i)})),t}function c(e){return e.endsWith(" !important")&&(e=e.replace(" !important","")),e.endsWith("em")||e.endsWith("rem")?16*parseFloat(e):e.endsWith("px")?parseFloat(e):e}}function yie(e,t){const n=function(e,t){const n=new rne(void 0,t);return new zte(n,t).end(e),n.root}(e);return mie(n,{...Boe,...t})}function bie(e){return Coe(e)}const{DIV_NODE:Cie,createMetaNode:wie,createBlockNode:xie,isNode:Sie,isBlockNode:Eie,insertNode:kie,isNodeEqual:Die,isEditNode:Iie,isBlockNodeX:Nie,isReferenceNode:Lie,isDecorateNode:Tie,traverseNode:Bie,sliceBlockPath:Aie,getNodeLength:Mie,removeBoxSizeStyle:Oie,createInlineNode:Rie,transformEditNodeToNode:Pie}=hk;async function Fie(e,t,n){var o;if(void 0===(null===(o=e.stater.get().file)||void 0===o?void 0:o.currentPageId))return;const{imperator:i,context:r}=e.provider();async function l(o){const i=Fze(o,{image:[]});if(null===i)return void s(o);const{node:r,sheet:l}=i.data;i.command===T$.PASTE_LINK?await Hie(e,r,t,n):i.command===T$.PASTE_BACK?await _ie(e,r,t,n):i.command===T$.PASTE_SHEET?await async function(e,t,n,o){var i;const r=e.stater.get(),{file:l}=r,s=null==l?void 0:l.currentPageId;if(void 0===s)return;const{imperator:c,dispatch:a,context:{editor:u}}=e.provider();void 0===o&&(o=c);const d=[],f=e=>{},h=e=>{d.push(e)},p=XEe(t,u,(e=>{const{file:t}=r,n=null==t?void 0:t.currentPageId;void 0!==n&&X6(e.node,[],n,f,h,!0,!1)})),v={display:"inline-block",lineHeight:1.2},g=wie([uce({value:p,row:p.rowEndIndex,col:p.columnEndIndex})],v);null===(i=null==o?void 0:o.current)||void 0===i||i.commit(kie(g)),d.length&&n(...d)}(e,l,t,n):i.command===T$.PASTE_NODE&&await Hie(e,r,t,n)}async function s(e){var o;const i=fie(e,wze({image:[]},r.editor.style));if(1!==i.length||Nie(i[0]))t(V9(i),r9(),v4());else{const e=Rie(i[0].children);null===(o=null==n?void 0:n.current)||void 0===o||o.commit(kie(e))}}if(void 0===n&&(n=i),rh)return t(t9(!0)),void v_(((e,n)=>{t(t9(!1)),n["text/html"]?l(n["text/html"]):n["text/plain"]&&s(n["text/plain"])}));try{const e=await navigator.clipboard.read(),t="text/html",n="text/plain";for(const o of e)if(o.types.includes(t)){const e=await o.getType(t);l(await e.text())}else if(o.types.includes(n)){const e=await o.getType(n);s(await e.text())}}catch(e){console.error(e)}}async function Hie(e,t,n,o){var i,r,l,s,c,a;const u=e.stater.get(),{file:d}=u,f=null==d?void 0:d.currentPageId;if(void 0===f)return;const{imperator:h}=e.provider();void 0===o&&(o=h);const p=[];let v=t;for(Tie(v)&&(v=xie([v]));Nie(v)&&1===Mie(v);){const e=v.children[0];if(Tie(e))break;if(!Sie(e))break;v={...e,style:{...v.style,...e.style}}}if(Iie(v)&&(v=Pie(v)),!Pc(v.style)){v={...v,style:Oie(v.style)};for(const e of v.children)Sie(e)&&(e.style={...v.style,...e.style})}const g={};let m=!1;xPe(v,(e=>{var t,n,o,i;Zde(e)&&(m=!0),(null===(t=e.style)||void 0===t?void 0:t.lineHeight)&&delete e.style.lineHeight,Eie(e)&&(null===(n=e.style)||void 0===n?void 0:n.overflow)&&delete e.style.overflow;const r=null===(o=e.props)||void 0===o?void 0:o.id,l=null===(i=e.props)||void 0===i?void 0:i.uid;(r||l)&&(Ohe(e)||Eae(e)||Sae(e)?g[l]=e:(Fve(e)||Hve(e))&&(g[r]=e))}),!0);for(const t in g){const a=g[t];if(!a.props)continue;if(Eae(a)){const t=null===(r=null===(i=a.props)||void 0===i?void 0:i.value)||void 0===r?void 0:r.pageId;t&&await e.safty(t)}else Sae(a)&&await _ie(e,a,n,o,!1);a.props.uid&&(a.props.uid=aRe());const d=Fve(a)||Hve(a),f=a.children[0];if(Lie(f)){if(!f.props)continue;const e=f.props.id;if(!e)continue;let t=null===(s=null===(l=u.store)||void 0===l?void 0:l.reference)||void 0===s?void 0:s[e];if(void 0===t&&(t=await GY(e),t&&p.push(yq({[e]:t}))),void 0===t)continue;if(d){let e=!1;if(Bie(f,(t=>{var n,o;if(Lie(t)){if((null===(n=t.props)||void 0===n?void 0:n.uid)===(null===(o=f.props)||void 0===o?void 0:o.uid))return;e=!0}})),e){const e=aRe();f.props.id=e}}null===(c=f.props)||void 0===c||delete c.uid;const n={...t.data};if(!Die(f,n)){const e=aRe();d||(a.props.id=e),f.props.id=e}f.props.uid=aRe()}}if(X6(v,[],f,(e=>{}),(e=>{p.push(e)}),!0,!1),Nie(v))p.push(V9(v.children),r9(),v4()),m&&p.push(I9()),p.length&&n(...p);else{const e=v.children.length;if(!e)return;let t;if(1===e){const e=v.children[0];t=Cc(e)?Rie([e]):e}else t=Rie(v.children);null===(a=o.current)||void 0===a||a.commit(kie(t))}}async function _ie(e,t,n,o,i){var r,l,s,c,a,u,d;const f=e.stater.get(),{file:h}=f,p=null==h?void 0:h.currentPageId;if(void 0===p)return;const{imperator:v}=e.provider();void 0===o&&(o=v);const g=[];let m=Pie(t);if(!Sae(m))return;const y=m.children[0];if(!Lie(y))return;const b=null===(r=y.props)||void 0===r?void 0:r.back;if(!b)return;const C=null===(l=y.props)||void 0===l?void 0:l.id;if(!C)return;let w=null===(c=null===(s=f.store)||void 0===s?void 0:s.reference)||void 0===c?void 0:c[C];if(void 0===w&&(w=await GY(C),w&&g.push(yq({[C]:w}))),w){const e={...w.data},t=null===(a=y.props)||void 0===a?void 0:a.uid;if(e.props={...e.props,uid:t},!Die(y,e))return m.type=Cie,delete m.props,m.children=y.children,void(!1!==i&&(null===(u=null==o?void 0:o.current)||void 0===u||u.commit(kie(m))))}const x={text:LWe(y),pageId:p,id:C};for(const t in b){const n=b[t];await e.safty(n),g.push(uue(n,t,x))}!1!==i&&(null===(d=null==o?void 0:o.current)||void 0===d||d.commit(kie(m))),g.length&&n(...g)}const{isEmptyNode:jie,isNode:Wie}=hk,{getBranchByPath:zie}=OB,Vie=(e,t,n)=>n=>{var o,i;const r=null===(o=e.bootstrap)||void 0===o?void 0:o.type;if(!r)return n;const l=null===(i=n.file)||void 0===i?void 0:i.tree;if(void 0===l)return n;const s="page"===t.type||"root"===t.type;if("page"===r)if(s)n=$ie(e,t)(n);else{const o=q_e(l,t),i=eje(l,t);i&&(n=$ie(e,i,null==o?void 0:o.id)(n))}else if("outline"===r)if(s)n=Zie(e,t)(n);else{const o=q_e(l,t),i=eje(l,t);i&&(n=Zie(e,i,null==o?void 0:o.id)(n))}return n},$ie=(e,t,n)=>o=>{var i,r,l,s,c,a,u,d;if("outline"===t.type)return o;const{id:f}=t,h=null===(r=null===(i=o.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[f];if(void 0===h)return o;const p=null===(s=null===(l=e.bootstrap)||void 0===l?void 0:l.file)||void 0===s?void 0:s.currentPageId;if(!p)return o;const v=null===(a=null===(c=e.editor)||void 0===c?void 0:c[p])||void 0===a?void 0:a.data.children[0];if(!Wie(v))return o;const g=[],m=[],y=[],{path:b,children:C}=t,w=[...null!=b?b:[]];if((null==C?void 0:C.length)&&w.push(C.length),Q6(v,w,f,e,(e=>{g.push(e)}),(e=>{m.push(e)}),(e=>{y.push(e)})),n){const e=Ove(h.data,n);if(Wie(e)){const t=h.data.children.indexOf(e);h.data.children.splice(t,0,v)}}else{const e=dc(h.data.children),t=h.data.children.length;jie(e,!0)&&t>1&&h.data.children.pop(),h.data.children.push(v)}g.forEach((e=>{e({editor:h})})),o=kq(f,h)(o),o=Y3(t)(o),m.forEach((e=>{o=e(o)})),y.forEach((e=>{o=e(o)})),(null===(u=o.file)||void 0===u?void 0:u.currentPageId)===f&&(o=I9()(o),delete(o=k7(f)(o)).editor.ureference),o=y6()(o);const x=null===(d=v.props)||void 0===d?void 0:d.id;return x&&(o=S6(x)(o)),o},Zie=(e,t,n)=>o=>{var i,r,l,s;if("outline"===t.type)return o;const{id:c}=t,a=null===(r=null===(i=o.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[c];if(void 0===a)return o;const u=null===(l=e.bootstrap)||void 0===l?void 0:l.nodes;if(!(null==u?void 0:u.length))return o;const d=[],f=[],h=[],p=e=>{d.push(e)},v=e=>{f.push(e)},g=e=>{h.push(e)},{path:m,children:y}=t,b=[...null!=m?m:[]];if((null==y?void 0:y.length)&&b.push(y.length),u.forEach((t=>{Q6(t,b,c,e,p,v,g)})),n){const e=Ove(a.data,n);if(Wie(e)){const t=a.data.children.indexOf(e);a.data.children.splice(t,0,...u)}}else{const e=dc(a.data.children),t=a.data.children.length;jie(e,!0)&&t>1&&a.data.children.pop(),a.data.children.push(...u)}return d.forEach((e=>{e({editor:a})})),o=kq(c,a)(o),o=Y3(t)(o),f.forEach((e=>{o=e(o)})),h.forEach((e=>{o=e(o)})),(null===(s=o.file)||void 0===s?void 0:s.currentPageId)===c&&(o=I9()(o),o=k7(c)(o)),o=y6()(o)},Uie=(e,t,n,o)=>i=>{var r,l,s,c,a,u,d,f,h,p,v,g;const m="page"===t.type||"root"===t.type;m&&(n=t.id);const y=null===(l=null===(r=i.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[n];if(void 0===y)return i;const b=null===(s=i.file)||void 0===s?void 0:s.tree;if(void 0===b)return i;const C=e.children[0];if(!Wie(C))return i;const w=null===(c=C.props)||void 0===c?void 0:c.id;if(!w)return i;const{clientWidth:x,clientHeight:S}=i.editor,E=uFe({data:{...e,children:[C]},clientWidth:x,clientHeight:S});i=Cq(w,E)(i);const{path:k}=t;let D=null;if(!m&&(D=q_e(b,t),D)){const e=Ove(y.data,D.id);if(Wie(e)){const t=y.data.children.indexOf(e);y.data.children.splice(t,0,C)}}if(m||!D){const e=y.data.children.length;let t=!1;try{for(let n=0;n<e;n++){if(xPe(y.data.children[n],(e=>{var n,o,i,r;if(Eae(e)){const l=null===(o=null===(n=e.props)||void 0===n?void 0:n.value)||void 0===o?void 0:o.text;if(!l)return;const s=decodeURIComponent(l).split(/\+|\s+/);let c=s.length-1,a="";for(;c>0&&(a=null===(i=s[c])||void 0===i?void 0:i.split(".")[0],!a||!VB(a));)c--;const u=LWe(C),d=u.split(/\+|\s+/);let f=d.length-1,h="";for(;f>0&&(h=null===(r=d[f])||void 0===r?void 0:r.split(".")[0],!h||!VB(h));)f--;if(a&&h&&VB(a)&&a===h)return t=!0,xPe(C,(e=>{Wie(e)&&e.children[0]===u&&(e.children[0]=d.slice(0,f).join(""))})),!0}})),t){y.data.children[n]=C;break}}}catch(e){}if(!t){const t=dc(y.data.children);jie(t,!0)&&e>1&&y.data.children.pop(),y.data.children.push(C)}}const I=[],N=[];X6(C,null!=k?k:[],n,(e=>{I.push(e)}),(e=>{N.push(e)}),!1,!1),I.forEach((e=>{e({editor:y})})),i=kq(n,y)(i),i=Y3(t)(i),N.forEach((e=>{i=e(i)}));const L=null===(a=C.props)||void 0===a?void 0:a.id;if(L){w!==L&&(null===(d=null===(u=i.store)||void 0===u?void 0:u.editor)||void 0===d||delete d[w]);const t=null===(h=null===(f=i.store)||void 0===f?void 0:f.editor)||void 0===h?void 0:h[L];t&&(t.data=ud(e),i=kq(L,t)(i))}if(k){const e=zie(b,k),t=null===(p=null==e?void 0:e.children)||void 0===p?void 0:p.findIndex((e=>e.id===L));if(void 0!==t&&-1!==t){const n=null===(v=null==e?void 0:e.children)||void 0===v?void 0:v[t];n&&(i=Y3(n)(i),n.expand!==o&&(i=a6(n)(i)))}}return(null===(g=i.file)||void 0===g?void 0:g.currentPageId)===n&&(i=I9()(i),i=k7(n)(i)),i=y6()(i),i=S6(L)(i)},{isEmptyNode:qie}=hk,Yie=(e,t,n)=>o=>{var i,r,l,s,c,a;const u=null===(i=o.file)||void 0===i?void 0:i.tree;if(!u)return o;if(1===(null===(r=u[0].children)||void 0===r?void 0:r.length)){const t=u[0].children[0],n=t.id,i=null===(s=null===(l=o.store)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[n];i&&qie(i.data,!0)&&(o=eY(n)(o),o=O4(e,t)(o))}if(null===(c=u[0].children)||void 0===c?void 0:c.length){const e=u[0].children[0].id;o=$ie(t,u[0],e)(o)}else o=$ie(t,u[0])(o);const d=null===(a=u[0].children)||void 0===a?void 0:a[0];return(null==d?void 0:d.id)&&(o=A6()(o),o=e6(e,d.id)(o),o=z3(d)(o),o=S6(d.id)(o),!1===n&&d&&(o=a6(d)(o),o=jq(d)(o))),o},Kie=(e,t,n)=>n=>{var o,i;const r=null===(i=null===(o=t.bootstrap)||void 0===o?void 0:o.file)||void 0===i?void 0:i.currentPageId;return r?(n=gq(t)(n),n=e6(e,r)(n)):n},Gie=(e,t,n)=>n=>{var o,i;const r=null===(i=null===(o=t.bootstrap)||void 0===o?void 0:o.file)||void 0===i?void 0:i.currentPageId;if(!r||!n.file)return n;return n.file.tree=[{id:r,path:[0],type:"root"}],n=gq(t)(n),function e(t){var o,i;const r=null===(i=null===(o=n.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[t];if(r){n=Y3(t)(n);for(const n in r.uids)n===r.uids[n]&&n!==t&&e(n)}}(r),n=y6()(n),n=e6(e,r)(n)},Xie=(e,t)=>n=>{var o;if(!n.file)return n;const i=null!==(o=n.file.tree)&&void 0!==o?o:[],r=zZe(),l=WZe(e,WK.note,[r]);let s=0;if(t)for(;s<i.length&&i[s].id!==t.id;)s++;else s=i.length-1;return i.splice(s+1,0,l),n.file.tree=i,n.file.currentPageId=r.id,n=m6([],s+1)(n),n=y6()(n),n=T4(l)(n),t&&(n=z3(r)(n),n=N4()(n),n=$9()(n)),n=jq(l,void 0,!0)(n)};async function Jie(e,t,n,o){var i,r;const{dispatch:l}=e;for(const e in t.assets){if(await GY(e))continue;const n=t.assets[e].replace(/^data:([^,]+),/,"");let o=n;"undefined"==typeof WebPro&&(o=sA(n)),await TF(e,o)}if(t.reference){const n=e.stater.get(),o=uc(Object.keys(t.reference),Object.keys(null!==(r=null===(i=n.store)||void 0===i?void 0:i.reference)&&void 0!==r?r:{})),s=await KY(o);Pc(s)||l(yq(s))}o&&await e.safty(o),"outline"!==n.type&&await e.safty(n.id),l(Vie(t,n))}async function Qie(e,t,n,o){var i,r,l,s;const c=await o5();if(c){for(const e in c.assets){if(await GY(e))continue;const t=c.assets[e].replace(/^data:([^,]+),/,"");let n=t;"undefined"==typeof WebPro&&(n=sA(t)),await TF(e,n)}const a=n.stater.get(),u=null===(r=null===(i=a.file)||void 0===i?void 0:i.tree[0])||void 0===r?void 0:r.id;if(!u)return;if(await n.safty(u),c.reference){const e=uc(Object.keys(c.reference),Object.keys(null!==(s=null===(l=a.store)||void 0===l?void 0:l.reference)&&void 0!==s?s:{})),n=await KY(e);Pc(n)||t(yq(n))}const d=[Yie(e,c,o)];!1!==o&&d.push(ere(e)),t(...d)}}const ere=e=>t=>{var n,o,i,r;const l=null===(n=t.file)||void 0===n?void 0:n.tree;if(!l)return t;const s=null===(r=null===(i=null===(o=l[0].children)||void 0===o?void 0:o[0])||void 0===i?void 0:i.children)||void 0===r?void 0:r[0];return(null==s?void 0:s.id)&&(t=A6()(t),t=e6(e,s.id)(t),t=z3(s)(t)),t},tre=e=>t=>(t.modal=e,t),nre=()=>e=>(delete e.modal,e);async function ore(e,t,n,o,i){var r,l,s,c;if(!e)return;for(const t in e.assets){if(await GY(t))continue;const n=e.assets[t].replace(/^data:([^,]+),/,"");let o=n;"undefined"==typeof WebPro&&(o=sA(n)),await TF(t,o)}const a=o.stater.get(),u=null===(l=null===(r=a.file)||void 0===r?void 0:r.tree[0])||void 0===l?void 0:l.id;if(u){if(await o.safty(u),e.reference){const t=uc(Object.keys(e.reference),Object.keys(null!==(c=null===(s=a.store)||void 0===s?void 0:s.reference)&&void 0!==c?c:{})),o=await KY(t);Pc(o)||n(yq(o))}n(Yie(t,e,i))}}async function ire(e,t,n,o){return ore(await r5(),e,t,n,o)}async function rre(e,t,n,o){return ore(await s5(),e,t,n,o)}async function lre(e,t,n,o){return ore(await l5(),e,t,n,o)}const sre=e=>t=>(t.bootstrap=e,t),cre=e=>t=>(t.guide=e,t),are=()=>e=>{var t;return e.guide=null!==(t=n$e())&&void 0!==t?t:0,t$e(e.guide),e},{sortSelection:ure,getEditNodeByPath:dre,isEditNode:fre,isCollapsed:hre,isPathEquals:pre,sliceBlockPath:vre,setSelectionReflow:gre,createDecorateBlockNode:mre,decorateBlockNode:yre,iterateBlockNode:bre,insertNode:Cre,createMetaNode:wre,createInlineNode:xre,moveForward:Sre}=hk,Ere=e=>t=>{var n;const{node:o,selection:i}=t;if(!i)return t;const{before:r,after:l}=ure(i,!1),s=SUe(o,i);if(null===s)return t;const{path:c,offset:a}=s,u=dre(o,c);if(!Cc(u))return t;const d=u.slice(0,a);if(!/^#+$/.test(d))return t;const f=d.length;if(f>6)return t;const h=dre(o,hc(c));if(!fre(h))return t;const p=null!==(n=dc(c))&&void 0!==n?n:0;h.children[p]=u.slice(a),hre(i)?t.selection={anchor:{path:[...c],offset:0},focus:{path:[...c],offset:0}}:(pre(r.path,l.path)&&(l.path=[...c],l.offset-=r.offset),r.path=c,r.offset=0);const v={1:iae.H1,2:iae.H2,3:iae.H3,4:iae.H4,5:iae.H5,6:iae.H6};return t=gme(e,v[f])(t)},kre=e=>e=>{var t;const{node:n,selection:o}=e;if(!o)return e;const{before:i,after:r}=ure(o,!1),l=SUe(n,o);if(null===l)return e;const{path:s,offset:c}=l,a=dre(n,s);if(!Cc(a))return e;const u=a.slice(0,c);if(">"!==u&&""!==u)return e;const d=dre(n,hc(s));if(!fre(d))return e;const f=null!==(t=dc(s))&&void 0!==t?t:0;d.children[f]=a.slice(c),hre(o)?e.selection={anchor:{path:[...s],offset:0},focus:{path:[...s],offset:0}}:(pre(i.path,r.path)&&(r.path=[...s],r.offset-=i.offset),i.path=s,i.offset=0);const h=mre({type:ofe,subclass:ofe},[],{paddingTop:nfe,paddingBottom:nfe});return e=yre(h)(e)},Dre=e=>t=>{var n,o,i;const{node:r,selection:l}=t;if(!l)return t;const{before:s,after:c}=ure(l,!1),a=SUe(r,l);if(null===a)return t;const{path:u,offset:d}=a,f=dre(r,u);if(!Cc(f))return t;const h=f.slice(0,d),p=dre(r,hc(u));if(!fre(p))return t;const v=null!==(n=dc(u))&&void 0!==n?n:0;p.children[v]=f.slice(d),hre(l)?t.selection={anchor:{path:[...u],offset:0},focus:{path:[...u],offset:0}}:(pre(s.path,c.path)&&(c.path=[...u],c.offset-=s.offset),s.path=u,s.offset=0);const{calcIterateSelections:g,decorateState:m,isDecorateListNodeSelection:y,isDecorateListNode:b,SubClass:C}=Mye,w=e.editor.style;if(h.match(/^(\d+)\./)){const e=mre({type:VTe,subclass:C.ONE,id:aRe(),offset:Number(null!==(i=null===(o=h.match(/^(\d+)\./))||void 0===o?void 0:o[1])&&void 0!==i?i:1)});t=yre(e,!0)(t)}else if("*"===h||"-"===h){const e=mre({type:uTe,subclass:C.ONE});t=yre(e,!0)(t)}else{if("+"===h)return t=eEe(e,C.ONE,"outer")(t);if("[]"===h||""===h){const e=vre(t.node,u),n=dre(t.node,e);if(!b(n,uTe)&&!b(n,VTe))return t;const o=mre({type:JTe,subclass:C.ONE});t=yre(o,!0)(t)}}return g(t=gre(!0)(t)).forEach((n=>{t=bre((n=>{m(t,n,w),y(e,rae)&&bme(t,t.node,w)}),n)(t)})),"[]"!==h&&""!==h||(t=BBe()(t)),t},Ire=e=>e=>{var t;const{node:n,selection:o}=e;if(!o)return e;const{before:i,after:r}=ure(o,!1),l=SUe(n,o);if(null===l)return e;const{path:s,offset:c}=l,a=dre(n,s);if(!Cc(a))return e;const u=a.slice(0,c);if("---"!==u&&"***"!==u)return e;const d=dre(n,hc(s));if(!fre(d))return e;const f=null!==(t=dc(s))&&void 0!==t?t:0;d.children[f]=a.slice(c),hre(o)?e.selection={anchor:{path:[...s],offset:0},focus:{path:[...s],offset:0}}:(pre(i.path,r.path)&&(r.path=[...s],r.offset-=i.offset),i.path=s,i.offset=0);const h=IFe(e,s),p=wre([Efe({value:{width:h}})],{display:"inline-block",verticalAlign:"bottom"});return e=Cre(p)(e)},Nre=(e,t,n)=>o=>{var i,r,l,s;const{node:c,selection:a}=o;if(!a)return o;const{before:u,after:d}=ure(a,!1),f=SUe(c,a,!0);if(null===f)return o;const{path:h,offset:p}=f,v=dre(c,h);if(!Cc(v))return o;const g=v.slice(0,p).match(e);if(!g)return o;const m=dre(c,hc(h));if(!fre(m))return o;const y=null!==(i=dc(h))&&void 0!==i?i:0,b=`${v.slice(0,g.index)}${v.slice(p)}`;m.children[y]=b,""===b&&m.children.push(""),hre(a)?o.selection={anchor:{path:[...h],offset:null!==(r=g.index)&&void 0!==r?r:0},focus:{path:[...h],offset:null!==(l=g.index)&&void 0!==l?l:0}}:(pre(u.path,d.path)&&(d.path=[...h],d.offset-=u.offset),u.path=h,u.offset=null!==(s=g.index)&&void 0!==s?s:0);const C=xre([g[1]],t,n);o=Cre(C)(o);const w=xre([""]),x=ps((o=Cre(w)(o)).selection);if((o=Sre()(o)).selection&&hre(o.selection)){const{focus:e,anchor:t}=o.selection;e.offset>0&&!Fc(null==x?void 0:x.focus.path,e.path)&&e.offset--,t.offset>0&&!Fc(null==x?void 0:x.anchor.path,t.path)&&t.offset--}return o},Lre=e=>e=>e=Nre(/\*\*(.*?)\*\*$/,{fontWeight:"bold"})(e),Tre=e=>e=>e=Nre(/\*(.*?)\*$/,{fontStyle:"italic"})(e),Bre=e=>e=>e=Nre(/\*\*\*(.*?)\*\*\*$/,{fontStyle:"italic",fontWeight:"bold"})(e),Are=e=>e=>e=Nre(/~~(.*?)~~$/,{textDecorationLine:"line-through"},{underline:null,lineThrough:!0})(e),Mre=e=>e=>e=Nre(/~(.*?)~$/,{textDecorationLine:"underline"},{underline:!0,lineThrough:null})(e),Ore=()=>e=>{const{store:t,undoredo:n,file:o}=e;if(!t||!n||!o)return e;const{editor:i,reference:r,catalog:l}=t;if(!i)return e;const s=Object.keys(i).sort(((e,t)=>{var n,o;const r=null!==(n=i[e].readTime)&&void 0!==n?n:0;return(null!==(o=i[t].readTime)&&void 0!==o?o:0)-r})),c=s.slice(0,10),a=[];for(const e of c){const{uids:t}=i[e];t&&a.push(...ia(Object.values(t)))}const u=s.slice(10),d=[];for(const e of u){const{uids:t}=i[e];t&&d.push(...ia(Object.values(t))),delete i[e],delete n[e],null==l||delete l[e]}const f=Jc(d,a);for(const e of f)null==r||delete r[e];return e},Rre=()=>e=>{if(e.editor.data=ud(e.editor.data),e.editor.node=ud(e.editor.node),e.file){const{tree:t,branch:n}=e.file;t&&(e.file.tree=ud(t)),n&&(e.file.branch=ud(n)),e.file=ud(e.file)}if(e.store){const{reference:t,catalog:n,editor:o}=e.store;if(t&&(e.store.reference=ud(t)),n){for(const t in n)e.store.catalog[t]=ud(n[t]);e.store.catalog=ud(n)}if(o){for(const t in o)e.store.editor[t]=ud(o[t]);e.store.editor=ud(o)}e.store=ud(e.store)}if(e.undoredo){for(const t in e.undoredo){const n=e.undoredo[t];for(let o=0;o<n.stack.length;o++)e.undoredo[t].stack[o]=ud(n.stack[o]);e.undoredo[t].stack=ud(n.stack),e.undoredo[t]=ud(n)}e.undoredo=ud(e.undoredo)}return e},Pre=(...e)=>t=>{var n,o;const i=null===(n=t.file)||void 0===n?void 0:n.tree;if(!(null==i?void 0:i.length)){for(const n of e)t=n(t);return t}t.file.tree=ds(Ku(i)&&null!==(o=ed(i))&&void 0!==o?o:i);for(const n of e)t=n(t);return t.file.tree=ud(t.file.tree),t},{getNavigateUid:Fre}=d2,Hre=e=>t=>(e?(t=jre()(t)).webdav.visible=e:t.webdav&&(t.webdav.visible=!1),t),_re=e=>t=>t.webdav?(e?t.webdav.prevent=!0:delete t.webdav.prevent,t):t,jre=e=>t=>(t.webdav=Eqe(t.file,e),t),Wre=e=>t=>t.webdav?(t.webdav.list.forEach(((n,o)=>{var i;if(n.id===e.id){n.usernameInvisible=!n.usernameInvisible;const o=null===(i=e.selected)||void 0===i?void 0:i.id;o&&(t=e8(o,e.id,{usernameInvisible:n.usernameInvisible})(t))}})),t):t,zre=e=>t=>t.webdav?(t.webdav.list.forEach(((n,o)=>{var i;if(n.id===e.id){n.passwordInvisible=!n.passwordInvisible;const o=null===(i=e.selected)||void 0===i?void 0:i.id;o&&(t=e8(o,e.id,{passwordInvisible:n.passwordInvisible})(t))}})),t):t,Vre=e=>t=>t.webdav?(t.webdav.list.forEach(((t,n)=>{t.id===(null==e?void 0:e.id)?t.selectorVisible=!t.selectorVisible:t.selectorVisible=!1})),t):t,$re=e=>t=>t.webdav?(t.webdav.list.forEach(((t,n)=>{t.id===(null==e?void 0:e.id)?t.modeVisible=!t.modeVisible:t.modeVisible=!1})),t):t,Zre=e=>t=>{if(!t.webdav)return t;e||(e=HUe(t.file));const n=t.webdav.list.findIndex((t=>{var n,o;return(null===(n=t.selected)||void 0===n?void 0:n.id)===(null===(o=null==e?void 0:e.selected)||void 0===o?void 0:o.id)}));return-1===n?t.webdav.list.push(e):t.webdav.list[n]=e,t},Ure=(e,t)=>n=>n.webdav?(n.webdav.list=n.webdav.list.filter(((t,n)=>t.id!==e.id)),0!==n.webdav.list.length||t||(n=Zre()(n)),n):n,qre=e=>t=>{if(!t.webdav)return t;const n=t.webdav.list.findIndex((t=>t.id===e.id)),o=_Ue(e);return t.webdav.list.splice(n+1,0,o),t},Yre=e=>t=>t.webdav?(t.webdav.list=t.webdav.list.filter(((t,n)=>{var o,i;return t.id!==e.id||(null===(o=t.selected)||void 0===o?void 0:o.id)!==(null===(i=e.selected)||void 0===i?void 0:i.id)})),t):t,Kre=(e,t)=>n=>n.webdav?(n.webdav.list.forEach(((n,o)=>{var i,r;(null===(i=n.selected)||void 0===i?void 0:i.id)===(null===(r=e.selected)||void 0===r?void 0:r.id)&&(n.id===e.id?n.bind=t:n.bind=!1)})),n):n,Gre=(e,t)=>n=>n.webdav?(n.webdav.list.forEach(((n,o)=>{n.id===e.id&&Object.assign(n,t)})),n):n,Xre=(e,t)=>n=>{var o,i;const r=null===(i=null===(o=t.file)||void 0===o?void 0:o.tree)||void 0===i?void 0:i.slice();return(null==r?void 0:r.length)&&n.webdav?(n.webdav.list.forEach((t=>{if(t.id===e.id){for(const t of e.roots){const e=r.findIndex((e=>e.id===t.id));-1!==e&&r.splice(e,1)}t.roots.unshift(...r.map((e=>({...e,incloud:!0}))))}})),n):n},Jre=e=>t=>t.webdav?(t.webdav.modal=e,t):t,Qre=(e,t)=>n=>n.webdav?(n.webdav.list.forEach(((n,o)=>{n.id===e.id&&(n.statusMessage=t)})),n):n,ele=e=>t=>t.webdav?(t.webdav.list.forEach(((t,n)=>{var o;t.id===e.id&&(t.syncTransitionCount=(null!==(o=t.syncTransitionCount)&&void 0!==o?o:0)+1)})),t):t,tle=e=>t=>t.webdav?(t.webdav.list.forEach(((t,n)=>{var o,i;t.roots.forEach((t=>{t.id===(null==e?void 0:e.id)&&delete t.incloud})),(null===(o=t.selected)||void 0===o?void 0:o.id)===(null==e?void 0:e.id)&&(null===(i=t.selected)||void 0===i||delete i.incloud)})),t):t;async function nle(e,t,n,o,i){const{file:r}=e;if(!r)return;const l={},s=WUe(r.cloud),c=Object.keys(s);if(await Promise.all(c.map((async n=>{if(s[n].syncing)return;if(s[n].update)return;const o=await _5(s[n],n,e,t);l[n]=o}))),Object.values(l).some((e=>e>0))){const e=Fre(KB.workspace);i_({type:OJ.WEBDAV_UPDATE_CLOUD,payload:l},e)}const a=c.filter((e=>!s[e].syncing&&l[e]));await Promise.all(a.map((async l=>{var c;const a=s[l];if(0===(null===(c=a.mode)||void 0===c?void 0:c.value)&&!a.syncing){let{webdav:s}=e;(null==s?void 0:s.list.length)||(s=Eqe(r));const c=zUe(s.list,l);c&&await i(c,t,n,o)}})))}const ole=e=>t=>(t.cursor=e,t),ile=()=>e=>(delete e.cursor,e),{transformNodeToEditNode:rle}=hk;async function lle(e){const{modal:t,webdav:n,file:o}=e.stater.get();if((null==t?void 0:t.visible)||(null==n?void 0:n.visible))return;if(gje(o))return;const i=e.provider(),{rootdispatch:r}=i,l=e.undoredo.getFileDelete().map((e=>rle(e,""))),s=await e.undoredo.refresh(-1);if(l.length){const t=p$e(l,(async()=>{var n;const o=[];for(const t of l){const i=null===(n=t.props)||void 0===n?void 0:n.id;i&&(o.includes(i)||(await e.safty(i),o.push(i)))}r(tre({...t,visible:!1}),tY(o),m4(s))}));r(tre(t))}else r(m4(s)),e.webdav.detect()}const{useHotkey:sle}=Cj;var cle={...Aj,outer:function(e){var t;const n=R(jU),o=_((async()=>{lle(n)}),[n]);return sle(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),o),G(Tj,{...e,onClick:o})}},ale=Object.freeze({__proto__:null,default:cle,todo:lle});async function ule(e){const{modal:t,webdav:n,file:o}=e.stater.get();if((null==t?void 0:t.visible)||(null==n?void 0:n.visible))return;if(gje(o))return;const i=e.provider(),{rootdispatch:r}=i,l=await e.undoredo.refresh(1);r(y4(l)),e.webdav.detect()}const{useHotkey:dle}=Cj;var fle={...Dj,outer:function(e){var t;const n=R(jU),o=_((async()=>{ule(n)}),[n]);return dle(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),o),dle(Uf?"++Z":"Ctrl+Shift+Z",o),G(Ej,{...e,onClick:o})}},hle=Object.freeze({__proto__:null,default:fle,todo:ule});const ple={padding:10,borderRadius:4,overflow:"hidden",boxShadow:Wf},vle={display:"flex",flexDirection:"column"},gle={display:"flex"},mle={position:"absolute",zIndex:10,display:"flex",justifyContent:"center",cursor:"default",left:"50%",top:-4},yle={...{boxShadow:Wf,borderRadius:4,position:"absolute",transform:"translateY(-100%)",display:"flex",alignItems:"center"},padding:"2px 5px"},ble={width:18,height:18,margin:3,borderRadius:1},Cle={textAlign:"center",fontSize:12,color:Hf,marginTop:7},wle={position:"relative"},xle={position:"absolute",top:0,bottom:0,width:7},Sle={...xle,left:-2,zIndex:10,borderLeft:"2px solid #fff",background:"linear-gradient(to left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1))"},Ele={...xle,right:-2,zIndex:10,borderRight:"2px solid #fff",background:"linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1))"},kle={width:"100%",height:"100%",position:"static",zIndex:1},Dle=(e,t)=>n=>(vc(n.tools).forEach((n=>{n.name===e?n.active=!n.active:t&&(n.active=!1)})),n),Ile=()=>e=>(vc(e.tools).forEach((e=>{e.active=!1})),e),Nle=(e,t)=>n=>(vc(n.tools).forEach((n=>{n.name===e&&(n.active=t)})),n),{clearSelection:Lle,getEditNodeByPath:Tle,getEditNodeEndPath:Ble,getEditNodeStartPath:Ale,getNodeLength:Mle,sliceBlockPath:Ole}=hk,{existCellState:Rle,getKeyByIndex:Ple,getIndexByKey:Fle,existCellStyle:Hle,resetRowSize:_le,calcSelectedCoordinatesWithMerge:jle,calcIndicatorRangeWithMerge:Wle,reflowRow:zle,getRowSize:Vle,existRowStyle:$le,resizeRow:Zle,deleteCellStyle:Ule,interateIndicatorRange:qle,getCellSize:Yle,calcIndicatorRangeByMerge:Kle,interateCellByRowIndex:Gle,interateCellByColumnIndex:Xle,interateCell:Jle,scrollGrid:Qle,reflowColumn:ese}=UL,tse=e=>t=>(t=pse()(t),t=hse()(t),t=zle()(t),t=vse(e)(t)),nse=e=>t=>{var n,o,i;if(e.rows&&(t.rows=null!==(n=t.rows)&&void 0!==n?n:{},Object.assign(t.rows,e.rows),delete e.rows),e.columns&&(t.columns=null!==(o=t.columns)&&void 0!==o?o:{},Object.assign(t.columns,e.columns),delete e.columns),e.cells){t.cells=null!==(i=t.cells)&&void 0!==i?i:{},Object.assign(t.cells,e.cells);for(const n in e.cells){const{rowIndex:e}=Fle(n);t=sse(e)(t)}delete e.cells}return delete e.indicatorRange,delete e.selectedCoordinates,Object.assign(t,e),t.indicatorRange&&(t.indicatorRange=Wle(t,t.indicatorRange)),t},ose=(e,t,n)=>o=>{var i;o=Rle(e,t)(o);const r=Ple(e,t),l=null===(i=o.cells)||void 0===i?void 0:i[r];return void 0===l||(l.state=n),o},ise=(e,t,n)=>o=>{var i;o=Hle(e,t)(o);const r=Ple(e,t),l=null===(i=o.cells)||void 0===i?void 0:i[r];return void 0===l||(l.style=n),o},rse=e=>(t,n)=>{var o,i,r;const l=null==n?void 0:n.key;if(!l)return t;const{rowIndex:s,columnIndex:c}=Fle(l),a=null===(o=(t=Hle(s,c)(t)).cells)||void 0===o?void 0:o[l];if(null==a?void 0:a.merge){const{rowStartIndex:e,rowEndIndex:n}=Kle(a.merge);if(n-e!=1)return t}if(null==a?void 0:a.style){const n=Number(null!==(r=null===(i=a.style)||void 0===i?void 0:i.height)&&void 0!==r?r:t.rowDefaultSize),o=n+e;a.style.height=o,o<=t.rowDefaultSize&&(t=Ule(s,c,"height")(t))}return t},lse=(e,t,n)=>o=>{var i;const r=Ple(e,t),l=null===(i=(o=Hle(e,t)(o)).cells)||void 0===i?void 0:i[r];if(null==l?void 0:l.merge){const{rowStartIndex:e,rowEndIndex:t}=Kle(l.merge);if(t-e!=1)return o}return(null==l?void 0:l.style)&&(l.style.height=n,n<=o.rowDefaultSize&&(o=Ule(e,t,"height")(o))),o},sse=e=>(t,n)=>{const o=null==n?void 0:n.key;if(!o)return t;const i=null!=e?e:o?Fle(o).rowIndex:void 0;return void 0===i?t:(t=_le(i)(t),t=pse()(t))},cse=e=>(t,n)=>{var o;const i=null==n?void 0:n.key;if(!i)return t;const{rowIndex:r}=Fle(i),l=null===(o=(t=$le(r)(t)).rows)||void 0===o?void 0:o[r];if(null==l?void 0:l.style){const n=Vle(t,r);t=Zle(n+e,r)(t),t=pse()(t)}return t},ase=e=>t=>{var n,o;const{selectedCoordinates:i,indicatorRange:r,cells:l}=t;if(void 0===i||void 0===r)return t;const{rowIndex:s,columnIndex:c}=i,a=Ple(s,c);if(l){const i=null===(o=null===(n=l[a])||void 0===n?void 0:n.state)||void 0===o?void 0:o.editor;if(!i)return t;if("start"===e){const e=Ale(i.node);i.selection={focus:{path:[...e],offset:0},anchor:{path:[...e],offset:0}}}else if("end"===e){const e=Ble(i.node),n=Tle(i.node,e);if(null===n)return t;const o=Mle(n);i.selection={focus:{path:[...e],offset:o},anchor:{path:[...e],offset:o}}}}return t},use=e=>t=>{var n;const{selectedCoordinates:o,cells:i}=t;if(!o||!i)return t;const{rowIndex:r,columnIndex:l}=o,s=null===(n=i[Ple(r,l)])||void 0===n?void 0:n.state;return s?(null==e||e(s),Lle()(s.editor),s.editor.refresh=aRe(!0),t):t},dse=()=>e=>{const{selectedCoordinates:t,cells:n}=e;if(!t||!n)return e;const{rowIndex:o,columnIndex:i}=t,r=Ple(o,i);return e=bse(r,!0)(e)},fse=()=>e=>{const{selectedCoordinates:t,cells:n}=e;if(!t||!n)return e;const{rowIndex:o,columnIndex:i}=t,r=Ple(o,i);return e=bse(r,!1)(e)},hse=()=>e=>{const t=e.cells;if(Pc(t))return e;for(const n in t){const{state:o,merge:i}=t[n];if(!o)continue;const{rowIndex:r,columnIndex:l}=Fle(n),{clientHeight:s,clientWidth:c}=o.editor,{width:a}=Yle(e,r,l);if(c!==a){const e=o.editor;e.clientWidth=a,e.resizeWidth=!0,e.selectionReflow=!1,e.refresh=aRe(!0)}}return e},pse=()=>e=>(e.clientHeight=e.scrollHeight,e),vse=e=>t=>{var n,o;const{scrollWidth:i,scrollLeft:r}=t;let l=e.clientWidth;const s=null!==(o=null===(n=e.selection)||void 0===n?void 0:n.focus.path)&&void 0!==o?o:[0];if(s){const t=Ole(e.data,s),n=IFe(e,t);l>n&&(l=n)}t.clientWidth=Math.min(i,l);const c=i-t.clientWidth-r;return c<0&&(t=Qle(c,0)(t)),t=ese()(t)},gse=()=>e=>{const{indicatorRange:t,cells:n}=e;return void 0===t||void 0===n||qle(t,{cell:(t,n)=>{const o=Ple(t,n);e=yse(o)(e)},row(t){Gle(n,t,(n=>{const o=Ple(t,n);e=yse(o)(e)}))},column(t){Xle(n,t,(n=>{const o=Ple(n,t);e=yse(o)(e)}))},infinite(){Jle(n,((t,n)=>{const o=Ple(t,n);e=yse(o)(e)}))}}),e},mse=(e,t)=>n=>{var o,i;const r=null===(i=null===(o=n.cells)||void 0===o?void 0:o[e])||void 0===i?void 0:i.state;return void 0===r||(r.editor.isEditPending=t),n},yse=e=>t=>{var n,o;const i=null===(o=null===(n=t.cells)||void 0===n?void 0:n[e])||void 0===o?void 0:o.state;return void 0===i||(i.editor.refresh=aRe(!0)),t},bse=(e,t)=>n=>{var o,i;const r=null===(i=null===(o=n.cells)||void 0===o?void 0:o[e])||void 0===i?void 0:i.state;return void 0===r||(t?r.editor.selectionFrozen=t:delete r.editor.selectionFrozen,r.editor.refresh=aRe(!0)),n},Cse=(e,t)=>n=>{var o,i;const r=null===(i=null===(o=n.cells)||void 0===o?void 0:o[e])||void 0===i?void 0:i.state;return void 0===r||r.editor.selection&&(r.editor.selectionReflow=t),n},wse=e=>t=>{var n,o;const i=null===(o=null===(n=t.cells)||void 0===n?void 0:n[e])||void 0===o?void 0:o.state;return void 0===i||delete i.editor.ureference,t},xse=e=>t=>{const{indicatorRange:n,cells:o}=t;if(void 0===n||void 0===o)return t;const i=(n,o)=>{var i,r;const l=Ple(n,o),s=null===(r=null===(i=t.cells)||void 0===i?void 0:i[l])||void 0===r?void 0:r.state;if(void 0===s)return t;s.editor.style={...s.editor.style,...e},s.editor.selectionStyle={...s.editor.selectionStyle,...e}};return qle(n,{cell(e,t){i(e,t)},row(e){Gle(o,e,(t=>{i(e,t)}))},column(e){Xle(o,e,(t=>{i(t,e)}))},infinite(){Jle(o,((e,t)=>{i(e,t)}))}}),t},{isStartPath:Sse,createInlineNode:Ese,setSelectionReflow:kse,getEditNodeByPath:Dse,getNodeByPath:Ise,getPathFromKey:Nse,isEditNode:Lse,isNode:Tse,reflowEditNodeByPath:Bse,setEditPending:Ase,transformNodeToEditNode:Mse,getEditNodeStartPath:Ose,resetEditNodeKeyRecursion:Rse}=hk,Pse=(e,t,n)=>o=>{const{node:i,data:r}=o.editor,l=Nse(e),s=Dse(i,l);if(!Lse(s)||void 0===s.props)return o;if(s.props.value=t,n){const e=Ise(r,l);if(!Tse(e)||void 0===e.props)return o;e.props.value=t}return o},Fse=(e,t,n)=>o=>{var i,r;const{node:l,data:s}=o.editor,c=Nse(e),a=Dse(l,c);if(!Lse(a)||void 0===a.props)return o;if(void 0===a.props.value)return o;if(a.props.value.scrollLeft=null!==(i=t.scrollLeft)&&void 0!==i?i:0,n){const e=Ise(s,c);if(!Tse(e)||void 0===e.props)return o;if(void 0===e.props.value)return o;e.props.value.scrollLeft=null!==(r=t.scrollLeft)&&void 0!==r?r:0}return o},Hse=e=>t=>{const n=t.editor,o=hc(Nse(e)),{node:i}=n,r=Dse(i,o),l=Dse(i,hc(o));return Lse(l)&&Lse(r)&&(l.children=l.children.map((e=>e===r?Mse(Ese([""]),r.key):e))),n.selection={focus:{path:[...o,0],offset:0},anchor:{path:[...o,0],offset:0}},kse(!0)(n),t},_se=e=>t=>{let n=t.editor;return n=Bse(e)(n),n=Ase(!0)(n),t.editor=n,t},jse=e=>t=>{const n=t.editor;return n.scrollHeight+=e,n.contentHeight+=e,t.client||(n.clientHeight+=e),t},Wse=()=>e=>{const t=e.editor,{contentHeight:n,clientHeight:o}=t,i=n-o;return t.clientHeight+=i,t.scrollHeight+=i,e},zse=()=>e=>{const{editor:{node:t}}=e,n=Ose(t);return Sse(n)||Rse(t),e},Vse="sheet",$se=38,Zse=200,{isNode:Use,isMetaNode:qse}=hk;function Yse(e){return Use(e)&&e.type===Vse}function Kse(e){return Use(e)&&qse(e)&&Yse(e.children[0])}const{calcIndicatorRangeByMerge:Gse,getIndexByKey:Xse,getKeyByIndex:Jse}=UL;function Qse(e,t,n){var o,i,r,l;const{cells:s,rowDefaultSize:c}=e,a=Jse(t,n),u=null==s?void 0:s[a];if(!u)return c;if(u.merge){let{rowStartIndex:e,rowEndIndex:t}=Gse(u.merge),r=0;for(;e<t;){const t=Jse(e,n);r+=Number(null!==(i=null===(o=s[t].style)||void 0===o?void 0:o.height)&&void 0!==i?i:c),e++}return r}return Number(null!==(l=null===(r=u.style)||void 0===r?void 0:r.height)&&void 0!==l?l:c)}function ece(e,t,n){var o,i,r,l,s;const{cells:c,rowDefaultSize:a,rows:u}=e,d=null===(i=null===(o=null==u?void 0:u[t])||void 0===o?void 0:o.style)||void 0===i?void 0:i.minHeight;let f=null!=d?d:a;if(!c)return f;for(const e in c){const{columnIndex:o,rowIndex:i}=Xse(e);if(i!==t)continue;const u=c[e];if(u.merge){let{rowStartIndex:e,rowEndIndex:t,columnStartIndex:i,columnEndIndex:s}=Gse(u.merge);if(void 0!==n&&n>=i&&n<s)continue;let d=0;for(;e<t;){const t=Jse(e,o);d+=Number(null!==(l=null===(r=c[t].style)||void 0===r?void 0:r.height)&&void 0!==l?l:a),e++}d>f&&(f=d)}else if(o!==n){const e=Number(null===(s=u.style)||void 0===s?void 0:s.height);e>f&&(f=e)}}return f}function tce(e,t){var n,o,i;const r=null===(i=null===(o=null===(n=e.rows)||void 0===n?void 0:n[t])||void 0===o?void 0:o.style)||void 0===i?void 0:i.minHeight;return void 0!==r?parseFloat(String(r)):0}function nce(){return{style:{borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:0,backgroundColor:"transparent"}}}function oce(e,t){return t?{...e,style:{...e.style,...NPe(t)}}:e}const{createBlockNode:ice,createInlineNode:rce,DetectFlag:lce,getEditNodeStartPath:sce,initNodeKey:cce,SPLIT_BLOCK_MARGIN:ace}=hk;function uce(e){return{type:Vse,children:[],props:e}}function dce(){return{paddingLeft:8,paddingRight:8,paddingTop:5.8-ace,paddingBottom:5-ace}}function fce(){const e=hce();e.node.style=dce();const t=sce(e.node);return e.selection={focus:{path:[...t],offset:0},anchor:{path:[...t],offset:0}},e.selectionReflow=!0,{editor:e}}function hce(e){const t=IPe({alignItems:"center",backgroundColor:"transparent"}),n=ice([ice([rce([])],{paddingTop:ace,paddingBottom:ace})]),o=cce(n),i=I_(n,o),r={flag:lce.STATIC};let l=Number(t.fontSize);return l<$se&&(l=$se),{node:o,data:n,bounds:i,style:t,clientHeight:$se,clientWidth:Zse,scrollHeight:$se,contentHeight:l,scrollTop:0,detect:r,...e}}function pce(e,t,n){var o,i,r;const l=null!==(o=n.rowDefaultSize)&&void 0!==o?o:$se,s=null!==(i=n.columnDefaultSize)&&void 0!==i?i:n.clientWidth/t,c=null!==(r=n.scrollWidth)&&void 0!==r?r:n.clientWidth;return{defaultCell:{style:{borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:0,backgroundColor:"transparent"}},rowDefaultSize:l,columnDefaultSize:s,clientWidth:n.clientWidth,clientHeight:e*l,scrollWidth:c,scrollHeight:e*l,scrollLeft:0,scrollTop:0,rowStartIndex:0,rowEndIndex:e,rowTotalNumber:e,rowStartDiff:l,rowEndDiff:0,columnStartIndex:0,columnEndIndex:t,columnTotalNumber:n.scrollWidth?Math.ceil(c/s):t,columnStartDiff:s,columnEndDiff:0,selectedCoordinates:{rowIndex:0,columnIndex:0},indicatorRange:{rowStartIndex:0,rowEndIndex:1,columnStartIndex:0,columnEndIndex:1}}}const vce="toggleList",gce="toggleListPackage",mce={cn:{[vce]:"",[gce]:[{name:"1.0",value:1.7},{name:"1.15",value:2},{name:"1.5",value:2.5},{name:"2.0",value:3.4},{name:"2.5",value:4.3},{name:"3.0",value:5.1}]},en:{[vce]:"Toggle List",[gce]:[{name:"1.0",value:1.7},{name:"1.15",value:2},{name:"1.5",value:2.5},{name:"2.0",value:3.4},{name:"2.5",value:4.3},{name:"3.0",value:5.1}]}};const yce={paddingLeft:10,position:"relative"},bce={display:"flex"},Cce={flex:1,position:"relative"},wce={position:"absolute",display:"flex",right:0,justifyContent:"flex-start",alignItems:"center"},xce={display:"inline-flex",alignItems:"center",position:"absolute",top:0,bottom:0},Sce={display:"flex",alignItems:"center",height:15},Ece={flex:1,height:3,backgroundColor:jf,opacity:.5,marginLeft:5},kce={display:"flex",paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:4,boxShadow:Wf},Dce={marginRight:6,marginLeft:6,borderRadius:3,overflow:"hidden"},Ice={width:70,paddingTop:8,paddingRight:10,paddingBottom:8,display:"flex",flexDirection:"column",alignItems:"normal"},Nce={position:"absolute",left:5,top:6,width:6,height:2,backgroundColor:jf,transform:"scaleY(0.5)",opacity:.5},Lce=1.3,{genNextLevelPath:Tce,genPrevLevelPath:Bce,getEditNodeByPath:Ace,getNodeLength:Mce,getRelativePath:Oce,isCollapsed:Rce,isDecorateBlockNode:Pce,isDeleteBackward:Fce,isDeleteForward:Hce,isDeleteLineBackward:_ce,isDeleteLineForward:jce,isDeleteWordBackward:Wce,isDeleteWordForward:zce,isEditNode:Vce,isSplitBlock:$ce,isTab:Zce,sliceBlockPath:Uce,sortSelection:qce,getEditNodesByPath:Yce,traversalEditBlockNodeBySelection:Kce}=hk;function Gce(e,t,n){var o,i,r;const l={},s=Oce(e.node,t);let c=0,a=e.node;do{if(a.style||(null===(o=a.props)||void 0===o?void 0:o.style)){const e={...a.style};c<s.length&&Object.assign(e,null===(i=a.props)||void 0===i?void 0:i.style);for(const t in e){const o=t;n[o]&&(l[o]=e[o])}}const e=a.children[null!==(r=s[c++])&&void 0!==r?r:0];if(!Vce(e))break;a=e}while(a);return l}function Xce(e,t,n){var o,i;const r=Gce(e,t,n),l=null!==(i=null!==(o=null==r?void 0:r.fontSize)&&void 0!==o?o:n.fontSize)&&void 0!==i?i:ch(12);return 2*parseInt(String(l))}function Jce(e){if(void 0===e.selection)return[];if(Rce(e.selection)){const t=e.selection.focus,n=hc(Uce(e.node,t.path));return[{focus:{path:[...n],offset:0},anchor:{path:[...n],offset:0}}]}const t=[];return Kce(e.node,e.selection,((e,n)=>{const o={focus:{path:hc(n),offset:0},anchor:{path:hc(n),offset:0}};0===t.filter((e=>Fc(e,o))).length&&t.push(o)})),t}function Qce(e,t,n){let o=!1;const i=e.editor;let r=i.selection;if(void 0===r)return o;if(Rce(r)){const e=r.focus.path;let l=e.length;for(;l>0;){const r=Ace(i.node,e.slice(0,l));if(tae(r)&&(tae(r,t)&&(o=!0),!n))break;l--}return o}return Kce(i.node,r,((e,n)=>{const r=Yce(i.node,n);for(const e of r)if(tae(e,t))return o=!0,!1})),o}function eae(e){return Fce(e)||Hce(e)||Wce(e)||zce(e)||_ce(e)||jce(e)}function tae(e,t){var n;if(!Pce(e))return!1;const o=null===(n=e.props)||void 0===n?void 0:n.type;return-1!==(null==o?void 0:o.indexOf("list"))&&(!t||o===t)}function nae(e){if(!e)return 1;const t=parseInt(String(e));return Lce/ch(12)*t}function oae(e,t){let{fontSize:n=ch(12),lineHeight:o=1.7}=e;return n=parseInt(String(n)),o=Cc(o)&&o.endsWith("px")?parseFloat(String(o))/n:parseFloat(String(o)),void 0===t&&(t=1),(n*o-t)/2}var iae;!function(e){e[e.H=24]="H",e[e.H0=11]="H0",e[e.H1=20]="H1",e[e.H2=18]="H2",e[e.H3=16]="H3",e[e.H4=14]="H4",e[e.H5=13]="H5",e[e.H6=12]="H6"}(iae||(iae={}));const rae="outline-list",lae="shortcut-list",sae=7,cae={1:iae.H1,2:iae.H2,3:iae.H3,4:iae.H4,5:iae.H5,6:iae.H6};function aae(e){return G(J_,{...e,children:G(wO,{})})}const uae=e=>t=>(t.mode===e?t=dae()(t):t.mode=e,t),dae=()=>e=>(delete e.mode,e),fae=e=>t=>(void 0===t.link&&(t.link={}),t.link.style=e,t),hae=e=>t=>(t.visible=e,t),pae=()=>e=>(e=dae()(e),e=hae(!1)(e)),vae="back-link",gae="link",mae="linear-gradient(90deg, rgb(26, 13, 171) 0%, rgb(0, 188, 212) 100%)",yae="linear-gradient(90deg, rgb(213, 166, 56) 0%, rgb(177, 106, 77) 100%)",{ZERO_WIDTH_NO_BREAK_SPACE:bae,getNodeByPath:Cae,sliceDecoratePath:wae,isDecorateInlineNode:xae}=hk;function Sae(e){var t;return xae(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===vae}function Eae(e){var t;return xae(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===gae}async function kae(e,t,n){var o,i,r;const l=await NF(t);if(0===l.ok||!l.data)return;const s=QH();if(!(null==s?void 0:s.length))return;const{imperator:c,rootdispatch:a}=e.provider();null===(i=null===(o=c.current)||void 0===o?void 0:o.clearVisibleState)||void 0===i||i.call(o),a(I9(),g3());const u=e_();for(let e=s.length-1;e>0&&s[e].uid!==u;e--)JH("pop");const d=null===(r=(await kF(t)).data)||void 0===r?void 0:r.readonly,f=LWe(l.data.data);JH("push",{route:KB.editor,effect:{slide:"right"},payload:{editable:!d,page:{id:t},branch:{id:t,type:"page"},refresh:aRe(!0),link:n,uid:u},title:{text:f,menus:["more"]}})}async function Dae(e,t){if(void 0===t)return;const{text:n,id:o}=t;if(n)if(void 0!==o){if(void 0!==o)try{const t={command:T$.PASTE_LINK,data:{node:e}},o=encodeURIComponent(JSON.stringify(t)),i=new Blob([n],{type:"text/plain"}),r=new Blob([`<slinote payload="${o}"></slinote><div>todo</div>`],{type:"text/html"}),l=new ClipboardItem({[i.type]:i,[r.type]:r});await navigator.clipboard.write([l])}catch(e){}}else try{await navigator.clipboard.writeText(n)}catch(e){}}async function Iae(e){if(Sae(e))try{const t={command:T$.PASTE_BACK,data:{node:e}},n=LWe(e),o=encodeURIComponent(JSON.stringify(t)),i=new Blob([n],{type:"text/plain"}),r=new Blob([`<slinote payload="${o}"></slinote><div>todo</div>`],{type:"text/html"}),l=new ClipboardItem({[i.type]:i,[r.type]:r});await navigator.clipboard.write([l])}catch(e){}}const{getEditNodeByPath:Nae}=hk;function Lae(e,t){const n=e.editor;let o=n.selection;if(void 0===o)return!1;const i=o.focus.path;let r=i.length;for(;r>0;){if(Eae(Nae(n.node,i.slice(0,r))))return!0;r--}const l=o.focus.path;let s=l.length;for(;s>0;){if(Eae(Nae(n.node,l.slice(0,s))))return!0;s--}return!1}function Tae(e,t){const n=e.editor;let o=n.selection;if(void 0===o)return!1;const i=o.focus.path;let r=i.length;for(;r>0;){if(Sae(Nae(n.node,i.slice(0,r))))return!0;r--}const l=o.focus.path;let s=l.length;for(;s>0;){if(Sae(Nae(n.node,l.slice(0,s))))return!0;s--}return!1}const{calcCommonSelectionPath:Bae,comparePath:Aae,createDecorateInlineNode:Mae,createInlineNode:Oae,createReferenceInlineNode:Rae,excludeCommonSelection:Pae,getNodeByPath:Fae,getNodesByPath:Hae,getNodeEndPath:_ae,getNodeLength:jae,getNodeStartPath:Wae,getPathFromKey:zae,isBlockNode:Vae,isEditNode:$ae,isEmptyNode:Zae,isNode:Uae,isInlineNode:qae,isUniFormChildren:Yae,isReferenceNode:Kae,isSameStyleNode:Gae,resetEditNodeKeyRecursion:Xae,sliceDecoratePath:Jae,sliceSelectionStartBlockPath:Qae,sortSelection:eue,traverseNode:tue,SPAN_NODE:nue}=hk,oue=(e,t,n,o,i,r)=>l=>{var s,c,a,u,d,f,h,p,v;const{store:g,file:m}=l;let y=o.search;y&&bHe(y)&&(l=Qq(e,y)(l));let b=!1,C=ps(null===(c=null===(s=null==g?void 0:g.reference)||void 0===s?void 0:s[r])||void 0===c?void 0:c.data);if(void 0===C?C=Rae({id:r,uid:aRe(),back:{[t]:n}}):(null===(a=C.props)||void 0===a?void 0:a.back)&&(b=!0,C.props.back[t]=n),b)return l=Oq(r,C,e)(l);const w=Mae({id:r,uid:aRe(),type:i,subclass:i},[C]);l=v9(e)(l);const x=null===(u=null==g?void 0:g.editor)||void 0===u?void 0:u[e];if(void 0===x)return l;const S={},E=$je(o);function k(e){var t,n;let{data:o,node:i}=e.editor;y&&gHe(y)&&(o=i,delete e.editor.ureference);const{before:r,after:l}=eue(E),s=Qae(o,E);let c=Fae(o,s);if(Vae(c)){let i={anchor:{path:fc(r.path,s.length),offset:r.offset},focus:{path:fc(l.path,s.length),offset:l.offset}};if(0!==Aae(s,r.path)){const e=Wae(c);i.anchor.path=e,i.anchor.offset=0}if(0!==Aae(s,l.path)){const e=_ae(c),t=Fae(c,e);null!==t&&(i.focus.path=e,i.focus.offset=jae(t))}let a=Bae(i),u=Fae(c,a);if(null===u)return e;let d=i.anchor.path[a.length];Cc(u)&&(d=null!==(t=dc(a))&&void 0!==t?t:0,a=hc(a),u=Fae(c,a)),i=Pae(i),0===i.anchor.path.length&&i.anchor.path.push(d),0===i.focus.path.length&&i.focus.path.push(d);const f=HWe(u,i);for(let e=u.children.length-1;e>=0;e--){const t=u.children[e];t&&!Zae(t,!0)||(u.children.splice(e,1),d>=e&&d--)}let h=w.children;for(;h.length>0&&Uae(h[0]);)h=h[0].children;h.push(Oae(f.children));const p=Math.max(0,d+1);u.children.splice(p,0,w);const v=Hae(c,a);for(let e=v.length-1;e>=1;e--){const t=v[e-1],n=v[e];qae(n)&&qae(t)&&Yae(t,n)&&(t.children=n.children,n.style&&(t.style||(t.style={}),Object.assign(t.style,n.style)))}$ae(c)&&Xae(c);for(let e=0;e<=s.length;e++){const t=s.slice(0,e),i=Fae(o,t);if(Kae(i)){const e=null===(n=i.props)||void 0===n?void 0:n.uid;e&&(S[e]=i)}}tue(c,((e,t)=>{var n;if(Kae(e)){const t=null===(n=e.props)||void 0===n?void 0:n.uid;t&&(S[t]=e)}}))}return y&&$ae(o)&&Xae(o),e}y?(vHe(y)&&(y=kHe(y)),bHe(y)&&(y=MHe(y)),gHe(y)?bDe(y,[k])({editor:x}):k({editor:x})):k({editor:x});const D=null===(d=C.props)||void 0===d?void 0:d.uid;if(!D)return l;const I=[];for(const t in S){const n=S[t],o=null===(f=n.props)||void 0===f?void 0:f.id;if(o&&T9(t,o)({editor:x}),l=Oq(o,n,e)(l),D!==t){const t=null===(p=null===(h=l.store)||void 0===h?void 0:h.reference)||void 0===p?void 0:p[o];t&&tue(n,(n=>{var o,i;if(Kae(n)){const r=null===(o=n.props)||void 0===o?void 0:o.id,l=null===(i=n.props)||void 0===i?void 0:i.uid;if(!r||!l)return;if(l===D){const n=Object.keys(t.detail);I.push(...n.filter((t=>t!==e)))}}}))}}for(const e of I)l=Rq(r,S[D],e)(l);if((null==m?void 0:m.currentPageId)===e){if(l.editor.data=x.data,l.editor.uids=x.uids,D){const e=null!==(v=l.editor.ureference)&&void 0!==v?v:{};e[D]=hk.transformNodeToEditNode(C,""),l.editor.ureference=e}l=F9()(l)}return l=kq(e,x)(l)},iue=(e,t,n,o,i)=>r=>{var l,s,c,a;const u=null===(c=null===(s=null===(l=r.store)||void 0===l?void 0:l.reference)||void 0===s?void 0:s[i])||void 0===c?void 0:c.data,d=null===(a=null==u?void 0:u.props)||void 0===a?void 0:a.back;return d&&(delete d[t],!Pc(d))?r:r=Fbe(e,n,o)(r)},rue=(e,t,n)=>o=>{var i,r,l,s;const c=null===(i=e.props)||void 0===i?void 0:i.value;if(void 0===c)return o;const{id:a}=c;if(void 0===a)return o;let u=null===(s=null===(l=null===(r=o.store)||void 0===r?void 0:r.reference)||void 0===l?void 0:l[a])||void 0===s?void 0:s.data;if(void 0===u)return o;if(u.props&&e.props){const o=e.props.id;delete u.props.back[t],u.props.back[o]=n}return u={...u},u.props={...u.props,uid:aRe()},o=Oq(a,u,null)(o)},lue=(e,t,n,o,i)=>r=>{var l,s;const{store:c,file:a}=r;let u=i.search;u&&bHe(u)&&(r=Qq(e,u)(r));const d=null===(l=null==c?void 0:c.editor)||void 0===l?void 0:l[e];if(void 0===d)return r;const f={},h=$je(i);function p(e){var t,n;let{data:o,node:i}=e.editor;u&&gHe(u)&&(o=i,delete e.editor.ureference);let r=Bae(h),l=Fae(o,r);if(null===l)return e;for(;!Eae(l)&&r.length;)r=hc(r),l=Fae(o,r);const s=Jae(o,r,gae);if(!s)return e;const c=Fae(o,s);if(!Uae(c))return e;const a=null===(t=c.props)||void 0===t?void 0:t.id;if(void 0===a)return e;v(o,a);const d=hc(s),p=Fae(o,d);if(!Uae(p))return e;let g=p.children.indexOf(c);p.children.splice(g,1,...l.children);let m=p.children.length-1;for(;m>0;){const e=p.children[m],t=p.children[m-1];Gae(t,e)&&(Cc(t)&&Cc(e)?p.children[m-1]=t+e:Uae(t)&&Uae(e)?(t.children.push(...e.children),t.children=[t.children.join("")]):Cc(t)&&Uae(e)&&(p.children[m-1]=t+e.children[0]),p.children.splice(m,1)),m--}u&&$ae(o)&&Xae(o);for(let e=0;e<=r.length;e++){const t=Fae(o,r.slice(0,e));if(Kae(t)){const e=null===(n=t.props)||void 0===n?void 0:n.uid;e&&(f[e]=t)}}return e}function v(e,i){var l;if(null===(l=null==c?void 0:c.reference)||void 0===l?void 0:l[t]){const{detail:l}=c.reference[t],s=Object.keys(l).filter((e=>e!==t));if(1!==s.length)return;const a=zae(n),u={focus:{path:a.slice(),offset:0},anchor:{path:a.slice(),offset:0}};wHe(e,o)&&(iHe(o)&&(o=o.child),u.search=o),r=iue(s[0],i,u,vae,t)(r)}}u?(vHe(u)&&(u=kHe(u)),bHe(u)&&(u=MHe(u)),gHe(u)?bDe(u,[p])({editor:d}):p({editor:d})):p({editor:d});for(const t in f){const n=f[t],o=null===(s=n.props)||void 0===s?void 0:s.id;o&&T9(t,o)({editor:d}),r=Oq(o,n,e)(r)}return(null==a?void 0:a.currentPageId)===e&&(r.editor.data=d.data,r.editor.uids=d.uids),r=kq(e,d)(r)},sue=(e,t,n,o,i)=>r=>{var l;const{store:s,file:c}=r,a=null===(l=null==s?void 0:s.editor)||void 0===l?void 0:l[e];if(void 0===a)return r;let u=t;function d(e){let{data:t,node:r}=e.editor;u&&gHe(u)&&(t=r,delete e.editor.ureference);const l=zae(n),s=Fae(t,l);return Eae(s)&&(void 0===s.props&&(s.props={}),s.props.value=i?{...s.props.value,...o}:o),e}return u&&iHe(u)&&(u=u.child),u?(vHe(u)&&(u=kHe(u)),bHe(u)&&(u=MHe(u)),gHe(u)?bDe(u,[d])({editor:a}):d({editor:a})):d({editor:a}),(null==c?void 0:c.currentPageId)===e&&(r.editor.data=a.data,r.editor.uids=a.uids),r=kq(e,a)(r)},cue=(e,t,n)=>o=>{var i,r;const{store:l,file:s}=o,c=null===(i=null==l?void 0:l.editor)||void 0===i?void 0:i[e];if(void 0===c)return o;const a={};let u=t;function d(e){var t;let{data:o,node:i}=e.editor;u&&gHe(u)&&(o=i,delete e.editor.ureference);const r=zae(n),l=Fae(o,r);Eae(l)&&(l.type=nue,delete l.props);const s=Hae(o,r);for(const e of s)if(Kae(e)){const n=null===(t=e.props)||void 0===t?void 0:t.uid;n&&(a[n]=e)}return e}u&&iHe(u)&&(u=u.child),u?(vHe(u)&&(u=kHe(u)),bHe(u)&&(u=MHe(u)),gHe(u)?bDe(u,[d])({editor:c}):d({editor:c})):d({editor:c});for(const t in a){const n=a[t],i=null===(r=n.props)||void 0===r?void 0:r.id;i&&T9(t,i)({editor:c}),o=Oq(i,n,e)(o)}return(null==s?void 0:s.currentPageId)===e&&(o.editor.data=c.data,o.editor.uids=c.uids),o=kq(e,c)(o)},aue=(e,t,n)=>o=>{const i=zae(n),r={focus:{path:[...i],offset:0},anchor:{path:[...i],offset:0},search:t};return o=Fbe(e,r,vae)(o)},uue=(e,t,n)=>o=>{var i;const{store:r}=o,l=null===(i=null==r?void 0:r.editor)||void 0===i?void 0:i[e];return void 0===l?o:(xPe(l.data,(e=>{if(Eae(e)&&e.props&&e.props.id===t)return e.props.value=n,!0}),!0),o=kq(e,l)(o))},due=(e,t,n,o,i,r)=>l=>{var s,c,a;const u=oue(e,t,n,o,i,r)(l.rstate);if((null===(s=u.file)||void 0===s?void 0:s.currentPageId)!==e)return l;const d=null===(a=null===(c=u.store)||void 0===c?void 0:c.editor)||void 0===a?void 0:a[e];return d?(u.editor.data=d.data,u.editor.uids=d.uids,delete u.editor.ureference,k7(e)(u),l.rstate=u,l):l},fue=(e,t,n,o,i,r)=>n=>{var l,s,c;const a=iue(e,t,o,i,r)(n.rstate);if((null===(l=a.file)||void 0===l?void 0:l.currentPageId)!==e)return n;const u=null===(c=null===(s=a.store)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[e];return u?(a.editor.data=u.data,a.editor.uids=u.uids,delete a.editor.ureference,k7(e)(a),n.rstate=a,n):n},hue=(e,t,n,o,i)=>r=>{var l,s,c;const a=lue(e,t,n,o,i)(r.rstate);if((null===(l=a.file)||void 0===l?void 0:l.currentPageId)!==e)return r;const u=null===(c=null===(s=a.store)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[e];return u?(a.editor.data=u.data,a.editor.uids=u.uids,delete a.editor.ureference,r.rstate=a,r):r},pue={link:"link",edit:"edit",copy:"copy",cut:"cut",review:"review",removeLink:"removeLink",removeBack:"removeBack",placeholder:"placeholder",forward:"forward",backward:"backward"},vue={cn:{[pue.link]:"",[pue.edit]:"",[pue.copy]:"",[pue.cut]:"",[pue.review]:"",[pue.removeLink]:"",[pue.removeBack]:"",[pue.placeholder]:"",[pue.forward]:"",[pue.backward]:""},en:{[pue.link]:"Link",[pue.edit]:"Edit Link",[pue.copy]:"Copy Link",[pue.cut]:"Cut Back Link",[pue.review]:"Review Back Link",[pue.removeLink]:"Cancel Link",[pue.removeBack]:"Cancel Back Link",[pue.placeholder]:"Enter link or search notes",[pue.forward]:"Forward Refer",[pue.backward]:"Backward Refer"}},{SPAN_NODE:gue,getEditNodeByPath:mue,getNodeLength:yue,isCollapsed:bue,isReferenceNode:Cue,isReferenceInlineNode:wue,sliceDecoratePath:xue,traversalEditNodeBySelection:Sue,createDecorateInlineNode:Eue,convergeBlockSelection:kue,decorateNode:Due,clearSelection:Iue}=hk,Nue=()=>e=>{if(!e.selection||!bue(e.selection))return e;let t=e.selection.focus.path;for(;null==t?void 0:t.length;){if(t=xue(e.node,t,gae),void 0===t)return e;const n=mue(e.node,t);if(!Eae(n))return e;const o=aRe();n.props&&(n.props.id=o,n.props.uid=aRe());const i=n.children[0];Cue(i)&&i.props&&(i.props.id=o,i.props.uid=aRe()),t=hc(t)}return e},Lue=()=>e=>{if(!e.selection||!bue(e.selection))return e;let t=e.selection.focus.path;for(;null==t?void 0:t.length;){if(t=xue(e.node,t,vae),void 0===t)return e;const n=mue(e.node,t);if(!Sae(n))return e;if(delete n.props,n.type=gue,1===yue(n)){const e=n.children[0];wue(e)&&n.children.splice(0,1,...e.children)}t=hc(t)}return e},Tue=(e,t,n,o)=>i=>{const{node:r,selection:l,selectionDecorate:s}=i;if(!l)return i;const c=vue[o][pue.link];if(rCe(e,t,r,l,c))return i;if(void 0===(null==s?void 0:s[gae])){const e=aRe(),t=aRe(),r=Eue({id:e,uid:t,type:gae,subclass:gae});if(bue(l)){const e=vue[o][pue.link];r.children=[e]}i=kue()(i),i=Due(r)(i),i=Iue()(i),n.current.panel||(n.current.panel={}),n.current.panel[t]=!0}return i},{useHotkey:Bue}=Cj;const Aue={position:"relative",flexDirection:"column",alignItems:"center"},Mue={cursor:"pointer",textDecoration:"none",color:"rgb(0, 105, 194)"},Oue={color:"rgb(49, 121, 206)",textShadow:"none",backgroundImage:mae,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text",WebkitBoxDecorationBreak:"clone"},Rue={...{color:"rgb(49, 121, 206)",textShadow:"none",backgroundImage:yae,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text",WebkitBoxDecorationBreak:"clone"},cursor:"pointer"},Pue={position:"absolute",left:0,right:0,bottom:0},Fue={position:"absolute",zIndex:1,display:"flex",justifyContent:"center",cursor:"default",left:"50%"},Hue={boxShadow:Wf,borderRadius:4,position:"absolute",display:"flex"},_ue={...Hue,alignItems:"center",transform:"translateY(-100%)",padding:"4px 3px",top:-5},jue={...Hue,overflow:"hidden",display:"flex",top:5},Wue={borderRadius:2,margin:"0 2px"},zue={width:24,height:24,borderRadius:2,display:"flex",justifyContent:"center",alignItems:"center"},Vue={outline:"none",border:"none",width:300,padding:"8px",backgroundColor:"transparent",fontSize:13},{getPathFromKey:$ue}=hk;function Zue(e,t,n){var o,i,r,l;const{uid:s=aRe(!0),kid:c}=e,a=null!==(i=null===(o=n.panel)||void 0===o?void 0:o[s])&&void 0!==i&&i,u={visible:a,mode:a?gxe.search:void 0};if(null===(r=n.panel)||void 0===r||delete r[s],!(null==t?void 0:t.focus))return u;const{focus:d}=t,f=NHe(xHe(d,ZFe($ue(c)),YFe(s)));for(const e in n.options)if(e.startsWith(f)){const t=null===(l=n.options)||void 0===l?void 0:l[e];if(!(null==t?void 0:t.mode))continue;[f,t.mode].join(k$)===e&&t.visible&&(u.mode=t.mode,u.visible=t.visible)}return u}const Uue=U({current:""}),que=U(null),Yue=U(null),Kue=U(null),{calcCommonSelectionPath:Gue,compareSelection:Xue,getNodeByPath:Jue,getPathFromKey:Que,isEmptyNode:ede}=hk;function tde(t,n,o,i,r){const l=_d(t),s=_d(n),c=R(PU),a=R(_U),u=R(FU),d=R(jU),f=_d(R(ZU)),{SheetProxy:h}=e,p=R(h),v=Wd("pointerdown"),g=Wd("pointerenter"),m=Wd("pointerleave"),y=Wd("pointermove"),b=Wd("click"),C=Wd("pointerenter"),w=Wd("pointerleave"),x=Wd("click"),S=Wd("blur"),E=Wd("pointerup");return F((()=>(window.addEventListener("pointerup",E.listener),()=>{window.removeEventListener("pointerup",E.listener)})),[E]),F((()=>{const e=Au(g,v).pipe(ju((()=>y.pipe(Pu(150)).pipe(Fu(1)).pipe(Wu(m)).pipe(Wu(x))))).subscribe((e=>{o(hae(!0))}));return()=>e.unsubscribe()}),[l,v,g,m,y,x,b,o]),F((()=>{const e=Au(g.pipe(ju((()=>m.pipe(_u(150)).pipe(Wu(C))))),v.pipe(ju((()=>y.pipe(Fu(1))))),C.pipe(ju((()=>w.pipe(_u(150)).pipe(Wu(g))))),x,b).subscribe((e=>{const{mode:t}=s.current;t||o(hae(!1))}));return()=>e.unsubscribe()}),[l,s,v,g,m,y,b,C,w,x,o]),F((()=>{const e=v.pipe(ju((e=>{const t=s.current.mode,n=u.current.agent,o=l.current.type===vae;return t||n||o||e.stopPropagation(),b.pipe(Ou((()=>!t))).pipe(Wu(S)).pipe(Wu(y))}))).subscribe((async e=>{e.stopPropagation();const t=l.current.value,n=s.current.mode;if(void 0===t||void 0!==n)return void(r.current&&r_(r.current));const{pageId:o,id:i,text:c}=t;if(o&&i){if(rh)return void await kae(d,o,i);await d.safty(o),d.dispatch(B6(o),rte(o,i),S6(o))}else c&&"search"!==n?r_(c):r.current&&r_(r.current)})),t=b.subscribe((e=>{e.preventDefault()}));return()=>{e.unsubscribe(),t.unsubscribe()}}),[l,s,v,y,b,S,d,r,u,c]),F((()=>{const e=g.subscribe((e=>{o(fae({textDecorationLine:"underline"}))}));return()=>e.unsubscribe()}),[o,g]),F((()=>{const e=g.pipe(ju((e=>m))).subscribe((()=>{o(fae({textDecorationLine:"none"}))}));return()=>e.unsubscribe()}),[o,g,m]),F((()=>{if(!n.visible||"review"===n.mode)return;const{focus:e}=f.current;let t=-1;const r=n=>{t=!n.focus||pHe(e,n.focus)?requestAnimationFrame((()=>{var e;null===(e=i.current)||void 0===e||e.reset(),o(pae()),a()})):requestAnimationFrame((()=>{c(l7(r))}))};return c(l7(r)),null==p||p.pointerDown.current.add(r),window.addEventListener("pointerdown",r),()=>{cancelAnimationFrame(t),c(s7(r)),null==p||p.pointerDown.current.delete(r),window.removeEventListener("pointerdown",r)}}),[null==p?void 0:p.pointerDown,f,c,a,o,i,n.visible,n.mode]),F((()=>{const e=v.pipe(ju((()=>E.pipe(Fu(1))))).subscribe((()=>{const{type:e,kid:t,uid:n=aRe(!0)}=l.current;if(e!==vae)return;const i=gxe.review;o(hae(!0),uae(i),(e=>{const{mode:o,visible:i}=e;if(!o)return delete u.current.options,e;const r=Que(t),l=[NHe(xHe(f.current.focus,ZFe(r),YFe(n))),o].join(k$);return void 0===u.current.options&&(u.current.options={}),u.current.options[l]={...u.current.options[l],mode:o,visible:i},e})),requestAnimationFrame(a)}));return()=>{e.unsubscribe()}}),[l,s,f,c,a,u,o,v,E]),{link:zd([v,g,m,y,b]),option:zd([C,w,x]),edit:zd([S])}}function nde(e){const t=_d(e),n=R(jU),o=R(PU),i=_d(R(RU)),r=R(WU),l=_d(R(ZU));return{async onClickSelector(e,s,c,a,u){await(async(e,s,c,a,u)=>{var d,f,h,p,v,g;const{result:{tree:m,count:y},rstate:{file:b}}=c,C=t.current,w=i.current,x=l.current;if(y&&y<=1)return void(null===(d=C.onRemove)||void 0===d||d.call(C));const S=$_e(m,e.id);if(!S)return;const E=e.payload;if(!E)return;if(void 0===C.id)return;const k=null===(f=w.file)||void 0===f?void 0:f.currentPageId;if(void 0===k)return;const{focus:D}=x,I=[yCe(e)],N=[k7(k),b9("updated"),s9(aRe(!0))],L=ia([k,S.id]),T=null==b?void 0:b.currentPageId;T&&!L.includes(T)&&L.push(T);for(const e of L){if(n.exist(e))continue;const t=await XY(e,r);N.push(mq(t)),I.push(xwe(t))}if(I.push(hue(S.id,C.id,s.kid,D,E)),I.push(NCe(e,S,s,((e,t,n)=>{const o=S.id,i=s.id;return YWe(e,o,t,i?[i]:[],n)}))),(null===(h=c.result.branch)||void 0===h?void 0:h.id)===e.id){const e=c.result.tree;if(null===(p=e[0].children)||void 0===p?void 0:p.length){const t=e[0].children.slice(0,2).map((e=>e.id));for(let e=0;e<t.length;e++){const n=t[e];if(!(null===(g=null===(v=c.rstate.store)||void 0===v?void 0:v.editor)||void 0===g?void 0:g[n])){const e=await XY(n,r);I.push(xwe(e))}}}I.push(JCe())}if(I.push(YCe(E),ICe()),N.push(k7(k),b9("updated"),lue(S.id,C.id,s.kid,D,E),F9(),Y3(k),Y3(S),r9(),v4()),C.uid){const e=xHe(D,ZFe(Que(C.kid)),YFe(C.uid),XFe());N.push(o4(e))}a(...I),u[2](!0),requestAnimationFrame((()=>{o(...N)}))})(e,s,c,a,u)}}}const{clearSelection:ode,getPathFromKey:ide}=hk,rde=[{key:pue.copy,icon:yO},{key:pue.cut,icon:function(){return G("svg",{width:"13.5",viewBox:"0 0 12 12",children:G("path",{fill:_f,stroke:_f,strokeWidth:"0.2",d:"M2.97468 0.617749L2.97468 0.617163C2.97311 0.348957 2.75534 0.130011 2.48713 0.130011C2.21921 0.130011 2.00157 0.349096 2 0.61758H2V0.618165V8.64813C2 9.38761 2.59844 9.99001 3.33458 9.99001H8.55H8.65V9.89001V9.11078V9.01078H8.55H3.39537C3.16367 9.01078 2.97468 8.82146 2.97468 8.5874L2.97468 0.617749ZM0.545455 3.31638L0.545455 3.31638H0.546133H1.5H1.6V3.21638V2.41638V2.31638H1.5L0.545762 2.31638L0.545091 2.31638C0.287003 2.31812 0.100001 2.5551 0.100001 2.81597C0.100001 3.07713 0.286902 3.31463 0.545455 3.31638ZM3.45 2.31638H3.35V2.41638V3.19448V3.29448H3.45H8.62037C8.84703 3.29448 9.03452 3.48285 9.03452 3.71803V11.1969C9.03452 11.4654 9.24923 11.6864 9.51705 11.6864C9.78515 11.6864 10 11.4655 10 11.1969V3.65712C10 2.91956 9.40957 2.31638 8.68004 2.31638H3.45ZM10.48 8.99494H10.38V9.09494V9.89037V9.99037H10.48H11.4813C11.6023 9.99037 11.7042 9.92471 11.7724 9.83377C11.8407 9.74285 11.88 9.62183 11.88 9.49244C11.88 9.36306 11.8407 9.24209 11.7723 9.15123C11.7039 9.0603 11.6018 8.99494 11.4807 8.99494H10.48Z"})})}},{key:pue.edit,icon:bO},{key:pue.review,icon:wO},{key:pue.removeLink,icon:vO},{key:pue.removeBack,icon:vO}];function lde(e){const t=R(ZU),n=R(VU),o=R(Kue),i=R(RU),r=R(_U),l=R(PU),s=R(FU),c=rde.filter((t=>{if("link"===e.type){if(t.key===pue.copy)return!0;if(t.key===pue.edit)return!0;if(t.key===pue.removeLink)return!0}else if("back"===e.type){if(t.key===pue.review)return!0;if(t.key===pue.cut)return!0;if(t.key===pue.removeBack)return!0}return!1}));return G("div",{style:{...Fue,...e.style},children:G(Dh,{style:_ue,onClick:e.onClick,onPointerDown:e=>e.stopPropagation(),...e.events,children:c.map((c=>{const a=e.lang?vue[e.lang][c.key]:c.key,u={};return(c.key===pue.edit&&gxe.search===e.mode||c.key===pue.review&&gxe.review===e.mode)&&(u.backgroundColor=Mf),G(Vk,{tips:a,direction:"top",children:G("div",{style:{...Wue,...u},children:G(Ev,{style:zue,onClick:a=>(async(c,a)=>{var u,d,f,h,p,v,g;const m=[],y=[];let b=!1;if(a===pue.edit){c.stopPropagation();const o=gxe.search;m.push(uae(o)),e.mode===o&&(b=!0),t.editor.selection&&(null===(u=n.current)||void 0===u||u.commit(ode())),y.push(g3())}else if(a===pue.review){c.stopPropagation();const o=gxe.review;m.push(uae(o)),e.mode===o&&(b=!0),t.editor.selection&&(null===(d=n.current)||void 0===d||d.commit(ode()))}else a===pue.copy?(await(null===(f=e.onCopy)||void 0===f?void 0:f.call(e,e.value)),m.push(dae()),b=!0):a===pue.cut?(await(null===(h=e.onCut)||void 0===h?void 0:h.call(e)),m.push(dae()),b=!0):a===pue.removeLink?await(null===(p=e.onRemove)||void 0===p?void 0:p.call(e)):a===pue.removeBack&&await(null===(v=e.onRemove)||void 0===v?void 0:v.call(e));const C=null===(g=i.file)||void 0===g?void 0:g.currentPageId;if(C&&y.push(k7(C)),b&&(o.current?o.current.reset():s.current&&delete s.current.options,m.push(pae())),e.uid){const n=ide(e.kid),o=xHe(t.focus,ZFe(n),JFe());Fc(i.gfocus,o)||(y.push(o4(o)),y.push(wDe(o,[])),y.push(Dq()))}m.length&&(m.push(Ewe(e,t,s)),e.dispatch(...m)),y.length&&l(...y),requestAnimationFrame(r)})(a,c.key),children:G(c.icon,{})})})},c.key)}))})})}const{clearSelection:sde,isDecorateNode:cde,getNodeByPath:ade,getPathFromKey:ude}=hk;function dde(e){var t,n,o,i,r;const l=_d(e),s=R(ZU),c=_d(s),a=R(VU),u=R(que),d=R(jU),f=R(RU),h=_d(f),p=R(PU),v=R(FU),g=R(Kue),m=R(Uue),y=null!==(n=null===(t=e.value)||void 0===t?void 0:t.text)&&void 0!==n?n:"",[b,C]=$(y),w=Z(!1),x=Z(!1),S=Z(),E=null!==(o=e.lang)&&void 0!==o?o:"cn",k=_(((e,t)=>{const{focus:n}=c.current,{file:o}=h.current,i=null==o?void 0:o.currentPageId;if(void 0===i)return;const{kid:r}=l.current,s=[sue(i,n,r,{text:e},!0),F9()];t&&s.push(k7(i),r9(),v4()),p(...s)}),[p,c,h,l]),{onClickSelector:D}=function(e){const t=_d(e),n=R(jU),o=R(PU),i=_d(R(RU)),r=R(WU),l=_d(R(ZU)),s=async(t,n,r,s,c,a)=>{var u,d,f;const{result:{tree:h}}=r,p=i.current,v=$_e(h,t.id);if(!v)return;const g=t.payload;if(!g)return;const m=null===(u=p.file)||void 0===u?void 0:u.currentPageId;if(void 0===m)return;if(void 0===e.id)return;const{kid:y}=n,b=[pCe(t,!0)],C=[k7(m),b9("updated"),s9(aRe(!0))],w=Sae(g.node)?null===(f=null===(d=g.node)||void 0===d?void 0:d.props)||void 0===f?void 0:f.id:aRe();g.checked?b.push(fue(v.id,e.id,m,g,vae,w)):b.push(due(v.id,e.id,m,g,vae,w));const x=Que(y),{focus:S,editor:{data:E,node:k}}=l.current;let D=n.text;if(void 0===D){let e=E;ede(e,!0)&&(e=k);const t=Jue(e,x);D=LWe(t)}if(b.push(NCe(t,v,n,((e,t)=>{if(!D)return null;const n=AWe(D,e,t);return null==a||a(n),n})),YCe(g)),e.uid){const t=xHe(S,ZFe(Que(e.kid)),YFe(e.uid),XFe());C.push(o4(t))}g.checked?(C.push(sue(m,S,y,{text:D})),C.push(iue(v.id,e.id,g,vae,w))):(C.push(sue(m,S,y,{text:D,id:w,pageId:v.id})),C.push(oue(v.id,e.id,m,g,vae,w))),C.push(F9(),Y3(m),Y3(v),r9(),v4()),c[2](!0),s(...b),requestAnimationFrame((()=>{o(...C)}))};return{async onClickSelector({...e},l,c,a,u){var d,f,h,p,v;const{result:{tree:g},rstate:{file:m}}=c,y=t.current,b=i.current;if((null===(d=e.payload)||void 0===d?void 0:d.node)&&Eae(e.payload.node)){const t=[pCe(e,!0)];return void a(...t)}const C=null===(f=b.file)||void 0===f?void 0:f.currentPageId;if(void 0===C)return;const w=$_e(g,e.id);if(!w)return;const x={...null===(h=b.store)||void 0===h?void 0:h.editor},S={...null===(p=b.store)||void 0===p?void 0:p.reference},E=[],k=[],D=ia([C,w.id]),I=null===(v=y.value)||void 0===v?void 0:v.pageId;I&&!D.includes(I)&&D.push(I);const N=null==m?void 0:m.currentPageId;N&&!D.includes(N)&&D.push(N);for(const e of D){if(n.exist(e))continue;const t=await XY(e,r);Object.assign(x,null==t?void 0:t.editor),Object.assign(S,null==t?void 0:t.reference),k.push(mq(t)),E.push(xwe(t))}a(...E),o(...k);let L=!1;async function T(){await s(e,l,c,a,u)}await async function(){var t,n,i,r,d,f;const h=null===(t=y.value)||void 0===t?void 0:t.id;if(!h||!C)return;const p=null===(n=null==S?void 0:S[h])||void 0===n?void 0:n.detail;if(!p)return;const v=e.id,m=Zbe(g),b=Object.keys(p).filter((e=>e!==h));if(1===m.length){if(m[0].id===v)return;let t;if(b.includes(C)){const n=m[0].payload,o=e.payload;if(Fc(n.search,o.search)){const r=Gue(n),l=Gue(o);if(r[0]===l[0]&&-1===Xue(n,o)){let o=-1;const l=r[0],s=$_e(g,v);null===(i=g[0].children)||void 0===i||i.forEach((e=>{var t,i,r,c;if(e.id===C){let a=0;n.search&&(a=null!==(i=null===(t=null==s?void 0:s.children)||void 0===t?void 0:t.findIndex((e=>{var t;return!!Fc(null===(t=e.payload)||void 0===t?void 0:t.search,n.search)})))&&void 0!==i?i:0,-1===a&&(a=0));const u=null!==(c=null===(r=e.children)||void 0===r?void 0:r.slice(a))&&void 0!==c?c:[];for(let e=0;e<(null==u?void 0:u.length);e++){const t=u[e];if(!t)continue;const n=t.payload,i=Gue(n);if(l===i[0]){if(o++,t.id===v)break}else if(l<i[0])break}}})),-1!==o&&(L=!0,t=t=>{var n;const i=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[o];i&&(e.payload=i.payload)})}}}await s(m[0],l,c,a,u,t)}else if(1===(null==b?void 0:b.length)&&y.id){const e=null===(r=x[b[0]])||void 0===r?void 0:r.data;if(e){const t=YWe(e,b[0],{},[h],S),n=null===(f=null===(d=null==t?void 0:t.children)||void 0===d?void 0:d[0])||void 0===f?void 0:f.payload;if(void 0!==n){const e=[];b[0]===C&&e.push(fue(b[0],y.id,C,n,vae,h));const t=[iue(b[0],y.id,n,vae,h)];a(...e),requestAnimationFrame((()=>{o(...t)}))}}}}(),L?requestAnimationFrame(T):await T()}}}(e),I=s.editor.status,N={...e,id:null===(i=e.value)||void 0===i?void 0:i.id,text:b,layout:{top:40},selector:vue[null!==(r=e.lang)&&void 0!==r?r:"cn"][pue.forward],showHeader:!1,onlyShowInResult:!0,type:"radio",name:gae,exclude(t,n){var o;return!(0===n[0]||!Fve(t)&&!Hve(t))||!(!cde(t)||(null===(o=t.props)||void 0===o?void 0:o.uid)!==e.uid)},onClickSelector:D,onClose(){u(pae())}},L=_d(N);H((()=>{var e;("normal"===I||void 0===I)&&N.text&&w.current&&(null===(e=g.current)||void 0===e||e.research(!0),w.current=!1)}),[I,N.text,g,w]),H((()=>{var e,t;return null===(t=null===(e=S.current)||void 0===e?void 0:e.focus)||void 0===t||t.call(e),()=>{requestAnimationFrame((()=>{var e;const{text:t,kid:n}=L.current,{focus:o}=c.current,i=PHe(d.stater.get().editor.data,o);if(i){const o=ude(n),r=ade(i,o);if(Eae(r)){const n=null===(e=r.props)||void 0===e?void 0:e.value;if((null==n?void 0:n.text)===t)return}}void 0!==t&&k(t,!0)}))}}),[h,L,c,d,k]);const T=vue[E].placeholder;return X("div",{style:Fue,children:[G(Dh,{style:jue,onPointerDown:e=>{var t;if(e.stopPropagation(),!Fc(s.focus,f.gfocus)){const e=jFe();p(o4(e))}s.editor.selection&&(null===(t=a.current)||void 0===t||t.commit(sde()))},children:G("input",{ref:S,style:Vue,value:b,onKeyDown:e=>{e.stopPropagation(),"Enter"===e.key&&u(dae(),hae(!1))},onInput:e=>{const t=e.target.value.trim();t!==b&&(x.current||(C(t),k(t),w.current=!0,m.current=t,""===t&&(g.current?g.current.reset():v.current&&delete v.current.options)))},onBlur:e=>{x.current=!1},onCompositionStart:e=>{x.current=!0},onCompositionEnd:e=>{const t=e.target.value.trim();C(t),k(t),w.current=!0,requestAnimationFrame((()=>{x.current=!1}))},placeholder:T,...e.events})}),b?G(Cxe,{...N,ref:g}):null]})}const{getEditNodeByPath:fde,getNodeByPath:hde,getPathFromKey:pde}=hk;function vde(e){var t,n;const o=R(PU),i=R(RU),r=R(WU),l=R(FU),s=R(ZU),c=R(VU),a=R(jU),u=Z(null),d=R(HU),{lang:f}=R(OU),h=Z(""),{kid:p,uid:v=aRe(),value:g}=e,m=null===(t=l.current.panel)||void 0===t?void 0:t[v],[y,b]=qd((()=>Zue(e,s,l.current))),C=Z(null),w=Z(null),x=tde(e,y,b,u,h),S=_((e=>{var t;null===(t=c.current)||void 0===t||t.commit((t=>{var n;const o=pde(p),i=fde(t.node,o);if(Eae(i)){void 0===i.props&&(i.props={});const t=i.props;t.value=null!==(n=t.value)&&void 0!==n?n:{},Object.assign(t.value,e)}return t}))}),[c,p]);F((()=>{if(m){const e=xHe(s.focus,GFe());Fc(i.gfocus,e)||o(o4(e))}}));const E={...e,...y,events:x.edit,onChange:S},k={...e,...y,events:x.option,lang:f,dispatch:b,onChange:S,onCopy:async e=>{const t=pde(p),{data:n}=s.editor,o=hde(n,t);await Dae(o,e)},onRemove:async()=>{var t;const n=null===(t=i.file)||void 0===t?void 0:t.currentPageId;if(!n)return;const{focus:l}=s;await a.safty(n);const c=[k7(n),cue(n,l,p),Y3(n),s9(aRe(!0))];await async function(){var t,n,o;const{value:i,id:l}=e;if(!i||!l)return;const{id:s,pageId:u}=i;if(!s||!u)return;const d=await XY(u,r);if(!d)return;const f=null===(t=null==d?void 0:d.editor)||void 0===t?void 0:t[u];if(!f)return;const{data:h}=f,p=YWe(h,u,{},[s],d.reference),v=null===(o=null===(n=null==p?void 0:p.children)||void 0===n?void 0:n[0])||void 0===o?void 0:o.payload;v&&(await a.safty(u),c.push(iue(u,l,v,vae,s),Y3(u)))}(),o(...c,r9(),v4())}},D={...Mue,...(null==g?void 0:g.id)&&Oue,...e.style},I=pde(p),N=null==s?void 0:s.editor.node;N&&Yde(N,I)&&(D.display="inline-block");const L=null!==(n=null==g?void 0:g.pageId)&&void 0!==n?n:null==g?void 0:g.text;return G(Kue,{value:u,children:G(Uue,{value:h,children:G(que,{value:b,children:X("span",{style:Aue,children:[G("a",{style:D,ref:C,href:L,target:"_blank",...x.link,children:e.children}),e.editable&&y.visible&&oD(G(lde,{...k,type:"link"}),d,C),G("span",{style:Pue,ref:w}),e.editable&&y.visible&&y.mode===gxe.search&&oD(G(dde,{...E}),d,w)]})})})})}const{isDecorateNode:gde}=hk;function mde(e){var t;const n=R(Yue),o=R(Kue),{onClickSelector:i}=nde(e),r={...e,type:void 0,selector:vue[null!==(t=e.lang)&&void 0!==t?t:"cn"][pue.backward],name:vae,exclude(t,n){var o;return!(0===n[0]||!Fve(t)&&!Hve(t))||!(!gde(t)||(null===(o=t.props)||void 0===o?void 0:o.uid)!==e.uid)},onClickSelector:i,onClose(){n(pae())}};return G("div",{style:Fue,children:G(kxe,{...r,ref:o})})}const{deleteNode:yde,getNodeByPath:bde,getPathFromKey:Cde}=hk;function wde(e){var t,n,o,i;const r=R(PU),l=R(RU),s=R(WU),c=R(FU),a=R(ZU),u=R(VU),d=R(jU),f=Z(""),h=Z(null),p=R(HU),{lang:v}=R(OU),[g,m]=qd((()=>Zue(e,a,c.current))),y=Z(null),b=Z(null),{kid:C,id:w}=e;let x,S;if(w){const e=null===(n=null===(t=l.store)||void 0===t?void 0:t.reference)||void 0===n?void 0:n[w];if(e){const t=null!==(i=null===(o=e.data.props)||void 0===o?void 0:o.back)&&void 0!==i?i:{};x=Object.values(t),S=Object.keys(t)}}const E=tde(e,g,m,h,f),k=async()=>{var e,t;if(!w)return;const n=null===(e=l.file)||void 0===e?void 0:e.currentPageId;if(!n)return;const{focus:o}=a;await d.safty(n);const i=[k7(n),aue(n,o,C),Y3(n),s9(aRe(!0))];if((null==x?void 0:x.length)&&(null==S?void 0:S.length)){for(let e=0;e<x.length;e++){const n=x[e],r=await XY(n,s),l=null===(t=null==r?void 0:r.editor)||void 0===t?void 0:t[n];if(!l)continue;const{data:c}=l,a={callback(e){var t;if(Eae(e)){const n=null===(t=e.props)||void 0===t?void 0:t.value;if(!(null==n?void 0:n.id))return!1;if(n.id!==w)return!0}return!1}},u=YWe(c,n,a,S,null==r?void 0:r.reference);if(!(null==u?void 0:u.children))continue;await d.safty(n);for(let e=u.children.length-1;e>=0;e--){const{payload:t}=u.children[e];i.push(lue(n,w,C,o,t))}i.push(Y3(n))}r(...i,r9(),v4())}else r(...i,r9(),v4())},D={...e,...g,pageIds:x,targetIds:S,onRemove:k,events:E.edit},I={...e,...g,events:E.option,lang:v,dispatch:m,onCut:async()=>{var e;const t=Cde(C),{data:n}=a.editor,o=bde(n,t);null===(e=u.current)||void 0===e||e.commit(yde(t)),await Iae(o)},onRemove:k};return G(Kue,{value:h,children:G(Yue,{value:m,children:X("span",{style:Aue,children:[G("span",{style:Rue,ref:y,...Kf?{}:E.link,children:e.children}),e.editable&&g.visible&&oD(G(lde,{...I,type:"back"}),p,y),G("span",{style:Pue,ref:b}),g.visible&&g.mode===gxe.review&&oD(G(mde,{...D}),p,b)]})})})}var xde={name:gae,hotkey:function(e){return Uf?"+K":"Ctrl+K"},label:function(e){return vue[e.lang][pue.link]},outer:function({children:e,...t}){var n;const o=R(jU),i=R(FU),r=t.lang,l=_((()=>{var e;const{modal:t,webdav:n,file:l}=o.stater.get();if((null==t?void 0:t.visible)||(null==n?void 0:n.visible))return;if(gje(l))return;const s=o.provider(),c=o.stater.get(),{imperator:a,rootdispatch:u}=s;null===(e=a.current)||void 0===e||e.commit(Tue(u,c,i,r)),u(g3())}),[o,i,r]);return Bue(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),l),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:l,children:[G(aae,{...t}),e]})},icon:aae},Sde=Object.freeze({__proto__:null,BACK_BACKGROUND_IMAGE:yae,DEFAULT_HEIGHT:300,DEFAULT_WIDTH:600,FOCUS_FIELD:{OPTION:"option",INPUT:"input"},INPUT_HEIGHT:300,LINK_BACKGROUND_IMAGE:mae,addBack:oue,back:vae,backblock:wde,clearMode:dae,close:pae,decreaseBack:fue,decreaseLink:hue,default:xde,deleteBack:aue,deleteLink:cue,increaseBack:due,insertLink:Tue,isBackNode:Sae,isBackNodeTouchSelection:Tae,isEmptyChildren:function(e){return!!(et(e)&&e.length<=1)&&(void 0===e[0]||e[0]===bae)},isLinkNode:Eae,isLinkNodeTouchSelection:Lae,isOutlineBranch:function(e,t,n){var o;if(void 0===n)return!1;const i=null===(o=n.editor)||void 0===o?void 0:o[t.id];if(void 0===i)return!1;const r=i.data,l=$je(e.payload),{focus:{path:s}}=l,c=wae(r,s,rae);return void 0!==c&&!!Rve(Cae(r,c),iae.H)},jump:kae,linkblock:vde,name:gae,pasteBack:rue,removeBack:iue,removeLink:lue,resetLink:uue,resetSelectionBackNode:Lue,resetSelectionLinkNode:Nue,resetSelectionStatus:()=>e=>(void 0===e.selection||Sue(e.node,e.selection,((t,n)=>{var o;let i=n.length;for(;i>0;){const t=mue(e.node,n.slice(0,i));(Eae(t)||Sae(t))&&(null===(o=t.props)||void 0===o?void 0:o.value)&&(t.props.value.mode=void 0,t.props.value.optional=!1),i--}})),e),setLink:sue,setLinkStyle:fae,setMode:e=>t=>(t.mode=e,t),setOptional:hae,toggleMode:uae,writeBackToClipboard:Iae,writeLinkToClipboard:Dae});const Ede={position:"relative"},kde={position:"absolute",top:0,right:0,bottom:0,left:0,border:`1px solid ${Bf}`,zIndex:1},Dde={display:"inline-block",lineHeight:1.2,verticalAlign:"text-bottom"},Ide={position:"absolute",width:8,height:8,borderRadius:"50%",backgroundColor:Bf,border:"1px solid #fff",boxShadow:"0 1px 4px 0 rgb(0 0 0 / 40%)"},Nde={...Ide,left:-5,top:-5,cursor:"nwse-resize"},Lde={...Ide,right:-5,bottom:-5,cursor:"nwse-resize"},Tde={...Ide,right:-5,top:-5,cursor:"nesw-resize"},Bde={...Ide,left:-5,bottom:-5,cursor:"nesw-resize"};var Ade=Object.freeze({__proto__:null,container:Ede,image:Dde,resize:kde,resizeMark:Ide,resizeMarkNE:Tde,resizeMarkNW:Nde,resizeMarkSE:Lde,resizeMarkSW:Bde});const{isNode:Mde,isEditNode:Ode,isMetaNode:Rde,getEditNodeByPath:Pde,sliceDecoratePath:Fde,comparePath:Hde,isCollapsed:_de,createMetaNode:jde,isBlockNode:Wde,createInlineNode:zde,createReferenceInlineNode:Vde}=hk;function $de(e,t){return{type:MW,children:null!=t?t:[],props:e}}function Zde(e){return Mde(e)&&e.type===MW}function Ude(e){return Mde(e)&&Rde(e)&&Zde(e.children[0])}function qde({width:e,height:t},n,o){let i=1;0!==e&&0!==t&&(i=(null!=e?e:1)/(null!=t?t:1));let r=o.pageX-n.pageX,l=o.pageY-n.pageY;return(Math.abs(r)>i*Math.abs(l)||0===l)&&(l=Math.abs(r)/i*(0===l?1:Math.abs(l)/l)),(Math.abs(r)<i*Math.abs(l)||0===r)&&(r=i*Math.abs(l)*(0===r?1:Math.abs(r)/r)),{x:r,y:l}}function Yde(e,t){let n=Pde(e,t);if(!Ode(n))return!1;for(;1===n.children.length;){const e=n.children[0];if(Zde(e))return!0;if(!Ode(e))break;n=e}return!1}function Kde(e,t){let n=!1;const{editor:{node:o,selection:i}}=e,r=Fde(o,t,xde.name);if(r){if(Eae(Pde(o,r))&&(n=!0),_de(i)){const e=null==i?void 0:i.focus.path;e&&0===Hde(e,t)&&(n=!1)}}return n}async function Gde(e,t){return new Promise((n=>{const o=new O2.ArrayBuffer;o.append(e);const i=`${o.end()}.${t}`,r=new Blob([e],{type:t}),l=new FileReader;l.onload=async function(e){var t;const o=null===(t=e.target)||void 0===t?void 0:t.result;if(!Cc(o))return;const r=new Image;r.onload=()=>n({image:r,hash:i}),r.src=o},l.readAsDataURL(r)}))}function Xde(e,t,n,o){const{naturalWidth:i,naturalHeight:r}=e,l=Math.min(i,t),s=r*(l/i),c=aRe();return jde([$de({hash:n,uid:c,type:o,value:{width:l,height:s}},[Vde({id:n,uid:c,type:MW})])],Dde)}function Jde(e){return G(J_,{...e,children:G(MR,{})})}const{useHotkey:Qde}=Cj;const efe="quote",tfe={cn:{[efe]:""},en:{[efe]:"Quote"}};const nfe=10,ofe="quote",{isDecorateBlockNode:ife}=hk;function rfe(e){var t;return ife(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===ofe}function lfe(){return{paddingTop:nfe,paddingBottom:nfe}}const{createDecorateBlockNode:sfe,decorateBlockNode:cfe,sortSelection:afe,sliceDecoratePath:ufe,getEditNodeByPath:dfe}=hk;function ffe(e){var t,n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),{imperator:s,context:c}=l,a=null===(t=c.editor.selectionDecorate)||void 0===t?void 0:t[ofe];null===(n=s.current)||void 0===n||n.commit(hfe(a))}const hfe=e=>t=>{if(void 0===t.selection)return t;const{before:n}=afe(t.selection),o=ufe(t.node,n.path,rae);if(o){if(Fve(dfe(t.node,o)))return t}if(ufe(t.node,n.path,lae))return t;if(void 0===e){const e=sfe({type:ofe,subclass:ofe},[],lfe());t=cfe(e)(t)}else t=cfe()(t);return t},{SPLIT_BLOCK_MARGIN:pfe}=hk,vfe={paddingLeft:15,position:"relative"},gfe={position:"relative",opacity:.72,top:-nfe},mfe={position:"absolute",left:0,top:pfe,bottom:pfe,width:2.5,transformOrigin:"left",backgroundColor:Bf,borderRadius:1.3};function yfe(e){const t=R(ZU);let n=-nfe,o="100%";return t.virtual||(n=0,o="unset"),X("div",{style:{...vfe,height:o},children:[G("div",{style:mfe}),G("div",{style:{...gfe,top:n},children:e.children})]})}var bfe={name:ofe,label:function(e){return tfe[e.lang][efe]},hotkey:function(e){return Uf?"++Y":"Ctrl+Alt+Y"},outer:function({children:e,...t}){var n;const o=R(jU),i=_((()=>{ffe(o)}),[o]);return Qde(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),i),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:i,children:[G(Jde,{...t}),e]})},icon:Jde},Cfe=Object.freeze({__proto__:null,QUOTE_MARGIN:nfe,block:yfe,createQuoteBoxStyle:lfe,default:bfe,insertQuote:hfe,isQuoteNode:rfe,name:ofe,setQuote:ffe});function wfe(e){return G(J_,{...e,children:G(OR,{})})}const{isNode:xfe}=hk;function Sfe(e){return xfe(e)&&e.type===Gfe}function Efe(e){return{type:Gfe,children:[],props:e}}const{getEditNodeByPath:kfe,getNodeByPath:Dfe,getPathFromKey:Ife,reflowEditNodeByPath:Nfe,setEditPending:Lfe}=hk,Tfe=(e,t)=>n=>{const o=n.editor,{node:i,data:r}=o,l=Ife(e),s=kfe(i,l);return Sfe(s)&&(void 0===s.props&&(s.props={}),s.props.value=t),Nfe(l)(o),Lfe(!0)(o),n},{sortSelection:Bfe,createMetaNode:Afe,insertNode:Mfe}=hk,Ofe=e=>t=>{if(void 0===t.selection)return t;const{before:{path:n}}=Bfe(t.selection),o=IFe(t,n,e),i=Afe([Efe({value:{width:o}})],{display:"inline-block",verticalAlign:"bottom"});return t=Mfe(i)(t)};function Rfe(e){const{modal:t,webdav:n,file:o}=e.stater.get();if((null==t?void 0:t.visible)||(null==n?void 0:n.visible))return;if(gje(o))return;const i=e.provider(),r=e.stater.get(),{context:l,imperator:s,rootdispatch:c}=i,a=r.editor.style,u=()=>{var e;null===(e=s.current)||void 0===e||e.commit(Ofe(a))};l.root?g$e(l,e,c,u):u()}const{useHotkey:Pfe}=Cj;const Ffe="separator",Hfe={cn:{[Ffe]:""},en:{[Ffe]:"Separator"}};const _fe={position:"relative",display:"inline-block",cursor:"default"},jfe={position:"relative",backgroundColor:jf,height:1,display:"inline-block",verticalAlign:"middle"},Wfe={position:"absolute",top:-1,right:0,bottom:-1,left:0,border:`1px solid ${Bf}`,zIndex:1},zfe={position:"absolute",width:8,height:8,borderRadius:"50%",backgroundColor:Bf,border:"1px solid #fff",boxShadow:"0 1px 4px 0 rgb(0 0 0 / 40%)",transform:"translateY(-50%)",top:"50%"},Vfe={...zfe,left:-5,cursor:"ew-resize"},$fe={...zfe,right:-5,cursor:"ew-resize"},{getPathFromKey:Zfe}=hk;function Ufe(e){const t=_d(e),n=R(jU),o=R(FU),i=R(PU),r=_d(R(ZU)),l=R(qU),s=Wd("pointerdown"),c=Wd("pointerdown");F((()=>{const e=yFe.POINTER_DOWN_MOVE_UNTIL_UP,{kid:a,value:{width:u=0}={}}=t.current,d=Zfe(a),f=s.subscribe((t=>{o.current.agent=e;const{dispatch:s}=n.provider(),c=aFe(r.current.editor);i(i7({type:e,action(e){const n=e.pageX-t.pageX;s(Tfe(a,{width:Math.max(0,Math.min(u+n,IFe(c,d)))}),I9()),l(i)}}))})),h=c.subscribe((t=>{o.current.agent=e;const{dispatch:s}=n.provider(),c=aFe(r.current.editor);i(i7({type:e,action(e){const n=e.pageX-t.pageX;s(Tfe(a,{width:Math.max(0,Math.min(u-n,IFe(c,d)))}),I9()),l(i)}}))}));return()=>{f.unsubscribe(),h.unsubscribe()}}),[i,n,t,r,o,s,c]);const a=zd([s]),u=zd([c]);return X("div",{style:Wfe,children:[G("div",{style:$fe,...a}),G("div",{style:Vfe,...u})]})}const{getEditNodeByPath:qfe,getPathFromKey:Yfe}=hk;function Kfe({kid:e,...t}){var n;const o=R(ZU),i=R(VU),r=R(FU),l=R(PU),s=_((()=>{r.current.agent!==yFe.POINTER_DOWN_MOVE_UNTIL_UP?requestAnimationFrame((()=>{var t;null===(t=i.current)||void 0===t||t.commit((t=>{const n=Yfe(e),o=qfe(t.node,n);if(Sfe(o)){if(void 0===o.props)return t;delete o.props.mode}return t}))})):requestAnimationFrame((()=>{l(l7(s))}))}),[e,i,r,l]);return G("div",{style:_fe,onPointerDown:n=>{"resize"!==t.mode?requestAnimationFrame((()=>{l(l7(s))})):requestAnimationFrame(s),requestAnimationFrame((()=>{var t;null===(t=i.current)||void 0===t||t.commit((t=>{const n=Yfe(e),o=qfe(t.node,n);if(Sfe(o)){void 0===o.props&&(o.props={});o.props.mode="resize"}return t}))}))},children:G("div",{style:{...jfe,...t.style,width:NFe(o.editor,e,null===(n=t.value)||void 0===n?void 0:n.width)},children:!Kf&&t.editable&&"resize"===t.mode&&G(Ufe,{kid:e,...t})})})}const Gfe="separator";var Xfe={name:Gfe,label:function(e){return Hfe[e.lang][Ffe]},hotkey:function(e){return Uf?"++-":"Ctrl+Alt+-"},outer:function({children:e,...t}){var n;const o=R(jU),i=_((()=>{Rfe(o)}),[o]);return Pfe(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),i),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:i,children:[G(wfe,{...t}),e]})},icon:wfe},Jfe=Object.freeze({__proto__:null,block:Kfe,createSeparatorNode:Efe,default:Xfe,insertSeparator:Ofe,isSeparatorNode:Sfe,name:Gfe,separate:Rfe,setSeparatorState:Tfe});const Qfe=e=>t=>(t.visible=e,t),ehe=()=>e=>(e.visible=!e.visible,e),{isNode:the,isMetaNode:nhe}=hk;function ohe(e){return{type:jz,children:[],props:e}}function ihe(e){return the(e)&&e.type===jz}function rhe(e){return the(e)&&nhe(e)&&ihe(e.children[0])}const{isCollapsed:lhe,createMetaInlineNode:she,insertNode:che,deleteFragment:ahe,getEditNodeByPath:uhe,clearSelection:dhe}=hk,fhe=()=>e=>{if(void 0===e.selection)return e;if(lhe(e.selection)||(e=ahe()(e)),void 0===e.selection)return e;const t=e.selection.focus.path;if(void 0===t)return e;if(ihe(uhe(e.node,t)))return e;const n=she([ohe({uid:aRe(),initState:{sync:!0,visible:!0}})],{WebkitTextFillColor:"initial"});return e=che(n)(e),e=dhe()(e)},{useHotkey:hhe}=Cj;const phe={position:"relative",display:"inline-flex"},vhe={cursor:"pointer",display:"inline-flex",fontFamily:"Segoe UI Emoji, Segoe UI Symbol, Segoe UI, Apple Color Emoji, Twemoji Mozilla, Noto Color Emoji, Android Emoji"},ghe={position:"absolute",left:0,right:0,bottom:0},mhe={opacity:.7,filter:"grayscale(1)"},{ITEM_HEIGHT:yhe,INPUT_HEIGHT:bhe,keyEmoji:Che}=Gz;function whe(){return G("span",{style:mhe,children:""})}const{clearSelection:xhe,getPathFromKey:She}=hk;const{getEditNodeByPath:Ehe,getPathFromKey:khe}=hk;function Dhe({children:e,...t}){var n,o;const i=R(FU),r=R(HU),{lang:l}=R(OU),s=R(_U),c=R(ZU),a=R(VU),[u,d]=qd((()=>function(e,t,n){var o;const{initState:i,uid:r=aRe(!0)}=e,l={...i,visible:!!(null==i?void 0:i.visible),layout:{height:Object.keys(Che).length*yhe+bhe}};if(!(null==t?void 0:t.focus))return l;const{focus:s}=t,c=NHe(xHe(s,QFe(r)));for(const e in n.options){const t=null===(o=n.options)||void 0===o?void 0:o[e];e===c&&(l.visible=t.visible,l.layout=t.layout)}return l}(t,c,i.current))),{kid:f,uid:h=aRe()}=t,p=e3(f,QFe(h)),v=null===(n=t.initState)||void 0===n?void 0:n.sync,g=Z(null),m=function(e,t,n,o){const i=o[2],r=_d(R(ZU)),l=R(VU),s=R(PU),c=R(_U),a=Wd("click"),u=Wd("pointerdown");return F((()=>{const e=a.subscribe((e=>{var t;if(rh)return;const{focus:o}=r.current;null===(t=l.current)||void 0===t||t.commit((e=>xhe()(e))),n(ehe()),s(o4(o),SDe()),c()}));return()=>e.unsubscribe()}),[a,l,r,n,s,c]),F((()=>{const e=u.subscribe((e=>{e.stopPropagation()}));return()=>e.unsubscribe()}),[u]),F((()=>{if(!t.visible)return;let e=-1;const o=()=>{i(),e=requestAnimationFrame((()=>{n(Qfe(!1))}))};return s(l7(o)),window.addEventListener("pointerdown",o),()=>{s(s7(o)),window.removeEventListener("pointerdown",o),cancelAnimationFrame(e)}}),[n,s,i,t.visible]),{emoji:zd([a,u])}}(0,u,d,p);H((()=>{p[1]({...u})})),F((()=>{var e;v&&(null===(e=a.current)||void 0===e||e.commit((e=>{var t;const n=khe(f),o=Ehe(e.node,n);return ihe(o)&&(null===(t=o.props)||void 0===t||delete t.initState),e})),s())}),[v,f,a,s]);const y=!1!==t.editable,b={random:!0,...t,onChange:({emoji:e})=>{var n;null===(n=a.current)||void 0===n||n.commit((n=>{const o=khe(t.kid),i=Ehe(n.node,o);return ihe(i)&&i.props?(i.props.value={emoji:e},delete i.props.initState,n):n})),d(Qfe(!1)),s()},lang:l},C=null===(o=b.value)||void 0===o?void 0:o.emoji,w=!Uf&&!Zf&&!eh,x={...vhe};return w&&(x.width="1.1em",x.height="1.1em",x.alignItems="center",x.justifyContent="center"),x.cursor=y?"pointer":"auto",X("span",{style:{...phe,verticalAlign:w?"text-bottom":"",...t.style},children:[G(wh,{...m.emoji,style:x,children:C?w?G(Jz,{emoji:C,position:!0}):C:G(whe,{})}),G("span",{style:{...ghe,bottom:w?-5:0},ref:g}),y&&u.visible&&oD(G(wh,{onPointerDown:e=>e.stopPropagation(),children:G(Qz,{...b})}),r,g)]})}const Ihe=jz;var Nhe={...eV,outer:function({children:e,...t}){var n;const o=R(jU),i=_((()=>{const{modal:e,webdav:t,file:n}=o.stater.get();if((null==e?void 0:e.visible)||(null==t?void 0:t.visible))return;if(gje(n))return;const i=o.provider(),{context:r,imperator:l,rootdispatch:s}=i,c=()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.commit(fhe())};r.root?g$e(r,o,s,c):c()}),[o]);return hhe(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),i),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:i,children:[G(Zz,{...t}),e]})}},Lhe=Object.freeze({__proto__:null,block:Dhe,createEmojiNode:ohe,default:Nhe,insertEmoji:fhe,isEmojiNode:ihe,isMetaEmojiNode:rhe,name:Ihe,setVisible:Qfe,toggleVisible:ehe});function The(e){return G(J_,{...e,children:G(RR,{width:13})})}const Bhe="reference",Ahe="linear-gradient(90deg, rgb(177, 106, 77) 0%, rgb(213, 166, 56) 100%)",{isDecorateInlineNode:Mhe}=hk;function Ohe(e){var t;return Mhe(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===Bhe}const{getEditNodeByPath:Rhe}=hk;function Phe(e,t){const n=e.editor;let o=n.selection;if(void 0===o)return!1;const i=o.focus.path;let r=i.length;for(;r>0;){if(Ohe(Rhe(n.node,i.slice(0,r))))return!0;r--}const l=o.focus.path;let s=l.length;for(;s>0;){if(Ohe(Rhe(n.node,l.slice(0,s))))return!0;s--}return!1}const Fhe={reference:"reference",review:"review",remove:"remove",search:"search",placeholder:"placeholder"},Hhe={cn:{[Fhe.reference]:"",[Fhe.review]:"",[Fhe.remove]:"",[Fhe.search]:"",[Fhe.placeholder]:""},en:{[Fhe.reference]:"Refer",[Fhe.review]:"Read Refer",[Fhe.remove]:"Cancel Refer",[Fhe.search]:"Edit Refer",[Fhe.placeholder]:"Please enter a keyword to search for associated reference"}},{getEditNodeByPath:_he,isCollapsed:jhe,isReferenceNode:Whe,sliceDecoratePath:zhe,traversalEditNodeBySelection:Vhe,createDecorateInlineNode:$he,createReferenceInlineNode:Zhe,convergeBlockSelection:Uhe,decorateNode:qhe,clearSelection:Yhe}=hk,Khe=()=>e=>{if(!e.selection||!jhe(e.selection))return e;let t=e.selection.focus.path;for(;null==t?void 0:t.length;){if(t=zhe(e.node,t,Bhe),void 0===t)return e;const n=_he(e.node,t);if(!Ohe(n))return e;const o=aRe();n.props&&(n.props.id=o,n.props.uid=aRe());const i=n.children[0];Whe(i)&&i.props&&(i.props.id=o,i.props.uid=aRe()),t=hc(t)}return e},Ghe=(e,t,n,o)=>i=>{const{node:r,selection:l,selectionDecorate:s}=i;if(!l)return i;const c=Hhe[o][Fhe.reference];if(rCe(e,t,r,l,c))return i;if(void 0===(null==s?void 0:s[Bhe])){const e=aRe(),t=aRe(),o=$he({id:e,uid:t,type:Bhe,subclass:Bhe},[Zhe({id:e,uid:aRe()})]);i=Uhe()(i),i=qhe(o)(i),jhe(i.selection)||(i=Yhe()(i)),n.current.panel||(n.current.panel={}),n.current.panel[t]=!0}return i},Xhe=e=>t=>(t.mode=e,t),Jhe=e=>t=>t=t.mode===e?Qhe()(t):Xhe(e)(t),Qhe=()=>e=>(delete e.mode,e),epe=e=>t=>(t.visible=e,t),tpe=()=>e=>(e=Qhe()(e),e=epe(!1)(e)),{useHotkey:npe}=Cj;const{getPathFromKey:ope}=hk;const ipe={position:"relative"},rpe={...{color:"rgb(195, 136, 67)",textShadow:"none",backgroundImage:Ahe,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text",WebkitBoxDecorationBreak:"clone"},cursor:"pointer"},lpe={position:"absolute",zIndex:1,display:"flex",justifyContent:"center",cursor:"default",left:"50%",top:-5},spe={...{boxShadow:Wf,borderRadius:4,position:"absolute",display:"flex"},alignItems:"center",transform:"translateY(-100%)",padding:"4px 3px"},cpe={borderRadius:2,margin:"0 2px"},ape={width:24,height:24,borderRadius:2,display:"flex",justifyContent:"center",alignItems:"center"},upe=U(null),dpe=U(null),fpe=U(null),hpe=U(null),{clearSelection:ppe,getNodeByPath:vpe,getNodeEndPath:gpe,getNodeLength:mpe,getNodeStartPath:ype,getEditNodeByPath:bpe,getPathFromKey:Cpe,isNode:wpe}=hk,xpe=[{key:Fhe.review,icon:function(){return X("svg",{width:"13",viewBox:"0 0 12 12",children:[G("path",{fill:Hf,d:"M10.2 1.27957e-05C9.20588 1.27957e-05 8.4 0.799235 8.4 1.78513C8.4 1.97307 8.42936 2.15418 8.48366 2.32431L3.45431 5.0953L3.74569 5.61546L8.75808 2.85382C9.08636 3.28876 9.61003 3.57025 10.2 3.57025C11.1941 3.57025 12 2.77103 12 1.78513C12 0.799235 11.1941 1.27957e-05 10.2 1.27957e-05ZM10.2 2.97521C9.53831 2.97521 8.99999 2.44135 8.99999 1.78513C8.99999 1.12891 9.53831 0.595048 10.2 0.595048C10.8617 0.595048 11.4 1.12891 11.4 1.78513C11.4 2.44135 10.8617 2.97521 10.2 2.97521Z"}),G("path",{fill:Hf,d:"M8.9765 7.19306C8.07371 7.19306 7.28632 7.68265 6.86929 8.40867L3.86074 6.78465C3.88692 6.65696 3.90008 6.52699 3.90002 6.39669C3.90002 5.73537 3.56521 5.15167 3.05462 4.80295L4.06922 2.44121C4.32288 2.40403 4.56716 2.28872 4.76241 2.09509C5.24568 1.61582 5.24568 0.83875 4.76241 0.359462C4.52078 0.119825 4.20407 0 3.88737 0C3.57067 0 3.25397 0.119825 3.01233 0.359462C2.52906 0.838737 2.52906 1.6158 3.01233 2.09509C3.13677 2.2187 3.28648 2.31441 3.45137 2.37578L2.49711 4.54008C2.31936 4.4887 2.13514 4.46268 1.95 4.4628C0.873056 4.4628 0 5.32863 0 6.39669C0 7.46475 0.873056 8.33057 1.95 8.33057C2.679 8.33057 3.31449 7.93377 3.64908 7.34612L6.63882 8.961C6.58175 9.16809 6.55289 9.38184 6.55301 9.59653C6.55301 10.9239 7.63805 12 8.97651 12C10.315 12 11.4 10.9239 11.4 9.59653C11.4 8.26913 10.315 7.19306 8.9765 7.19306ZM3.97496 2.45455L3.96894 2.45158C3.97287 2.45132 3.97681 2.45103 3.98075 2.45073L3.97496 2.45455ZM3.43657 0.780225C3.55698 0.660809 3.71707 0.595047 3.88736 0.595047C4.05764 0.595047 4.21773 0.660809 4.33813 0.780225C4.58669 1.02673 4.58669 1.42783 4.33813 1.67433C4.21772 1.79375 4.05763 1.85951 3.88735 1.85951C3.71706 1.85951 3.55697 1.79375 3.43657 1.67433C3.18802 1.42783 3.18802 1.02673 3.43657 0.780225ZM1.95 7.73554C1.20561 7.73554 0.599994 7.13493 0.599994 6.3967C0.599994 5.65847 1.20559 5.05787 1.95 5.05787C2.69441 5.05787 3.30001 5.65847 3.30001 6.3967C3.30001 7.13493 2.6944 7.73554 1.95 7.73554ZM10.2659 10.8753C9.92149 11.2168 9.46357 11.4049 8.9765 11.4049C8.48942 11.4049 8.0315 11.2168 7.68709 10.8753C7.34268 10.5337 7.15299 10.0796 7.15299 9.59652C7.15299 9.11347 7.34266 8.65933 7.68709 8.31777C8.0315 7.9762 8.48942 7.7881 8.9765 7.7881C9.46357 7.7881 9.92149 7.9762 10.2659 8.31777C10.6103 8.65933 10.8 9.11347 10.8 9.59652C10.8 10.0796 10.6103 10.5337 10.2659 10.8753Z"}),G("path",{fill:Hf,d:"M0.5 6.5C0.5 6.89782 0.658035 7.27936 0.93934 7.56066C1.22064 7.84196 1.60218 8 2 8C2.39782 8 2.77936 7.84196 3.06066 7.56066C3.34196 7.27936 3.5 6.89782 3.5 6.5C3.5 6.10218 3.34196 5.72064 3.06066 5.43934C2.77936 5.15804 2.39782 5 2 5C1.60218 5 1.22064 5.15804 0.93934 5.43934C0.658035 5.72064 0.5 6.10218 0.5 6.5V6.5Z"})]})}},{key:Fhe.search,icon:bO},{key:Fhe.remove,icon:vO}];function Spe(e){const t=R(ZU),n=R(VU),o=R(dpe),i=R(upe),r=R(hpe),l=R(RU),s=R(_U),c=R(PU),a=R(FU),u=THe(t.focus);return G("div",{style:{...lpe,...e.style,zIndex:u},children:G(Dh,{style:spe,onClick:e.onClick,onPointerDown:e=>e.stopPropagation(),...e.events,children:xpe.map((u=>{const d=e.lang?Hhe[e.lang][u.key]:u.key,f={};return u.key===e.mode&&(f.backgroundColor=Mf),G(Vk,{tips:d,direction:"top",children:G("div",{style:{...cpe,...f},children:G(Ev,{style:ape,onClick:d=>(async(u,d)=>{var f,h,p,v,g,m;const y=[],b=[];let C=!1;if(d===Fhe.search){u.stopPropagation();const o=gxe.search;y.push(Jhe(o)),e.mode===o&&(C=!0),t.editor.selection&&(null===(f=n.current)||void 0===f||f.commit(ppe()))}else if(d===Fhe.review){u.stopPropagation();const o=gxe.review;y.push(Jhe(o)),e.mode===o&&(C=!0),t.editor.selection&&(null===(h=n.current)||void 0===h||h.commit(ppe()))}else if(d===Fhe.remove){C=!0;const n=null===(p=l.file)||void 0===p?void 0:p.currentPageId;if(n){const{focus:o,editor:{data:i,node:r}}=t,l=Cpe(e.kid);let s=null;if(s=gHe(o)?bpe(r,l):vpe(i,l),wpe(s)){const e=ype(s),t=0,i=gpe(s),r=vpe(s,i),c=mpe(r),a={focus:{path:[...l,...e],offset:t},anchor:{path:[...l,...i],offset:c}};iHe(o)&&o.child&&(a.search=o.child),b.push(k7(n),Fbe(n,a,Bhe),Y3(n))}}b.push(b9("updated"),s9(aRe(!0)),r9(),v4())}const w=null===(v=l.file)||void 0===v?void 0:v.currentPageId;if(w&&b.push(k7(w)),C&&(null===(g=r.search.current)||void 0===g||g.reset(),null===(m=r.review.current)||void 0===m||m.reset(),y.push(Qhe(),epe(!1))),o.uid){const e=Cpe(o.kid),n=xHe(t.focus,ZFe(e),JFe());Fc(l.gfocus,n)||(b.push(o4(n)),b.push(wDe(n,[])),b.push(Dq()))}y.length&&(y.push(Ewe(e,t,a)),i(...y)),b.length&&c(...b),requestAnimationFrame(s)})(d,u.key),children:G(u.icon,{})})})},u.key)}))})})}const{getPathFromKey:Epe}=hk;const{isDecorateNode:kpe}=hk;function Dpe(e){var t;const n=R(OU),o=R(HU),i=R(PU),r=R(FU),l=R(ZU),s=Z(null),c=Z(null);let[a,u]=qd((()=>function(e,t,n){var o,i,r,l;const{uid:s=aRe(!0),kid:c}=e,a=null!==(i=null===(o=n.panel)||void 0===o?void 0:o[s])&&void 0!==i&&i,u={visible:a,mode:a?gxe.search:void 0};if(null===t)return u;null===(r=n.panel)||void 0===r||delete r[s];const{focus:d}=t,f=NHe(xHe(d,ZFe(Epe(c)),YFe(s)));for(const e in n.options)if(e.startsWith(f)){const t=null===(l=n.options)||void 0===l?void 0:l[e];if(!(null==t?void 0:t.mode))continue;[f,t.mode].join(k$)===e&&t.visible&&(u.mode=t.mode,u.visible=t.visible)}return u}(e,l,r.current)));const d=Z(null),f={search:s,review:c},h=e=>{var t,n;null===(t=f.search.current)||void 0===t||t.layout(e),null===(n=f.review.current)||void 0===n||n.layout(e)},p=function(e,t,n){const o=_d(e),i=_d(t),r=R(PU),l=R(_U),s=R(FU),c=_d(R(ZU)),a=Wd("pointerdown"),u=Wd("pointerenter"),d=Wd("pointerleave"),f=Wd("pointermove"),h=Wd("click"),p=Wd("pointerenter"),v=Wd("pointerleave"),g=Wd("click"),m=Wd("pointerup");return F((()=>(window.addEventListener("pointerup",m.listener),()=>{window.removeEventListener("pointerup",m.listener)})),[m]),F((()=>{const e=Au(u,a).pipe(ju((()=>f.pipe(Pu(150)).pipe(Fu(1)).pipe(Wu(d)).pipe(Wu(g))))).subscribe((e=>{n(epe(!0))}));return()=>e.unsubscribe()}),[o,a,u,d,f,g,h,n]),F((()=>{const e=Au(u.pipe(ju((()=>d.pipe(_u(150)).pipe(Wu(p))))),a.pipe(ju((()=>f.pipe(Fu(1))))),p.pipe(ju((()=>v.pipe(_u(150)).pipe(Wu(u))))),g,h).subscribe((e=>{const{mode:t,visible:o}=i.current;!t&&o&&n(epe(!1))}));return()=>e.unsubscribe()}),[i,a,u,d,f,h,p,v,g,n]),F((()=>{const e=a.pipe(ju((()=>m.pipe(Fu(1))))).subscribe((()=>{const{kid:e,uid:t=aRe(!0)}=o.current,i=gxe.review;n(epe(!0),Jhe(i),(n=>{const{mode:o,visible:i}=n;if(!o)return delete s.current.options,n;const r=ope(e),l=[NHe(xHe(c.current.focus,ZFe(r),YFe(t))),o].join(k$);return void 0===s.current.options&&(s.current.options={}),s.current.options[l]={...s.current.options[l],mode:o,visible:i},n})),requestAnimationFrame(l)}));return()=>{e.unsubscribe()}}),[o,i,c,r,l,s,n,a,m]),{refer:zd([a,u,d,f,h]),option:zd([p,v,g])}}(e,a,u),v={...{...e,lang:n.lang},...a,events:p.option},g={...e,...a,selector:Hhe[null!==(t=e.lang)&&void 0!==t?t:"cn"][Fhe.reference],exclude(t,n){var o;return!(0===n[0]||!Fve(t)&&!Hve(t))||!(!kpe(t)||(null===(o=t.props)||void 0===o?void 0:o.uid)!==e.uid)},onClose(){u(tpe()),i(o4(jFe()))},name:Bhe};return G(upe,{value:u,children:G(hpe,{value:f,children:G(dpe,{value:e,children:G(fpe,{value:a,children:X("span",{style:ipe,children:[G("span",{style:rpe,ref:d,...Kf?{}:p.refer,children:e.children}),e.editable&&a.visible&&oD(G(Spe,{...v}),o,d),a.visible&&"search"===a.mode&&oD(G(Cxe,{...g,type:"checkbox",ref:s}),o,d,"bottom",h),a.visible&&"review"===a.mode&&oD(G(kxe,{...g,ref:c}),o,d,"bottom",h)]})})})})})}var Ipe={name:Bhe,hotkey:function(e){return Uf?"++S":"Ctrl+Alt+S"},label:function(e){return Hhe[e.lang][Fhe.reference]},outer:function({children:e,...t}){var n;const o=R(jU),i=R(FU),r=t.lang,l=_((()=>{var e;const{modal:t,webdav:n,file:l}=o.stater.get();if((null==t?void 0:t.visible)||(null==n?void 0:n.visible))return;if(gje(l))return;const s=o.provider(),{imperator:c,rootdispatch:a,rootstate:u}=s;null===(e=c.current)||void 0===e||e.commit(Ghe(a,u,i,r))}),[o,i,r]);return npe(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),l),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:l,children:[G(The,{...t}),e]})},icon:The},Npe=Object.freeze({__proto__:null,DEFAULT_HEIGHT:330,DEFAULT_WIDTH:600,FOCUS_FIELD:{OPTION:"option"},HEADER_HEIGHT:30,REFER_BACKGROUND_IMAGE:Ahe,block:Dpe,clearMode:Qhe,close:tpe,default:Ipe,insertRefer:Ghe,isReferNode:Ohe,isReferNodeTouchSelection:Phe,name:Bhe,resetSelectionReferNode:Khe,resetSelectionStatus:()=>e=>(void 0===e.selection||Vhe(e.node,e.selection,((t,n)=>{var o;let i=n.length;for(;i>0;){const t=_he(e.node,n.slice(0,i));Ohe(t)&&(null===(o=t.props)||void 0===o?void 0:o.value)&&(t.props.value.mode=void 0,t.props.value.optional=!1),i--}})),e),setMode:Xhe,setOptional:epe,toggleMode:Jhe});const{useHotkey:Lpe}=Cj;var Tpe={...Gj,inner:function(e){return G(Yj,{...e,value:[tve,_Ne,xde,Ipe,bfe,Xfe,Nhe]})},outer:function(e){var t;const n=R(jU),{name:o}=e,i=_((()=>{const{modal:e,webdav:t,file:i}=n.stater.get();(null==e?void 0:e.visible)||(null==t?void 0:t.visible)||gje(i)||n.dispatch(t7(o,!0))}),[o,n]);return Lpe(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),i),X(K,{children:[G(qj,{...e,onClick:i}),G(tve.outer,{...e,hotkey:tve.hotkey,silence:!0}),G(xde.outer,{...e,hotkey:xde.hotkey,silence:!0}),G(Ipe.outer,{...e,hotkey:Ipe.hotkey,silence:!0}),G(bfe.outer,{...e,hotkey:bfe.hotkey,silence:!0}),G(Xfe.outer,{...e,hotkey:Xfe.hotkey,silence:!0}),G(Nhe.outer,{...e,hotkey:Nhe.hotkey,silence:!0})]})}};const{insertNode:Bpe,sortSelection:Ape}=hk;const{getEditNodeByPath:Mpe,sortSelection:Ope,getPathFromKey:Rpe,reflowEditNodeByPath:Ppe,setEditPending:Fpe,getPathReference:Hpe,insertNode:_pe}=hk,{limitImageSize:jpe}=yk;const Wpe=(e,t)=>n=>{const o=n.editor,{node:i,data:r}=o,l=Rpe(e),s=jpe(t,10),c=Mpe(i,l);Zde(c)&&(void 0===c.props&&(c.props={}),c.props.value=s),Ppe(l)(o),Fpe(!0)(o);const a=Hpe(i,l);return n=m9(a)(n)},{getEditNodeByPath:zpe,getPathFromKey:Vpe,isMetaNode:$pe,transformNodeToEditNode:Zpe,reflowEditNodeByPath:Upe}=hk;function qpe(e){var t,n;const o=R(PU),i=_d(R(RU)),r=R(FU),l=R(VU),s=P(),[c,a]=$((()=>{var t,n;return s?null!==(t=e.src)&&void 0!==t?t:e.hash:(null===(n=e.src)||void 0===n?void 0:n.startsWith("data:image"))||e.nocache?e.src:"undefined"!=typeof electron?"":e.src})),{hash:u,uid:d,kid:f}=e;let h=r.current.assets;void 0===h&&(h=r.current.assets={cache:{},update:{},pending:{}}),d&&u&&((null===(t=h.cache)||void 0===t?void 0:t[u])?null===(n=h.update)||void 0===n||delete n[d]:(h.update||(h.update={}),h.update[d]=a)),F((()=>{var t;if(!e.src||e.nocache||"undefined"==typeof electron)return;const n=e.src;if(n.startsWith("data:image"))return;const s=null===(t=electron.net)||void 0===t?void 0:t.fetch;s&&(async()=>{var e,t;let c=r.current.assets.pending;if(c||(c=r.current.assets.pending={}),c[n])return;c[n]=!0;const{ok:u,data:d}=await s(n,{type:"arrayBuffer"});if(0===u)return;if(!Tc(null==d?void 0:d.content))return;const{content:h,type:p}=d,{image:v,hash:g}=await Gde(h,p),m=i.current.store,y=await MF(g);if(0!==y.ok&&y.data){if(!(null===(e=null==m?void 0:m.reference)||void 0===e?void 0:e[g])){const e=await GY(g);e&&o(yq({[g]:e}))}}else await TF(g,h);c[n]=!1,a(""),null===(t=l.current)||void 0===t||t.commit((e=>{var t,n,o,i,r;const l=Vpe(f),s=zpe(e.node,l);if(!Zde(s))return e;const c=zpe(e.node,hc(l));if(!$pe(c))return e;const a=null!==(o=null===(n=null===(t=c.children[0].props)||void 0===t?void 0:t.value)||void 0===n?void 0:n.width)&&void 0!==o?o:IFe(e,l),u=Xde(v,a,g,p).children[0],d=null===(i=s.props)||void 0===i?void 0:i.value,h=null===(r=u.props)||void 0===r?void 0:r.value;return d&&h&&(void 0!==d.height&&void 0!==d.width?u.props.value=d:void 0!==d.height?u.props.value={height:d.height,width:h.width*d.height/h.height}:void 0!==d.width&&(u.props.value={width:d.width,height:h.height*d.width/h.width})),c.children[0]=Zpe(u,f),e=Upe(l)(e)}))})()}),[e.src,e.nocache,f,r,l,i,o]),H((()=>{var e;if(!u||!d||c)return;const t=r.current.assets,n=null===(e=null==t?void 0:t.cache)||void 0===e?void 0:e[u];if(n)return void a(n);let o=r.current.assets.pending;o||(o=r.current.assets.pending={}),o[d]||(o[d]=!0,(async()=>{var e,n;const{ok:i,data:r}=await MF(u);o[d]=!1,1===i&&r&&t&&(t.cache||(t.cache={}),t.cache[u]=r,t.update||(t.update={}),null===(n=(e=t.update)[d])||void 0===n||n.call(e,r))})())}),[u,d,c,r]);return{src:c,onLoad:t=>{var n,o,i;if(!e.src||"undefined"!=typeof electron)return;if((null===(n=e.value)||void 0===n?void 0:n.width)&&(null===(o=e.value)||void 0===o?void 0:o.height))return;const{naturalWidth:r,naturalHeight:s}=t.target;null===(i=l.current)||void 0===i||i.commit((e=>{const t=Vpe(f),n=zpe(e.node,t);if(Zde(n)){void 0===n.props&&(n.props={});const o=IFe(e,t),i=Math.min(r,o),l=s*(i/r);n.props.value={width:i,height:l},e=Upe(t)(e)}return e}))}}}function Ype(e){const t=R(ZU),n={...e.style},o=Vpe(e.kid);return t&&Kde(t,o)&&(n.cursor="pointer"),{image:n,container:Ede}}function Kpe(e){const{ne:t,nw:n,se:o,sw:i}=function(e){const t=_d(e),n=R(jU),o=R(FU),i=R(PU),r=R(qU),l=Wd("pointerdown"),s=Wd("pointerdown"),c=Wd("pointerdown"),a=Wd("pointerdown"),u=Wd("pointerup");return F((()=>{const e=yFe.POINTER_DOWN_MOVE_UNTIL_UP,u=l.subscribe((l=>{o.current.agent=e;const{kid:s,value:c={}}=t.current,{width:a=0,height:u=0}=c,{dispatch:d}=n.provider();i(i7({type:e,action(e){let{x:t,y:n}=qde(c,l,e);t>0&&n>0?n=-n:t<0&&n<0&&(t=-t),d(Wpe(s,{width:a+t,height:u-n}),I9()),r(i)}}))})),d=s.subscribe((l=>{o.current.agent=e;const{kid:s,value:c={}}=t.current,{width:a=0,height:u=0}=c,{dispatch:d}=n.provider();i(i7({type:e,action(e){let{x:t,y:n}=qde(c,l,e);t<0&&n>0?n=-n:t>0&&n<0&&(t=-t),d(Wpe(s,{width:a-t,height:u-n}),I9()),r(i)}}))})),f=c.subscribe((l=>{o.current.agent=e;const{kid:s,value:c={}}=t.current,{width:a=0,height:u=0}=c,{dispatch:d}=n.provider();i(i7({type:e,action(e){let{x:t,y:n}=qde(c,l,e);t>0&&n<0?n=-n:t<0&&n>0&&(t=-t),d(Wpe(s,{width:a+t,height:u+n}),I9()),r(i)}}))})),h=a.subscribe((l=>{o.current.agent=e;const{kid:s,value:c={}}=t.current,{width:a=0,height:u=0}=c,{dispatch:d}=n.provider();i(i7({type:e,action(e){let{x:t,y:n}=qde(c,l,e);t<0&&n<0?n=-n:t>0&&n>0&&(t=-t),d(Wpe(s,{width:a-t,height:u+n}),I9()),r(i)}}))}));return()=>{u.unsubscribe(),d.unsubscribe(),f.unsubscribe(),h.unsubscribe()}}),[i,r,t,n,o,l,s,c,a]),{ne:zd([l]),nw:zd([s]),se:zd([c]),sw:zd([a]),re:zd([u])}}(e);return X("div",{style:kde,children:[G("div",{style:Tde,...t}),G("div",{style:Nde,...n}),G("div",{style:Lde,...o}),G("div",{style:Bde,...i})]})}function Gpe(e){return G(Kf?Jpe:Xpe,{...e})}function Xpe(e){const{src:t,onLoad:n}=qpe(e),{image:o,container:i}=Ype(e),r=function(e){const t=_d(e),n=R(FU),o=R(PU),i=R(VU),r=R($U),l=_d(R(ZU)),s=Wd("pointerdown"),c=_((()=>{n.current.agent!==yFe.POINTER_DOWN_MOVE_UNTIL_UP?requestAnimationFrame((()=>{var e;null===(e=i.current)||void 0===e||e.commit((e=>{const n=Vpe(t.current.kid),o=zpe(e.node,n);if(Zde(o)){if(void 0===o.props)return e;delete o.props.mode}return e}))})):requestAnimationFrame((()=>{o(l7(c))}))}),[t,i,n,o]);return F((()=>{const e=s.subscribe((()=>{const e=l.current,{mode:n,kid:r}=t.current,s=Vpe(r);Kde(e,s)||("resize"!==n?requestAnimationFrame((()=>{o(l7(c))})):requestAnimationFrame(c),requestAnimationFrame((()=>{var e;null===(e=i.current)||void 0===e||e.commit((e=>{const t=zpe(e.node,s);return Zde(t)&&(void 0===t.props&&(t.props={}),t.props.mode="resize"),e}))})))}));return()=>{e.unsubscribe()}}),[t,c,s,i,l,r,o]),zd([s])}(e);return X("div",{style:i,...r,children:[G(bk,{...e,style:o,src:t,onLoad:n}),e.editable&&"resize"===e.mode&&G(Kpe,{...e})]})}function Jpe(e){const{src:t,onLoad:n}=qpe(e),{image:o,container:i}=Ype(e);return G("div",{style:i,children:G(bk,{...e,style:o,src:t,onLoad:n})})}const Qpe=MW,eve=HO;var tve={...OW,outer:function(e){const t=R(jU),n=async(e,n)=>{var o,i,r,l;const s=null===(o=e.target)||void 0===o?void 0:o.result;if(!Tc(s))return;const{image:c,hash:a}=await Gde(s,n),u=t.provider(),d=t.stater.get(),{imperator:f,rootdispatch:h}=u,p=await MF(a);if(0!==p.ok&&p.data){if(!(null===(r=null===(i=d.store)||void 0===i?void 0:i.reference)||void 0===r?void 0:r[a])){const e=await GY(a);e&&h(yq({[a]:e}))}}else await TF(a,s);h(n7(Tpe.name,!1));const v=d.editor.style;null===(l=f.current)||void 0===l||l.commit((e=>{if(void 0===e.selection)return e;const{before:{path:t}}=Ape(e.selection),o=3*IFe(e,t,v)/4,i=Xde(c,o,a,n);return e=Bpe(i)(e)}))};return G(AW,{...e,dataType:"array-buffer",onClick:e=>{e.stopPropagation()},onLoad:(e,o)=>{const i=t.provider(),{context:r,rootdispatch:l}=i;r.root?g$e(r,t,l,(()=>n(e,o))):n(e,o)}})}},nve=Object.freeze({__proto__:null,AGENT:"image-resize",block:Gpe,calcOffset:qde,createImageNode:$de,default:tve,generateImageMetaNode:Xde,icon:eve,isBlockNodeSole:function(e,t){let n=0;for(;n<t.length;){const o=e.children[t[n]];if(Wde(o))e=o,n++;else{if(1!==e.children.length||!Mde(o))return!1;e=o,n++}}return!0},isImageNode:Zde,isLinkImageStatus:Kde,isMetaImageNode:Ude,isOnlyImagePath:Yde,loadImage:Gde,name:Qpe,setImage:async function(e,t){var n,o,i;const r=e.provider(),l=e.stater.get(),{imperator:s,rootdispatch:c}=r,a=l.editor.style,{hash:u,type:d,width:f,height:h,base64:p}=t;let v=p;"undefined"==typeof WebPro&&(v=sA(p));const g=await MF(u);if(0!==g.ok&&g.data){if(!(null===(o=null===(n=l.store)||void 0===n?void 0:n.reference)||void 0===o?void 0:o[u])){const e=await GY(u);e&&c(yq({[u]:e}))}}else await TF(u,v);null===(i=s.current)||void 0===i||i.commit((e=>{if(void 0===e.selection)return e;const{before:{path:t}}=Ope(e.selection),n=IFe(e,t,a)*(Kf?1:3/4),o=Xde({naturalWidth:f,naturalHeight:h},n,u,d);return e=_pe(o)(e)}))},setImageState:Wpe,styles:Ade});const{spliceBranch:ove}=d2,{DECORATE_BLOCK_NODE:ive,SPLIT_BLOCK_MARGIN:rve,getEditNodeByPath:lve,getKeyFromPath:sve,getNodeLength:cve,getPathFromKey:ave,getRelativePath:uve,isDecorateBlockNode:dve,isEditBlockNode:fve,isEditNode:hve,isNode:pve,removePositionStyle:vve,createBlockNode:gve,createDecorateBlockNode:mve,isBlockNode:yve,isCollapsed:bve,isStartPath:Cve,isReferenceNode:wve,isReferenceBlockNode:xve,resetEditNodeKeyRecursion:Sve,sliceBlockPath:Eve,sliceDecoratePath:kve,removeBoxSizeStyle:Dve,traverseNode:Ive,traversalEditNodeBySelection:Nve,traversalEditBlockNodeBySelection:Lve}=hk;function Tve(e){const t=Object.values(iae).sort(((e,t)=>t-e)),n=t.indexOf(e);return-1===n||n===t.length-1?null:t[n+1]}function Bve(e=iae.H0){return e===iae.H0?{fontSize:ch(e),fontWeight:$f}:{fontSize:ch(e),fontWeight:"bold"}}function Ave(e=iae.H0){const t={paddingTop:0,paddingBottom:0};if(e===iae.H0)return t;const n=ch(e);return t.paddingTop=n-rve,t.paddingBottom=n/2-rve,t}function Mve(e){var t;const n=null===(t=e.props)||void 0===t?void 0:t.subclass;if(n===iae.H)return 1;for(const e in cae)if(cae[e]===n)return Number(e);return 0}function Ove(e,t){var n,o;for(let i=0;i<e.children.length;i++){const r=e.children[i];if(Rve(r)){if((null===(n=r.props)||void 0===n?void 0:n.id)===t)return r;const e=null===(o=r.props)||void 0===o?void 0:o.list;if(et(e)){const n=Ove(gve(e),t);if(n)return n}}}return null}function Rve(e,t){var n,o;if(!pve(e))return!1;if(e.type===ive&&(null===(n=e.props)||void 0===n?void 0:n.type)===rae){if(void 0===t)return!0;if((null===(o=e.props)||void 0===o?void 0:o.subclass)===t)return!0}return!1}function Pve(e){if(Fve(e)&&1===e.children.length){const t=e.children[0];if(xve(t))return!0}return!1}function Fve(e){return Rve(e,iae.H)}function Hve(e){var t;return!!pve(e)&&(e.type===ive&&(null===(t=e.props)||void 0===t?void 0:t.type)===lae)}function _ve(e,t,n){var o;void 0!==t&&(t=yve(t[0])?[t[0]]:[gve(t)]);const i=null!==(o=e.id)&&void 0!==o?o:aRe();return mve({type:rae,...e,id:i},t,{...Bve(e.subclass),...n})}function jve(e,t){let n="";const o=Jve[t][Xve.outlineListPackage];if(et(o)){for(let t=0;t<o.length;t++)if(o[t].subclass===e){n=o[t].name;break}""===n&&(n=o[0].name)}return n}function Wve(e,t){const n=pc(t);if(void 0===n)return;const o=e.children.slice(0,n),i=e.children[n];if(hve(i)){const e=Wve(i,fc(t));hve(e)&&cve(e)>0&&o.push(e)}return 0!==o.length?{...e,children:o}:void 0}function zve(e,t){var n,o,i,r;const l=pc(t);if(void 0===l)return;const s=e.children.slice(l+1),c=e.children[l];if(hve(c)){const e=zve(c,fc(t));hve(e)&&cve(e)>0&&s.unshift(e),rSe(c)&&(null===(o=null===(n=c.props)||void 0===n?void 0:n.list)||void 0===o?void 0:o.length)>0&&s.push(...null!==(r=null===(i=c.props)||void 0===i?void 0:i.list)&&void 0!==r?r:[])}return 0!==s.length?{...e,children:s}:void 0}function Vve(e,t,n){var o;const{node:i,style:r}=t.editor,l={...r,...n};if(void 0===e.kid)return l;const s=ave(e.kid),c=lve(i,s);if(!dve(c))return l;const a=c.children[0];return hve(a)?{...l,...vve(a.style),...vve(null===(o=a.props)||void 0===o?void 0:o.style)}:l}function $ve(e,t){var n;const o=e.children[0];let i=0;if(hve(o)){i=ave(o.key)[0]}let r=t[0]-i;if(r<0)return[];const l=cve(e);if(r>=l)return[];const s=e.children[r];if(Rve(s)&&t.length>1){const e=null===(n=s.props)||void 0===n?void 0:n.list;if(et(e)){const n=$ve({...s,children:e},fc(t));if(n.length>=0)return[r+i,...n]}}for(;r<l-1;){if(Rve(e.children[++r]))break}return r>=l?[]:[r+i]}function Zve(e,t){const{selection:n,node:o}=e.editor;if(!n)return!1;function i(e){const n=kve(o,e,rae);if(Fc(ave(t),n))return!0;const i=kve(o,e,lae);return!!Fc(ave(t),i)}if(bve(n)){return i(n.focus.path)}let r=!1;return Nve(o,n,((e,t)=>{if(i(t))return r=!0,!1})),r}async function Uve(e,t){const{selection:n,node:o}=e.editor;let i={editor:{},reference:{}};if(!n)return i;const r=[];async function l(e,n){var o,s;if(n<0)return;const c=await XY(e,t);if(!c)return;i=kje(i,c);const a=null===(o=c.editor)||void 0===o?void 0:o[e],u=null==a?void 0:a.data.children;if(null==u?void 0:u.length)for(const e of u)if(Rve(e,iae.H)){const t=null===(s=e.props)||void 0===s?void 0:s.id;t&&!r.includes(t)&&(r.push(t),await l(t,n-1))}}Lve(o,n,((e,t)=>{const n=kve(o,t,rae);if(n){const e=lve(o,n);if(tae(e,rae)){const t=e.props;if(t){const{subclass:e,id:n}=t;e!==iae.H||r.includes(n)||r.push(n)}}}}));for(const e of r)await l(e,1);return i}function qve(){return sae}function Yve(e){let t=e;if(Array.isArray(t)&&(t=t[0]),!p(t))return e;t={...t};let n={...t.props},o={...n.node};if(wve(o)&&1===cve(o)){let e=ds(o.children[0]);if(yve(e)){const t=Dve({...e.style});t.paddingBottom=rve,t.paddingTop=rve,t.boxSizing="border-box",t.pointerEvents="none",e.children=e.children.map((e=>pve(e)?bPe(e,ch(12),(e=>(Zde(e)&&((e={...e}).style={...e.style},e.style.position="relative",e.style.top=-1),e))):e)),e={...e,style:t}}o.children=[e]}return n.node=o,t.props=n,Array.isArray(e)?1===e.length?[t]:[t,...e.slice(1)]:t}function Kve(e,t,n,o){const{editor:{node:i,selection:r}}=e;if(!r)return void o();const l=[];let s=!1;if(bve(r)){const e=r.focus.path,t=Eve(i,e),n=lve(i,t);Ive(n,(e=>{if(Yse(e))return s=!0,!1}));const o=kve(i,e,rae);if(o){const e=lve(i,o);Fve(e)&&!Cve(o)&&l.push(e)}}else{const e=[];Lve(i,r,((t,n)=>{!s&&Ive(t,(e=>{if(Yse(e))return s=!0,!1}));const o=kve(i,n,rae);if(o){if(e.find((e=>Fc(o,e))))return;e.push(o);const t=lve(i,o);pve(t)&&Fve(t)&&!Cve(o)&&(l.includes(t)||l.push(t))}}))}if(s){const e={visible:!0,title:" 1 ",content:""};return void(rh?s_({title:e.title,message:e.content,confirm:{value:"",fontColor:Bf}}):n(tre(e)))}if(!l.length)return void o();const c=p$e(l,(async()=>{var e;n(tre({...c,visible:!1}));const i=[];for(const n of l){const o=null===(e=n.props)||void 0===e?void 0:e.id;o&&(i.includes(o)||i.push(o),await t.safty(o,!0))}n(tY(i)),o()}));n(tre(c))}async function Gve(e,t){var n,o,i;const r=e.stater.get(),l=await kF(t);if(0===l.ok||!l.data)return;const s=G_e(t,{[t]:l.data});if(!s)return;const c=QH();if(!(null==c?void 0:c.length))return;const{imperator:a,rootdispatch:u}=e.provider();null===(o=null===(n=a.current)||void 0===n?void 0:n.clearVisibleState)||void 0===o||o.call(n),u(I9(),g3());const d=e_();for(let e=c.length-1;e>0&&c[e].uid!==d;e--)JH("pop");const f=null===(i=r.file)||void 0===i?void 0:i.currentPageId,h=s.title?LWe(s.title):"";JH("push",{route:KB.editor,effect:{slide:"right"},payload:{editable:!s.readonly,page:ove(s),branch:ove(s),refresh:aRe(!0),uid:d,pageId:f},title:{text:h,menus:["more"]}})}const Xve={copyShortCut:"copyShortCut",editShortCut:"editShortCut",removeShortCut:"removeShortCut",outlineList:"outlineList",outlineListPackage:"outlineListPackage"},Jve={cn:{[Xve.outlineList]:"",[Xve.copyShortCut]:"",[Xve.editShortCut]:"",[Xve.removeShortCut]:"",[Xve.outlineListPackage]:[{name:"",subclass:iae.H0,style:Bve(iae.H0),hotkey:Uf?"++0":"Ctrl+Alt+0"},{name:"",subclass:iae.H,style:Bve(iae.H),hotkey:Uf?"++.":"Ctrl+Alt+."},{name:" 1",subclass:iae.H1,style:Bve(iae.H1),hotkey:Uf?"++1":"Ctrl+Alt+1"},{name:" 2",subclass:iae.H2,style:Bve(iae.H2),hotkey:Uf?"++2":"Ctrl+Alt+2"},{name:" 3",subclass:iae.H3,style:Bve(iae.H3),hotkey:Uf?"++3":"Ctrl+Alt+3"},{name:" 4",subclass:iae.H4,style:Bve(iae.H4),hotkey:Uf?"++4":"Ctrl+Alt+4"},{name:" 5",subclass:iae.H5,style:Bve(iae.H5),hotkey:Uf?"++5":"Ctrl+Alt+5"},{name:" 6",subclass:iae.H6,style:Bve(iae.H6),hotkey:Uf?"++6":"Ctrl+Alt+6"}]},en:{[Xve.outlineList]:"outlineList",[Xve.copyShortCut]:"Copy ShortCut",[Xve.editShortCut]:"Edit ShortCut",[Xve.removeShortCut]:"Remove ShortCut",[Xve.outlineListPackage]:[{name:"content",subclass:iae.H0,style:Bve(iae.H0),hotkey:Uf?"++0":"Ctrl+Alt+0"},{name:"Title",subclass:iae.H,style:Bve(iae.H),hotkey:Uf?"++.":"Ctrl+Alt+."},{name:"Outline 1",subclass:iae.H1,style:Bve(iae.H1),hotkey:Uf?"++1":"Ctrl+Alt+1"},{name:"Outline 2",subclass:iae.H2,style:Bve(iae.H2),hotkey:Uf?"++2":"Ctrl+Alt+2"},{name:"Outline 3",subclass:iae.H3,style:Bve(iae.H3),hotkey:Uf?"++3":"Ctrl+Alt+3"},{name:"Outline 4",subclass:iae.H4,style:Bve(iae.H4),hotkey:Uf?"++4":"Ctrl+Alt+4"},{name:"Outline 5",subclass:iae.H5,style:Bve(iae.H5),hotkey:Uf?"++5":"Ctrl+Alt+5"},{name:"Outline 6",subclass:iae.H6,style:Bve(iae.H6),hotkey:Uf?"++6":"Ctrl+Alt+6"}]}};const Qve={lineHeight:2},ege={display:"block",position:"relative",width:"100%",textDecoration:"none",color:"inherit"},tge={width:sae,height:sae,cursor:"pointer",position:"relative",zIndex:1,opacity:.33,fontSize:0,pointerEvents:"none"},nge={width:sae,height:sae,cursor:"pointer",position:"relative",zIndex:1,opacity:1,fontSize:0,top:.5,pointerEvents:"none"},oge={cursor:"pointer"},ige={position:"absolute",zIndex:10,display:"flex",justifyContent:"center",cursor:"default",left:"50%"},rge={position:"absolute",top:0,left:-12},lge={...{boxShadow:Wf,borderRadius:4,position:"absolute",transform:"translateY(-100%)",display:"flex",alignItems:"center"},padding:"4px 3px"},sge={borderRadius:2,margin:"0 2px"},cge={width:24,height:24,borderRadius:2,display:"flex",justifyContent:"center",alignItems:"center"},{createBlockNode:age,transformEditNodeToNode:uge,transformNodeToEditNode:dge,isEditNode:fge,isBlockNode:hge,isReferenceBlockNode:pge,joinKey:vge}=hk,gge=e=>t=>{var n,o,i;const r=null===(n=t.file)||void 0===n?void 0:n.currentPageId;if(!r)return t;const l={},s=age(e.map((e=>fge(e)?uge(e):e)),Y$),c=null===(o=e[0].props)||void 0===o?void 0:o.id;if(void 0===c)return t;const a={[c]:c},u=RPe(s);for(const e in u){const n=u[e],o=null===(i=n.props)||void 0===i?void 0:i.id;o&&(a[e]=o,t=Rq(o,n,c)(t))}l.uids=a,l.data=s;const d=uFe(l);return t=kq(c,d)(t),t=Y3(r)(t)},{DIV_NODE:mge,isBlockNodeX:yge,clearSelection:bge,createBlockNode:Cge,createReferenceBlockNode:wge,deleteBackward:xge,genNextLevelPath:Sge,getEditBlockNodeStartPath:Ege,getEditNodeByPath:kge,getEditNodeStartPath:Dge,getEditNodeEndPath:Ige,getKeyFromPath:Nge,getNodeByPath:Lge,getNodeEndPath:Tge,getNodeLength:Bge,getNodeStartPath:Age,getPathFromKey:Mge,getRelativePath:Oge,isBlockNode:Rge,isBlockNodeCritical:Pge,isCollapsed:Fge,isDecorateNode:Hge,isEditBlockNode:_ge,isEditBlockNodeX:jge,isEditNode:Wge,isMetaNode:zge,isEmptyNode:Vge,isNode:$ge,isPathAfter:Zge,isPathBefore:Uge,isReferenceNode:qge,isReferenceBlockNode:Yge,isStartPath:Kge,moveBackward:Gge,injectSplitBlockNodeStyle:Xge,removeSplitBlockNodeStyle:Jge,joinKey:Qge,splitBlock:eme,deleteFragment:tme,reflowEditNodeByPath:nme,reflowEditNodeBySelection:ome,removeBoxSizeStyle:ime,removePositionStyle:rme,resetEditNodeKey:lme,sliceBlockPath:sme,sliceDecoratePath:cme,sliceReferencePath:ame,sortSelection:ume,traverseNode:dme,transformEditNodeToNode:fme,transformNodeToEditNode:hme,traversalEditBlockNodeBySelection:pme,isSelectionTouchBlockNodeStart:vme}=hk,gme=(e,t,n,o)=>i=>{var r,l,s,c;if(void 0===i.selection)return i;let a=!1,u=null===(r=i.selectionDecorate)||void 0===r?void 0:r[rae];u||(u=null===(l=i.selectionDecorate)||void 0===l?void 0:l[lae],u&&(a=!0));const{editor:{style:d},focus:f}=e;function h(n){var r,l,s;if(t===iae.H0)return;const c=Mge(n.key),a=[],u=kge(i.node,a);if(!Wge(u))return;const f=fc(Oge(i.node,c),a.length),h=Wve(u,f),p=zve(u,f);let v=p;for(;null==v?void 0:v.position;){delete v.position,v.style=rme({...v.style});const e=v.children[0];if(!Rge(e))break;v=e}const g=aRe(),m=hme(_ve({subclass:t,id:g}),n.key);dme(n,(e=>{if(_ge(e)){delete e.position;let t={...e.style};t=rme(t),t=ime(t),Pc(t)?delete e.style:e.style=t}}));const y=Ave(t);if(n.style?Object.assign(n.style,y):n.style=y,t===iae.H&&e.root){const e=hme(wge({id:g,uid:g},[n]),Qge(n.key,0));for(const e in n)delete n[e];Object.assign(n,e)}m.children=[n];const b=null==p?void 0:p.children[0];let C=!!b;Rve(b)&&(null===(r=b.props)||void 0===r?void 0:r.subclass)>=t&&(C=!1),m.props=null!==(l=m.props)&&void 0!==l?l:{},m.props.expand=C,t===iae.H&&e.root&&(null==o||o.push(gge([m])));const w=[];h&&w.push(...h.children),w.push(m),p&&w.push(...p.children),u.children=w,i=lme(a)(i);let x=dc(null==h?void 0:h.children);for(;jge(x);)xye(i,x,d),x=dc(x.children);let S=pc(null==p?void 0:p.children);for(;jge(S);){if(rSe(S)){const e=S.children[0];Rge(e)&&Jge(e),S.children.length<=1&&(null===(s=S.props)||void 0===s||delete s.expand)}xye(i,S,d),S=pc(S.children)}bme(i,i.node,d);let E=Ege(i.node);if(null==h?void 0:h.children){const e=h.children[0];Rge(e)&&(E=Ege(e))}else E=Mge(m.key);i=nme(E)(i)}function p(r){var l,s,c,d,p,v,g,m,y;if(Kge(r)&&e.root&&u===iae.H)return;const b=kge(i.node,r);if(!Wge(b))return;const C=null===(l=b.props)||void 0===l?void 0:l.id;function w(e){if(!$ge(b))return;let t=b.children[0];Yge(t)&&(t=t.children[0]),Rge(t)&&(t.style&&(Object.assign(t.style,Ave(e)),t.style=rme(t.style)),e===iae.H0&&Xge(t))}if(t===iae.H0||t===u||a){const e=b.children[0];if(b.type=mge,tae(e)){const n=null===(s=e.props)||void 0===s?void 0:s.style;if(n){const e=Bve(t);for(const t in e)n[t]===e[t]&&delete n[t]}}else Yge(e)&&((null===(c=e.props)||void 0===c?void 0:c.id)===(null===(d=b.props)||void 0===d?void 0:d.id)||a)&&(b.children=[hme(e.children[0],Qge(b.key,0))]);delete b.props,delete b.style,w(iae.H0),a&&(t!==u&&h(b),i=bge()(i))}else if(b.props){const n=b.children[0];b.props.subclass=t,b.props.type=rae,b.style={...b.style,...Bve(t)},t===iae.H&&e.root?b.children=[hme(wge({id:b.props.id,uid:b.props.id},b.children),Qge(b.key,0))]:u===iae.H&&Yge(n)&&((null===(p=n.props)||void 0===p?void 0:p.id)===(null===(v=b.props)||void 0===v?void 0:v.id)||a)&&(b.children=[hme(n.children[0],Qge(b.key,0))]),w(t)}const x=b.children[0];if(Hge(x)&&(null===(g=x.props)||void 0===g?void 0:g.style)){const t=Mge(b.key),n=e.editor.style;Object.assign(x.props.style,Gce(i,t,n))}if(!a&&iHe(f)&&!f.child)if(t===iae.H&&t!==u){const t=r[0];let n=t;const l=i.node.children,s=[b];for(;n<l.length;){const e=l[n+1];if(void 0===e)break;if(tae(e,rae)&&(null===(m=e.props)||void 0===m?void 0:m.subclass)>=u)break;s.push(e),n++}l.splice(t+1,n-t),e.root&&(null==o||o.push(gge(s)))}else if(u===iae.H){const e=r[0];let t=0;const o=null==n?void 0:n[C];if(!o)return;const l=null!==(y=o.data.children)&&void 0!==y?y:[],s=[];for(;t<l.length;){const n=l[t+1];if(t+1===l.length-1&&Vge(n))break;if(void 0===n)break;if($ge(n)){const o=Nge([e+t+1]);s.push(hme(n,o))}t++}i.node.children.splice(e+1,0,...s)}}if(Fge(i.selection)){const n=i.selection.focus.path;let o=cme(i.node,n,rae);if(o||(o=cme(i.node,n,lae)),!o){const e=kge(i.node,n),t=sme(i.node,n),o=kge(i.node,t);if(!Wge(o))return i;if(h(o),i.selection){let t=[];if(dme(o,(n=>{const o=Mge(n.key);if(n===e)return t=o,!0;const i=n.children.length;if(0===i&&null===e)return t=[...o],!0;for(let r=0;r<i;r++)if(n.children[r]===e)return t=[...o,r],!0})),Wge(e)&&!zge(e)){const t=Dge(e);i.selection.anchor.offset=0,i.selection.focus.offset=0,i.selection.anchor.path=[...t],i.selection.focus.path=[...t]}else t.length&&(i.selection.anchor.path=[...t],i.selection.focus.path=[...t]);i=ome(!0)(i)}return i}if(p(o),bme(i,i.node,d),i.selection&&e.root)if(t!==iae.H&&u===iae.H||t===u&&u!==iae.H0){const{path:e,offset:t}=i.selection.focus;i.selection={focus:{path:[e[0],...e.slice(2)],offset:t},anchor:{path:[e[0],...e.slice(2)],offset:t}}}else if(t===iae.H0&&u!==iae.H0){const{path:e,offset:t}=i.selection.focus;i.selection={focus:{path:[...e],offset:t},anchor:{path:[...e],offset:t}}}else if(t===iae.H&&u!==iae.H){const{path:e,offset:t}=i.selection.focus;i.selection={focus:{path:[e[0],0,...e.slice(1)],offset:t},anchor:{path:[e[0],0,...e.slice(1)],offset:t}}}return nme(n)(i)}const v=new Map,{anchor:{path:g,offset:m},focus:{path:y,offset:b}}=i.selection,C=kge(i.node,hc(g)),w=kge(i.node,hc(y)),x=aRe(),S=aRe();Wge(C)&&(C.props={...C.props,[x]:!0}),Wge(w)&&(w.props={...w.props,[S]:!0});const E=[];pme(i.node,i.selection,((e,t)=>{if(void 0!==u){let n=cme(i.node,t,rae);if(n||(n=cme(i.node,t,lae)),!n)return;if(E.find((e=>Fc(n,e))))return;for(E.push(n),p(n);yge(e);)e=e.children[0],t=Mge(e.key);return void(i=nme(t,!0)(i))}let n=cme(i.node,t,rae);n||(n=cme(i.node,t,lae)),n||Pge(e)&&v.set(t,e)})),void 0===u&&v.forEach(((n,o)=>{var r;if(Rve(n)){n.props&&(n.props.subclass=t,n.style={...n.style,...Bve(t)});let o=n.children[0];if(Hge(o)&&(null===(r=o.props)||void 0===r?void 0:r.style)){const t=Mge(n.key),r=e.editor.style;Object.assign(o.props.style,Gce(i,t,r))}return Yge(o)&&(o=o.children[0]),void(Rge(o)&&o.style&&Object.assign(o.style,Ave(t)))}0!==Bge(n)&&(h(n),i=nme(o,!0)(i))})),bme(i,i.node,d),i=lme()(i);let k=null,D=null;dme(i.node,(e=>{var t,n,o,i;if(Wge(e)&&((null===(t=e.props)||void 0===t?void 0:t[x])&&(k=Mge(e.key),null===(n=e.props)||void 0===n||delete n[x]),(null===(o=e.props)||void 0===o?void 0:o[S])&&(D=Mge(e.key),null===(i=e.props)||void 0===i||delete i[S])),k&&D)return!0})),!k&&D?k=[...D]:k&&!D&&(D=[...k]),k&&D?i.selection={anchor:{path:[...k,null!==(s=dc(g))&&void 0!==s?s:0],offset:m},focus:{path:[...D,null!==(c=dc(y))&&void 0!==c?c:0],offset:b}}:i=bge()(i);const I=Ege(i.node);return nme(I)(i)},mme=(e,t=!1)=>n=>{var o,i,r,l,s,c,a,u;const d=kge(n.node,e);if(!tae(d,rae))return n;const f=!(null===(o=d.props)||void 0===o?void 0:o.expand);void 0===d.props&&(d.props={}),d.props.expand=f;const h=dc(e);if(void 0===h)return n;const p=dc(Oge(n.node,e));if(void 0===p)return n;const v=n.node;if(f){const o=null!==(r=null===(i=d.props)||void 0===i?void 0:i.list)&&void 0!==r?r:[],a=o.map(((t,n)=>{var o;const i=[...hc(e),(null!==(o=dc(e))&&void 0!==o?o:0)+n],r=Nge(i);return hme(t,r)}));v.children.splice(p+1,0,...a),null===(l=d.props)||void 0===l||delete l.list;let u=!1;const f=v.children[p+1];if(Rve(f)?(null===(s=d.props)||void 0===s?void 0:s.subclass)<=(null===(c=f.props)||void 0===c?void 0:c.subclass)&&(u=!0):void 0===f&&(u=!0),u&&!t){const e=Mge(d.key),t=Sge(e),n=hme(Cge([""]),Nge(t));v.children.splice(p+1,0,n)}if(n=lme(Sge(e),Bge(v)-p-2)(n),(n=nme(e)(n)).selection){const{focus:e,anchor:t}=n.selection;e.path[0]>h&&(e.path[0]+=o.length),t.path[0]>h&&(t.path[0]+=o.length)}return n}et(d.props.list)||(d.props.list=[]);let g=p;for(;g<v.children.length;){const e=v.children[g+1];if(void 0===e)break;if(tae(e,rae)&&(null===(a=e.props)||void 0===a?void 0:a.subclass)>=(null===(u=d.props)||void 0===u?void 0:u.subclass))break;d.props.list.push(e),g++}v.children.splice(p+1,g-p),n=lme(Sge(e),Bge(v)-p-2)(n),n=nme(e)(n);const m=d.props.list;if(d.props.list=m.map((e=>fme(e))),!n.selection||0===m.length)return n;const{before:y,after:b}=ume(n.selection,!1),C=Mge(pc(m).key),w=Mge(dc(m).key);if(Uge(y.path,C)||Zge(b.path,w))if(!Uge(y.path,C)||Uge(b.path,C)||Zge(b.path,w)){if(!Uge(y.path,C)&&!Zge(y.path,w)&&Zge(b.path,w)){const t=Sge(e);y.path=t,y.offset=0}}else{const t=kge(n.node,[...e,0]);if(Wge(t)){const e=Ige(t),o=kge(n.node,e);null!==o&&(b.path=e,b.offset=Bge(o))}}else bge()(n);if(n.selection){const{focus:t,anchor:o}=n.selection,i=e.length-1;t.path[i]>h&&(t.path[i]-=m.length),o.path[i]>h&&(o.path[i]-=m.length)}return n},yme=e=>t=>{const n=kge(t.node,e);if(!Fve(n)&&!Hve(n))return t;const o=Dge(n);return t.selection={focus:{path:[...o],offset:0},anchor:{path:[...o],offset:0}},t};function bme(e,t,n){var o,i;const r=[],l=t.children.filter((e=>tae(e,rae)));let s=null;for(let t=0;t<l.length;t++){const c=l[t].props,a=l[t].children[0];if(!tae(a)){r.length=0;continue}s!==(null===(o=a.props)||void 0===o?void 0:o.type)&&(s=null===(i=a.props)||void 0===i?void 0:i.type,r.length=0);const u=Gce(e,Mge(a.key),n),d=null==c?void 0:c.subclass,f=iae.H-d;void 0===r[f]&&(r[f]=0),r[f]++;const h=r.slice(0,f+1).filter((e=>void 0!==e));if(a.props){const e=Bve(d);Kge(Mge(a.key))||d!==iae.H||(e.fontSize=ch(12)),Object.assign(a.props,{style:{...a.props.style,...e,...u},level:h})}}return e}const Cme=e=>t=>{var n;const{selection:o,node:i}=t;if(void 0===o)return t;const{path:r}=o.focus,l=kge(i,r);if(null===l)return t;let s=!1,c=cme(i,r,rae);if(void 0===c&&(c=cme(i,r,lae),c&&(s=!0)),void 0===c){if(vme(i,o)){const e=ame(i,r);if(1===(null==e?void 0:e.length)){const n=kge(i,e);if(Yge(n)){const o=i.children.indexOf(n);if(-1!==o){let r=n.children[0];Rge(r)?(r.style&&(r.style=ime(r.style),r.style=rme(r.style)),Xge(r),delete r.position):(r=hme(Cge([r]),n.key),Xge(r)),i.children[o]=r,t=nme(e)(t)}}}}return t}const a=kge(i,c);if(!Hge(a))return t;const u=hc(c),d=kge(i,u);if(!$ge(d))return t;let f=[],h=null,p=a;for(;jge(p);){const e=p.children;if(e.length>1){const t=e.splice(1,e.length-1);f.push(...t.map((e=>(qge(e),e))))}p=e[0]}if(f.length)if(1===f.length){const e=f[0];h=_ge(e)?e:Cge([e])}else h=Cge(f);if(!Rge(h))return 0===Bge(l)&&(Fve(a)||(a.type=mge,delete a.props,delete a.style)),t;const v=RPe(a);Pc(v)||xPe(h,(e=>{if(Ohe(e)||Sae(e)){const t=e.children[0];if(qge(t)){if(!e.props||!t.props)return!1;const n=t.props.uid;if(v[n]){const n=aRe();e.props.id=n,e.props.uid=aRe(),t.props.id=n,t.props.uid=aRe()}}return!1}if(qge(e)){if(!e.props)return!1;const t=e.props.uid;if(v[t]){const t=aRe();e.props.id=t,e.props.uid=aRe()}}}),!0),a.props=a.props||{},a.props.expand=!1;const g=d.children.indexOf(a),m=Sge(c);let y=fme(h);Jge(y);const b={...a.props},C=s?b.id:aRe();b.id=C,delete b.list;let w=!1;Pve(a)&&!Vge(y)?(w=!0,tae(y)&&(y.type=mge,delete y.props,delete y.style),y.style||(y.style={}),Object.assign(y.style,Ave(b.subclass)),y=wge(s?{id:aRe(),uid:aRe()}:{id:C,uid:C},[y])):Vge(y)||(y.style||(y.style={}),Object.assign(y.style,Ave(b.subclass)));const x={...fme(a),props:b,children:[y]},S=ps(hme(x,Nge(m)));if(d.children.splice(g+1,0,S),w&&!s&&e.push(gge([x])),w){const t=a.children[0];if(Yge(t)){const o=null===(n=t.props)||void 0===n?void 0:n.id;o&&e.push(Oq(o,t,null))}}if(Vge(y)?(S.type=mge,delete S.props,delete S.style,S.children=[],Xge(S),t=mme(c,!0)(t)):s||(t=Sme(m)(t)),t.selection){const e=Dge(S);t.selection.anchor.path=[...e],t.selection.focus.path=[...e]}return nme(r)(t)},wme=e=>e=>{var t,n,o,i;const{selection:r,node:l}=e;if(void 0===r)return e;const{before:{path:s,offset:c}}=ume(r);let a=!1;const u=cme(l,s,rae);if(u){const d=cme(l,s);if(d&&d.length>u.length)return e=xge()(e);const f=kge(l,u);if(Fve(f)){if(Kge(s)&&Fge(r)&&0===c){if(Vge(f)){const t=f.children[0];if(qge(t)){const n=t.children[0];if(Wge(n))t.children[0]={...n,children:[""]};else{const e=Mge(t.key),n=Nge([...e,0]);t.children[0]=hme(Cge([""],Ave(iae.H)),n)}const o=[...u,0,0,0];e.selection={anchor:{path:[...o],offset:0},focus:{path:[...o],offset:0}},e=nme(o)(e)}}return e}a=!0}else if(Hge(f)){const r=null===(t=f.props)||void 0===t?void 0:t.mergeclass;if(r&&void 0!==r[gEe.name])return null===(n=f.props)||void 0===n||delete n.mergeclass,!1===(null===(o=f.props)||void 0===o?void 0:o.expand)&&(e=mme(u)(e)),e;const l=f.children[0];Rge(l)&&(l.style=ime(l.style),l.style=rme(l.style),null===(i=l.style)||void 0===i||delete i.height,delete l.position,Xge(l),e=nme(u)(e))}}if((e=a?xme()(e):xge()(e)).selection){const t=e.selection.focus.path,n=cme(e.node,t,rae);if(void 0===n)return e;e=Sme(n)(e)}return e},xme=e=>e=>{var t,n;if((e=xge()(e)).selection){const o=e.selection.focus.path,i=sme(e.node,o),r=ame(e.node,i);if(!r)return e;const l=kge(e.node,r);if(!Yge(l))return e;const s=kge(e.node,hc(r));if(!$ge(s))return e;const c=l.children.map(((e,t)=>(Rge(e)&&e.style&&(e.style=ime(e.style),e.style=rme(e.style),delete e.position,Xge(e)),e))),a=s.children.indexOf(l);s.children.splice(a,1,...c),e=lme(r)(e);const u=kge(e.node,r);if(Wge(u)){const o=Ige(u);if(null!==kge(e.node,o)){const i=null!==(n=null===(t=e.selection)||void 0===t?void 0:t.focus.offset)&&void 0!==n?n:0;e.selection={anchor:{path:[...o],offset:i},focus:{path:[...o],offset:i}}}}e=nme(r)(e)}return e},Sme=e=>t=>{var n,o;const i=kge(t.node,e);if(Rve(i)){let r=!0;const l=Sge(e),s=kge(t.node,l);Rve(s)?(null===(n=i.props)||void 0===n?void 0:n.subclass)<=(null===(o=s.props)||void 0===o?void 0:o.subclass)&&(r=!1):null==s&&(r=!1),i.props=i.props||{},i.props.expand=r}return t};function Eme(e,t,n,o,i,r){var l,s,c,a,u,d;let{selection:f,data:h}=e.editor;if((null==r?void 0:r.selection)&&(f=r.selection),!f)return;if(!e.virtual)return void(null===(l=t.current)||void 0===l||l.commit(n));const{before:p,after:v}=ume(f);let g=cme(h,p.path);if(void 0!==g&&"="===(null==r?void 0:r.type)){const e=Lge(h,g);if($ge(e)){const t=null===(s=e.props)||void 0===s?void 0:s.subclass;if(t&&t!==iae.H)for(let e=g[g.length-1]-1;e>=0;e--){const n=[...g.slice(0,-1),e],o=Lge(h,n);if(Rve(o)){const e=null===(c=o.props)||void 0===c?void 0:c.subclass;if(e===t)g=n;else if(e>t)break}else tae(o)&&(g=n)}}}else g=sme(h,p.path);let m=cme(h,v.path);if(void 0!==m){const e=Lge(h,m),t=Lge(h,hc(m));if($ge(e)&&$ge(t)){const n=null===(a=e.props)||void 0===a?void 0:a.subclass,o=Bge(t);if(n&&n!==iae.H)for(let e=m[m.length-1]+1;e<o;e++){const t=[...m.slice(0,-1),e],i=Lge(h,t);if(Rve(i)){const e=null===(u=i.props)||void 0===u?void 0:u.subclass;if("="===(null==r?void 0:r.type)){if(e===n)m=t;else if(e>n){m=t;break}}else if(e>=n){m=t;break}}else tae(i)&&(m=t);e===o-1&&(m=t)}}}else m=sme(h,v.path);const y=Lge(h,g);$ge(y)&&(g=[...g,...Age(y)]);const b=Lge(h,m);$ge(b)&&(m=[...m,...Tge(b)]),Array.isArray(n)||(n=[n]),o(J8(n,{focus:{path:g,offset:0},anchor:{path:m,offset:0}},i));const C=setTimeout((()=>{o(K3(),y6())}));(null===(d=null==r?void 0:r.timer)||void 0===d?void 0:d.current)&&(clearTimeout(r.timer.current),r.timer.current=C)}const kme=e=>t=>{const n=e.editor.style;return bme(t,t.node,n),t},Dme=(e,t)=>n=>{var o;const i=kge(n.node,e);if(!Hve(i))return n;const r=kge(n.node,hc(e)),l=r.children.indexOf(i);if(-1===l)return n;let s=i.children[0];if(qge(s)){const e=null===(o=s.props)||void 0===o?void 0:o.uid;if(e&&Pc(n.ureference)&&t){const n={[e]:s};t(y9(n,{}),P9(n,{}))}s=s.children[0]}return Rge(s)?(s.style&&(s.style=ime(s.style),s.style=rme(s.style)),Xge(s),delete s.position):(s=hme(Cge([s]),i.key),Xge(s)),r.children[l]=s,n=nme(e)(n),n=bge()(n)},Ime=e=>t=>(t.visible=e,t);function Nme(e,t,n){const o=async()=>{var o;const i=e.worker;if(!i)return;const r=e.provider(),{context:l,rootdispatch:s,imperator:c}=r;let a={};if(l.root){const e=await Uve(l,i);a=null!==(o=e.editor)&&void 0!==o?o:{},s(mq(e))}const u=[];Eme(l,c,gme(l,t,a,u),s,u,n)},i=e.provider(),{context:r,rootdispatch:l}=i;r.root?Kve(r,e,l,o):o()}const{useHotkey:Lme,useHotkeys:Tme}=Cj;const{getPathFromKey:Bme,isStartPath:Ame}=hk;function Mme(e){const{style:t,subclass:n,mergeclass:o,expand:i,kid:r}=e,l=(null==t?void 0:t.color)||_f,s=Ame(Bme(null!=r?r:"")),c=null==o?void 0:o[Lxe],a=nae(null==t?void 0:t.fontSize);if(c===Iye.ONE)return G(Fme,{scale:a,color:l,expand:i});if(c===Iye.TWO)return G(Hme,{scale:a,color:l,expand:i});if(!s&&n===iae.H){return G(Rme,{scale:nae(ch(iae.H0))*Lce,color:l,expand:i})}return null}function Ome(e){const{style:t}=e,n=(null==t?void 0:t.color)||_f;return G(Pme,{scale:nae(ch(iae.H0))*Lce,color:n})}function Rme(e){var t;const n=1.06*(null!==(t=e.scale)&&void 0!==t?t:1),o=sae*n,i=12*o/10;return G("div",{style:{...nge,width:o,height:i},children:G(dO,{width:o,fill:e.color})})}function Pme(e){var t;const n=1.06*(null!==(t=e.scale)&&void 0!==t?t:1),o=sae*n,i=12*o/10;return G("div",{style:{...nge,width:o,height:i},children:G(fO,{width:o,fill:e.color})})}function Fme(e){var t;const n=null!==(t=e.scale)&&void 0!==t?t:1,o=sae*n,i=sae*n,r={transform:`rotate(${e.expand?"90deg":0})`};return G("div",{style:{...tge,width:o,height:i,top:-i/3},children:G(cO,{style:r,width:o,fill:e.color})})}function Hme(e){var t;const n=null!==(t=e.scale)&&void 0!==t?t:1,o=sae*n,i=sae*n,r={transform:`rotate(${e.expand?"90deg":0})`};return G("div",{style:{...tge,width:o,height:i,top:2*-i/5},children:G(nO,{style:r,width:4.5*o/sae,fill:e.color})})}const{getEditNodeByPath:_me,getPathFromKey:jme,isStartPath:Wme,sliceDecoratePath:zme}=hk;function Vme(e){var t;const n=R(ZU);if(e&&n){n.editor.style;const o=n.editor.node,i=jme(e),r=zme(o,i,rae);if(r){const e=_me(o,r);if(Rve(e)){const o=null===(t=e.props)||void 0===t?void 0:t.subclass;if(void 0!==o){const e=Bve(o),t=Wme(i);return o===iae.H&&!t&&n.root&&(e.cursor="pointer",e.fontWeight=e.fontWeight,e.fontSize=ch(12)),e}}}}}function $me(e,t){const n=_d(e),o=_d(R(OU)),i=R(PU),r=_d(R(ZU)),l=R(jU),s=Wd("click"),c=Wd("pointerdown"),a=Wd("pointerup");return F((()=>(window.addEventListener("pointerup",a.listener),()=>{window.removeEventListener("pointerup",a.listener)})),[a]),F((()=>{const e=s.subscribe((async e=>{var i;const{id:s,kid:c}=n.current,a=o.current,u=r.current;if(t&&s&&c){if(rh)return e.stopPropagation(),a.onOpen?void(null===(i=a.onOpen)||void 0===i||i.call(a,s)):void Gve(l,s);Zve(u,c)||(await l.safty(s),l.dispatch(e6(a,s),z3(s),S6(s)))}}));return()=>{e.unsubscribe()}}),[t,n,o,r,s,l,i]),F((()=>{const e=c.subscribe((e=>{const{mirror:o,kid:i}=n.current,l=r.current;t&&i&&(l.root||o)&&(Zve(l,i)||e.stopPropagation())}));return()=>{e.unsubscribe()}}),[t,n,r,c]),F((()=>{const e=c.pipe(ju((e=>{const{clientX:t,clientY:n}=e;return a.pipe(Ou((e=>{const o=Math.abs(e.clientX-t),i=Math.abs(e.clientY-n);return o<2&&i<2})))}))).subscribe((async e=>{const{id:i,kid:s}=n.current,c=o.current,a=r.current;t&&i&&s&&!rh&&Zve(a,s)&&(await l.safty(i),l.dispatch(e6(c,i),z3(i),S6(i)))}));return()=>{e.unsubscribe()}}),[t,n,o,r,c,a,i,l]),{outline:zd([s,c])}}function Zme(e,t){const n=Wd("pointerdown"),o=Wd("pointerenter"),i=Wd("pointerleave"),r=Wd("pointermove"),l=Wd("click"),s=Wd("pointerenter"),c=Wd("pointerleave"),a=Wd("click");return F((()=>{const e=Au(o,n).pipe(ju((()=>r.pipe(Pu(150)).pipe(Fu(1)).pipe(Wu(i)).pipe(Wu(a))))).subscribe((e=>{t(Ime(!0))}));return()=>e.unsubscribe()}),[n,o,i,r,a,t]),F((()=>{const e=Au(o.pipe(ju((()=>i.pipe(_u(150)).pipe(Wu(s))))),n.pipe(ju((()=>r.pipe(Fu(1))))),s.pipe(ju((()=>c.pipe(_u(150)).pipe(Wu(o))))),a,l).subscribe((e=>{t(Ime(!1))}));return()=>e.unsubscribe()}),[n,o,i,r,l,s,c,a,t]),{shortcut:zd([n,o,i,r,l]),option:zd([s,c,a])}}const{getPathFromKey:Ume,isStartPath:qme,sliceDecoratePath:Yme}=hk;function Kme(e){const t=R(PU),n=R(RU),o=R(ZU),i=R(VU),r=P(),l=Z(null),{kid:s,subclass:c,mergeclass:a,mirror:u,id:d}=e,f=null==a?void 0:a[Lxe],h=qme(Ume(null!=s?s:"")),p=c===iae.H,v=p&&!h,g=$me(e,v),m=Bve(c),{root:y,editor:b}=o;let C=e.children;v&&(y||u)?(m.cursor="pointer",m.fontWeight=b.style.fontWeight,m.fontSize=ch(12),C=Yve(C)):Kf&&p&&h&&(m.marginTop=-10);let w=v&&(!!y||!!u);Kf&&void 0!==f&&(w=!0);const x=Vve(e,o,m),S={...ege,...m};let E;v?E={...oge,marginTop:-2.5,height:ch(12)}:void 0!==f&&(E={...oge,...Ave(c)});let k=G(wh,{style:S,...g.outline,children:C});return r&&v&&(k=G("a",{style:S,href:d,target:"_blank",children:C})),G(Aye,{...e,ratio:1.2,style:x,placeholder:w,icon:Mme,iconSize:qve(),iconStyle:E,onClickIcon:e=>{var r;if(e.stopPropagation(),void 0===s)return;const{node:c}=b,a=Yme(c,Ume(s),rae);if(void 0===a)return;if(v)return null===(r=i.current)||void 0===r||r.commit(yme(a)),void(Fc(n.gfocus,o.focus)||t(o4(o.focus)));if(void 0===f)return;const u=[mme(a)],d={anchor:{path:[...a],offset:0},focus:{path:[...a],offset:0}};Eme(o,i,u,t,[],{selection:d,timer:l})},onPointerDownIcon:e=>e.stopPropagation(),children:k})}function Gme(){return{visible:!1}}const{getPathFromKey:Xme,sliceDecoratePath:Jme,getEditNodeByPath:Qme,getEditNodeStartPath:eye,getEditNodeEndPath:tye,getNodeLength:nye}=hk;function oye(e){const t=R(PU),n=R(RU),o=R(ZU),i=R(VU),r=[{key:Xve.copyShortCut,icon:yO},{key:Xve.editShortCut,icon:bO},{key:Xve.removeShortCut,icon:vO}];return G("div",{style:ige,children:G(Dh,{style:lge,...e.events,children:r.filter((t=>"title-link"!==e.type||t.key!==Xve.removeShortCut)).map((r=>G(Vk,{tips:e.lang?Jve[e.lang][r.key]:r.key,direction:"top",children:G("div",{style:sge,children:G(Ev,{style:cge,onClick:l=>(async(r,l)=>{var s,c;if(void 0===e.kid)return;const{editor:{node:a},focus:u}=o,d=Jme(a,Xme(e.kid),lae);if(void 0!==d)if(l===Xve.removeShortCut)null===(s=i.current)||void 0===s||s.commit(Dme(d,t));else if(l===Xve.copyShortCut){const e=Qme(a,d),t=eye(e),n=tye(e),i=Qme(a,n),r={focus:{path:t,offset:0},anchor:{path:n,offset:nye(i)}};Oze({...o.editor,selection:r})}else l===Xve.editShortCut&&(null===(c=i.current)||void 0===c||c.commit(yme(d)),Fc(n.gfocus,u)||t(r4(u)))})(0,r.key),children:G(r.icon,{})})})},r.key)))})})}const{getPathFromKey:iye,sliceDecoratePath:rye}=hk;function lye(e){const t=R(PU),n=R(RU),o=R(HU),i=R(ZU),r=R(VU),{kid:l}=e,[s,c]=qd(Gme),{outline:a}=$me(e,!0),{shortcut:u,option:d}=Zme(0,c),f=Z(null),{editor:h}=i,p={cursor:"pointer",fontWeight:h.style.fontWeight,fontSize:ch(12)},v=Yve(e.children),g=Vve(e,i,p),m={...ege,...p},y={...oge,marginTop:-2.5,height:ch(12)},{editor:{node:b},focus:C,lang:w}=i;return G(wh,{...u,children:G(Aye,{...e,ratio:1.2,style:g,icon:Ome,iconSize:qve(),iconStyle:y,onClickIcon:e=>{var o;if(e.stopPropagation(),void 0===l)return;const i=rye(b,iye(l),lae);void 0!==i&&(null===(o=r.current)||void 0===o||o.commit(yme(i)),Fc(n.gfocus,C)||t(r4(C)))},onPointerDownIcon:e=>e.stopPropagation(),children:X(wh,{style:m,...a,children:[v,G("span",{style:rge,ref:f}),e.editable&&s.visible&&oD(G(oye,{kid:l,lang:w,events:d}),o,f)]})})})}var sye={name:rae,label:function(e){return Jve[e.lang][Xve.outlineList]},inner:function(e){const{name:t}=e,n=R(jU),o=Z(null),i=n.provider(),{context:r}=i,{selectionDecorate:l}=r.editor;let s=null==l?void 0:l[t];void 0===s&&(s=null==l?void 0:l[lae]),void 0===s&&(s=iae.H0);const c=Jve[e.lang][Xve.outlineListPackage].map((e=>({value:{subclass:e.subclass,style:e.style},name:G("span",{style:{...Qve,...e.style},children:e.name}),hotkey:e.hotkey,selected:e.subclass===s}))),a=_((e=>{var t;const i=null===(t=e.value)||void 0===t?void 0:t.subclass;void 0!==i&&Nme(n,i,{timer:o})}),[n]);return G(Lg,{style:{width:200},options:c,onClick:a})},outer:function({children:e,...t}){var n;const{name:o,lang:i}=t,r=R(jU),l=Z(null),s=r.provider(),{context:c}=s,{selectionDecorate:a}=c.editor;let u=null==a?void 0:a[o];void 0===u&&(u=null==a?void 0:a[lae]);const d=Jve[t.lang][Xve.outlineListPackage].map((e=>({value:{subclass:e.subclass,style:e.style},hotkey:e.hotkey}))),f=_d(d),h=_((()=>{const{modal:e,webdav:t,file:n}=r.stater.get();if((null==e?void 0:e.visible)||(null==t?void 0:t.visible))return;if(gje(n))return;const i=r.provider(),{rootdispatch:l}=i;l(t7(o,!0))}),[r,o]);Lme(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),h);const p=_(((e,t)=>{var n;const o=f.current[t],i=null===(n=null==o?void 0:o.value)||void 0===n?void 0:n.subclass;void 0!==i&&Nme(r,i,{timer:l})}),[f,r]);return Tme(d.map((e=>e.hotkey)),p),X(oj,{...t,style:{width:58},onClick:h,children:[!0!==t.menu&&G(rj,{...t,children:jve(u,i)}),e]})},hotkey:function(e){return Uf?"++H":"Ctrl+Shift+H"}},cye=Object.freeze({__proto__:null,DEPTH_MAP:cae,ICON_SIZE:sae,get SubClass(){return iae},block:Kme,calcInnerSubclass:Tve,collapsedStart:yme,createOutlineBoxStyle:Ave,createOutlineListNode:_ve,createOutlineStyle:Bve,decorateConfirm:Kve,decorateDeleteBackward:wme,decorateExpand:mme,decorateSafty:Eme,decorateSelection:kme,decorateSplitBlock:Cme,decorateState:bme,default:sye,generateLinkTitleChildren:Yve,generateMobileTitleChildren:function(e){let t=e;if(Array.isArray(t)&&(t=t[0]),!p(t))return e;t={...t};let n={...t.props},o={...n.node};if(wve(o)&&1===cve(o)){let e=ds(o.children[0]);if(yve(e)){const t={...e.style};t.paddingTop=7,e={...e,style:t}}o.children=[e]}return n.node=o,t.props=n,Array.isArray(e)?1===e.length?[t]:[t,...e.slice(1)]:t},getCriticalPath:function(e,t,n){var o;let i=0,r=[];const l=uve(e,t);for(;i<t.length;){if(dve(e)&&e.type===rae){const l=null===(o=e.props)||void 0===o?void 0:o.subclass;if(l>0){if(l===n){r=t.slice(0,i);break}l<n&&(r=t.slice(0,i+1))}}const s=e.children[l[i]];if(!fve(s))break;e=s,r.push(t[i]),i++}return r},getFirstOutlineKey:function(e){const{data:t}=e.editor,n=[];for(let e=0;e<t.children.length;e++){if(Rve(t.children[e])){n.push(e);break}}return sve(n)},getIconSize:qve,getNextOutlineNodePath:$ve,getOutlineItemById:function(e,t){var n,o;const i=e.children.map((t=>({parent:e.children,cnode:t})));for(;i.length;){const e=i.shift();if(void 0===e)continue;const{parent:r,cnode:l}=e;if(Rve(l)){if((null===(n=l.props)||void 0===n?void 0:n.id)===t)return{cnode:l,parent:r};const e=null===(o=l.props)||void 0===o?void 0:o.list;et(e)&&i.unshift(...e.map((t=>({parent:e,cnode:t}))))}}return null},getOutlineNodeById:Ove,getOutlineNodeByPath:function e(t,n){var o;const i=t.children[0];let r=0;if(hve(i)){r=ave(i.key)[0]}const l=n[0]-r;if(l<0)return null;const s=t.children[l];if(Rve(s)){if(n.length>1){const t=null===(o=s.props)||void 0===o?void 0:o.list;if(et(t)){return e({...s,children:t},fc(n))}}return s}return null},getPrevOutlineNodePath:function(e,t){var n;const o=e.children[0];let i=0;if(hve(o)){i=ave(o.key)[0]}let r=t[0]-i;if(r<0)return[];const l=e.children[r];if(pve(l)&&t.length>1){const e=null===(n=l.props)||void 0===n?void 0:n.list;if(et(e)){const n=$ve({...l,children:e},fc(t));if(n.length>=0)return[r+i,...n]}}for(;r>=0;){if(Rve(e.children[--r]))break}return r<0?[]:[r+i]},getTargetStyle:Vve,getTitle:jve,injectOutlinePage:gge,insertOutlineNodes:(e,t)=>t=>{if(Fge(t.selection)||(t=tme()(t)),!t.selection)return t;let n=t.selection.focus.path;const o=sme(t.node,n),i=kge(t.node,o);if(Vge(i,!0)||(t=eme()(t),t=eme()(t),t=Gge()(t)),!t.selection)return t;n=t.selection.focus.path;const r=Oge(t.node,n),l=Wve(t.node,r),s=zve(t.node,r),c=[];return l&&c.push(...l.children),c.push(...e),s&&c.push(...s.children),t.node.children=c,t=lme()(t),t=nme([n[0]])(t)},isFocusOutline:Zve,isOutlineNode:Rve,isReferenceTitleNode:Pve,isShortCutNode:Hve,isTitleNode:Fve,link:lye,name:rae,open:Gve,readSelectionStore:Uve,removeShortCut:Dme,resetFileBranchExpand:Sme,saftyEditorOutline:()=>e=>{var t,n;const{children:o}=e.editor.node;for(const i of o)if(Fve(i)){const o=i.children[0];if(pge(o)){const i=null===(t=o.props)||void 0===t?void 0:t.uid,r=o.children[0];if(!hge(r)){const t=vge(o.key,0);if(o.children[0]=dge(age([null!=r?r:""]),t),i){const t=null!==(n=e.editor.ureference)&&void 0!==n?n:{};t[i]=o,e.editor.ureference=t}}}}return e},setOptional:Ime,setOutline:Nme,setOutlineList:gme,shortcut:lae,sliceAfterEditNode:zve,sliceBeforeEditNode:Wve,sliceTargetEditNode:function e(t,n){const o=pc(n);if(void 0===o)return t;const i=[],r=t.children[o];return hve(r)&&i.push(e(r,fc(n))),{...t,children:i}},titleDeleteBackward:xme,transformToMarkdownDepth:Mve,unravelOutlinePage:e=>t=>{var n,o;return void 0===(null===(o=null===(n=t.store)||void 0===n?void 0:n.editor)||void 0===o?void 0:o[e])?t:t=Bq(e,!1)(t)},useOutlineEvents:$me,useOutlineStyle:Vme,useShortCutEvents:Zme});const{genNextLevelPath:aye,genPrevLevelPath:uye,getNodeByPath:dye,getNodeLength:fye,getPathFromKey:hye,iterateBlockNode:pye,sliceBlockPath:vye,sortSelection:gye,createDecorateBlockNode:mye,decorateBlockNode:yye,setSelectionReflow:bye}=hk;function Cye(e,t,n,o,i){var r,l;const{modal:s,webdav:c,file:a}=e.stater.get();if((null==s?void 0:s.visible)||(null==c?void 0:c.visible))return;if(gje(a))return;const{imperator:u,context:d}=e.provider(),f=d.editor.style,h=null===(r=d.editor.selectionDecorate)||void 0===r?void 0:r[t];null===(l=u.current)||void 0===l||l.commit((e=>{if(h!==n){const o=mye({type:t,subclass:n});e=yye(o,!0)(e)}else e=yye()(e);if(e=bye(!0)(e),o){Jce(e).forEach((t=>{e=pye((t=>{o(e,t,f)}),t)(e)}))}return e})),null==i||i()}function wye(e,t,n,o,i=!0){const{context:r}=e.provider();if(xye(t,n,o),Qce(r,rae,i)){const e=r.editor.style;bme(t,t.node,e)}}function xye(e,t,n){var o,i,r,l,s,c,a,u,d,f,h,p,v,g;let m=[0];if(rSe(t)){const e=ds(null===(o=t.props)||void 0===o?void 0:o.level);et(e)&&(e.length&&e[e.length-1]--,m=e)}let y={};const b=[];let C=null;for(let o=0;o<t.children.length;o++){const w=t.children[o];if(!tae(w)||Rve(w)){y={};continue}let x=null===(i=w.props)||void 0===i?void 0:i.type;if(C!==x&&x===gEe.name){const e=w.children[0];if(!tae(e)){y={};continue}x=null===(r=e.props)||void 0===r?void 0:r.type}C!==x&&(C=x),y[C]||(y[C]=m.slice());let S=y[C];const E=hye(w.key),k=Gce(e,E,n),D=Xce(e,E,n),I=parseInt(String(null!==(s=null===(l=w.style)||void 0===l?void 0:l.marginLeft)&&void 0!==s?s:0)),N=Math.ceil(Math.max(0,I)/D),L=Math.max(0,m.length-1+N),T=null===(c=w.props)||void 0===c?void 0:c.offset,B=null===(a=w.props)||void 0===a?void 0:a.id;if(void 0===S[L]&&(S[L]=0),T&&!b.includes(B)?(S[L]=T,b.push(B)):S[L]+=1,S=S.slice(0,L+1).filter((e=>void 0!==e)),I<0&&(null===(u=w.style)||void 0===u||delete u.marginLeft),w.props){const e={...w.props.style,...k};delete e.fontSize,delete e.fontWeight,Object.assign(w.props,{style:e,level:S.slice()})}if(0===o&&rSe(t)&&t.props&&(t.props.level=null===(d=w.props)||void 0===d?void 0:d.level),rSe(w)){const e=((null!==(h=null===(f=w.props)||void 0===f?void 0:f.level.length)&&void 0!==h?h:1)-1)*D;for(let t=0;t<w.children.length;t++){const o=w.children[t];if(!tae(o))continue;if(0===t){o.props&&(o.props.level=null===(p=w.props)||void 0===p?void 0:p.level);continue}o.style||(o.style={});const{fontSize:i}={...k,...o.style,...n},r=2*parseInt(String(null!=i?i:"0")),l=(null!==(g=null===(v=o.props)||void 0===v?void 0:v.level.length)&&void 0!==g?g:1)-1;o.style.marginLeft=Math.max(0,l*r-e)}}y[C]=S}}const Sye=e=>t=>{const n=Jce(t),o=e.editor.style;return n.forEach((e=>{t=pye((e=>xye(t,e,o)),e)(t)})),t.selectionReflow=!0,t};function Eye(e,t,n,o){var i,r;const{selection:l,data:s}=e.editor;if(!o){if(!l)return;o=l}if(!e.virtual)return void(null===(i=t.current)||void 0===i||i.commit(n));const{before:c,after:a}=gye(o);let u=vye(s,c.path);for(0===u.length&&(u=[0]);u.length;){if(0===dc(u)){if(rSe(dye(s,hc(u)))){u=hc(u);continue}break}const e=uye(u),t=dye(s,e);if(!tae(t)||Rve(t)||Hve(t))break;u=e}let d=vye(s,a.path);0===d.length&&(d=[s.children.length-1]);let f=fye(dye(s,hc(d)));for(;d.length;){if(dc(d)>=f-1){if(rSe(dye(s,hc(d)))){d=hc(d),f=fye(dye(s,hc(d)));continue}break}const e=aye(d),t=dye(s,e);if(!tae(t)||Rve(t)||Hve(t))break;d=e}null===(r=t.current)||void 0===r||r.commit(n,{focus:{path:u,offset:0},anchor:{path:d,offset:0}},!0)}function kye(e){var t,n;const o=R(jU),{name:i}=e,{context:r}=o.provider(),l=null===(t=r.editor.selectionDecorate)||void 0===t?void 0:t[i];return G(Dh,{style:kce,children:null===(n=e.group)||void 0===n?void 0:n.map(((t,n)=>G(Uh,{type:0===n?"none":"left",children:G(wh,{style:{...Dce,backgroundColor:l===t.type?Af:void 0},children:G(Ev,{style:Ice,onClick:()=>(t=>{var n,i;e.preventDefault?null===(n=e.onChange)||void 0===n||n.call(e,t):(Cye(o,e.name,t,e.decorate),null===(i=e.onChange)||void 0===i||i.call(e,t))})(t.type),children:G(Dye,{list:t.jsx,style:t.style})})})},n)))})}function Dye(e){return G(K,{children:e.list.map(((t,n)=>X("div",{style:{...yce,...e.style},children:[e.divider?G("div",{style:Nce}):null,t.divider?t.divider:null,X("div",{style:Sce,children:[G(t.icon,{}),G("div",{style:Ece})]}),t.children?G(Dye,{...e,divider:!!t.divider,list:t.children}):null]},n)))})}var Iye;!function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO"}(Iye||(Iye={}));const Nye={default:Rf,hover:Mf,active:Of};function Lye(e){var t;const n=R(jU),{active:o,name:i,selected:r}=e,l=n.provider(),{context:s}=l,c=void 0!==(null===(t=s.editor.selectionDecorate)||void 0===t?void 0:t[i])||r;return G(oj,{...e,left:{colors:Nye,style:c?{backgroundColor:Mf}:void 0,onClick:t=>{var i,r;if(!1===o){if(t.stopPropagation(),e.preventDefault)return void(null===(i=e.onChange)||void 0===i||i.call(e,Iye.ONE));Cye(n,e.name,Iye.ONE,e.decorate),null===(r=e.onChange)||void 0===r||r.call(e,Iye.ONE)}},onPointerDown:e=>e.stopPropagation()},right:{colors:Nye,style:c?{backgroundColor:Af}:void 0,onClick:e=>{const t=n.provider(),{rootdispatch:o}=t;o(t7(i,!0))},onPointerDown:e=>e.stopPropagation()},children:e.children})}const{ZERO_WIDTH_NO_BREAK_SPACE:Tye,EditElement:Bye}=hk;function Aye({placeholder:e=!0,ratio:t=Lce,...n}){var o,i,r;const l=R(ZU),s=R(Bye),[c,a]=$(!1),u=Z(null),d={...null==l?void 0:l.editor.style,...n.style},f=parseFloat(String(d.fontSize))*t,h={...wce,width:f,...n.iconStyle};if(s&&(h.top=oae(d,n.iconSize)),void 0===n.kid)return G(K,{children:n.children});return X("div",{style:{...bce,marginLeft:e?0:-f,...n.decorateStyle},onPointerEnter:e=>{var t;n.hover&&a(!0),null===(t=n.onPointerEnter)||void 0===t||t.call(n,e)},onPointerLeave:e=>{var t;n.hover&&a(!1),null===(t=n.onPointerLeave)||void 0===t||t.call(n,e)},children:[G("div",{style:{minWidth:f}}),X("div",{style:Cce,children:[(!n.hover||c)&&X("div",{style:{...xce,fontSize:null===(o=n.style)||void 0===o?void 0:o.fontSize,fontWeight:null===(i=n.style)||void 0===i?void 0:i.fontWeight,lineHeight:null===(r=n.style)||void 0===r?void 0:r.lineHeight},children:[G(wh,{style:h,ref:u,onClick:n.onClickIcon,onPointerEnter:n.onPointerEnterIcon,onPointerLeave:n.onPointerLeaveIcon,onPointerDown:n.onPointerDownIcon,children:G(n.icon,{...n,style:d})}),Tye]}),n.children]}),n.mark&&G(n.mark,{...n,style:d})]})}var Mye=Object.freeze({__proto__:null,get SubClass(){return Iye},calcFontSizeScale:nae,calcIconOffset:oae,calcIterateSelections:Jce,calcTabMargin:function(e,t,n){var o,i;const r=Ace(e.node,t);return tae(r)?Xce(e,t,n)*((null!==(i=null===(o=r.props)||void 0===o?void 0:o.level.length)&&void 0!==i?i:1)-1):0},calcTabStep:Xce,calcUltimateStyle:Gce,decorate:Aye,decorateClass:Cye,decorateSafty:Eye,decorateSelection:Sye,decorateState:xye,decorateSubClass:wye,inner:kye,isDecorateListNode:tae,isDecorateListNodeSelection:Qce,isDeleteKeyboradEvent:eae,isNextListNodeDecorate:function(e,t){const{selection:n,node:o}=e.editor;if(void 0===n)return!1;const{after:{path:i}}=qce(n),r=Uce(o,i),l=hc(r),s=Ace(o,l);if(!Vce(s)||r.length<=0||r[r.length-1]<=Mce(s))return!1;const c=Tce(r);let a=c.length;for(;a>0;){if(tae(Ace(o,c.slice(0,a)),t))return!0;a--}return!1},isPrevListNodeDecorate:function(e,t){const{selection:n,node:o}=e.editor;if(void 0===n)return!1;const{before:{path:i}}=qce(n);let r=Uce(o,i);for(;r[r.length-1]<=0&&r.length>0;)r=hc(r);if(r.length<=0)return!1;const l=Bce(r);let s=l.length;for(;s>0;){if(tae(Ace(o,l.slice(0,s)),t))return!0;s--}return!1},outer:Lye,ratio:Lce,shouldDecorateKeyboardEvent:function(e){return $ce(e)||Zce(e)||eae(e)},triggerDecorateSelection:function(e,t){var n;const{selection:o,node:i}=e.editor;if(void 0!==o)if(Rce(o)){const{path:e}=o.focus;let r=e.length;for(;r>0;){const o=Ace(i,e.slice(0,r--));if(!Vce(o))continue;const l=t[null===(n=o.props)||void 0===n?void 0:n.type];if(l)return void l()}}else Kce(i,o,(e=>{var n;const o=t[null===(n=e.props)||void 0===n?void 0:n.type];if(o)return o(),!1}))}});const Oye=330,Rye=600,Pye=30,Fye="selector",Hye={position:"absolute",zIndex:1,display:"flex",justifyContent:"center",cursor:"default",left:"50%",top:5},_ye={position:"absolute",display:"flex",justifyContent:"center"},jye={position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",fontSize:14,color:_f},Wye={...{boxShadow:Wf,borderRadius:4,position:"absolute",display:"flex"},overflow:"hidden",display:"flex",marginTop:1,width:Rye,height:Oye,paddingTop:Pye,flexDirection:"column",boxSizing:"border-box"},zye={height:Pye,flex:1,position:"absolute",top:0,left:0,right:0,backgroundColor:Af,cursor:"move",display:"flex",alignItems:"center"},Vye={marginLeft:10},$ye={position:"absolute",right:4,cursor:"pointer",padding:3,paddingBottom:3,paddingLeft:4,paddingRight:4,borderRadius:2,fontSize:12,color:Hf},Zye={position:"relative",display:"flex",flex:1,overflow:"hidden"},Uye={position:"absolute",top:0,bottom:0,left:"50%",paddingRight:3,paddingLeft:2,transform:"translateX(-50%)",display:"flex",justifyContent:"center",cursor:"col-resize",zIndex:100},qye={position:"absolute",top:0,bottom:0},Yye={flex:1,position:"relative"},Kye={flex:1,position:"relative",backgroundColor:Tf},Gye={position:"absolute",top:0,bottom:0,left:0,width:5,zIndex:100,cursor:"col-resize"},Xye={position:"absolute",top:0,bottom:0,right:0,width:5,zIndex:100,cursor:"col-resize"},Jye={position:"absolute",left:0,right:0,bottom:0,height:5,zIndex:100,cursor:"row-resize"},Qye={display:"inline-block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",verticalAlign:"middle"},ebe={display:"flex",flex:1,fontSize:14,alignItems:"center"},tbe={position:"relative",width:14,height:14,marginLeft:-16,marginRight:7,borderRadius:"50%",boxSizing:"border-box",borderWidth:1,borderStyle:"solid",borderColor:jf,display:"flex",justifyContent:"center",alignItems:"center"},nbe={width:8,height:5,marginBottom:2,boxSizing:"border-box",borderLeft:"1px solid #fff",borderBottom:"1px solid #fff",transform:"rotate(-45deg)"},obe={width:7,height:7,borderRadius:"50%",backgroundColor:Bf},ibe={display:"flex",flex:1,position:"absolute",top:0,bottom:0,left:-10,right:-10},rbe={flex:1,paddingLeft:10,paddingRight:12,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"default"},lbe={display:"flex",alignItems:"center"},sbe={display:"inline-flex",backgroundColor:Bf,color:"#fff",fontSize:12,fontWeight:"bold",height:15,minWidth:7,borderRadius:8,justifyContent:"center",alignItems:"center",marginLeft:4,paddingLeft:4,paddingRight:4},cbe={position:"relative",width:20,height:20,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",marginLeft:-18,marginRight:3},abe={close:"close",empty:"empty",placeholder:"placeholder"},ube={cn:{[abe.close]:"",[abe.empty]:"",[abe.placeholder]:""},en:{[abe.close]:"Close",[abe.empty]:"No Data",[abe.placeholder]:"Please enter a keyword to search for associated reference"}},{calcCommonSelectionPath:dbe,comparePath:fbe,createDecorateInlineNode:hbe,excludeCommonSelection:pbe,getNodeByPath:vbe,getNodesByPath:gbe,getNodeEndPath:mbe,getNodeLength:ybe,getNodeStartPath:bbe,getPathFromKey:Cbe,isBlockNode:wbe,isDecorateNode:xbe,isEditNode:Sbe,isInlineNode:Ebe,isUniFormChildren:kbe,isEmptyNode:Dbe,isNode:Ibe,isReferenceNode:Nbe,isSameStyleNode:Lbe,resetEditNodeKeyRecursion:Tbe,sliceDecoratePath:Bbe,sliceSelectionStartBlockPath:Abe,sortSelection:Mbe,traverseNode:Obe,transformNodeToEditNode:Rbe}=hk,Pbe=(e,t,n,o)=>i=>{var r,l,s,c,a,u,d,f;const{store:h,file:p}=i;let v=t.search;v&&bHe(v)&&(i=Qq(e,v)(i));const g=ps(null===(l=null===(r=null==h?void 0:h.reference)||void 0===r?void 0:r[o])||void 0===l?void 0:l.data);if(void 0===g)return i;g.props&&(g.props.uid=aRe());const m=hbe({id:o,uid:aRe(),type:n,subclass:n},[g]),y=null===(s=null==h?void 0:h.editor)||void 0===s?void 0:s[e];if(void 0===y)return i;const b={},C=$je(t);function w(e){var t,n;let{data:o,node:i}=e.editor;v&&gHe(v)&&(o=i,delete e.editor.ureference);const{before:r,after:l}=Mbe(C),s=Abe(o,C);let c=vbe(o,s);if(wbe(c)){let i={anchor:{path:fc(r.path,s.length),offset:r.offset},focus:{path:fc(l.path,s.length),offset:l.offset}};if((null==h?void 0:h.reference)&&(c=fPe(c,{reference:h.reference})),0!==fbe(s,r.path)){const e=bbe(c);i.anchor.path=e,i.anchor.offset=0}if(0!==fbe(s,l.path)){const e=mbe(c),t=vbe(c,e);null!==t&&(i.focus.path=e,i.focus.offset=ybe(t))}let a=dbe(i),u=vbe(c,a);if(null===u)return e;let d=i.anchor.path[a.length];Cc(u)&&(d=null!==(t=dc(a))&&void 0!==t?t:0,a=hc(a),u=vbe(c,a)),i=pbe(i),0===i.anchor.path.length&&i.anchor.path.push(d),0===i.focus.path.length&&i.focus.path.push(d),HWe(u,i);for(let e=u.children.length-1;e>=0;e--){const t=u.children[e];t&&!Dbe(t,!0)||(u.children.splice(e,1),d>=e&&d--)}const f=Math.max(0,d+1);u.children.splice(f,0,m);const p=gbe(c,a);for(let e=p.length-1;e>=1;e--){const t=p[e-1],n=p[e];Ebe(n)&&Ebe(t)&&kbe(t,n)&&(t.children=n.children,n.style&&(t.style||(t.style={}),Object.assign(t.style,n.style)))}Sbe(c)&&Tbe(c);for(let e=0;e<=s.length;e++){const t=vbe(o,s.slice(0,e));if(Nbe(t)){const e=null===(n=t.props)||void 0===n?void 0:n.uid;e&&(b[e]=t)}}Obe(c,(e=>{var t;if(Nbe(e)){const n=null===(t=e.props)||void 0===t?void 0:t.uid;n&&(b[n]=e)}}))}return v&&Sbe(o)&&Tbe(o),e}v?(vHe(v)&&(v=kHe(v)),bHe(v)&&(v=MHe(v)),gHe(v)?bDe(v,[w])({editor:y}):w({editor:y})):w({editor:y});const x=null===(c=g.props)||void 0===c?void 0:c.uid;if(!x)return i;const S=[];for(const t in b){const n=b[t],o=null===(a=n.props)||void 0===a?void 0:a.id;if(o&&T9(t,o)({editor:y}),i=Oq(o,n,e)(i),x!==t){const t=null===(d=null===(u=i.store)||void 0===u?void 0:u.reference)||void 0===d?void 0:d[o];t&&Obe(n,(n=>{var o,i;if(Nbe(n)){const r=null===(o=n.props)||void 0===o?void 0:o.id,l=null===(i=n.props)||void 0===i?void 0:i.uid;if(!r||!l)return;if(l===x){const n=Object.keys(t.detail);S.push(...n.filter((t=>t!==e)))}}}))}}for(const e of S)i=Rq(o,b[x],e)(i);if(i=Rq(o,b[x],e)(i),(null==p?void 0:p.currentPageId)===e){if(i.editor.data=y.data,i.editor.uids=y.uids,x){const e=null!==(f=i.editor.ureference)&&void 0!==f?f:{};e[x]=Rbe(g,""),i.editor.ureference=e}i=F9()(i)}return i=kq(e,y)(i)},Fbe=(e,t,n)=>o=>{var i,r,l,s;const{store:c,file:a}=o;let u=t.search;u&&bHe(u)&&(o=Qq(e,u)(o));const d=null===(i=null==c?void 0:c.editor)||void 0===i?void 0:i[e];if(void 0===d)return o;const f={},h=$je(t);let p,v;function g(e){var t,o,i;let{data:r,node:l}=e.editor;u&&gHe(u)&&(r=l,delete e.editor.ureference);let s=dbe(h),c=vbe(r,s);if(null===c)return e;for(xbe(c)&&(c=c.children[0],s=[...s,0]);!Nbe(c)&&s.length;)s=hc(s),c=vbe(r,s);if(0===s.length)return e;const a=Bbe(r,s,n);if(!a)return e;const d=vbe(r,a);if(!Ibe(d))return e;const g=hc(a),m=vbe(r,g);if(!Ibe(m))return e;p=null===(t=c.props)||void 0===t?void 0:t.id,v=null===(o=c.props)||void 0===o?void 0:o.uid;const y=m.children.indexOf(d);m.children.splice(y,1,...c.children);let b=m.children.length-1;for(;b>0;){const e=m.children[b],t=m.children[b-1];Lbe(t,e)&&(Cc(t)&&Cc(e)?m.children[b-1]=t+e:Ibe(t)&&Ibe(e)?(t.children.push(...e.children),t.children=[t.children.join("")]):Cc(t)&&Ibe(e)&&(m.children[b-1]=t+e.children[0]),m.children.splice(b,1)),b--}u&&Sbe(r)&&Tbe(r);for(let e=0;e<=s.length;e++){const t=vbe(r,s.slice(0,e));if(Nbe(t)){const e=null===(i=t.props)||void 0===i?void 0:i.uid;e&&(f[e]=t)}}return e}if(u?(vHe(u)&&(u=kHe(u)),bHe(u)&&(u=MHe(u)),gHe(u)?bDe(u,[g])({editor:d}):g({editor:d})):g({editor:d}),!p||!v){if((null==a?void 0:a.currentPageId)===e){const{ureference:e,uids:t}=o.editor,{uids:n,data:i}=d;for(const e in n)null==t||delete t[e];for(const n in t)null==e||delete e[n];o.editor.data=i,o.editor.uids=n,o.editor.ureference=e,o=F9()(o)}return o=kq(e,d)(o)}M9(v)({editor:d});const m=[];for(const t in f){const n=f[t],i=null===(r=n.props)||void 0===r?void 0:r.id;if(i&&T9(t,i)({editor:d}),o=Oq(i,n,e)(o),!APe(n))continue;const c=null===(s=null===(l=o.store)||void 0===l?void 0:l.reference)||void 0===s?void 0:s[i];if(c){const t=Object.keys(c.detail);m.push(...t.filter((t=>t!==e)))}}for(const e of m)o=Fq(p,v,e)(o);return o=Fq(p,v,e)(o),(null==a?void 0:a.currentPageId)===e&&(o.editor.data=d.data,o.editor.uids=d.uids,o.editor.ureference&&delete o.editor.ureference[v],o=F9()(o)),o=kq(e,d)(o)},Hbe=(e,t,n,o)=>i=>{var r,l;const{store:s,file:c}=i;o&&bHe(o)&&(i=Qq(e,o)(i));const a=null===(r=null==s?void 0:s.editor)||void 0===r?void 0:r[e];if(void 0===a)return i;const u={};let d=null,f=null,h=null,p=null;function v(e){var i;let{data:r,node:l}=e.editor;o&&gHe(o)&&(r=l,delete e.editor.ureference);const s=Cbe(t),c=vbe(r,s);if(!Ohe(c))return e;c.props&&(c.props.id=n);const a=c.children[0];Nbe(a)&&a.props&&(h=a.props.id,p=a.props.uid,a.props.id=n,a.props.uid=aRe(),d=a.props.id,f=a.props.uid);for(let e=0;e<=s.length;e++){const t=vbe(r,s.slice(0,e));if(Nbe(t)){const e=null===(i=t.props)||void 0===i?void 0:i.uid;e&&(u[e]=t)}}return Obe(c,(e=>{var t;if(Nbe(e)){const n=null===(t=e.props)||void 0===t?void 0:t.uid;n&&(u[n]=e)}})),e}if(o?(vHe(o)&&(o=kHe(o)),bHe(o)&&(o=MHe(o)),gHe(o)?bDe(o,[v])({editor:a}):v({editor:a})):v({editor:a}),!h||!p){if((null==c?void 0:c.currentPageId)===e){const{ureference:e,uids:t}=i.editor,{uids:n,data:o}=a;for(const e in n)null==t||delete t[e];for(const n in t)null==e||delete e[n];i.editor.data=o,i.editor.uids=n,i.editor.ureference=e,i=F9()(i)}return i=kq(e,a)(i)}M9(p)({editor:a}),i=Fq(h,p,e)(i);for(const t in u){const n=null===(l=u[t].props)||void 0===l?void 0:l.id;n&&T9(t,n)({editor:a}),i=Oq(n,u[t],e)(i)}if(d&&f&&(i=Rq(d,u[f],e)(i)),(null==c?void 0:c.currentPageId)===e){if(i.editor.data=a.data,i.editor.uids=a.uids,i.editor.ureference&&(delete i.editor.ureference[p],f)){const e=Rbe(u[f],"");i.editor.ureference[f]=e}i=F9()(i)}return i=kq(e,a)(i)},{isNode:_be}=hk;function jbe(e){return _be(e)&&e.type===Fye}function Wbe(e,t=0){return{type:Fye,props:{options:e,active:t,expand:!1},children:[]}}const{recursiveTree:zbe}=OB;function Vbe(e){let t=0,n=0,o=0;return zbe(e,(e=>{"outline"===e.type?o++:"page"===e.type?n++:"root"===e.type&&t++})),{root:t,page:n,outline:o,total:t+n+o}}function $be(e){var t,n;return!(e.length>1)&&0===(null===(n=null===(t=e[0])||void 0===t?void 0:t.children)||void 0===n?void 0:n.length)}function Zbe(e){const t=[];return zbe(e,(e=>{var n;(null===(n=e.payload)||void 0===n?void 0:n.checked)&&t.push(e)})),t}function Ube(e,t,n){const o=[];return zbe(e,((e,i)=>{if(!e.payload||!(null==i?void 0:i.id))return;const{node:r,search:l}=e.payload;Ohe(r)&&r.props.id===t&&o.push({pageId:i.id,kid:r.key,rid:n,search:l})})),o}const{isEditNode:qbe,isReferenceNode:Ybe,sliceNode:Kbe,getEditNodeOffsets:Gbe}=hk;function Xbe(e,t,n){var o,i,r;const{layout:{width:l,height:s,ratio:c},location:a,rstate:{editor:u}}=t,d=null===(i=null===(o=e.store)||void 0===o?void 0:o.editor)||void 0===i?void 0:i[n];if(!d)return null;if(u.resizeWidth)return{...u};const{data:f,selection:h,selectionStyle:p}=d,v={},g={reference:null===(r=e.store)||void 0===r?void 0:r.reference,callback(e){var t,n;if(Ybe(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;if(!o||!i)return;v[i]=o}},clone:!0},m={data:fPe(f,g),boundsReset:!0,clientHeight:s-Pye,clientWidth:l*c-20,scrollHeight:2*s,scrollOffset:{top:0},selection:h,scrollTop:0,selectionStyle:p,...a};m.uids=v,u.ghighlights&&(m.ghighlights=u.ghighlights);let y=!1;if(a){const{bounds:e,reflowStart:t}=a;if(e&&t){const t=e.start.path,n=e.end.path,o=Kbe(f,t,n);if(qbe(o)){y=!0;const e={top:0,left:0,right:0,bottom:s};m.node={...o,position:e},m.isEditPending=!0,m.reflowStart={path:t,offsets:Gbe(u.node,t),flag:hk.ReflowStartFlag.next}}}}const b=uFe(m);return y&&(delete b.boundsReset,delete b.cwnd),b}function Jbe(e,t){var n;const o=e.rstate.editor,{layout:{isMoving:i,rect:r}}=e,{editor:{isMoving:l,threshold:s}}=t,c=i||l,a=(null!=s?s:0)+(null!==(n=null==r?void 0:r.top)&&void 0!==n?n:0);return{...e.rstate,editor:{...o,isMoving:c,threshold:a}}}const{isNode:Qbe,isMetaNode:eCe,sliceDecoratePath:tCe,sliceReferencePath:nCe,getEditNodeByPath:oCe,traversalEditNodeBySelection:iCe}=hk;function rCe(e,t,n,o,i,r){const l=[];if(iCe(n,o,((e,t)=>{if(eCe(e)){const t=e.children[0];Qbe(t)&&Yse(t)&&l.push(`${i}`)}const o=nCe(n,t);if(null==o?void 0:o.length){const e=oCe(n,o);if(Qbe(e)&&APe(e))return;l.push(`${i}`)}const r=tCe(n,t,gae);(null==r?void 0:r.length)&&l.push(`${i}`)})),l.length){const t={visible:!0,title:` ${l.length} `,content:G("div",{children:l.map(((e,t)=>G("div",{children:e},t)))})};return e(tre(t)),!0}return!1}const{calcCommonSelectionPath:lCe,createBlockNode:sCe,isNode:cCe}=hk,{BRANCH_HEIGHT:aCe,recursiveTree:uCe,mapTree:dCe,toggleBranchArrow:fCe}=OB,hCe=e=>t=>(delete(e={...e}).count,delete e.branch,Object.assign(t.result,e),t),pCe=(e,t)=>n=>(uCe(n.result.tree,(n=>{var o;if(e.id===n.id){void 0===n.payload&&(n.payload={});const e=n.payload;if(e.checked=!e.checked,void 0===t)return!0}else t&&(null===(o=n.payload)||void 0===o?void 0:o.checked)&&(n.payload.checked=!1)})),n.result.isEditPending=!0,n),vCe=e=>t=>(uCe(t.result.tree,(t=>{var n,o;const i=null===(n=t.payload)||void 0===n?void 0:n.node;if(Ohe(i)&&(null===(o=i.props)||void 0===o?void 0:o.id)===e){void 0===t.payload&&(t.payload={});t.payload.checked=!0}})),t.result.isEditPending=!0,t),gCe=(e,t)=>n=>(n.result=fCe(e,t)(n.result),n.result.isEditPending=!0,n),mCe=e=>t=>(uCe(t.result.tree,(n=>{n.id===e.id?(n.active=!0,t.result.branch=n):n.active=!1})),t.result.isEditPending=!0,t),yCe=e=>t=>{var n,o;return uCe(t.result.tree,((n,o)=>{if(n.id===e.id&&(null==o?void 0:o.children)){const e=o.children.indexOf(n);return-1!==e&&(o.children.splice(e,1),"root"===o.type||o.children.length||(t=yCe(o)(t))),!0}})),(null===(n=t.result.branch)||void 0===n?void 0:n.id)===e.id&&(t.result.branch=null===(o=t.result.tree[0].children)||void 0===o?void 0:o[0]),t.result.isEditPending=!0,t},bCe=e=>t=>(t.result.count=e,t),CCe=e=>t=>(t.result.isEditPending=e,t),wCe=e=>t=>{var n,o;let i=!1;if(uCe(t.result.tree,(t=>{var n,o,r;if(t.id===e.id)return i=!0,(null===(n=e.children)||void 0===n?void 0:n.length)&&(t.children=null!==(o=t.children)&&void 0!==o?o:[],t.children.push(...e.children)),t.payload=e.payload,(null===(r=e.payload)||void 0===r?void 0:r.decorated)&&(t.disabled=!0),!0})),!1===i){const i=dCe(null!==(n=e.children)&&void 0!==n?n:[],(e=>{var t;let n=e.disabled;return(null===(t=e.payload)||void 0===t?void 0:t.decorated)&&(n=!0),{...e,disabled:n}}));null===(o=t.result.tree[0].children)||void 0===o||o.push({...e,children:i})}return t.result.isEditPending=!0,t},xCe=()=>e=>(e.result.tree[0].children=[],e),SCe=e=>t=>(uCe(t.result.tree,(t=>{if(t.id===e.id){const e=t.title;return jbe(e)&&e.props&&(e.props.expand=!e.props.expand),!0}})),t.result.isEditPending=!0,t),ECe=e=>t=>{const{width:n}=t.layout;return t.result.clientWidth=n*(1-e),t},kCe=e=>t=>(t.result.clientHeight=e,t),DCe=e=>t=>(t.result.scrollHeight=aCe*e,t),ICe=()=>e=>{const t=e.result.tree,{outline:n,total:o}=Vbe(t);return e=bCe(n)(e),e=DCe(o)(e)},NCe=(e,t,n,o)=>i=>{var r,l;const s=i.rstate.store;if(!s)return i;const c=null===(r=s.editor)||void 0===r?void 0:r[t.id];if(!c)return i;const a=e.payload,{search:u}=a;let{data:d}=c;if(u&&gHe(u)){const e=FHe(d,u);d=null==e?void 0:e.editor.node}if(!cCe(d))return i;const f=$je(a),h=lCe(f);if(h.length<=0)return i;const p=h[0],v=sCe([d.children[p]]),g=null==s?void 0:s.reference,m={start:d.children[p-1],end:d.children[p+1],index:p};n.uid&&(m.exclude=[n.uid]);const y=o(v,m,g);if(!(null===(l=null==y?void 0:y.children)||void 0===l?void 0:l.length))return i;const b=i.result.tree[0].children;return b?(b.forEach((e=>{var n,o,r,l,s;if(e.id===t.id&&e.children){let c=0;if(u){const e=MHe(u);c=null!==(o=null===(n=t.children)||void 0===n?void 0:n.findIndex((t=>{let n=t.payload.search;return n&&(n=MHe(n)),!!Fc(e,n)})))&&void 0!==o?o:0,-1===c&&(c=0)}let a=0;const d=e.children.slice(c);for(let e=0;e<d.length;e++){const t=d[e],n=$je(t.payload),o=lCe(n);if(p===o[0]){const e=null===(r=y.children)||void 0===r?void 0:r[a++],n=null==e?void 0:e.payload;n&&(null===(l=t.payload)||void 0===l||delete l.node,Object.assign(t.payload,ps({anchor:n.anchor,focus:n.focus})),(null===(s=i.result.branch)||void 0===s?void 0:s.id)===t.id&&(i.result.branch=t))}else if(p<o[0])break}}})),i.result.isEditPending=!0,i):i},{clearEditNodePosition:LCe,getBlockNodeStartPath:TCe,getEditBlockNodeEndPath:BCe,getEditBlockNodeStartPath:ACe,getKeyFromPath:MCe,getNodeByPath:OCe,isDecorateInlineNode:RCe,isEditNode:PCe,isNode:FCe,mapNode:HCe,sliceBlockPath:_Ce,sliceMetaNodePath:jCe,sliceNode:WCe,sliceSelectionStartBlockPath:zCe,sortSelection:VCe}=hk,$Ce=e=>t=>(t.rstate=e,delete t.rstate.editor.scrollOffset,t),ZCe=e=>t=>(t.rstate.gfocus=e,t.rstate.editor.refresh=aRe(!0),t),UCe=e=>t=>{const{width:n}=t.layout;return t.rstate.editor.clientWidth=n*e-20,t},qCe=e=>t=>(t.rstate.editor.clientHeight=e,t),YCe=e=>t=>{const n=Zje(t.result.branch);let o=e.search;return o&&bHe(o)&&(o=MHe(o)),o&&gHe(o)?bDe(o,[e=>(e.editor.highlights=n,e)])(t.rstate):t.rstate.editor.highlights=n,t},KCe=e=>t=>{const n=t.rstate.file;if(void 0===n)return t;n.currentPageId=e;const o=V_e(n.tree,e);return o?n.branch=o:delete n.branch,t},GCe=()=>e=>{const t=e.rstate.editor,n=BCe(t.node),o=hPe(t.data);return Fc(o,ACe(t.node))?t.node=LCe(t.node):(t.node=WCe(t.data,o,n),t.bounds={start:{path:o,slice:!1},end:{path:n,slice:!1}}),t.ureference=RPe(t.node),e},XCe=(e,t)=>n=>{var o,i,r,l,s;const{layout:{width:c,height:a,ratio:u}}=n;let d=null===(o=e.payload)||void 0===o?void 0:o.search;n.rstate=v9(t)(n.rstate),d&&bHe(d)&&(n.rstate=Qq(t,d)(n.rstate)),n.rstate=Iq(t)(n.rstate);const f=null===(r=null===(i=n.rstate.store)||void 0===i?void 0:i.editor)||void 0===r?void 0:r[t];if(void 0===f)return n;const h=TCe(f.data);d&&bHe(d)&&(d=MHe(d));let p=[...h];if(d&&gHe(d))d.path&&(p=_Ce(f.data,d.path));else{const t=$je(e.payload);p=zCe(f.data,t)}if(0===p.length)return n;const v=D$e(f,p,p);if(e.payload){let t=[];if(d&&gHe(d))d.path&&(t=jCe(v.data,d.path));else{const n=$je(e.payload),{before:o}=VCe(n);t=o.path,FCe(OCe(v.data,t))||(t=hc(t))}v.location=MCe(t)}v.clientHeight=a-Pye,v.clientWidth=c*u-20,v.scrollHeight=2*a,v.scrollOffset={top:0},(null===(l=n.rstate.file)||void 0===l?void 0:l.currentPageId)===t&&(null===(s=n.rstate.editor.ghighlights)||void 0===s?void 0:s.length)&&n.rstate.editor.ghighlights.forEach((({search:e})=>{e&&bDe(e,[e=>(delete e.editor.highlights,e)])({editor:v})})),d&&gHe(d)?bDe(d,[t=>(t.editor.highlights=Zje(e),t)])({editor:v}):v.highlights=Zje(e);const g=n.rstate.store;if(null==g?void 0:g.reference){const e=g.reference;for(const t in e){const{data:n}=e[t];e[t]={...e[t],data:HCe(n,(e=>{var t;if(RCe(e)&&(null===(t=e.props)||void 0===t?void 0:t.initState)){const t={...e.props};return delete t.initState,{...e,props:t}}return e}))}}}return n.rstate=X8(v)(n.rstate),n},JCe=()=>e=>{var t,n;const o=e.result.tree;if(!(null===(t=o[0].children)||void 0===t?void 0:t.length))return e;const i=o[0].children[0],r=null===(n=i.children)||void 0===n?void 0:n[0];return r?(e=mCe(r)(e),e=XCe(r,i.id)(e)):e},QCe=()=>e=>{if(!e.location)return e;const{location:{bounds:t,reflowStart:n},rstate:{editor:o}}=e;if(o.resizeWidth)return e;if(t&&n){e.rstate=v9()(e.rstate),e.rstate=Iq()(e.rstate);const n={...o},{data:i,clientHeight:r}=n,l=t.start.path,s=t.end.path,c=WCe(i,l,s);if(PCe(c)){const t={top:0,left:0,right:0,bottom:r};n.node={...c,position:t},n.isEditPending=!0,n.bounds={start:{path:ACe(c),slice:!1},end:{path:BCe(c),slice:!1}},n.boundsReset=!0,delete n.cwnd,e.rstate=X8(n)(e.rstate)}}return e},ewe=e=>t=>(t.research=e,t),twe=(e,t,n,o)=>i=>{var r,l,s;const c=Pbe(e,t,n,o)(i.rstate);if((null===(r=c.file)||void 0===r?void 0:r.currentPageId)!==e)return i;const a=null===(s=null===(l=c.store)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[e];return a?(c.editor.data=a.data,c.editor.uids=a.uids,delete c.editor.ureference,k7(e)(c),i.rstate=c,i):i},nwe=(e,t,n,o)=>o=>{var i,r,l;const s=Fbe(e,t,n)(o.rstate);if((null===(i=s.file)||void 0===i?void 0:i.currentPageId)!==e)return o;const c=null===(l=null===(r=s.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[e];return c?(s.editor.data=c.data,s.editor.uids=c.uids,delete s.editor.ureference,k7(e)(s),o.rstate=s,o):o},owe=(e,t,n,o)=>i=>{var r,l,s;const c=Hbe(e,t,n,o)(i.rstate);if((null===(r=c.file)||void 0===r?void 0:r.currentPageId)!==e)return i;const a=null===(s=null===(l=c.store)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[e];return a?(c.editor.data=a.data,c.editor.uids=a.uids,delete c.editor.ureference,k7(e)(c),i.rstate=c,i):i},iwe=e=>t=>{const n=e.editor;return t.location={bounds:n.bounds,reflowStart:n.reflowStart,scrollTop:n.scrollTop},t},rwe=()=>e=>(delete e.location,e),{createBlockNode:lwe,initNodeKey:swe}=hk,{BRANCH_HEIGHT:cwe}=OB;function awe(e,t,n,o){var i;const r=dwe();e.layout&&Object.assign(r,e.layout);const l=function(e,t){const n=[{title:uwe(e),type:"root",id:aRe(!0),children:[]}],o=cje(n);return{tree:n,scrollHeight:o,scrollTop:0,clientWidth:Rye*t.ratio,clientHeight:Oye-cwe,renderStart:{path:[0],index:0}}}(e,r),s={toolbar:{},editor:fwe(r),store:ds(n.store),file:ds(n.file),undoredo:ds(n.undoredo)};null===(i=s.file)||void 0===i||delete i.currentPageId;const c={layout:r,rstate:s,result:l,...null==o?void 0:o[0]};return c.visible=e.visible,c.mode=e.mode,c}function uwe(e){var t;return swe(Wbe([null!==(t=e.selector)&&void 0!==t?t:""]))}function dwe(e=.5){return{ratio:e,width:Rye,height:Oye}}function fwe(e){const{width:t,height:n,ratio:o}=e;return uFe({data:lwe([]),boundsReset:!0,clientHeight:n-cwe,clientWidth:t*o-20,scrollHeight:2*n,scrollOffset:{top:0}})}const hwe=e=>t=>(t.layout.ratio=e,t),pwe=e=>t=>(t.layout.width=e,t),vwe=e=>t=>(t.layout.height=e,t),gwe=(e,t)=>n=>(n.layout.top=e,n.layout.left=t,n),mwe=e=>t=>(t.layout.isMoving=e,t),ywe=e=>t=>(t.layout.rect=e,t),bwe=()=>e=>(e.layout=dwe(),e),Cwe=()=>e=>(e=(e=>(delete e.location,e))(e),e=bwe()(e)),wwe=(e,t,n)=>t=>{const o=awe(e,0,n);return Object.assign(t,o)},xwe=e=>t=>(mq(e,!0)(t.rstate),t),{getPathFromKey:Swe}=hk,Ewe=(e,t,n)=>o=>{var i;const{mode:r,visible:l}=o;if(!r)return o;const{uid:s=aRe(!0),kid:c}=e,a=Swe(c),u=NHe(xHe(t.focus,ZFe(a),YFe(s))),d=[u,r].join(k$);void 0===n.current.options&&(n.current.options={});for(const e in n.current.options)if(e.startsWith(u)){const t=null===(i=n.current.options)||void 0===i?void 0:i[e];if(!(null==t?void 0:t.mode))continue;t.visible=!1}return n.current.options[d]={...n.current.options[d],mode:r,visible:l},o},kwe=()=>e=>(e.rstate=Rre()(e.rstate),e),Dwe=e=>t=>(t.drag=e,t),Iwe=U(null),Nwe=U(null),Lwe=U(null),Twe=U(null),Bwe=U(null),{getNodeByPath:Awe,getPathFromKey:Mwe,isEmptyNode:Owe}=hk;function Rwe(e){const t=_d(e),n=R(_U),o=Wd("pointermove"),i=Wd("pointerup"),r=Wd("pointerdown"),l=Wd("pointerdown"),s=Wd("pointerdown"),c=Wd("pointerdown"),a=Wd("pointerdown");return F((()=>(window.addEventListener("pointermove",o.listener),window.addEventListener("pointerup",i.listener),()=>{window.removeEventListener("pointermove",o.listener),window.removeEventListener("pointerup",i.listener)})),[o,i]),F((()=>{const e=l.pipe(ju((e=>{e.stopPropagation();const{ratio:n,width:r}=t.current;return o.pipe(Wu(i)).pipe(zu(16)).pipe(bu((t=>{const o=t.clientX-e.clientX;return Math.min(1,(r*n+o)/r)})))}))).subscribe((e=>{var n,o;t.current.dispatch(Dwe(!0)),null===(o=(n=t.current).onPointerMoveBorder)||void 0===o||o.call(n,e)})),n=s.pipe(ju((e=>{e.stopPropagation();const{width:n}=t.current;return o.pipe(Wu(i)).pipe(zu(16)).pipe(bu((t=>Math.max(10,n-2*(t.clientX-e.clientX)))))}))).subscribe((e=>{var n,o;t.current.dispatch(Dwe(!0)),null===(o=(n=t.current).onPointerMoveLeftEdge)||void 0===o||o.call(n,e)})),r=c.pipe(ju((e=>{e.stopPropagation();const{width:n}=t.current;return o.pipe(Wu(i)).pipe(zu(16)).pipe(bu((t=>Math.max(10,n+2*(t.clientX-e.clientX)))))}))).subscribe((e=>{var n,o;t.current.dispatch(Dwe(!0)),null===(o=(n=t.current).onPointerMoveRightEdge)||void 0===o||o.call(n,e)})),u=a.pipe(ju((e=>{e.stopPropagation();const{height:n}=t.current;return o.pipe(Wu(i)).pipe(zu(16)).pipe(bu((t=>Math.max(10,n+(t.clientY-e.clientY)))))}))).subscribe((e=>{var n,o;null===(o=(n=t.current).onPointerMoveBottomEdge)||void 0===o||o.call(n,e)})),d=Au(l,s,c).pipe(ju((()=>i))).subscribe((()=>{t.current.dispatch(Dwe(!1))}));return()=>{e.unsubscribe(),n.unsubscribe(),r.unsubscribe(),u.unsubscribe(),d.unsubscribe()}}),[l,t,o,i,s,c,a]),F((()=>{const e=r.pipe(ju((e=>{const{top:n=0,left:r=0}=t.current;return o.pipe(Wu(i)).pipe(bu((t=>({left:r+(t.clientX-e.clientX),top:n+(t.clientY-e.clientY)}))))}))).subscribe((e=>{var n,o;null===(o=(n=t.current).onPointerMoveHeader)||void 0===o||o.call(n,e)})),n=r.pipe(ju((()=>i))).subscribe((()=>{var e,n;null===(n=(e=t.current).onPointerDownUpHeader)||void 0===n||n.call(e)}));return()=>{e.unsubscribe(),n.unsubscribe()}}),[t,o,i,r]),F((()=>{const e=Au(r,a).pipe(ju((()=>i))).subscribe((()=>{n()}));return()=>e.unsubscribe()}),[a,i,r,n]),{border:zd([l]),header:zd([r]),leftEdge:zd([s]),rightEdge:zd([c]),bottomEdge:zd([a])}}function Pwe(e,t,n,o){const i=R(_U);return{onClose(){var t;n(Cwe()),requestAnimationFrame(i),o[2](),null===(t=e.onClose)||void 0===t||t.call(e)},onPointerMoveBorder(e){n(hwe(e),ECe(e),UCe(e),GCe())},onPointerMoveLeftEdge(e){const{ratio:o}=t.layout;n(pwe(e),ECe(o),UCe(o),GCe())},onPointerMoveRightEdge(e){const{ratio:o}=t.layout;n(pwe(e),ECe(o),UCe(o),GCe())},onPointerMoveBottomEdge(e){n(vwe(e),kCe(e),qCe(e))},onPointerMoveHeader({top:e,left:t}){n(gwe(e,t),mwe(!0))},onPointerDownUpHeader(){n(mwe(!1))}}}function Fwe(e){const t=R(jU),n=R(RU),o=R(PU),i=R(WU),r=R(Lwe),l=R(Nwe),s=R(Twe),c=R(Bwe),a=R(ZU),{branch:u}=e;let d=!1;return{async onClick(e){e.stopPropagation(),d||(await async function(e){var d;if(e.stopPropagation(),void 0===u)return;if(u.disabled)return;if(c.onClickSelector)return void await c.onClickSelector(u,c,s,r,l);const{result:{tree:f},rstate:{file:h}}=s,p=$_e(f,u.id);if(!p)return;const v=u.payload;if(!v)return;const g=null==h?void 0:h.currentPageId;if(void 0===g)return;const m=null===(d=n.file)||void 0===d?void 0:d.currentPageId;if(void 0===m)return;const{checked:y}=v,{id:b,name:C,kid:w,uid:x}=c;if(void 0===b)return;const{focus:S,editor:{data:E,node:k}}=a,D=[pCe(u)],I=[k7(g),k7(m),b9("updated"),s9(aRe(!0))];if(x){const e=xHe(S,ZFe(Mwe(w)),YFe(x),XFe());I.push(o4(e))}const N=ia([g,p.id]);for(const e of N){if(t.exist(e))continue;const n=await XY(e,i);I.push(mq(n)),D.push(xwe(n))}if(Ohe(v.node)&&!y){const e=v.node.props.id,t=Ube(f,b,e);return D.push(owe(m,w,e,S.child)),D.push(...t.map((e=>{const{pageId:t,kid:n,rid:o,search:i}=e;return owe(t,n,o,i)}))),D.push(vCe(b)),D.push(vCe(e)),I.push(Hbe(m,w,e,S.child)),I.push(...t.map((e=>{const{pageId:t,kid:n,rid:o,search:i}=e;return Hbe(t,n,o,i)}))),I.push(F9(),Y3(m),Y3(g),Y3(p),r9(),v4()),r(...D),l[2](!0),void requestAnimationFrame((()=>{o(...I)}))}y?D.push(nwe(p.id,v,C)):D.push(twe(p.id,v,C,b));const L=Mwe(w);let T=c.text;if(void 0===T){let e=E;Owe(e,!0)&&(e=k);const t=Awe(e,L);T=LWe(t)}D.push(NCe(u,p,c,((e,t,n)=>T?AWe(T,e,t):null)),YCe(v)),y?I.push(Fbe(p.id,v,C)):I.push(Pbe(p.id,v,C,b)),I.push(F9(),Y3(g),Y3(p),r9(),v4()),r(...D),l[2](!0),requestAnimationFrame((()=>{o(...I)}))}(e),d=!0)}}}function Hwe(e){const t=R(jU),n=R(RU),o=R(WU),i=R(PU),r=R(Lwe),l=R(Nwe),s=R(Twe),c=R(Bwe),a=R(ZU),{branch:u}=e;let d=!1;return{async onClick(e){e.stopPropagation(),d||(await async function(e){var d,f,h,p,v;if(e.stopPropagation(),void 0===u)return;if(u.disabled)return;if(c.onClickSelector)return void await c.onClickSelector(u,c,s,r,l);const{result:{tree:g,count:m},rstate:{file:y}}=s,b=$_e(g,u.id);if(!b)return;const C=u.payload;if(!C)return;const w=null==y?void 0:y.currentPageId;if(void 0===w)return;const x=null===(d=n.file)||void 0===d?void 0:d.currentPageId;if(void 0===x)return;const{id:S,name:E,uid:k,kid:D}=c,I=[yCe(u)],N=[k7(w),k7(x),b9("updated"),s9(aRe(!0))],L=ia([w,b.id]);for(const e of L){if(t.exist(e))continue;const n=await XY(e,o);N.push(mq(n)),I.push(xwe(n))}if(I.push(nwe(b.id,C,E)),I.push(NCe(u,b,c,((e,t,n)=>YWe(e,b.id,t,S?[S]:[],n)))),(null===(f=s.result.branch)||void 0===f?void 0:f.id)===u.id){const e=s.result.tree;if(null===(h=e[0].children)||void 0===h?void 0:h.length){const t=e[0].children.slice(0,2).map((e=>e.id));for(let e=0;e<t.length;e++){const n=t[e];if(!(null===(v=null===(p=s.rstate.store)||void 0===p?void 0:p.editor)||void 0===v?void 0:v[n])){const e=await XY(n,o);I.push(xwe(e))}}}I.push(JCe())}if(I.push(YCe(C),ICe()),m&&m<=1&&I.push(wwe(c,a,n),ewe(!1),CCe(!0)),r(...I),N.push(Fbe(b.id,C,E),F9(),Y3(w),Y3(b),r9(),v4()),k){const e=Mwe(D),t=xHe(a.focus,ZFe(e),YFe(k),XFe());N.push(o4(t))}l[2](!0),requestAnimationFrame((()=>{i(...N)}))}(e),d=!0)}}}const{EditElement:_we,createInlineNode:jwe,isEditNode:Wwe,isNode:zwe,transformNodeToEditNode:Vwe,removeBoxSizeStyle:$we}=hk;function Zwe(e){var t;const n=R(Iwe),{active:o,options:i}=e,r=null!==(t=n.count)&&void 0!==t?t:0;return G("div",{style:ibe,children:G("div",{style:rbe,children:X("div",{style:lbe,children:[G("span",{children:i[o]}),r>0&&G("span",{style:sbe,children:r})]})})})}function Uwe(e,t){return e.type===Fye?G(Zwe,{...e.props}):Zze(e,t)}function qwe(e){const{width:t}=e;return _((e=>{if(!Wwe(e))return null;const n=$we({...Qye,...e.style,pointerEvents:"none",width:t-100}),o=bPe(Vwe(jwe([e],n),e.key));return G(FU,{value:{current:{}},children:G(_we,{value:null,children:G("div",{style:ebe,children:G(ZE,{node:o,renderElement:Uwe})})})})}),[t])}function Ywe(e,t,n,o){const{clientWidth:i}=e;return _((e=>{var r;const{title:l}=e;if(!zwe(l))return null!=l?l:null;const s=null!==(r=e.level)&&void 0!==r?r:0;let c=null!=i?i:0;c-=14*(s+1),c-=24,n&&"outline"===e.type&&(c-=10);const a=$we({...Qye,width:c,fontSize:14,...l.style,pointerEvents:"none"}),u=tae(l),d=[bPe(Vwe(jwe(l.children,{...a,width:c}),l.key),14)],f={...l.props};u&&delete f.style;const h={...l,style:{...a,display:"inline-flex",alignItems:"center",pointerEvents:"none"},props:f,children:d};return null===t?null:G(t,{branch:e,node:h,editable:o,renderElement:Uwe})}),[i,n,o,t])}const{isNode:Kwe,createBlockNode:Gwe,traverseNode:Xwe,sliceReferencePath:Jwe,sliceDecoratePath:Qwe,getEditNodeByPath:exe,isReferenceNode:txe,isReferenceBlockNode:nxe,transformNodeToEditNode:oxe}=hk,{recursiveTree:ixe}=OB;function rxe(e,t,n,o,i){var r;const l=_d(e),s=_d(t),c=_d(o),a=_d(R(RU)),u=_d(R(OU)),d=R(PU),f=R(jU),h=R(WU),p=_d(R(ZU)),v=Z(""),g=null!==(r=e.text)&&void 0!==r?r:LWe(n),{kid:m}=e,y=Boolean(t.research);F((()=>{let e=null,t=!1;return(async()=>{const n=l.current,o=s.current,r=c.current,u=a.current,m=p.current;if(!1===o.research)return;if(""===g.trim())return;const{store:y,file:b,gfocus:C,editor:{status:w}}=u;if(w&&"normal"!==w)return;if(void 0===y)return void i(ewe(!1));let x=null==b?void 0:b.currentPageId;if(!x)return void i(ewe(!1));let S=[];const E=await bF();1===E.ok&&E.data&&(S=E.data);let k=0;const D={...y.editor},I={};async function N(e){var t;for(const o in I){const{data:r}=I[o];delete I[o];const l={},s=async t=>{t?(t.id=o,await L(t,o,e),e=!1):e&&i(xCe())},c=[];n.uid&&c.push(n.uid);for(let e=1;e<r.children.length;e++){const n=r.children[e];if(Fve(n)||Hve(n)){const e=n.children[0];if(nxe(e)){const n=null===(t=e.props)||void 0===t?void 0:t.uid;n&&c.push(n)}}}await MWe(g,r,c,l,h,v,s)}i(ewe(!1))}async function L(e,t,o){var l;e.children&&ixe(e.children,(e=>{const t=e.title;t&&Xwe(t,((o,i)=>{var r,l,s;if(void 0===(null===(r=o.style)||void 0===r?void 0:r.content))return;const c=Jwe(t,i);if(c){const o=exe(t,c);if(txe(o)){if(n.name===gae){const t=null===(l=o.props)||void 0===l?void 0:l.id,i=null===(s=o.props)||void 0===s?void 0:s.back;if(n.id!==t&&!i)return e.disabled=!0,!0}if(LWe(o)!==g)return e.disabled=!0,!0}return}if(Qwe(t,i,gae))return e.disabled=!0,!0;return Qwe(t,i,vae)?(e.disabled=!0,!0):void 0}))}));const s=[];if(o){s.push(xCe()),s.push(wCe(e));const n=null===(l=e.children)||void 0===l?void 0:l[0];if(n&&C&&!pHe(C,r)){s.push(mCe(n)),s.push(YCe(n.payload));if(!f.exist(t)){const e=await XY(t,h);s.push(xwe(e)),d(mq(e))}s.push(XCe(n,t))}s.push(KCe(t))}else s.push(wCe(e));s.push(ICe()),i(...s)}!async function o(r){if(t)return;async function l(){delete D[x],x=S[0],k=0,S.shift(),x?o(r):Pc(I)?i(ewe(!1)):N(r)}let s,c=D[x];if(void 0===c){const e=await ZY(x,h);if(void 0===e)return void l();const{uids:t}=e;if(t){const e=ia(Object.values(t));s=await KY(e)}c=e,D[x]=e}else s=null==y?void 0:y.reference;mFe(c,{reference:s});const a=c.data.children.length;if(a>=1e3)return I[x]=c,void l();const{data:d}=c;if(k>=a&&S.length)return delete D[x],x=S[0],k=0,S.shift(),void(x?o(r):r?i(wwe(n,m,u)):Pc(I)?i(ewe(!1)):N(r));const f=d.children.slice(k,k+10),p=Gwe(f),v={start:d.children[k-1],end:d.children[k+10],index:k,callback:n.exclude};n.uid&&(v.exclude=[n.uid]);const b=AWe(g,p,v,n.id);k+=10,null!==b?(b.id=x,b.title=oxe(bPe(d.children[0]),""),await L(b,x,r),e=setTimeout((()=>o()))):S.length||k<a?e=setTimeout((()=>o(r))):Pc(I)?i(ewe(!1)):N(r)}(!0)})(),()=>{"function"==typeof v.current&&v.current(),v.current=aRe(!0),null!==e&&clearTimeout(e),t=!0}}),[g,m,y,l,s,c,u,a,p,f,h,i,d]),F((()=>()=>{i(ewe(!1))}),[i])}function lxe(e,t,n,o,i){const r=_d(e),l=_d(t),s=_d(n),c=_d(R(RU)),a=_d(R(OU)),u=R(WU),d=R(PU),f=R(jU),h=_d(R(ZU)),{kid:p}=e;F((()=>{let e=null,t=!1;return(async()=>{var n,i;const a=r.current,p=l.current,v=s.current,g=c.current,m=h.current;if(!1===p.research)return;if(!a.id)return;const{store:y,file:b,gfocus:C,regional:w,editor:{status:x}}=g;if(x&&"normal"!==x)return;if(void 0===y)return void o(ewe(!1));let S,E=null==b?void 0:b.currentPageId;if(!E)return void o(ewe(!1));if(S=w?null===(n=y.reference)||void 0===n?void 0:n[a.id]:await GY(a.id),void 0===S)return;const k=Object.keys(S.detail).filter((e=>e!==E)),D=null===(i=S.data.props)||void 0===i?void 0:i.back;if(D)for(const e in D){const t=D[e];k.includes(t)||t===E||k.push(t)}const I={...y.editor};!async function n(i){var r,l,s;if(t)return;let c,h=I[E];if(void 0===h){let e;if(w||(e=await ZY(E,u)),void 0===e)return E=k[0],k.shift(),void(E?n(i):o(ewe(!1)));const{uids:t}=e;if(t){const e=ia(Object.values(t));c=await KY(e)}h=e,I[E]=e}else c=null==y?void 0:y.reference;const{data:p}=h,b={callback:a.exclude};a.uid&&(b.exclude=[a.uid]);const x=null!==(l=null===(r=a.targetIds)||void 0===r?void 0:r.slice())&&void 0!==l?l:a.id?[a.id]:[],S=YWe(p,E,b,x,c);if(null===S)return k.length?e=setTimeout((()=>n(i))):(i&&o(wwe(a,m,g)),o(ewe(!1))),delete I[E],E=k[0],void k.shift();const D=[];if(i){D.push(xCe()),D.push(wCe(S));const e=null===(s=S.children)||void 0===s?void 0:s[0];if(e&&C&&!pHe(C,v)){D.push(mCe(e)),D.push(YCe(e.payload));if(!f.exist(E)&&!w){const e=await XY(E,u);D.push(xwe(e)),d(mq(e))}D.push(XCe(e,E))}D.push(KCe(E))}else D.push(wCe(S));D.push(ICe()),o(...D),k.length?e=setTimeout((()=>n())):o(ewe(!1)),delete I[E],E=k[0],k.shift()}(!0)})(),()=>{null!==e&&clearTimeout(e),t=!0}}),[p,Boolean(t.research),c,r,l,s,u,a,h,f,o,d])}const{getPathFromKey:sxe}=hk;function cxe(e,t){const n=R(FU),{focus:o}=R(ZU),{uid:i=aRe(!0),kid:r}=e,l=[NHe(xHe(o,ZFe(sxe(r)),YFe(i))),t].join(k$);void 0===n.current.options&&(n.current.options={});const s={...n.current.options[l],mode:t};n.current.options[l]=s;const c=_(((e,t,o)=>{var i;const r=null===(i=n.current)||void 0===i?void 0:i.options;if(null==r?void 0:r[l]){const{mode:n}=e;if(n)r[l]=e;else for(const e in r)e.startsWith(l)&&(n||delete r[e].mode);const i={...e.rstate};t&&Object.assign(i,{store:t}),o&&Object.assign(i,{undoredo:o}),r[l]={...e,estate:i}}}),[n,l]),a=_((e=>{var t;const o=null===(t=n.current)||void 0===t?void 0:t.options;for(const t in o)e&&t===l||delete o[t]}),[n,l]);return[s,c,a]}const{getPathFromKey:axe}=hk;function uxe(e,t,n,o,i){const r=_d(t),l=R(RU),s=_d(l),c=R(WU),a=R(PU),u=R(_U),d=R(jU),f=R(ZU),h=_d(f),p=o[2],{uid:v,kid:g}=e,{result:m}=t,y=_((e=>{const t=[hCe(e)];n(...t)}),[n]),b=_(((...e)=>{var t,o,i;const{rstate:l}=r.current,c=Ud(...e)(l),d=l.editor.refresh;if(c===l)return;r.current.rstate=c;const f=[],v=[iwe(c),$Ce(c)],{store:g,file:m,provider:y,undoredo:b,editor:{data:C,isScrolling:w,refresh:x,status:S}}=c,{focus:E}=h.current,{gfocus:k,file:D}=s.current;y&&Fc(k,y.context.focus)&&f.push(p3(y));const I=null==D?void 0:D.currentPageId,N=null==m?void 0:m.currentPageId;if(N&&I){if(w)return u(),void(v.length&&n(...v));if(x!==d){const e=!gHe(E);if(f.push(mq(g),Aq(N),s9(aRe(!0))),c.gfocus&&f.push(r4(c.gfocus),wDe(E,[])),I===N&&f.push(C9(C)),(null===(i=null===(o=null===(t=null==g?void 0:g.crud)||void 0===t?void 0:t.update)||void 0===o?void 0:o.editor)||void 0===i?void 0:i.includes(I))&&e&&f.push(k7(I)),"updated"===S){const t=V_e(m.tree,N);t&&f.push(c6(t)),e&&f.push(k7(I),h4(b))}p(!0)}f.length&&a(...f),v.length&&n(...v)}}),[s,r,h,p,n,a,u]);return H((()=>{const{store:e,gfocus:o,undoredo:i,editor:{status:r}}=l;if(o&&iHe(o)&&"updated"===r){const{rstate:r,layout:s,result:{branch:c}}=t,{file:u,editor:{resizeWidth:d}}=r,{focus:h}=f;if(gHe(h)&&a(b9("normal"),wDe(h,[])),d)return;const p=null==u?void 0:u.currentPageId;if(void 0===p)return void n($Ce({...r,store:e}),ewe(!0));const m=Xbe(l,t,p);if(m){const t=[$Ce({...r,editor:m,store:e,undoredo:i}),ECe(s.ratio)];if(v&&o&&h){SHe(o,xHe(h,ZFe(axe(g)),YFe(v)))||t.push(ewe(!0))}c&&t.push(YCe(c.payload),QCe()),n(...t)}}})),H((()=>{o[1]({...t},l.store,l.undoredo)})),H((()=>{l.gfocus&&!Fc(l.gfocus,t.rstate.gfocus)&&n(ZCe(l.gfocus))})),j(i,(()=>({layout:e=>{n(ywe(e))},reset:()=>{n(wwe(e,f,l)),p()},research:e=>{n(xCe(),ewe(e))},getState:()=>t,syncTraversal:()=>{o[1]({...t},l.store,l.undoredo)},closeTraversal:()=>{o[2]()},mergeTraversal:e=>{o[1]({...t,...e},l.store,l.undoredo)}}))),{onClickBranch:async(e,t,o,i)=>{var r;const{type:l,id:s}=e;if((null===(r=m.branch)||void 0===r?void 0:r.id)===s)return;const u=xHe(f.focus,XFe());if(!d.exist(t)){const e=await XY(t,c);n(xwe(e)),a(mq(e))}a(o4(u)),"root"===l?n(SCe(e)):"page"===l?n(gCe(e,i)):"outline"===l&&n(mCe(e),XCe(e,t),KCe(t))},onMultipleClick:async o=>{var i;if(o<=1)return;const{rstate:{editor:{selection:r},file:l}}=t,s=null==l?void 0:l.currentPageId;return void 0!==s?(await d.safty(s),p(),n(Cwe()),null===(i=e.onClose)||void 0===i||i.call(e),requestAnimationFrame(u),requestAnimationFrame((()=>{d.dispatch(B6(s),o4(WFe()),lte(s,r),S6(s))})),!0):void 0},onDoubleClickBranch:async(t,o)=>{var i;const{type:r,payload:l}=t;if("outline"!==r)return;await d.safty(o),p(),n(Cwe()),null===(i=e.onClose)||void 0===i||i.call(e),requestAnimationFrame(u);let s=WFe(),c=null==l?void 0:l.search;if(c&&gHe(c)){bHe(c)&&(c=MHe(c));oHe(BHe(c))&&(c=EHe(c)),s=xHe(s,c)}requestAnimationFrame((()=>{d.dispatch(B6(o),o4(s),lte(o,l),S6(o))}))},onChangeTree:y,editorDispatch:b}}function dxe(e){var t,n,o;const{title:i,ratio:r,width:l,height:s,top:c,left:a,drag:u,showHeader:d}=e,f=Rwe(e),h={...Hye,...e.style};u&&(h.cursor="col-resize");const p={...Wye,width:l,height:d?s:s-Pye};return!1===d&&delete p.paddingTop,G(wh,{style:h,onClick:e=>e.stopPropagation(),children:G("div",{style:{..._ye,top:c,left:a},children:X(Dh,{style:p,children:[d&&X(Uh,{type:"bottom",style:zye,...f.header,children:[G("div",{style:Vye,children:i}),G(Ev,{style:$ye,onClick:e.onClose,children:ube[null!==(t=e.lang)&&void 0!==t?t:"cn"][abe.close]})]}),X("div",{style:Zye,children:[G("div",{style:Gye,...f.leftEdge}),G("div",{style:{...Yye,flex:r},children:e.isEmpty?G("div",{style:jye,children:ube[null!==(n=e.lang)&&void 0!==n?n:"cn"][abe.empty]}):e.leftNode}),G("div",{style:{...Uye,left:100*r+"%"},...f.border,children:G(Uh,{type:"right",style:qye})}),G("div",{style:{...Kye,flex:1-r},children:e.isEmpty?G("div",{style:jye,children:ube[null!==(o=e.lang)&&void 0!==o?o:"cn"][abe.empty]}):e.rightNode}),G("div",{style:Xye,...f.rightEdge}),G("div",{style:Jye,...f.bottomEdge})]})]})})})}function fxe(e){const[t,n]=qd((()=>({drag:!1}))),{ratio:o,width:i,height:r,tree:{value:l}}=e,s=$be(l.tree),c=Boolean(l.isEditPending||l.isScrolling),a=e=>{},u=Z(null),d=W((()=>s?null:G(FU,{value:{current:{}},children:G(VU,{value:u,children:G(hk.EditElement,{value:null,children:G(RB,{...e.tree,showMore:!1})})})})),[o,i,r,s,Hd(c)]);let f=null;return!1!==e.showEditor&&(f=G(PU,{value:e.editor.dispatch,children:G(RU,{value:e.editor,children:G(wh,{onPointerDown:a,children:G(YK,{...e.editor,root:!0})})})})),G(Iwe,{value:e,children:G(dxe,{...e,...t,dispatch:n,leftNode:f,rightNode:d})})}function hxe(){return G("svg",{width:"11",viewBox:"0 0 12 12",children:G("path",{fill:"#fff",stroke:"#fff","stroke-width":"0.15",d:"M10.5822 3.57657L10.5167 3.61301C10.6177 3.79444 10.5523 4.02342 10.3709 4.12441C10.1883 4.22559 9.9599 4.15984 9.85927 3.97843M10.5822 3.57657C10.7034 3.79423 10.6249 4.06884 10.4073 4.18994L10.4072 4.19001C10.1886 4.31122 9.91449 4.23251 9.79372 4.01488M10.5822 3.57657C9.6729 1.9411 7.94669 0.925 6.07692 0.925C3.23592 0.925 0.925 3.23611 0.925 6.07692C0.925 8.91773 3.23592 11.2288 6.07692 11.2288C8.91792 11.2288 11.2288 8.91773 11.2288 6.07692C11.2288 5.82784 11.0271 5.62585 10.7778 5.62585C10.5285 5.62585 10.3267 5.82784 10.3267 6.07692C10.3267 8.42026 8.42009 10.3267 6.07692 10.3267C3.73376 10.3267 1.82714 8.42026 1.82714 6.07692C1.82714 3.73358 3.73376 1.82714 6.07692 1.82714C7.6193 1.82714 9.04341 2.66547 9.79372 4.01488M10.5822 3.57657L9.85927 3.97843M9.79372 4.01488L9.85927 3.97843M9.79372 4.01488C9.79371 4.01485 9.7937 4.01483 9.79369 4.01481L9.85927 3.97843"})})}function pxe(e){const t={...tbe};return(e.checked||e.update)&&(t.borderColor=Bf,t.backgroundColor=Bf),e.disabled&&(t.cursor="not-allowed"),X(wh,{style:t,onPointerDown:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onClick:e.onClick,children:[e.update&&G(hxe,{}),e.checked&&G("div",{style:nbe})]})}function vxe(e){return G(Ev,{style:cbe,onPointerDown:e=>e.stopPropagation(),onClick:e.onClick,children:G(ZM,{width:14})})}var gxe;function mxe(e){const t={...tbe};return e.checked&&(t.borderColor=Bf),e.disabled&&(t.cursor="not-allowed"),G(wh,{style:t,onPointerDown:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onClick:e.onClick,children:e.checked&&G("div",{style:obe})})}!function(e){e.search="search",e.review="review"}(gxe||(gxe={}));const{getEditNodeByPath:yxe,getPathFromKey:bxe}=hk;function Cxe(e){var t;const n=R(RU),o=R(ZU),i=cxe(e,gxe.search),[r,l]=qd((()=>awe(e,0,n,i)),kwe()),{node:s}=o.editor,{kid:c,uid:a=aRe(),lang:u,text:d,type:f,onlyShowInResult:h}=e,p=xHe(o.focus,ZFe(bxe(c)),YFe(a)),{result:v,layout:g,research:m}=r,y=null!=d?d:yxe(s,bxe(c));let b=null;"checkbox"===f?b=wxe:"radio"===f&&(b=xxe);const C=Ywe(v,b,!0),{onClickBranch:w,onMultipleClick:x,onChangeTree:S,editorDispatch:E,onDoubleClickBranch:k}=uxe(e,r,l,i,e.ref);rxe(e,r,y,p,l);const D=qwe(g),I=Pwe(e,r,l,i),N={zIndex:THe(o.focus)},L=$be(v.tree),T={value:v,render:C,onChange:S,onClickBranch:w,onDoubleClickBranch:k},B={virtual:!0,editable:!0,lang:null!=u?u:"cn",dispatch:E,onMultipleClick:x,...Jbe(r,o),focus:p,gfocus:n.gfocus},A={...g,lang:e.lang,style:N,isEmpty:!1===m&&L,showHeader:null===(t=e.showHeader)||void 0===t||t,title:D(y),tree:T,editor:B,count:v.count,...I};return L&&h?null:G(Bwe,{value:e,children:G(Twe,{value:r,children:G(Lwe,{value:l,children:G(Nwe,{value:i,children:G(fxe,{...A})})})})})}function wxe(e){var t;let{branch:n,renderElement:o,node:i}=e;const{onClick:r}=Fwe(e);if(void 0===n)return G("div",{});const l=null===(t=null==n?void 0:n.payload)||void 0===t?void 0:t.checked;return X("div",{style:ebe,children:["outline"===n.type&&G(pxe,{checked:l,disabled:n.disabled,onClick:r}),G(ZE,{node:i,renderElement:o})]})}function xxe(e){var t;const{branch:n,renderElement:o,node:i}=e,{onClick:r}=Fwe(e);if(void 0===n)return G("div",{});const l=null===(t=null==n?void 0:n.payload)||void 0===t?void 0:t.checked;return X("div",{style:ebe,children:["outline"===n.type&&G(mxe,{checked:l,disabled:n.disabled,onClick:r}),G(ZE,{node:i,renderElement:o})]})}const{getEditNodeByPath:Sxe,getPathFromKey:Exe}=hk;function kxe(e){var t,n;const o=R(RU),i=R(ZU),r=cxe(e,gxe.review),{scroller:l,selecter:s,contextmenu:c}=R(UU),[a,u]=qd((()=>awe(e,0,o,r)),kwe()),{node:d}=i.editor,{kid:f,uid:h=aRe(!0),lang:p,editable:v}=e,g=xHe(i.focus,ZFe(Exe(f)),YFe(h)),{result:m,layout:y,research:b}=a,C=Sxe(d,Exe(f)),w=Ywe(m,Dxe,!0,v),{onClickBranch:x,onMultipleClick:S,onChangeTree:E,editorDispatch:k,onDoubleClickBranch:D}=uxe(e,a,u,r,e.ref);lxe(e,a,g,u);const I=qwe(y),N=Pwe(e,a,u,r),L={zIndex:THe(i.focus)},T=!1===b&&$be(m.tree),B={value:m,render:w,onChange:E,onClickBranch:x,onDoubleClickBranch:D},A={virtual:!0,selecter:s,scroller:l,contextmenu:c,editable:null===(t=e.editable)||void 0===t||t,lang:null!=p?p:"cn",dispatch:k,onMultipleClick:S,...Jbe(a,i),focus:g,gfocus:o.gfocus},M={...y,lang:e.lang,style:L,isEmpty:T,showHeader:null===(n=e.showHeader)||void 0===n||n,title:I(C),tree:B,editor:A,count:m.count,...N};return G(Bwe,{value:e,children:G(Twe,{value:a,children:G(Lwe,{value:u,children:G(Nwe,{value:r,children:G(fxe,{...M})})})})})}function Dxe(e){const{branch:t,renderElement:n,node:o,editable:i}=e,{onClick:r}=Hwe(e);return void 0===t?G("div",{}):X("div",{style:ebe,children:[i&&"outline"===t.type&&G(vxe,{onClick:r}),G(ZE,{node:o,renderElement:n})]})}var Ixe=Object.freeze({__proto__:null,CheckBox:pxe,DEFAULT_HEIGHT:Oye,DEFAULT_WIDTH:Rye,HEADER_HEIGHT:Pye,get Mode(){return gxe},Panel:fxe,Remove:vxe,Review:kxe,Search:Cxe,addRefer:Pbe,anchorEditor:XCe,anchorFirstBranchEditor:JCe,calcResultMix:ICe,clearLocation:rwe,clearTree:xCe,close:Cwe,countTree:Vbe,createEditor:Xbe,createSelectorNode:Wbe,decreaseRefer:nwe,filterBranchChecked:Zbe,increaseRefer:twe,injectModuleStore:xwe,isEmptyTree:$be,isSelectorNode:jbe,mergeTree:wCe,reduceEditor:Jbe,removeBranch:yCe,removeEditorPosition:GCe,removeRefer:Fbe,renderElement:Uwe,reset:wwe,resetLayoutState:bwe,resetModuleRefer:owe,resetRefer:Hbe,resetSelectorNodeExpand:()=>e=>(uCe(e.result.tree,(e=>{var t;const n=e.title;jbe(n)&&(null===(t=n.props)||void 0===t?void 0:t.expand)&&(n.props.expand=!1)})),e.result.isEditPending=!0,e),selector:Fye,setBranch:mCe,setBranchNodeSelected:vCe,setBranchSelection:(e,t)=>n=>(uCe(n.result.tree,(o=>{var i;if(e.id===o.id)return o.payload={...o.payload,...t},(null===(i=n.result.branch)||void 0===i?void 0:i.id)===o.id&&(n.result.branch=o),!0})),n.result.isEditPending=!0,n),setDrag:Dwe,setEditor:$Ce,setEditorClientHeight:qCe,setEditorClientWidth:UCe,setLayoutHeight:vwe,setLayoutMoving:mwe,setLayoutPosition:gwe,setLayoutRatio:hwe,setLayoutRect:ywe,setLayoutWidth:pwe,setLocation:iwe,setModuleNoDraft:kwe,setPageId:KCe,setResearch:ewe,setResultClientHeight:kCe,setResultClientWidth:ECe,setResultCount:bCe,setResultEditPending:CCe,setResultScrollHeight:DCe,setTraversalOption:Ewe,shouldPreventDefault:rCe,sliceReferArgs:Ube,sliceReferBranches:function(e,t){return[]},syncEditorGFocus:ZCe,syncEditorHighlights:YCe,syncEditorNode:QCe,syncTree:hCe,toggleBranchExpand:gCe,toggleBranchSelected:pCe,toggleSelectorNodeExpand:SCe,updateBlockNodeBranch:NCe,useBranchRender:Ywe,useLayoutEvents:Rwe,useModule:uxe,usePanelEvents:Pwe,useReview:lxe,useReviewEvents:Hwe,useSearchEvents:Fwe,useSearcher:rxe,useTitleRender:qwe,useTraversal:cxe}),Nxe=Object.freeze({__proto__:null,list:Mye,panel:Ixe});const Lxe="toggle-list",Txe=8,Bxe={width:Txe,height:Txe,cursor:"pointer",position:"relative",top:Kf?-1:-.5,left:.5,zIndex:1,fontSize:0};function Axe(e){return G(J_,{...e,children:X("svg",{width:14.5,viewBox:"0 0 12 12",fill:"none",children:[G("path",{d:"M1 9V11.6038L3.1 10.2453L1 9Z",fill:zf}),G("path",{d:"M1 4.75471V7.35849L3.1 6L1 4.75471Z",fill:zf}),G("path",{d:"M1 0.5V3.10378L3.1 1.74529L1 0.5Z",fill:zf}),G("path",{d:"M11 9.78041V10.77H4V9.78041H11ZM11 5.52916V6.51875H4V5.52916H11ZM11 1.27V2.25958H4V1.27H11Z",fill:zf})]})})}function Mxe(e){var t,n;const o=null===(t=e.style)||void 0===t?void 0:t.fontSize,i=(null===(n=e.style)||void 0===n?void 0:n.color)||_f,r=nae(o);return e.subclass===Iye.ONE?G(Oxe,{scale:r,color:i,expand:e.expand}):e.subclass===Iye.TWO?G(Rxe,{scale:r,color:i,expand:e.expand}):null}function Oxe(e){var t;const n=null!==(t=e.scale)&&void 0!==t?t:1,o=Txe*n,i=Txe*n,r={transform:`rotate(${e.expand?"90deg":0})`};return G("div",{style:{...Bxe,width:o,height:i,top:-i/4,...e.style},children:G(cO,{style:r,width:o,fill:e.color})})}function Rxe(e){var t;const n=null!==(t=e.scale)&&void 0!==t?t:1,o=Txe*n,i=Txe*n,r={transform:`rotate(${e.expand?"90deg":0})`};return G("div",{style:{...Bxe,width:o,height:i,top:-i/4-.5,...e.style},children:G(nO,{style:r,width:5*o/Txe,fill:e.color})})}const{calcLeftSizeByStyle:Pxe,calcTopSizeByStyle:Fxe,comparePath:Hxe,DECORATE_BLOCK_NODE:_xe,SPLIT_BLOCK_MARGIN:jxe,getNodeByPath:Wxe,getEditNodeByPath:zxe,getEditNodeStartPath:Vxe,getPathFromKey:$xe,isBlockNode:Zxe,isCollapsed:Uxe,isDecorateBlockNode:qxe,isDecorateNode:Yxe,isEditBlockNodeX:Kxe,isEditNode:Gxe,removePositionStyle:Xxe,sliceBlockPath:Jxe,sliceDecoratePath:Qxe,DetectFlag:eSe}=hk;function tSe(e){if(void 0===e.position)return 0;const t=pc(e.children);return tae(t,Lxe)?0:Zxe(t)?oSe(t)+6:0}function nSe(e){if(void 0===e.position)return 0;const{style:t}=e;return Pxe(t)/2}function oSe(e){var t,n;if(void 0===e.position)return 0;const{position:o,style:i}=e;let r=0;if(!0===(null===(t=e.props)||void 0===t?void 0:t.expand)){const t=e.children[0];r=parseFloat(String((null===(n=null==t?void 0:t.style)||void 0===n?void 0:n.height)||"0"))}else r=parseFloat(String((null==i?void 0:i.height)||"0"));return o.top+Fxe(i)+r/2}function iSe(e,t){var n;const{style:o,props:i}=e,r=parseInt(String((null===(n=null==i?void 0:i.style)||void 0===n?void 0:n.fontSize)||"0"));return Pxe(o)+r+(t?5:10)}function rSe(e,t){var n,o;if(e.type===_xe&&(null===(n=e.props)||void 0===n?void 0:n.type)===Lxe){if(void 0===t)return!0;if((null===(o=e.props)||void 0===o?void 0:o.subclass)===t)return!0}return!1}function lSe(e,t){var n;const{data:o,style:i}=t.editor,r={...i,...e.style};if(void 0===e.kid)return r;const l=$xe(e.kid),s=Wxe(o,l);if(!qxe(s))return r;const c=s.children[0];return Gxe(c)?{...r,...Xxe(c.style),...Xxe(null===(n=c.props)||void 0===n?void 0:n.style)}:r}function sSe(e,t){var n,o,i,r,l;const s={position:"relative",width:"100%",height:"100%"};if(void 0===e.kid)return s;const{editor:{node:c},virtual:a}=t,u=$xe(e.kid),d=zxe(c,u);if(Kxe(d)){const e=d.children[0];Zxe(e)&&(a&&t.editor.detect.flag!==eSe.STATIC?s.top=-(null!==(o=null===(n=d.style)||void 0===n?void 0:n.paddingTop)&&void 0!==o?o:0):s.top=-(null!==(l=null!==(r=null===(i=e.position)||void 0===i?void 0:i.top)&&void 0!==r?r:a?jxe:0)&&void 0!==l?l:0))}return s}function cSe(){return Txe}const{isCollapsed:aSe,getEditNodeByPath:uSe,isDecorateBlockNode:dSe,isBlockNode:fSe,sliceBlockPath:hSe,sliceDecoratePath:pSe,transformNodeToEditNode:vSe,createDecorateBlockNode:gSe,sliceBoxSizeStyle:mSe,removeBoxSizeStyle:ySe,removePositionStyle:bSe,isEmptyNode:CSe,isEditNode:wSe,reflowEditNodeByPath:xSe,resetEditNodeKey:SSe,getPathFromKey:ESe,createBlockNode:kSe,isEditBlockNode:DSe,genNextLevelPath:ISe,getKeyFromPath:NSe,isDecorateNode:LSe,getNodeLength:TSe,transformEditNodeToNode:BSe,getEditNodeStartPath:ASe,comparePath:MSe,deleteFragment:OSe,genPrevLevelPath:RSe,tab:PSe,shiftTab:FSe,traversalEditBlockNodeBySelection:HSe,reflowEditNodeBySelection:_Se,sortSelection:jSe,deleteBackward:WSe,splitBlock:zSe,isBlockNodeCritical:VSe,isPathBefore:$Se,isPathAfter:ZSe,getEditNodeEndPath:USe,clearSelection:qSe,removeSplitBlockNodeStyle:YSe,injectSplitBlockNodeStyle:KSe,calcCommonPath:GSe,getEditNodesByPath:XSe,SPLIT_BLOCK_MARGIN:JSe}=hk;function QSe(e,t,n){var o;const{imperator:i,context:r}=e.provider();null===(o=i.current)||void 0===o||o.commit(eEe(r,t,n))}const eEe=(e,t,n)=>o=>{var i,r,l,s,c,a,u,d,f,h,p,v,g,m,y,b;if(!o.selection)return o;const C=null===(i=o.selectionDecorate)||void 0===i?void 0:i[Lxe],w=e.editor.style;if(aSe(o.selection)){const e=o.selection.focus.path;if(void 0!==(null===(r=o.selectionDecorate)||void 0===r?void 0:r[rae])){const n=pSe(o.node,e,rae);if(n){const e=uSe(o.node,n);if(Rve(e)){const i=e.props;if(!i||i.subclass===iae.H)return o;(null===(l=i.mergeclass)||void 0===l?void 0:l[Lxe])===t?(null===(s=i.mergeclass)||void 0===s||delete s[Lxe],!1===i.expand&&(o=mme(n)(o))):(i.mergeclass=null!==(c=i.mergeclass)&&void 0!==c?c:{},i.mergeclass[Lxe]=t,i.expand=!0)}}return o}const i=hSe(o.node,e),y=uSe(o.node,i);if(void 0!==C){const r=pSe(o.node,e,Lxe);if(r&&0===MSe(i,[...r,0])){const i=uSe(o.node,hc(r)),l=uSe(o.node,r);if(dSe(l)&&fSe(i)){if(C!==t&&"inner"===n)return l.props&&(l.props.subclass=t),o;const s=pc(l.children);s&&wSe(s)&&(s.style={...s.style,...mSe(l.style)},s.position={...s.position,...l.position});const c=dc(l.children);c!==s&&CSe(c)&&l.children.pop();const v=null!==(u=null===(a=l.props)||void 0===a?void 0:a.list)&&void 0!==u?u:[],g=i.children.indexOf(l),m=[...l.children,...v],y=parseInt(String(null!==(f=null===(d=l.style)||void 0===d?void 0:d.marginLeft)&&void 0!==f?f:0));for(let e=1;e<m.length;e++){const t=m[e];if(!tae(t)||!t.style)continue;const n=parseInt(String(null!==(h=t.style.marginLeft)&&void 0!==h?h:0));t.style.marginLeft=n+y}i.children.splice(g,1,...m);const b=[...hc(r),(null!==(p=dc(r))&&void 0!==p?p:0)+e[r.length],...e.slice(r.length+1)];o.selection.focus.path=[...b],o.selection.anchor.path=[...b];const w=ESe(i.key);return o=SSe(w)(o),o=lEe(w)(o),_Se(!0)(o)}}}const b=uSe(o.node,hc(i)),x=b.children.indexOf(y),S=bSe(ySe(y.style)),E={...y,style:S};delete E.position;const k=[E];let D=x+1;const I=null===(v=E.props)||void 0===v?void 0:v.level;if(et(I))for(;D<b.children.length;){const e=b.children[D];if(!tae(e))break;const t=null===(g=e.props)||void 0===g?void 0:g.level;if(!(et(t)&&t.length>I.length&&Fc(t.slice(0,I.length),I)))break;k.push(e),D++}const N=vSe({...gSe({type:Lxe,subclass:t,expand:k.length>1}),style:mSe(y.style),children:k},y.key);if(tae(b,Lxe)){const e=null===(m=b.props)||void 0===m?void 0:m.style;N.props&&e&&(N.props.style=ps(e))}b.children.splice(x,D-x,N);const L=[...i,0,...e.slice(i.length)];o.selection.focus.path=[...L],o.selection.anchor.path=[...L];const T=ESe(b.key);return o=SSe(T)(o),xye(o=lEe(T)(o),b,w),o=_Se(!0)(o)}const x=new Set,S=new Set,E=new Set,{focus:k,anchor:D}=o.selection,I={focus:{node:uSe(o.node,hc(k.path)),index:null!==(y=dc(k.path))&&void 0!==y?y:0},anchor:{node:uSe(o.node,hc(D.path)),index:null!==(b=dc(D.path))&&void 0!==b?b:0}};if(HSe(o.node,o.selection,((e,n)=>{var i,r,l,s,c,a;if(void 0===o.selection)return;if(E.has(e))return;const u=pSe(o.node,n,rae);if(u){const e=uSe(o.node,u);if(tae(e,rae)){if(S.has(e))return;S.add(e);const n=e.props;if(!n||n.subclass===iae.H)return;return void((null===(i=n.mergeclass)||void 0===i?void 0:i[Lxe])===t&&void 0!==C?(null===(r=n.mergeclass)||void 0===r||delete r[Lxe],!1===n.expand&&(o=mme(u)(o))):(n.mergeclass=null!==(l=n.mergeclass)&&void 0!==l?l:{},n.mergeclass[Lxe]=t))}}if(!VSe(e))return;const d=pSe(o.node,n,Lxe);if(void 0!==C)if(void 0===d);else{const e=uSe(o.node,d);if(LSe(e)){if(C!==t)return void(e.props&&(e.props.subclass=t));x.add(e)}}else{if(void 0!==d){const e=uSe(o.node,d);return void(dSe(e)&&e.props&&(e.props.subclass=t))}const i=uSe(o.node,hc(n)),r=i.children.indexOf(e),l=bSe(ySe(e.style)),u={...e,style:l};delete u.position;const f=[u];let h=r+1;const p=null===(s=u.props)||void 0===s?void 0:s.level;if(et(p))for(;h<i.children.length;){const e=i.children[h];if(!tae(e))break;const t=null===(c=e.props)||void 0===c?void 0:c.level;if(!(et(t)&&t.length>p.length&&Fc(t.slice(0,p.length),p)))break;f.push(e),h++}const v=vSe({...gSe({type:Lxe,subclass:t,expand:f.length>1}),style:mSe(e.style),children:[]},e.key);if(v.children=f,tae(i,Lxe)){const e=null===(a=i.props)||void 0===a?void 0:a.style;v.props&&e&&(v.props.style=ps(e))}i.children.splice(r,h-r,v),o=h-r<=1?SSe(n)(o):SSe(hc(n))(o),o=lEe(n)(o);const g=i.children[r];for(const e of g.children)fSe(e)&&E.add(e);xye(o,i,w)}}),!0),void 0!==C){Array.from(x).sort(((e,t)=>{const n=ESe(e.key),o=ESe(t.key),i=MSe(n,o);return 0!==i?i:n.length>o.length?-1:n.length<o.length?1:0})).forEach((e=>{var t,n,i,r,l;const s=pc(e.children);s&&wSe(s)&&(s.style={...s.style,...mSe(e.style)},s.position={...s.position,...e.position});const c=dc(e.children);c!==s&&CSe(c)&&e.children.pop();const a=ESe(e.key),u=uSe(o.node,hc(a));if(!wSe(u))return;const d=null!==(n=null===(t=e.props)||void 0===t?void 0:t.list)&&void 0!==n?n:[],f=u.children.indexOf(e),h=[...e.children,...d],p=parseInt(String(null!==(r=null===(i=e.style)||void 0===i?void 0:i.marginLeft)&&void 0!==r?r:0));for(let e=1;e<h.length;e++){const t=h[e];if(!tae(t)||!t.style)continue;const n=parseInt(String(null!==(l=t.style.marginLeft)&&void 0!==l?l:0));t.style.marginLeft=n+p}u.children.splice(f,1,...h);const v=ESe(u.key);o=SSe(v)(o),o=lEe(v)(o)}))}return o.selection.focus.path=[...ESe(I.focus.node.key),I.focus.index],o.selection.anchor.path=[...ESe(I.anchor.node.key),I.anchor.index],_Se(!0)(o)},tEe=(e,t,n)=>o=>{var i,r,l,s,c;const a=uSe(o.node,t);if(!tae(a,Lxe))return o;const u=!(null===(i=a.props)||void 0===i?void 0:i.expand);if(void 0===a.props&&(a.props={}),a.props.expand=u,u){if(a.children=[...a.children,...null!==(l=null===(r=a.props)||void 0===r?void 0:r.list)&&void 0!==l?l:[]],null===(s=a.props)||void 0===s||delete s.list,a.children.length<=1&&!n){const e=dc(a.children);if(DSe(e)){const t=ESe(e.key),n=ISe(t),o=vSe(kSe([""]),NSe(n));o.style||(o.style={});const i=null===(c=e.style)||void 0===c?void 0:c.marginLeft;i&&(o.style.marginLeft=i),a.children.push(o)}}if(n){const e=NSe([...t,a.children.length]);a.children.push(vSe(n,e))}return xye(o,a,e.editor.style),o=lEe(t)(o),o=xSe(t)(o)}a.props.list=a.children.slice(1),a.children=a.children.slice(0,1),o=lEe(t)(o),o=xSe(t)(o);const d=a.props.list;if(CSe(dc(d))&&d.pop(),!o.selection||0===d.length)return o;const{before:f,after:h}=jSe(o.selection,!1),p=ESe(pc(d).key),v=ESe(dc(d).key);if(!$Se(f.path,p)&&!ZSe(h.path,v))return qSe()(o),o;if($Se(f.path,p)&&ZSe(h.path,v))return o;if($Se(f.path,p)&&!$Se(h.path,p)&&!ZSe(h.path,v)){const e=uSe(o.node,[...t,0]);if(!wSe(e))return o;const n=USe(e),i=uSe(o.node,n);return null===i||(h.path=n,h.offset=TSe(i)),o}if(!$Se(f.path,p)&&!ZSe(f.path,v)&&ZSe(h.path,v)){const e=ISe(t);return f.path=e,f.offset=0,o}return ZSe(h.path,p)?($Se(f.path,v),o):o},nEe=e=>t=>{var n,o,i;if(t.selection&&!aSe(t.selection)&&(t=OSe()(t)),!t.selection)return t;const r=e.editor.style,{path:l,offset:s}=t.selection.focus;if(0===s){const i=pSe(t.node,l,Lxe);if(i){const r=uSe(t.node,i);if(tae(r,Lxe)&&CSe(r)){const i=null===(n=t.selectionDecorate)||void 0===n?void 0:n[Lxe];if(void 0===i){if(Object.keys(null!==(o=t.selectionDecorate)&&void 0!==o?o:{}).includes(Lxe))return t=WSe()(t)}return eEe(e,i,"outer")(t)}}}if(t=zSe()(t),(t=lEe(l)(t)).selection){const{path:n}=t.selection.focus,o=pSe(t.node,n,Lxe);if(void 0===o)return t;const l=uSe(t.node,o);if(!LSe(l))return t;const s=!!(null===(i=l.props)||void 0===i?void 0:i.expand),c=l.children.length;if(!0===s&&c>1){3===c&&1===n[o.length]&&CSe(dc(l.children))&&l.children.pop();const i=l.children[1];return tae(i)&&0===MSe(n,ESe(i.key))&&(t=PSe(r)(t),t=Sye(e)(t)),t=lEe(n)(t)}const a=l.children[1];if(!fSe(a))return t;YSe(a),l.children.splice(1,1);const u=ISe(o),d=vSe({...BSe(l),children:[a],props:{...l.props,list:[]}},NSe(u));KSe(d);const f=uSe(t.node,hc(o)),h=f.children.indexOf(l);if(f.children.splice(h+1,0,d),t.selection){const e=ASe(d);t.selection.anchor.path=[...e],t.selection.focus.path=[...e]}tae(a)&&xye(t,f,r),t=lEe(o)(t),t=xSe(n)(t)}return t},oEe=e=>t=>{var n,o;const{selection:i,node:r}=t;if(void 0===i)return t;const{path:l,offset:s}=jSe(i).before,c=pSe(r,l,Lxe);if(c){const i=uSe(r,c);if(LSe(i)){let a=!1;const u=ASe(i);0===MSe(l,u)&&0===s&&(a=!0);const d=pSe(r,l);if(d&&d.length>c.length&&(a=!1),!0===a){const i=null===(n=t.selectionDecorate)||void 0===n?void 0:n[Lxe];if(void 0===i){if(Object.keys(null!==(o=t.selectionDecorate)&&void 0!==o?o:{}).includes(Lxe))return t=WSe()(t)}return eEe(e,i,"outer")(t)}}}if((t=WSe(e.editor.style)(t)).selection){const{path:e}=t.selection.focus,n=pSe(t.node,e,Lxe);if(void 0===n)return t;const o=uSe(t.node,n);if(!LSe(o))return t;TSe(o)<=1&&o.props&&(o.props.expand=!1)}return t},iEe=(e,t)=>n=>{var o,i;if(void 0===n.selection)return n;if(!t){if(!aSe(n.selection)){const t=[],o=[];HSe(n.node,n.selection,((e,i)=>{for(const e of t)if(0===MSe(e,i))return;const r=pSe(n.node,i);if(r&&(t.push(r),r.length>1)){const e=hc(r),o=uSe(n.node,e);wSe(o)&&rSe(o)&&t.push(e)}o.push(e)}));for(const t of o){const o=ESe(t.key);n=iEe(e,o)(n)}return n}t=n.selection.focus.path}const{anchor:r,focus:l}=n.selection,s=uSe(n.node,hc(r.path)),c=uSe(n.node,hc(l.path)),a=e.editor.style;let u=null,d=hSe(n.node,t);for(;d[d.length-1]<=0&&d.length>0;)d=hc(d);if(d.length<=0)return n;let f=RSe(d),h=f.length;const p=GSe(d,f);for(;h>p.length;){const e=uSe(n.node,f.slice(0,h));if(tae(e,Lxe)){u=e,f=f.slice(0,h),d=d.slice(0,h);break}h--}if(null===u)return n=PSe(a)(n);const v=uSe(n.node,d);if(!wSe(v))return n=PSe(a)(n);if(!d.length)return n=PSe(a)(n);const g=hc(d),m=uSe(n.node,g);if(!wSe(m))return n=PSe(a)(n);const y=m.children.indexOf(v);if(-1===y)return n=PSe(a)(n);m.children.splice(y,1),u.children.push(v),u.props||(u.props={}),u.props.expand=!0,n=SSe(g)(n);for(const e of m.children)if(wSe(e)&&rSe(e)){const t=ESe(e.key);xye(n=lEe(t)(n),e,a)}if(wSe(s)&&wSe(c)){const e=ESe(s.key),t=ESe(c.key);n.selection={anchor:{path:[...e,null!==(o=dc(r.path))&&void 0!==o?o:0],offset:r.offset},focus:{path:[...t,null!==(i=dc(l.path))&&void 0!==i?i:0],offset:l.offset}}}return v.style=bSe(v.style),delete v.position,n=xSe(ESe(v.key))(n)},rEe=(e,t)=>n=>{var o,i,r;if(void 0===n.selection)return n;if(!t){if(!aSe(n.selection)){const t=[],o=[];HSe(n.node,n.selection,((e,i)=>{for(const e of t)if(0===MSe(e,i))return;const r=pSe(n.node,i);if(r&&(t.push(r),r.length>1)){const e=hc(r),o=uSe(n.node,e);wSe(o)&&rSe(o)&&t.push(e)}o.push(e)}));for(const t of o){const o=ESe(t.key);n=rEe(e,o)(n)}return n}t=n.selection.focus.path}const{anchor:l,focus:s}=n.selection,c=uSe(n.node,hc(l.path)),a=uSe(n.node,hc(s.path)),u=e.editor.style,d=pSe(n.node,t,Lxe);if(!(null==d?void 0:d.length))return n=FSe(u)(n);const f=uSe(n.node,d);if(!wSe(f)||!rSe(f))return n=FSe(u)(n);if(null===(o=f.style)||void 0===o?void 0:o.marginLeft)return n=FSe(u)(n);const h=hc(d),p=uSe(n.node,h);if(!wSe(p)||!rSe(p))return n=FSe(u)(n);if(!h.length)return n=FSe(u)(n);const v=hc(h),g=uSe(n.node,v);if(!wSe(g))return n=FSe(u)(n);const m=p.children.indexOf(f);if(-1===m)return n=FSe(u)(n);p.children.splice(m,1);const y=p.children.length-m,b=p.children.splice(m,y);f.children.push(...b),b.length&&(f.props||(f.props={}),f.props.expand=!0);const C=g.children.indexOf(p);if(-1===C)return n=FSe(u)(n);g.children.splice(C+1,0,f),n=SSe(v)(n);for(let e=C;e<=C+1;e++){const t=g.children[e];if(wSe(t)&&rSe(t)){const e=ESe(t.key);xye(n=lEe(e)(n),t,u)}}if(wSe(c)&&wSe(a)){const e=ESe(c.key),t=ESe(a.key);n.selection={anchor:{path:[...e,null!==(i=dc(l.path))&&void 0!==i?i:0],offset:l.offset},focus:{path:[...t,null!==(r=dc(s.path))&&void 0!==r?r:0],offset:s.offset}}}return n=xSe(h,!0)(n)},lEe=e=>t=>{const n=XSe(t.node,e);let o=null;for(const e of n)if(wSe(e)&&rSe(e)){o=e;break}if(null===o)return t;return function e(t){var n;const o=t.children.length;for(let n=0;n<o;n++){const o=t.children[n];fSe(o)&&(0===n?YSe(o):KSe(o),1===n&&(o.style||(o.style={}),o.style.paddingTop=JSe),rSe(o)&&e(o))}o<=1&&(null===(n=t.props)||void 0===n?void 0:n.expand)&&(t.props.expand=!1)}(o),KSe(o),t};const sEe={scale:Kf?.9:1},cEe={scale:Kf?.85:1},aEe=[{type:Iye.ONE,jsx:[{icon:e=>G(Oxe,{...sEe,...e,style:{...sEe.style,...e.style},expand:!0}),children:[{icon:e=>G(Oxe,{...sEe,...e,style:{...sEe.style,...e.style}})},{icon:e=>G(Oxe,{...sEe,...e,style:{...sEe.style,...e.style},expand:!0}),children:[{icon:e=>G(Oxe,{...sEe,...e,style:{...sEe.style,...e.style}})}]}]},{icon:e=>G(Oxe,{...sEe,...e,style:{...sEe.style,...e.style}})}]},{type:Iye.TWO,jsx:[{icon:e=>G(Rxe,{...cEe,...e,style:{...cEe.style,...e.style},expand:!0}),children:[{icon:e=>G(Rxe,{...cEe,...e,style:{...cEe.style,...e.style}})},{icon:e=>G(Rxe,{...cEe,...e,style:{...cEe.style,...e.style},expand:!0}),children:[{icon:e=>G(Rxe,{...cEe,...e,style:{...cEe.style,...e.style}})}]}]},{icon:e=>G(Rxe,{...cEe,...e,style:{...cEe.style,...e.style}})}]}],{getEditNodeByPath:uEe,getNodeLength:dEe,getPathFromKey:fEe,isEditNode:hEe,sliceDecoratePath:pEe}=hk;function vEe(e){var t,n;const o=R(ZU),i=R(VU),r=R(PU),l=lSe(e,o),{editor:{node:s},focus:c}=o,a=sSe(e,o);let u=null,d=[];Array.isArray(e.children)?(u=e.children[0],d=e.children.slice(1)):u=e.children;const f=parseFloat(String(l.fontSize))*Lce,h={...e.listStyle,position:"relative",left:f,width:`calc(100% - ${f}px)`};if(p(u)){const o=null===(t=u.props)||void 0===t?void 0:t.node;if(hEe(o)){0===dc(fEe(o.key))||(u=null,d=null!==(n=e.children)&&void 0!==n?n:[])}}return X(K,{children:[G("div",{style:{},children:u&&G(Aye,{...e,style:l,iconSize:cSe(),icon:Mxe,onClickIcon:t=>{if(t.stopPropagation(),void 0===e.kid)return;const n=pEe(s,fEe(e.kid),Lxe);if(void 0===n)return;r(o4(c),SDe());const l=[tEe(o,n)],a={anchor:{path:[...n],offset:0},focus:{path:[...n],offset:0}};Eye(o,i,l,a)},onPointerDownIcon:e=>e.stopPropagation(),children:G("div",{style:a,children:u})})}),G("div",{style:h,children:d})]})}var gEe={name:Lxe,label:function(e){return mce[e.lang][vce]},inner:function(e){const t=R(jU);return G(kye,{...e,preventDefault:!0,group:aEe,onChange:e=>{QSe(t,e,"inner")}})},outer:function({children:e,...t}){const n=R(jU);return X(Lye,{...t,preventDefault:!0,onChange:e=>{QSe(n,e,"outer")},children:[G(Axe,{...t}),e]})},icon:Axe},mEe=Object.freeze({__proto__:null,ICON_SIZE:Txe,calcHorizontalOffset:iSe,calcInitHorizontalOffset:nSe,calcInitVerticalOffset:tSe,calcPolyline:function(e,t){let n="",o=0,i=0;return o=tSe(e),i=nSe(e)+t-.5,e.children.forEach((e=>{var t;if(tae(e,Lxe)){const r=!!(null===(t=e.props)||void 0===t?void 0:t.expand),l=oSe(e),s=iSe(e,r)+i;n+=`M ${i} ${o} L ${i} ${l} M ${i} ${l} L ${s} ${l}`,o=l}})),n},calcVerticalOffset:oSe,decorateDeleteBackward:oEe,decorateExpand:tEe,decorateShiftTab:rEe,decorateSplitBlock:nEe,decorateSubClass:QSe,decorateTab:iEe,default:gEe,getIconSize:cSe,getTargetLayout:sSe,getTargetStyle:lSe,group:aEe,isToggleListSelection:function(e,t){const n=e.editor;let o=n.selection;if(void 0===o)return!1;if(!Uxe(o))return!1;const i=o.focus.path,r=Qxe(n.node,i,t);if(void 0===r)return!1;const l=zxe(n.node,r);if(!Yxe(l))return!1;const s=Jxe(n.node,i),c=Vxe(l);return 0===Hxe(s,c)},isToggleNode:rSe,list:vEe,name:Lxe,remarginToggleList:lEe,setToggleList:eEe});const{getEditNodeByPath:yEe,getEditNodeOffsets:bEe,getNodeLength:CEe,getPathFromKey:wEe,isEditNode:xEe,isMetaNode:SEe,sliceBlockPath:EEe,transformEditNodeToNode:kEe,isCollapsed:DEe,isLonelyNode:IEe,isBlockNode:NEe,traverseNode:LEe}=hk,{getKeyByIndex:TEe,getRowSize:BEe,calcIndicatorRangeStyle:AEe,interateIndicatorRange:MEe,interateCellByRowIndex:OEe,interateCellByColumnIndex:REe,calcIndicatorRangeByMerge:PEe,calcMergeByIndicatorRange:FEe,getIndexByKey:HEe,getColumnSize:_Ee}=UL;function jEe(e,t){const{scrollTop:n,node:o,clientHeight:i}=e.editor,r=EEe(o,wEe(t)),l=yEe(o,r);if(!xEe(l)||void 0===l.position)return{top:0};return{top:-(Qc(bEe(o,r))-n-i)}}function WEe(e,t,n){var o,i,r,l,s,c;const{root:a,style:u,editor:d}=t,f=vse(d)(ds(e.value)),h=n.infocus,p=h?f.indicatorRange:void 0,v=h?f.selectedCoordinates:void 0;let g=0,m=null!==(o=f.rowTotalNumber)&&void 0!==o?o:0,y=null!==(i=f.rowStartDiff)&&void 0!==i?i:0;if(a){const{scrollTop:t,node:n,scrollOffset:o,clientHeight:i,threshold:l=0}=d,s=wEe(e.kid),c=EEe(n,s),a=yEe(n,c);if(NEe(a)&&IEe(a)){const u=yEe(n,s);if(Yse(u)&&u.key===e.kid){const e=Qc(bEe(n,c));let s=t-e-((null!==(r=null==o?void 0:o.top)&&void 0!==r?r:0)+l);for(;s>0&&g<f.rowTotalNumber;){const e=BEe(f,g);if(s<e||g>=f.rowTotalNumber)break;s-=e,g++}let u=0;if(a.position){const{bottom:e,top:t}=a.position;u=e-t}let d=e+u-l-t-i;for(;d>0&&m>0;){const e=BEe(f,m-1);if(d<e||m<=0)break;d-=e,m--}}}}const b=null!==(l=ds(f.defaultCell))&&void 0!==l?l:{};(e.style||(null==u?void 0:u.backgroundColor))&&(b.style?b.style=ds(b.style):b.style={},(null==u?void 0:u.backgroundColor)&&!b.style.backgroundColor&&(b.style.backgroundColor=u.backgroundColor),e.style&&Object.assign(b.style,e.style)),y=BEe(f,0,g+1);let C=ds(f.contextMenu);if(null==C||delete C.disableCopy,null==C||delete C.disableCut,void 0===p)C=void 0;else if(h&&v){const{rowIndex:e,columnIndex:t}=v,n=TEe(e,t),o=null===(s=f.cells)||void 0===s?void 0:s[n],i=null===(c=null==o?void 0:o.state)||void 0===c?void 0:c.editor.selection;i&&DEe(i)&&(C=null!=C?C:{},C.disableCopy=!0,C.disableCut=!0)}return{...f,rowStartIndex:g,rowEndIndex:m,rowStartDiff:y,defaultCell:b,indicatorRange:p,contextMenu:C,selectedCoordinates:v}}function zEe(e){return Fc(kEe(e.node),kEe(fce().editor.node))}function VEe(e){return{position:"relative",left:-e/2}}function $Ee(e){var t,n,o,i,r,l,s;const c=null==e?void 0:e.selectedCoordinates;if(void 0===c)return;const{rowIndex:a,columnIndex:u}=c;return{...null===(t=null==e?void 0:e.defaultCell)||void 0===t?void 0:t.style,...null===(o=null===(n=null==e?void 0:e.rows)||void 0===n?void 0:n[a])||void 0===o?void 0:o.style,...null===(r=null===(i=null==e?void 0:e.columns)||void 0===i?void 0:i[u])||void 0===r?void 0:r.style,...null===(s=null===(l=null==e?void 0:e.cells)||void 0===l?void 0:l[TEe(a,u)])||void 0===s?void 0:s.style}}function ZEe(e,t){var n;const o=$Ee(e.value);return null!==(n=null==o?void 0:o[t])&&void 0!==n?n:""}function UEe(e,t,n,o){e=ds(e);const{store:i}=t,r=Number(null==o?void 0:o.height),l=Number(null==o?void 0:o.width),s={...e.style};if(o)for(const e in s){const t=o[e];void 0!==t&&(s[e]=t)}let c=e.refresh;Fc(s,e.style)||(c=aRe(!0)),e={...e,style:s,clientHeight:r,clientWidth:l,refresh:c};const a=null==i?void 0:i.reference;return a&&(e.node=fPe(e.node,{reference:a,clone:!0})),e}function qEe(e,t){if(SEe(e)){const n=e.children[0];return t.includes(n.type)}if(xEe(e)&&1===CEe(e)){const n=e.children[0];if(xEe(n))return qEe(n,t)}return!1}function YEe(e,t,n){const o=t.indicatorRange;if(void 0===o)return e;const i=AEe(t,o,n);let r=ds(e.editor);return r={...r,selectionStyle:i,selectionDecorate:void 0},{...e,editor:r}}function KEe(e,t){LEe(e,((e,n)=>{var o,i,r,l,s;if(Yse(e)){const n=null===(o=e.props)||void 0===o?void 0:o.value;if(!n)return;t(n);const r=n.cells;if(!r)return;for(const e in r){const n=null===(i=r[e].state)||void 0===i?void 0:i.editor;if(!n)continue;KEe(n.node,t)}}(rSe(e)||Rve(e))&&!1===(null===(r=e.props)||void 0===r?void 0:r.expand)&&(null===(s=null===(l=e.props)||void 0===l?void 0:l.list)||void 0===s||s.forEach((e=>{KEe(e,t)})))}))}function GEe(e){const{indicatorRange:t,selectedCoordinates:n}=e;if(void 0===t)return;const o={indicatorRange:t,selectedCoordinates:n},i=(t,n=!0)=>{var i;const s=null===(i=e.rows)||void 0===i?void 0:i[t];void 0!==s&&(void 0===o.rows&&(o.rows={}),o.rows[t]=s,n&&e.cells&&OEe(e.cells,t,(e=>{l(t,e,!1),r(e,!1)})))},r=(t,n=!0)=>{var r;const s=null===(r=e.columns)||void 0===r?void 0:r[t];void 0!==s&&(void 0===o.columns&&(o.columns={}),o.columns[t]=s,n&&e.cells&&REe(e.cells,t,(e=>{l(e,t,!1),i(e,!1)})))},l=(t,n,l=!0)=>{var s;const c=TEe(t,n),a=null===(s=e.cells)||void 0===s?void 0:s[c];void 0!==a&&(void 0===o.cells&&(o.cells={}),o.cells[c]=a,l&&(i(t,!1),r(n,!1)))};return MEe(t,{row:i,column:r,cell:l,infinite(){Object.assign(o,e)}}),t.columnEndIndex===1/0&&(o.clientWidth=e.clientWidth,o.scrollWidth=e.scrollWidth,o.scrollLeft=e.scrollLeft,o.columnTotalNumber=e.columnTotalNumber,o.columnDefaultSize=e.columnDefaultSize,o.columnEndDiff=e.columnEndDiff,o.columnEndIndex=e.columnEndIndex,o.columnStartDiff=e.columnStartDiff,o.columnStartIndex=e.columnStartIndex),t.rowEndIndex===1/0&&(o.clientHeight=e.clientHeight,o.scrollHeight=e.scrollHeight,o.scrollTop=e.scrollTop,o.rowTotalNumber=e.rowTotalNumber,o.rowDefaultSize=e.rowDefaultSize,o.rowEndDiff=e.rowEndDiff,o.rowEndIndex=e.rowEndIndex,o.rowStartDiff=e.rowStartDiff,o.rowStartIndex=e.rowStartIndex),o}function XEe(e,t,n){var o,i,r,l,s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x;let{rowStartIndex:S=0,rowEndIndex:E=1,columnStartIndex:k=0,columnEndIndex:D=1}=null!==(o=e.indicatorRange)&&void 0!==o?o:{};null===E&&(E=1/0),null===D&&(D=1/0),e.selectedCoordinates&&e.selectedCoordinates;const I=null!==(i=e.rowDefaultSize)&&void 0!==i?i:$se,N=null!==(r=e.columnDefaultSize)&&void 0!==r?r:Zse;let L=0;if(D!==1/0)for(let t=k;t<D;t++){const n=null!==(a=null===(c=null===(s=null===(l=e.columns)||void 0===l?void 0:l[t])||void 0===s?void 0:s.style)||void 0===c?void 0:c.width)&&void 0!==a?a:N;L+=parseFloat(String(n))}else L=null!==(u=e.scrollWidth)&&void 0!==u?u:t.clientWidth;let T=0;if(E!==1/0)for(let t=S;t<E;t++){const n=null!==(p=null===(h=null===(f=null===(d=e.rows)||void 0===d?void 0:d[t])||void 0===f?void 0:f.style)||void 0===h?void 0:h.height)&&void 0!==p?p:I;T+=parseFloat(String(n))}else T=null!==(v=e.scrollHeight)&&void 0!==v?v:I;let B=0;B=D!==1/0?L:null!==(g=e.clientWidth)&&void 0!==g?g:t.clientWidth,B>t.clientWidth&&(B=t.clientWidth);const A=null!==(y=null===(m=t.selection)||void 0===m?void 0:m.focus.path)&&void 0!==y?y:[0];if(A){const e=IFe(t,EEe(t.data,A));B>e&&(B=e)}let M=0;M=E!==1/0?T:null!==(b=e.clientHeight)&&void 0!==b?b:t.clientHeight,M>t.clientHeight&&(M=t.clientHeight);let O=E-S;O===1/0&&(O=null!==(C=e.rowTotalNumber)&&void 0!==C?C:0);let R=D-k;R===1/0&&(R=null!==(w=e.columnTotalNumber)&&void 0!==w?w:0);const P=pce(O,R,{clientWidth:B,rowDefaultSize:I,columnDefaultSize:N});if(P.clientHeight=M,P.clientWidth=B,P.scrollHeight=T,P.scrollWidth=L,e.cells){const t={};for(const o in e.cells){const i=e.cells[o],r=null===(x=i.state)||void 0===x?void 0:x.editor;if(r&&r.clientWidth>B&&(r.clientWidth=B),r&&(null==n||n(r)),i.merge){const e=PEe(i.merge),t=FEe({rowStartIndex:e.rowStartIndex-S,rowEndIndex:e.rowEndIndex-S,columnStartIndex:e.columnStartIndex-k,columnEndIndex:e.columnEndIndex-k});i.merge=t}const{rowIndex:l,columnIndex:s}=HEe(o);t[TEe(l-S,s-k)]=i}delete e.cells,P.cells=t}if(e.rows){const t={};for(const n in e.rows){const o=e.rows[n];if(o.merge){const e=PEe(o.merge),t=FEe({rowStartIndex:e.rowStartIndex-S,rowEndIndex:e.rowEndIndex-S,columnStartIndex:e.columnStartIndex-k,columnEndIndex:e.columnEndIndex-k});o.merge=t}t[parseFloat(n)-S]=o}delete e.rows,P.rows=t}if(e.columns){const t={};for(const n in e.columns){const o=e.columns[n];if(o.merge){const e=PEe(o.merge),t=FEe({rowStartIndex:e.rowStartIndex-S,rowEndIndex:e.rowEndIndex-S,columnStartIndex:e.columnStartIndex-k,columnEndIndex:e.columnEndIndex-k});o.merge=t}t[parseFloat(n)-k]=o}delete e.columns,P.columns=t}return delete e.indicatorRange,delete e.selectedCoordinates,Object.assign(P,e),E!==1/0&&(P.rowStartDiff=BEe(P,P.rowStartIndex)),D!==1/0&&(P.columnStartDiff=_Ee(P,P.columnStartIndex)),P}const{startVibration:JEe}=d2;async function QEe(e,t="copy"){const n=GEe(e);if(Pc(n))return;const o={command:T$.PASTE_SHEET,data:{sheet:n}},i=`<slinote payload="${encodeURIComponent(JSON.stringify(o))}"></slinote><div></div>`;if(rh){let e="";"copy"===t?e+="":"cut"===t&&(e+="");p_({"text/plain":"","text/html":i},(n=>{n&&(e=""),JEe(),l_({message:e}),"cut"===t&&f_()}))}else try{const e=new Blob(["todo"],{type:"text/plain"}),t=new Blob([i],{type:"text/html"}),n=new ClipboardItem({[e.type]:e,[t.type]:t});await navigator.clipboard.write([n])}catch(e){}}const{getKeyByIndex:eke,calcSelectedCoordinatesWithMerge:tke}=UL,{isEmptyNode:nke}=hk;function oke(e){var t,n;const{selectedCoordinates:o}=e;if(void 0===o)return!1;const{rowIndex:i,columnIndex:r}=o,l=eke(i,r),s=null===(t=null==e?void 0:e.cells)||void 0===t?void 0:t[l],c=null===(n=null==s?void 0:s.state)||void 0===n?void 0:n.editor;if(void 0===c)return!1;return void 0!==c.selection&&!nke(c.node,!0)}function ike(e){const{indicatorRange:t,selectedCoordinates:n}=e;return!!n&&Fc(t,tke(e,n))}const{createBlockNode:rke,createInlineNode:lke,getEditNodeByPath:ske,getEditNodeEndPath:cke,getNodeLength:ake,initNodeKey:uke,isBlockNodeX:dke,removeBoxSizeStyle:fke}=hk,{calcIndicatorRangeByMerge:hke,calcMergeByIndicatorRange:pke,getColumnSize:vke,getIndexByKey:gke,getKeyByIndex:mke,getRowSize:yke}=UL;async function bke(e,t,n,o,i){var r;const l=e.stater.get();if(void 0!==(null===(r=l.file)||void 0===r?void 0:r.currentPageId)){if(rh)return t(t9(!0)),void v_(((e,n)=>{t(t9(!1)),n["text/html"]&&s(n["text/html"])}));try{const e=await navigator.clipboard.read(),t="text/html";for(const n of e)if(n.types.includes(t)){const e=await n.getType(t);s(await e.text())}}catch(e){console.error(e)}}async function s(e){const r=Fze(e,{image:[]});if(null===r)return;const{node:s,sheet:c}=r.data;r.command===T$.PASTE_LINK||r.command===T$.PASTE_BACK?Cke(rke([s]),l,t,n,o,i):r.command===T$.PASTE_SHEET?function(e,t,n,o,i){var r,l;const s=null===(r=t.file)||void 0===r?void 0:r.currentPageId;if(void 0===s)return;if(void 0===o.indicatorRange)return;if(void 0===e.indicatorRange)return;const c=[],a=[],u=e=>{c.push(e)},d=e=>{a.push(e)},f=o.indicatorRange.rowStartIndex-e.indicatorRange.rowStartIndex,h=o.indicatorRange.columnStartIndex-e.indicatorRange.columnStartIndex;if(e.cells){const t={};for(const n in e.cells){const o=e.cells[n],i=null===(l=o.state)||void 0===l?void 0:l.editor;if(i&&X6(i.node,[],s,u,d,!0,!1),o.merge){const e=hke(o.merge),t=pke({rowStartIndex:e.rowStartIndex+f,rowEndIndex:e.rowEndIndex+f,columnStartIndex:e.columnStartIndex+h,columnEndIndex:e.columnEndIndex+h});o.merge=t}const{rowIndex:r,columnIndex:c}=gke(n);t[mke(r+f,c+h)]=o}e.cells=t}if(e.rows){const t={};for(const n in e.rows){const o=e.rows[n];if(o.merge){const e=hke(o.merge),t=pke({rowStartIndex:e.rowStartIndex+f,rowEndIndex:e.rowEndIndex+f,columnStartIndex:e.columnStartIndex+h,columnEndIndex:e.columnEndIndex+h});o.merge=t}const{rowIndex:i}=gke(n);t[i+f]=o}e.rows=t}if(e.columns){const t={};for(const n in e.columns){const o=e.columns[n];if(o.merge){const e=hke(o.merge),t=pke({rowStartIndex:e.rowStartIndex+f,rowEndIndex:e.rowEndIndex+f,columnStartIndex:e.columnStartIndex+h,columnEndIndex:e.columnEndIndex+h});o.merge=t}const{columnIndex:i}=gke(n);t[i+h]=o}e.columns=t}i(Ud(nse(e))(o));const p=[...c,...a];p.length&&(p.push(k7(s)),n(...p))}(c,l,t,o,i):r.command===T$.PASTE_NODE&&Cke(s,l,t,n,o,i)}}function Cke(e,t,n,o,i,r){var l;const s=null===(l=t.file)||void 0===l?void 0:l.currentPageId;if(void 0===s)return;const{selectedCoordinates:c}=i;if(void 0===c)return;for(;dke(e)&&e.children.length<=1;){const t=e.children[0];Cc(t)?e=lke([t],e.style):(e.style&&(t.style={...fke(e.style),...t.style}),e=t)}const a=[],u=[];X6(e,[],s,(e=>{a.push(e)}),(e=>{u.push(e)}),!0,!1);const{rowIndex:d,columnIndex:f}=c,h=yke(i,d),p=vke(i,f),v=fce();v.editor.node=uke(rke([rke([e])],dce())),v.editor.scrollHeight=h,v.editor.contentHeight=h,v.editor.clientHeight=h,v.editor.clientWidth=p;const g=v.editor.node,m=cke(g),y=ske(g,m),b=v.editor.selection;null!==y&&b&&(b.anchor.offset=ake(y),b.focus.offset=ake(y),b.anchor.path=[...m],b.focus.path=[...m]),r(Ud(ose(d,f,v),ise(d,f,{alignItems:"center"}))(i));const C=[...a,...u];C.length&&(C.push(k7(s)),n(...C))}const wke=()=>e=>(e.refersh=aRe(!0),e),{clearSelection:xke,selectionEditNodeEnd:Ske,selectionEditNodeStart:Eke,transformEditNodeToNode:kke,setSelectionReflow:Dke}=hk,{calcIndicatorRangeByMerge:Ike,deleteCellProp:Nke,deleteCellStyle:Lke,existCellState:Tke,existCellStyle:Bke,getCellSize:Ake,getIndexByKey:Mke,getKeyByIndex:Oke,interateIndicatorRange:Rke}=UL,Pke=e=>t=>{var n,o;const{selectedCoordinates:i,indicatorRange:r,cells:l}=t;if(void 0===i||void 0===r)return t;if(void 0===e){const{rowIndex:t,columnIndex:n}=i;e=Oke(t,n)}const{rowIndex:s,columnIndex:c}=Mke(e);if(l){const o=fce().editor.node;for(const i in l){const r=null===(n=l[i].state)||void 0===n?void 0:n.editor;if(r)if(i!==e)if(Fc(kke(r.node),kke(o))){const{rowIndex:e,columnIndex:n}=Mke(i);t=Nke(e,n,"state")(t),t=Lke(e,n,"height")(t)}else r.selection&&xke()(r);else r.selection?Dke(!0)(r):Ske()(r),r.refresh=aRe(!0)}}if(!(null===(o=null==l?void 0:l[e])||void 0===o?void 0:o.state)){const{rowDefaultSize:e}=t,{width:n,height:o}=Ake(t,s,c),i=fce();i.editor.scrollHeight=o,i.editor.clientHeight=o,i.editor.clientWidth=n,i.editor.contentHeight=e,i.editor.refresh=aRe(!0),t=Tke(s,c,i)(t),t=Bke(s,c,{alignItems:"center"})(t)}return t},Fke=e=>e=>{var t,n,o;const{selectedCoordinates:i}=e;if(!i)return e;const{rowIndex:r,columnIndex:l}=i,s=Oke(r,l),c=null===(o=null===(n=null===(t=(e=Pke()(e)).cells)||void 0===t?void 0:t[s])||void 0===n?void 0:n.state)||void 0===o?void 0:o.editor;return c?(Ske()(c),c.refresh=aRe(!0),e):e},Hke=e=>e=>{var t,n,o;const{selectedCoordinates:i}=e;if(!i)return e;const{rowIndex:r,columnIndex:l}=i,s=Oke(r,l),c=null===(o=null===(n=null===(t=(e=Pke()(e)).cells)||void 0===t?void 0:t[s])||void 0===n?void 0:n.state)||void 0===o?void 0:o.editor;return c?(Eke()(c),c.refresh=aRe(!0),e):e},_ke=e=>t=>{var n,o;const i=BHe(e);if(!nHe(i))return t;const r=i.key;if(!r)return t;const{rowIndex:l,columnIndex:s}=Mke(r);let c={rowStartIndex:l,rowEndIndex:l+1,columnStartIndex:s,columnEndIndex:s+1};const a=null===(o=null===(n=t.cells)||void 0===n?void 0:n[r])||void 0===o?void 0:o.merge;return a&&(c=Ike(a)),t.selectedCoordinates={rowIndex:c.rowStartIndex,columnIndex:c.columnStartIndex},t.indicatorRange=c,t},jke=e=>e=>{var t,n;const{rowStartIndex:o,columnStartIndex:i}=e;let r={rowStartIndex:o,rowEndIndex:o+1,columnStartIndex:i,columnEndIndex:i+1};const l=Oke(r.rowStartIndex,r.columnStartIndex),s=null===(n=null===(t=e.cells)||void 0===t?void 0:t[l])||void 0===n?void 0:n.merge;return s&&(r=Ike(s)),e.selectedCoordinates={rowIndex:r.rowStartIndex,columnIndex:r.columnStartIndex},e.indicatorRange=r,e=Hke()(e)},Wke=e=>e=>{var t,n;const{rowEndIndex:o,columnEndIndex:i}=e;let r={rowStartIndex:o-1,rowEndIndex:o,columnStartIndex:i-1,columnEndIndex:i};const l=Oke(r.rowStartIndex,r.columnStartIndex),s=null===(n=null===(t=e.cells)||void 0===t?void 0:t[l])||void 0===n?void 0:n.merge;return s&&(r=Ike(s)),e.selectedCoordinates={rowIndex:r.rowStartIndex,columnIndex:r.columnStartIndex},e.indicatorRange=r,e=Fke()(e)},zke=()=>e=>{const{indicatorRange:t}=e;return t?(Rke(t,{cell(t,n){var o;const i=Oke(t,n),r=null===(o=e.cells)||void 0===o?void 0:o[i];(null==r?void 0:r.state)&&(r.state.editor.refresh=aRe(!0))}}),e):e},{clearSelection:Vke,setSelectionReflow:$ke,isNode:Zke,sliceMetaNodePath:Uke,getEditNodeByPath:qke,getPrevEditNodePath:Yke,getNextEditNodePath:Kke,isMetaNode:Gke,getNodeLength:Xke}=hk,{calcIndicatorRangeByMerge:Jke,getKeyByIndex:Qke,isMoveBackward:eDe,isMoveDown:tDe,isMoveForward:nDe,isMoveUp:oDe,moveBackward:iDe,moveDown:rDe,moveForward:lDe,moveUp:sDe,setIndicatorRangeStyle:cDe,interateIndicatorRange:aDe}=UL,uDe=(e,t)=>n=>{const{node:o}=n.editor,i=ds(e.editor),r=i.highlights;delete i.highlights,delete i.ureference;const l=FHe(o,t);if(l&&(l.editor=i),n.editor.refresh=aRe(!0),_He(o,t,(e=>{e.editor.refresh=aRe(!0)})),null==r?void 0:r.length){let e=t;iHe(e)&&(e=e.child)}return n},dDe=(e,t)=>n=>{const{node:o}=n.editor,i=PHe(o,t);return Zke(i)&&i.props&&(i.props.value=e),n.editor.refresh=aRe(!0),_He(o,t,(e=>{e.editor.refresh=aRe(!0)})),n},fDe=e=>t=>{const{node:n}=t.editor,o=FHe(n,e);return o&&$ke(!0)(o.editor),o||$ke(!0)(t.editor),t.editor.refresh=aRe(!0),_He(n,e,(e=>{e.editor.refresh=aRe(!0)})),t},hDe=e=>t=>{const{node:n}=t.editor,o=FHe(n,e);return o&&Vke()(o.editor),o||Vke()(t.editor),t.editor.refresh=aRe(!0),_He(n,e,(e=>{e.editor.refresh=aRe(!0)})),t},pDe=(e,t)=>n=>{const{gfocus:o}=n;if(void 0===o)return n;const i=[];i.push(cDe(e),xse(e),zke());const r=HHe((n=CDe(o,i)(n)).editor.node,o);(null==r?void 0:r.indicatorRange)&&aDe(r.indicatorRange,{cell(t,n){var o,i;const l=Qke(t,n),s=null===(o=r.cells)||void 0===o?void 0:o[l],c=null===(i=null==s?void 0:s.state)||void 0===i?void 0:i.editor.node;Zke(c)&&KEe(c,(t=>{var n;t.refresh=aRe(!0);for(const o in t.cells){const i=t.cells[o];i.style?Object.assign(i.style,e):i.style={...e};const r=null===(n=i.state)||void 0===n?void 0:n.editor;r&&(r.style?Object.assign(r.style,e):r.style={...e},r.refresh=aRe(!0))}}))}});const l={...t.editor.style,...e};return n=vDe(l)(n)},vDe=e=>t=>{var n;const{editor:{node:o},gfocus:i}=t;if(void 0===i)return t;const r=HHe(o,i);let l=t.provider;if(Ku(l)&&(l=null!==(n=ed(l))&&void 0!==n?n:l),(null==l?void 0:l.context)&&r&&Fc(l.context.focus,i)){const n=YEe(l.context,r,e);t=p3({...l,context:n})(t)}return t},gDe=e=>t=>{const n=t.editor,o=Uke(n.node,e);return n.selection={anchor:{path:[...o],offset:0},focus:{path:[...o],offset:0}},n.selectionReflow=!0,t},mDe=e=>t=>{const n=t.editor,o=Uke(n.node,e);return n.selection={anchor:{path:[...o],offset:1},focus:{path:[...o],offset:1}},n.selectionReflow=!0,t},yDe=e=>t=>{const{node:n}=t.editor,o=HHe(n,e);if(!(null==o?void 0:o.selectedCoordinates))return t;const{rowIndex:i,columnIndex:r}=o.selectedCoordinates,l=Qke(i,r);return t.gfocus=xHe(e,$Fe(l)),t},bDe=(e,t)=>n=>{var o;const{node:i}=n.editor,r=[],l=FHe(i,e);l&&(r.includes(l.editor)||t.forEach((e=>e(l)))),l||t.forEach((e=>e(n)));let s=e;if(iHe(s)&&(s=null!==(o=s.child)&&void 0!==o?o:null),s){vHe(s)&&(s=kHe(s)),bHe(s)&&(s=MHe(s));oHe(BHe(s))&&(s=EHe(s))}if(s){const e=null==l?void 0:l.editor.highlights;(null==e?void 0:e.length)&&E9(s,e)(n),null==l||delete l.editor.highlights}return n.editor.refresh=aRe(!0),_He(i,e,(e=>{e.editor.refresh=aRe(!0)})),n},CDe=(e,t)=>n=>{const{node:o}=n.editor,i=[],r=BHe(e),l=HHe(o,e);return l&&(i.includes(l)||t.forEach((e=>e(l,r)))),n.editor.refresh=aRe(!0),_He(o,e,(e=>{e.editor.refresh=aRe(!0)})),n},wDe=(e,t)=>n=>{const{node:o}=n.editor,i=[];return _He(o,e,((e,n)=>{i.includes(e.editor)||(t.forEach((t=>t(e,n))),e.editor.refresh=aRe(!0))})),t.forEach((t=>t(n,e))),n.editor.refresh=aRe(!0),n},xDe=(e,t)=>n=>{const{node:o}=n.editor,i=[];return jHe(o,e,((e,n)=>{i.includes(e)||t.forEach((t=>t(e,n)))})),n},SDe=e=>t=>{const n=t.gfocus;return Fc(n,e)||(n&&(t=wDe(n,[])(t)),e&&(t=wDe(e,[])(t))),t};function EDe(e,t,n,o,i){var r;const{selectedCoordinates:l,rowTotalNumber:s,columnTotalNumber:c}=o;if(!l)return;const{rowIndex:a,columnIndex:u}=l;let d={rowStartIndex:a,columnStartIndex:u,rowEndIndex:a+1,columnEndIndex:u+1};const f=Qke(a,u),h=null===(r=o.cells)||void 0===r?void 0:r[f];(null==h?void 0:h.merge)&&(d=Jke(h.merge));const p=[],v=[],g=xHe(t,ZFe(n));if(eDe(e)?0===d.columnStartIndex?p.push(gDe(n)):(v.push(iDe()),v.push(Fke())):nDe(e)?d.columnEndIndex===c?p.push(mDe(n)):(v.push(lDe()),v.push(Hke())):oDe(e)?0===d.rowStartIndex?p.push(gDe(n)):(v.push(sDe()),v.push(Fke())):tDe(e)&&(d.rowEndIndex===s?p.push(mDe(n)):(v.push(rDe()),v.push(Hke()))),p.length||v.length){e.stopPropagation();const n=[SDe()];p.length?(n.push(CDe(t,[_ke(t)])),n.push(bDe(t,p)),n.push(o4(t))):v.length&&(n.push(CDe(g,v)),n.push(yDe(g))),n.length&&requestAnimationFrame((()=>{i(...n)}))}}function kDe(e,t,n,o,i){const r=[];let{path:l,offset:s}=n;if(eDe(e)){let e=qke(o,l);if(s>0)return;if(!(Gke(e)&&Yse(e.children[0])&&1===s||(l=Yke(o,l),e=qke(o,l),Gke(e)&&Yse(e.children[0]))))return;xHe(t,ZFe([...l,0])),r.push(Wke())}else if(nDe(e)){let e=qke(o,l);if(s<Xke(e))return;if(!(Gke(e)&&Yse(e.children[0])&&0===s||(l=Kke(o,l),e=qke(o,l),Gke(e)&&Yse(e.children[0]))))return;xHe(t,ZFe([...l,0])),r.push(jke())}if(r.length){e.stopPropagation();const n=xHe(t,ZFe([...l,0])),o=[];o.push(CDe(n,r)),o.push(yDe(n)),requestAnimationFrame((()=>{i(...o)}))}}const{sortSelection:DDe,sliceDecoratePath:IDe,isSelectionTouchBlockNodeStart:NDe,splitBlock:LDe,createMetaNode:TDe,insertNode:BDe,clearSelection:ADe}=hk,MDe=(e,t,n,o)=>i=>{if(void 0===i.selection)return i;const{before:r}=DDe(i.selection),l=IDe(i.node,r.path,rae),s=IDe(i.node,r.path,lae);if(l||s)return i;if(NDe(i.node,i.selection)||(i=LDe()(i)),void 0===i.selection)return i;const{path:c}=i.selection.focus,a=n?{display:"inline-block",lineHeight:1.2}:{},u=IFe(i,c),d=pce(e,t,{clientWidth:u,scrollWidth:u}),f=TDe([uce({value:d,row:e,col:t})],a);return i=BDe(f)(i),null==o||o(i),i};function ODe(e,t){const{modal:n,webdav:o,file:i,editor:{node:r}}=e.stater.get();if((null==n?void 0:n.visible)||(null==o?void 0:o.visible))return;if(gje(i))return;const l=e.provider(),{context:{focus:s}}=l,c=HHe(r,s);if(!c)return;const{indicatorRange:a}=c;if(void 0===a)return;const u=e.sheet.current;if(!u)return;const{props:d,change:f}=u;t(d,c,f)}const{setAxisRow:RDe,setAxisColumn:PDe,insertRow:FDe,insertColumn:HDe,deleteCell:_De,selectAll:jDe,deleteRow:WDe,deleteColumn:zDe,setEditPending:VDe}=UL;function $De(e,t,n){const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),{context:s,imperator:c,rootdispatch:a}=l,{root:u}=s,d=()=>{var e;null===(e=c.current)||void 0===e||e.commit(MDe(t,n,u))};u?g$e(s,e,a,d):d()}function ZDe(e,t=1){ODe(e,((e,n,o)=>{const{rowStartIndex:i}=n.indicatorRange;o(Ud(...[FDe(e,i,t),VDe(!0)])(n))}))}function UDe(e,t=1){ODe(e,((e,n,o)=>{const{rowEndIndex:i}=n.indicatorRange;o(Ud(...[FDe(e,i,t),VDe(!0)])(n))}))}function qDe(e,t=1){ODe(e,((e,n,o)=>{const{columnStartIndex:i}=n.indicatorRange;o(Ud(...[HDe(e,i,t),VDe(!0)])(n))}))}function YDe(e,t=1){ODe(e,((e,n,o)=>{const{columnEndIndex:i}=n.indicatorRange;o(Ud(...[HDe(e,i,t),VDe(!0)])(n))}))}function KDe(e){ODe(e,((e,t,n)=>{const{rowStartIndex:o,rowEndIndex:i}=t.indicatorRange;n(Ud(...[WDe(e,o,i),VDe(!0)])(t))}))}function GDe(e){ODe(e,((e,t,n)=>{const{columnStartIndex:o,columnEndIndex:i}=t.indicatorRange;n(Ud(...[zDe(e,o,i),VDe(!0)])(t))}))}function XDe(e){ODe(e,((e,t,n)=>{const{rowStartIndex:o,rowEndIndex:i}=t.indicatorRange;n(Ud(...[RDe(o,i)])(t))}))}function JDe(e){ODe(e,((e,t,n)=>{const{columnStartIndex:o,columnEndIndex:i}=t.indicatorRange;n(Ud(...[PDe(o,i)])(t))}))}function QDe(e){ODe(e,((e,t,n)=>{n(Ud(...[jDe()])(t))}))}function eIe(e){ODe(e,((e,t,n)=>{n(Ud(...[WDe(e,0,1/0),VDe(!0)])(t))}))}function tIe(e){const{context:t,rootdispatch:n}=e.provider();ODe(e,((o,i,r)=>{oke(i)?Fie(e,n):bke(e,n,t,i,r)}))}function nIe(e){const{context:t}=e.provider();ODe(e,((e,n,o)=>{oke(n)?Oze(t.editor,"cut"):QEe(n,"cut");const i=n.indicatorRange;o(Ud(...[_De(e,i),VDe(!0)])(n))}))}function oIe(e){const{context:t}=e.provider();ODe(e,((e,n,o)=>{oke(n)?Oze(t.editor,"copy"):QEe(n,"copy")}))}const iIe={sheet:"sheet"},rIe={cn:{[iIe.sheet]:""},en:{[iIe.sheet]:"Sheet"}};function lIe(e){return G(J_,{...e,children:G(BR,{width:12})})}const sIe=U(null),cIe=U(null),aIe=U(null),uIe=U(null),dIe=U(null),fIe=U(null),hIe=U(null),pIe=U(null);const{interateIndicatorRange:vIe,setIndicatorRangeStyle:gIe,setStyle:mIe,setEditPending:yIe,interateColumn:bIe,removeStyle:CIe,interateCellByRowIndex:wIe,interateCellByColumnIndex:xIe,removeAvaliableStyle:SIe}=UL,{getEditNodeByPath:EIe,getPathFromKey:kIe}=hk;function DIe(e,t){var n,o;const{modal:i,webdav:r,file:l,gfocus:s,editor:{node:c}}=e.stater.get();if((null==i?void 0:i.visible)||(null==r?void 0:r.visible)||!s)return;if(gje(l))return;const a=e.provider(),u=null===(n=e.sheet.current)||void 0===n?void 0:n.change;if(!u)return;const{rootdispatch:d}=a,f=EHe(s);if(!f)return;const h=PHe(c,f);if(!Yse(h))return;const p=null===(o=h.props)||void 0===o?void 0:o.value;if(!p)return;const v=h.key,{type:g,color:m,style:y,visible:b}=t,C=[yIe(!0)];g&&C.push(IIe(g)),m&&C.push(NIe(m)),y&&C.push(LIe(y)),u(Ud(...C)(p)),d(bDe(f,[e=>{const{editor:{node:t}}=e,n=kIe(v),o=EIe(t,n);return Yse(o)&&o.props&&void 0!==b&&(o.props.border=b),e}]))}const IIe=e=>t=>{if(void 0===t.indicatorRange)return t;const{rowStartIndex:n,rowEndIndex:o,columnStartIndex:i,columnEndIndex:r}=t.indicatorRange,l={borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0};return vIe(t.indicatorRange,{row(i){const r={...l},s={};FV(e,{all(){Object.assign(r,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1})},outline(){i===n&&Object.assign(r,{borderTopWidth:1}),i===o-1&&Object.assign(r,{borderBottomWidth:1})},inside(){Object.assign(r,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1}),i===n?Object.assign(r,{borderTopWidth:0}):i===o-1&&Object.assign(r,{borderBottomWidth:0})},top(){i===n&&Object.assign(r,{borderTopWidth:1})},bottom(){i===o-1&&Object.assign(r,{borderBottomWidth:1})},none(){s.borderColor="none"}}),t.columns&&bIe(t.columns,(e=>{t=CIe(i,e,r)(t)})),t.cells&&wIe(t.cells,i,(e=>{t=CIe(i,e,r)(t)})),t=mIe(i,1/0,r)(t),t=CIe(i,1/0,s)(t)},column(n){const o={...l},s={};FV(e,{all(){Object.assign(o,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1})},outline(){n===i&&Object.assign(o,{borderLeftWidth:1}),n===r-1&&Object.assign(o,{borderRightWidth:1})},inside(){Object.assign(o,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1}),n===i&&Object.assign(o,{borderLeftWidth:0}),n===r-1&&Object.assign(o,{borderRightWidth:0})},left(){n===i&&Object.assign(o,{borderLeftWidth:1})},right(){n===r-1&&Object.assign(o,{borderLeftWidth:1})},none(){s.borderColor="none"}}),t.rows&&bIe(t.rows,(e=>{t=CIe(e,n,o)(t)})),t.cells&&xIe(t.cells,n,(e=>{t=CIe(e,n,o)(t)})),t=mIe(1/0,n,o)(t),t=CIe(1/0,n,s)(t)},cell(s,c){const a={...l},u={};FV(e,{all(){Object.assign(a,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1})},outline(){s===n&&Object.assign(a,{borderTopWidth:1}),s===o-1&&Object.assign(a,{borderBottomWidth:1}),c===i&&Object.assign(a,{borderLeftWidth:1}),c===r-1&&Object.assign(a,{borderRightWidth:1})},inside(){Object.assign(a,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1}),s===n&&Object.assign(a,{borderTopWidth:0}),s===o-1&&Object.assign(a,{borderBottomWidth:0}),c===i&&Object.assign(a,{borderLeftWidth:0}),c===r-1&&Object.assign(a,{borderRightWidth:0})},left(){c===i&&Object.assign(a,{borderLeftWidth:1})},right(){c===r-1&&Object.assign(a,{borderRightWidth:1})},top(){s===n&&Object.assign(a,{borderTopWidth:1})},bottom(){s===o-1&&Object.assign(a,{borderBottomWidth:1})},none(){u.borderColor="none"}}),t=mIe(s,c,a)(t),t=CIe(s,c,u)(t)},infinite(){const n={...l},o={};FV(e,{all(){Object.assign(n,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1})},inside(){Object.assign(n,{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1})},none(){o.borderColor="none"}}),t=SIe(n)(t),t=mIe(1/0,1/0,n)(t),t=CIe(1/0,1/0,o)(t)}}),t},NIe=e=>t=>gIe({borderColor:e})(t),LIe=e=>t=>gIe({borderStyle:e})(t);var TIe={...KV,outer:function({children:e,...t}){const{name:n}=t,o=R(sIe);return G(_V,{...t,onClick:e=>{o(Dle(n,!0))}})},inner:function(e){const t=R(jU),n=R(cIe),{border:o}=n;return G(qV,{...e,value:{...e.value,visible:!1!==o},onChange:e=>{DIe(t,e)}})}},BIe=Object.freeze({__proto__:null,default:TIe,setBorder:DIe,setBorderColor:NIe,setBorderStyle:LIe,setBorderType:IIe});const{setIndicatorRangeStyle:AIe,setEditPending:MIe}=UL;function OIe(e,t){var n;const{modal:o,webdav:i,file:r,gfocus:l,editor:{node:s}}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible)||!l)return;if(gje(r))return;const c=null===(n=e.sheet.current)||void 0===n?void 0:n.change;if(!c)return;const a=HHe(s,l);if(!a)return;c(Ud(...[AIe({backgroundColor:t}),gse(),MIe(!0)])(a))}const{getPathFromKey:RIe}=hk;var PIe={...gz,inner:function(e){const t=R(jU),n=R(cIe),o=R(ZU);return G(pz,{...e,value:ZEe(n,"backgroundColor"),onMore:()=>{const{value:e,kid:i}=n;if(void 0===e)return;const r=t.provider(),{rootdispatch:l}=r,s=xHe(o.focus,ZFe(RIe(i))),c=Ud(use())(e);l(dDe(c,s))},onChange:e=>{OIe(t,e)}})},outer:function(e){const{name:t}=e,n=R(cIe),o=R(sIe),i=ZEe(n,"backgroundColor");return G(hz,{...e,onClick:e=>{o(Dle(t,!0))},value:i})}},FIe=Object.freeze({__proto__:null,default:PIe,setStyle:OIe});const{removeCellMerge:HIe,setCellMerge:_Ie,setEditPending:jIe,singleIndicatorRange:WIe,calcIndicatorRangeMerge:zIe}=UL;function VIe(e){var t;const{modal:n,webdav:o,file:i,gfocus:r,editor:{node:l}}=e.stater.get();if((null==n?void 0:n.visible)||(null==o?void 0:o.visible)||!r)return;if(gje(i))return;const s=null===(t=e.sheet.current)||void 0===t?void 0:t.change;if(!s)return;const c=HHe(l,r);if(!c)return;const{indicatorRange:a}=c;if(!a||WIe(a))return;const u=[gse(),jIe(!0)];!!zIe(c,a)?u.unshift(HIe(a)):u.unshift(_Ie(a)),s(Ud(...u)(c))}var $Ie={...o$,outer:function(e){const t=R(jU);return G(t$,{...e,onClick:nc((e=>{VIe(t)}))})}},ZIe=Object.freeze({__proto__:null,default:$Ie,setMerge:VIe});const UIe={backgroundColor:Af,padding:"10px 12px",borderRadius:4};async function qIe(e,t){var n;const{modal:o,webdav:i,file:r,gfocus:l,editor:{node:s}}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible)||!l)return;if(gje(r))return;if(!(null===(n=e.sheet.current)||void 0===n?void 0:n.change))return;const c=HHe(s,l);if(!c)return;const a=e.dispatch,{context:{editor:u}}=e.provider(),d=Oj[t][Mj.unicode],f=ps(GEe(c));if(!f)return;const h=XEe(f,u),p=xze(),v=await Xoe(h,p),g={visible:!0,title:d,okText:"",autoSize:!0,showCancel:!1,content:G("div",{style:UIe,children:G("pre",{children:G("code",{children:v})})}),onOk(e){const t=new Blob([v],{type:"text/plain"}),n=new ClipboardItem({[t.type]:t});navigator.clipboard.write([n]),a(tre({...g,visible:!1}))}};a(tre(g))}var YIe={...Fj,outer:function(e){const t=R(jU),n=nc((n=>{qIe(t,e.lang)}));return G(Pj,{...e,onClick:n})}},KIe=Object.freeze({__proto__:null,default:YIe,getUnicode:qIe});const GIe={top:"flex-start",middle:"center",bottom:"flex-end"},XIe=Dc(GIe);const{setIndicatorRangeStyle:JIe,setEditPending:QIe}=UL;function eNe(e,t){var n;const{modal:o,webdav:i,file:r,gfocus:l,editor:{node:s}}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible)||!l)return;if(gje(r))return;const c=null===(n=e.sheet.current)||void 0===n?void 0:n.change;if(!c)return;const a=HHe(s,l);if(!a)return;c(Ud(...[JIe({alignItems:GIe[null!=t?t:"middle"]}),gse(),QIe(!0)])(a))}var tNe={...u$,inner:function(e){const t=R(jU);return G(a$,{...e,onChange:e=>{eNe(t,e)}})},outer:function(e){const{name:t}=e,n=R(cIe),o=R(sIe),i=ZEe(n,"alignItems");return G(s$,{...e,onClick:()=>{o(Dle(t,!0))},value:XIe[i]})}},nNe=Object.freeze({__proto__:null,default:tNe,setStyle:eNe});const oNe=[[PIe,TIe,tNe,$Ie,YIe]],{calcIndicatorRangeMerge:iNe,singleIndicatorRange:rNe}=UL;function lNe(e){var t;const{lang:n}=R(OU),o=R(sIe),i=null===(t=e.value)||void 0===t?void 0:t.indicatorRange,r=e.tools.map((t=>t.map((t=>t.name===$Ie.name&&e.value?{...t,disable:rNe(i),active:!!iNe(e.value,i)}:t))));return G("div",{style:{...mle,...e.style},children:G(Dh,{style:yle,onClick:e=>{o(Ile())},children:G(d$,{lang:n,tools:r,tipsDirection:"top"})})})}const{clearSelection:sNe,getEditNodeByPath:cNe,getPathFromKey:aNe,reflowEditNodeByPath:uNe}=hk;function dNe(e){var t,n,o;const i=R(RU),r=R(ZU),l={infocus:!1,focusing:!1,inroute:!1},s=i.gfocus;if(!s)return l;const{node:c}=r.editor,a=aNe(null!=e?e:""),u=ZFe(a),d=SHe(s,xHe(r.focus,u));if((null==d?void 0:d.child)&&(l.inroute=!0),!(null==d?void 0:d.key)||d.child||!nHe(d))return l;l.infocus=!0,l.focusing=!0;const f=cNe(c,a);if(!Yse(f))return l;const h=null===(n=(null===(t=f.props)||void 0===t?void 0:t.value).cells)||void 0===n?void 0:n[d.key];return(null==h?void 0:h.state)?((null===(o=h.state)||void 0===o?void 0:o.editor.selection)&&(l.focusing=!1),l):l}function fNe(e){const t=_d(e),n=_d(R(RU)),o=_d(R(ZU)),i=R(PU);return _((e=>{const{gfocus:r}=n.current,{focus:l}=o.current,{kid:s,value:c}=t.current;if(!c||!r||!pHe(r,l))return;EDe(e,l,aNe(s),c,i)}),[n,t,o,i])}function hNe(e){return{tools:oNe.map((e=>e.map((e=>({active:!1,...e})))))}}function pNe(){return{refersh:aRe(!0)}}const{getPathFromKey:vNe}=hk,{calcIndicatorRangeByMerge:gNe,getKeyByIndex:mNe}=UL,{startVibrationDebounce:yNe}=d2;function bNe(e){return G(Kf?wNe:CNe,{...e})}function CNe(e){var t,n,o,i;const r=R(jU),l=_d(e),s=_d(R(RU)),c=R(PU),a=_d(R(ZU)),u=R(cIe),d=_d(u),{scroller:f,selecter:h}=R(UU),p=R(dIe),v=R(uIe),g=R(qU),m=Z(null),[y,b]=qd((()=>pNe())),{rowIndex:C,columnIndex:w}=e,x=mNe(C,w),S=null===(n=null===(t=u.value)||void 0===t?void 0:t.cells)||void 0===n?void 0:n[x],E=null===(o=S.state)||void 0===o?void 0:o.editor.refresh;if((null===(i=m.current)||void 0===i?void 0:i.editor.refresh)!==E&&m.current&&S.state&&v.current!==x){if(Object.assign(m.current,S.state),e.style){const t=m.current.editor.style;Object.assign(t,NPe(e.style))}if(S.style){const e=m.current.editor.style;Object.assign(e,NPe(S.style))}}return W((()=>{if(!(null==S?void 0:S.state))return null;const e=l.current,{editable:t,kid:n=""}=d.current,{lang:o,focus:i}=a.current,u=xHe(i,ZFe(vNe(n)),$Fe(x)),p=(...e)=>{var t,n;if(!m.current)return;const o=d.current.value;if(!o)return;const l=m.current;if(!b$e(l)&&!r.stater.static())return void requestAnimationFrame((()=>{r.stater.refresh(),b(wke()),m.current&&(m.current.editor.refresh=aRe(!0))}));const a=Ud(...e,Wse(),zse())(l);if(a===l)return;const{contentHeight:f,ureference:h,isSelectPending:p,isEditPending:v,resizeWidth:y,composing:x}=a.editor,{gfocus:E}=s.current;if(!E)return;const k=Qse(o,C,w),D=f!==k,I=pHe(E,u);if(!(I||D||v||p))return;m.current=a,delete m.current.editor.isSelectPending,b(wke());let N=!1;(v||y)&&(N=!0),x&&(N=!1);const L=l.editor.ureference;if(p)return void requestAnimationFrame((()=>{c(uDe(ds(m.current),u),y9(L,h),P9(L,h))}));const T=[],B=null===(t=s.current.file)||void 0===t?void 0:t.currentPageId;if(N||D){if(T.push(uDe(ds(m.current),u)),N&&vHe(i)&&T.push(b9("updated")),f!==k){const e=f-k,t=ece(o,C,w);let i=!1;if(S.merge){const{rowStartIndex:e,rowEndIndex:t}=gNe(S.merge);t-e>1&&(i=!0)}if(!i&&(f>t||k>t)){const t=[];t.push(rse(e)),t.push(sse()),T.push(xDe(u,t));const o=EHe(u);if(o){const t=[];t.push(jse(e)),T.push(wDe(o,t))}const i=null===(n=u.child)||void 0===n?void 0:n.path;i&&T.push(_se(i))}else{const e=[];e.push(lse(C,w,f)),T.push(CDe(u,e))}}(L||h)&&B&&T.push(y9(L,h),P9(L,h)),T.push(Dq(B,N),g4()),N&&g(c)}T.length&&(N||D||I?c(...T):requestAnimationFrame((()=>{c(...T)})))};if(null===m.current){const n=oce(S.state.editor,e.style);m.current={...S.state,focus:u,virtual:!1,contextmenu:!1,scrollPropagation:!0,isRightClickFocused:!1,style:e.style,scroller:f,selecter:h,editor:n,lang:o,editable:t,dispatch:p}}else m.current.focus=u,m.current.editable=t,delete m.current.editor.highlights,delete m.current.editor.isScrolling;return G("div",{style:{...e.style,...kle},children:G("div",{style:{width:"100%"},onPointerDown:()=>{v.current=x;const{gfocus:e,store:t,editor:{uids:n}}=s.current;e&&n&&!Fc(e,u)&&requestAnimationFrame((()=>{if(!m.current)return;const e=g9(null==t?void 0:t.reference)(m.current);Object.assign(m.current,e),b(wke()),c(uDe(ds(m.current),u))}))},onPointerUp:()=>{requestAnimationFrame((()=>{v.current=""}))},children:G(YK,{...m.current})})})}),[y.refersh,E,p.infocus])}function wNe(e){var t,n,o,i;const r=R(jU),l=_d(e),s=_d(R(RU)),c=R(PU),a=_d(R(ZU)),u=R(cIe),d=_d(u),{scroller:f,selecter:h}=R(UU),p=R(dIe),v=R(qU),g=Z(null),[m,y]=qd((()=>pNe())),{rowIndex:b,columnIndex:C}=e,w=mNe(b,C),x=null===(n=null===(t=u.value)||void 0===t?void 0:t.cells)||void 0===n?void 0:n[w],S=null===(o=x.state)||void 0===o?void 0:o.editor.refresh;if((null===(i=g.current)||void 0===i?void 0:i.editor.refresh)!==S&&g.current&&x.state){if(Object.assign(g.current,x.state),e.style){const t=g.current.editor.style;Object.assign(t,NPe(e.style))}if(x.style){const e=g.current.editor.style;Object.assign(e,NPe(x.style))}}return W((()=>{if(!(null==x?void 0:x.state))return null;const e=l.current,{editable:t,kid:n=""}=d.current,{lang:o,focus:i}=a.current,u=xHe(i,ZFe(vNe(n)),$Fe(w)),p=(...e)=>{var t,n;if(!g.current)return;const o=d.current.value;if(!o)return;const l=g.current;if(!b$e(l)&&!r.stater.static())return void requestAnimationFrame((()=>{r.stater.refresh(),y(wke()),g.current&&(g.current.editor.refresh=aRe(!0))}));const a=Ud(...e,Wse(),zse())(l);if(a===l)return;const{contentHeight:f,ureference:h,isSelectPending:p,isEditPending:m,resizeWidth:w,detect:S}=a.editor;S.flag,hk.DetectFlag.STATIC;const{gfocus:E}=s.current;if(!E)return;const k=Qse(o,b,C),D=f!==k,I=pHe(E,u);if(!(I||D||m||p))return;g.current=a,delete g.current.editor.isSelectPending,y(wke());let N=!1;(m||w)&&(N=!0);const L=l.editor.ureference;if(p)return void requestAnimationFrame((()=>{c(uDe(ds(g.current),u),y9(L,h),P9(L,h))}));const T=[],B=null===(t=s.current.file)||void 0===t?void 0:t.currentPageId;if(N||D){if(T.push(uDe(ds(g.current),u)),N&&vHe(i)&&T.push(b9("updated")),f!==k){const e=f-k,t=ece(o,b,C);let i=!1;if(x.merge){const{rowStartIndex:e,rowEndIndex:t}=gNe(x.merge);t-e>1&&(i=!0)}if(!i&&(f>t||k>t)){const t=[];t.push(rse(e)),t.push(sse()),T.push(xDe(u,t));const o=EHe(u);if(o){const t=[];t.push(jse(e)),T.push(wDe(o,t))}const i=null===(n=u.child)||void 0===n?void 0:n.path;i&&T.push(_se(i))}else{const e=[];e.push(lse(b,C,f)),T.push(CDe(u,e))}}(L||h)&&B&&T.push(y9(L,h),P9(L,h)),T.push(Dq(B,N),g4()),N&&v(c)}T.length&&(N||D||I?c(...T):requestAnimationFrame((()=>{c(...T)})))};if(null===g.current){const n=oce(x.state.editor,e.style);g.current={...x.state,focus:u,virtual:!1,contextmenu:!1,scrollPropagation:!0,isRightClickFocused:!1,showExpandSelectionLoupe:!0,style:e.style,scroller:f,selecter:h,editor:n,lang:o,editable:t,dispatch:p,onSelectExpand:yNe,onLoupeMounted:yNe,onSelectPhrase:yNe}}else g.current.focus=u,g.current.editable=t,delete g.current.editor.highlights,delete g.current.editor.isScrolling;return G(wh,{style:{...e.style,...kle},children:G("div",{style:{width:"100%"},children:G(YK,{...g.current})})})}),[m.refersh,S,p.infocus])}const{getPathFromKey:xNe}=hk,{calcIndicatorRangeByMerge:SNe,getKeyByIndex:ENe}=UL,{startVibration:kNe,startVibrationDebounce:DNe}=d2;function INe(e){return G(Kf?LNe:NNe,{...e})}function NNe(e){var t;const n=_d(e),o=R(jU),i=R(RU),r=R(HU),l=R(PU),s=R(ZU),c=_d(s),a=R(uIe),u=R(qU),{infocus:d,focusing:f,inroute:h}=R(dIe),p=fNe(e),v=R(hIe),g=_((e=>{if(a.current)return void(a.current="");const{kid:t}=n.current,{focus:o}=c.current,{selectedCoordinates:i}=e;if(!i)return;const r=xHe(o,ZFe(xNe(t)));l(CDe(r,[Pke()])),u(l)}),[n,c,a,u,l]),m=_((e=>{oke(e)?Oze(c.current.editor,"copy"):QEe(e)}),[c]),y=_((e=>{oke(e)?Oze(c.current.editor,"cut"):QEe(e)}),[c]),b=_((e=>{const t=c.current;oke(e)?Fie(o,l):bke(o,l,t,e,v)}),[o,c,l,v]),C=_((()=>{const e=n.current.value;e&&b(e)}),[n,b]),{isScrolling:w}=i.editor,{rowStartIndex:x,rowEndIndex:S,clientWidth:E,clientHeight:k,scrollWidth:D,refresh:I}=e.value,N=s.root?jEe(s,e.kid):void 0,L=k-Math.min(k,null!==(t=null==N?void 0:N.top)&&void 0!==t?t:0);return W((()=>{const t=e=>{var t;const n=null===(t=i.file)||void 0===t?void 0:t.currentPageId;if(!n)return;const o=null==e?void 0:e.state;if(void 0===o)return e;const{node:r}=o.editor,s=[],c=[];e4(r,n,(e=>{s.push(e)}),(e=>{c.push(e)}));const a=[...s,...c];a.length&&(a.push(k7(n)),l(...a))},n={...e,mini:!0,virtual:!0,focusing:f,rect:N,onChange:v,onKeyDown:p,onCopy:m,onCut:y,onPureClick:g,onPaste:b,cloneCell:(e,t)=>{var n;e=ps(e);const o=null===(n=i.file)||void 0===n?void 0:n.currentPageId;if(void 0===o)return e;const r=e.state;if(void 0===r)return e;const{node:s}=r.editor,c=[],a=[];X6(s,[],o,(e=>{c.push(e)}),(e=>{a.push(e)}),!0);const u=[...c,...a];return u.length&&(u.push(k7(o)),l(...u)),e},deleteCell:t,moveCell:(e,n)=>{n&&t(n);null==e||e.state;return e},CellRenderer:bNe,portal:t=>oD(G("div",{style:VEe(E),children:t}),r,e.ele)};return d&&(o.sheet.current={change:v,props:n}),G(pIe,{value:C,children:G(qL,{...n})})}),[Hd(Boolean(!w||h||d||f||D>E&&L>0)),x,S,I])}function LNe(e){var t;const n=_d(e),o=R(jU),i=R(RU),r=R(HU),l=R(PU),s=R(FU),c=R(ZU),a=_d(c);R(qU);const{infocus:u,focusing:d,inroute:f}=R(dIe),h=fNe(e),p=R(hIe),{isScrolling:v}=i.editor,{rowStartIndex:g,rowEndIndex:m,clientWidth:y,clientHeight:b,scrollWidth:C,refresh:w}=e.value,x=c.root?jEe(c,e.kid):void 0,S=b-Math.min(b,null!==(t=null==x?void 0:x.top)&&void 0!==t?t:0);return W((()=>{const t=e=>{var t;const n=null===(t=i.file)||void 0===t?void 0:t.currentPageId;if(!n)return;const o=null==e?void 0:e.state;if(void 0===o)return e;const{node:r}=o.editor,s=[],c=[];e4(r,n,(e=>{s.push(e)}),(e=>{c.push(e)}));const a=[...s,...c];a.length&&(a.push(k7(n)),l(...a))},c={...e,mini:!0,virtual:!0,focusing:d,rect:x,onChange:p,onKeyDown:h,onResizeStart:kNe,onDragStart:kNe,onAnchorStart:kNe,onExpandStart:DNe,onClickCell:(e,t,o)=>{const{kid:i}=n.current,{focus:r}=a.current,c=xHe(r,ZFe(xNe(i)));if(null==t?void 0:t.merge){const{rowStartIndex:e,columnStartIndex:n}=SNe(t.merge);o=ENe(e,n)}requestAnimationFrame((()=>{var t;l(CDe(c,[Pke(o)])),null===(t=s.current.keyboard)||void 0===t||t.onShowKeyboard(e)}))},deleteCell:t,moveCell:(e,n)=>{n&&t(n);null==e||e.state;return e},CellRenderer:bNe,portal:t=>oD(G("div",{style:VEe(y),children:t}),r,e.ele)};return u&&(o.sheet.current={change:p,props:c}),G(qL,{...c})}),[Hd(Boolean(!v||f||u||d||C>y&&S>0)),g,m,w])}const{getPathFromKey:TNe}=hk,{getIndexByKey:BNe,getKeyByIndex:ANe,isCellKey:MNe,getRowSize:ONe,setEditPending:RNe}=UL;function PNe(e){return G(Kf?HNe:FNe,{...e})}function FNe(e){const t=_d(e),n=Z(null),o=Z(!1),i=Z(""),r=R(jU);_d(R(RU));const l=R(HU),s=R(PU),c=R(ZU),a=_d(c),{scroller:u,selecter:d,contextmenu:f}=R(UU),h=R(qU),p=dNe(e.kid),{infocus:v,focusing:g}=p,[m,y]=qd((()=>hNe())),b=vHe(c.focus),C={pointerDown:Z(new Set)},w=W((()=>nc((()=>{const{editor:e}=a.current,t=e.style;s(vDe(t))}),10)),[a,s]),x=W((()=>ta((e=>{var n,o;const{focus:l}=a.current,c=r.stater.get(),{gfocus:u,editor:{data:d,node:f}}=c;let p=c;if(gHe(l)&&(p=FHe(f,l)),!p)return;const{editor:m}=p,{isScrolling:y}=m;if(y)return;const{kid:C,value:x}=t.current;if(!x)return;const S=[],E=TNe(C),k=xHe(l,ZFe(E)),{rowStartIndex:D,rowEndIndex:I,columnStartIndex:N,columnEndIndex:L,selectedCoordinates:T,isEditPending:B}=e;e=tse(m)(e);const A=ike(e=RNe(!1)(e));let M=!1;if(A||(i.current="",e=use((e=>{e.editor.selection&&(M=!0)}))(e),e=dse()(e)),S.push(dDe(e,k)),b&&B&&S.push(b9("updated")),D!==I&&N!==L){const t=e.scrollHeight-x.clientHeight;if(0!==t){const{key:e}=BHe(l);if(Cc(e)&&MNe(e)){const{rowIndex:n}=BNe(e),o=m.contentHeight,i=HHe(d,l);if(i){let e=!1;if(t<0){tce(i,n)-o<t&&(e=!0)}else{ONe(i,n)-o<t&&(e=!0)}if(e){const e=[];e.push(rse(t)),e.push(cse(t)),S.push(xDe(k,e));const n=[];n.push(jse(t)),S.push(wDe(l,n))}else{const e=[];e.push(rse(t)),S.push(CDe(l,e));const n=[];n.push(jse(t)),S.push(bDe(l,n))}}}const o=null===(n=kHe(k).child)||void 0===n?void 0:n.path;if(o&&S.push(_se(o)),u)if(Fc(l,u)){const{data:e,selection:t}=m;vFe(e,E,t)?S.push(hDe(u)):S.push(fDe(u))}else pHe(l,u)?S.push(hDe(u)):S.push(fDe(u))}if(T){const{rowIndex:e,columnIndex:t}=T,n=xHe(k,$Fe(ANe(e,t)));u&&!Fc(u,n)&&S.push(o4(n),wDe(u,[]))}}else{const e=[];e.push(Hse(C)),S.push(bDe(l,e));const t=null===(o=k.child)||void 0===o?void 0:o.path;t&&S.push(_se(t)),u&&!Fc(u,l)&&S.push(o4(l),wDe(u,[]))}(!A||v&&g&&!Fc(u,l))&&w(),(M||B)&&h(s),s(...S)}),15,{leading:!0})),[b,v,g,r,t,a,s,w,h]);if(void 0===e.value)return null;const S=WEe({...e,value:e.value},c,p),{clientWidth:E,scrollWidth:k,scrollLeft:D}=S;return G(sIe,{value:y,children:G(cIe,{value:e,children:G(hIe,{value:x,children:G(aIe,{value:o,children:G(dIe,{value:p,children:G(uIe,{value:i,children:X(wh,{onPointerDown:e=>{e.stopPropagation(),y(Ile()),C.pointerDown.current.forEach((t=>t(e)))},onClick:e=>{e.stopPropagation()},style:wle,ref:n,children:[e.editable&&S.indicatorRange&&oD(G(lNe,{...e,...m}),l,n),!1!==e.border&&D>0&&G("div",{style:Sle}),G(INe,{...e,scroller:u,selecter:d,contextmenu:f,value:S,ele:n}),!1!==e.border&&Math.ceil(E+D)<Math.floor(k)&&G("div",{style:Ele})]})})})})})})})}function HNe(e){const t=_d(e),n=Z(null),o=Z(!1),i=Z(""),r=R(jU);_d(R(RU));const l=R(PU),s=R(ZU),c=_d(s),{scroller:a,selecter:u,contextmenu:d}=R(UU),f=R(qU),h=dNe(e.kid),{infocus:p,focusing:v}=h,[g,m]=qd((()=>hNe())),y=vHe(s.focus),b=W((()=>nc((()=>{const{editor:e}=c.current,t=e.style;l(vDe(t))}),10)),[c,l]),C=W((()=>ta((e=>{var n,o;const{focus:s}=c.current,a=r.stater.get(),{gfocus:u,editor:{data:d,node:h}}=a;let g=a;if(gHe(s)&&(g=FHe(h,s)),!g)return;const{editor:m}=g,{isScrolling:C}=m;if(C)return;const{kid:w,value:x}=t.current;if(!x)return;const S=[],E=TNe(w),k=xHe(s,ZFe(E)),{rowStartIndex:D,rowEndIndex:I,columnStartIndex:N,columnEndIndex:L,selectedCoordinates:T,isEditPending:B}=e;e=tse(m)(e);const A=ike(e=RNe(!1)(e));let M=!1;if(A||(i.current="",e=use((e=>{e.editor.selection&&(M=!0)}))(e)),S.push(dDe(e,k)),y&&B&&S.push(b9("updated")),D!==I&&N!==L){const t=e.scrollHeight-x.clientHeight;if(0!==t){const{key:e}=BHe(s);if(Cc(e)&&MNe(e)){const{rowIndex:n}=BNe(e),o=m.contentHeight,i=HHe(d,s);if(i){let e=!1;if(t<0){tce(i,n)-o<t&&(e=!0)}else{ONe(i,n)-o<t&&(e=!0)}if(e){const e=[];e.push(rse(t)),e.push(cse(t)),S.push(xDe(k,e));const n=[];n.push(jse(t)),S.push(wDe(s,n))}else{const e=[];e.push(rse(t)),S.push(CDe(s,e));const n=[];n.push(jse(t)),S.push(bDe(s,n))}}}const o=null===(n=kHe(k).child)||void 0===n?void 0:n.path;if(o&&S.push(_se(o)),u)if(Fc(s,u)){const{data:e,selection:t}=m;vFe(e,E,t)?S.push(hDe(u)):S.push(fDe(u))}else pHe(s,u)?S.push(hDe(u)):S.push(fDe(u))}if(T){const{rowIndex:e,columnIndex:t}=T,n=xHe(k,$Fe(ANe(e,t)));u&&!Fc(u,n)&&S.push(o4(n),wDe(u,[]))}}else{const e=[];e.push(Hse(w)),S.push(bDe(s,e));const t=null===(o=k.child)||void 0===o?void 0:o.path;t&&S.push(_se(t)),u&&!Fc(u,s)&&S.push(o4(s),wDe(u,[]))}(!A||p&&v&&!Fc(u,s))&&b(),(M||B)&&f(l),l(...S)}),15,{leading:!0})),[r,y,p,v,t,c,l,b,f]);if(void 0===e.value)return null;const w=WEe({...e,value:e.value},s,h),{clientWidth:x,scrollWidth:S,scrollLeft:E}=w;return G(sIe,{value:m,children:G(cIe,{value:e,children:G(hIe,{value:C,children:G(aIe,{value:o,children:G(dIe,{value:h,children:X(wh,{onClick:e=>{e.stopPropagation()},style:wle,ref:n,children:[!1!==e.border&&E>0&&G("div",{style:Sle}),G(INe,{...e,scroller:a,selecter:u,contextmenu:d,value:w,ele:n}),!1!==e.border&&Math.ceil(x+E)<Math.floor(S)&&G("div",{style:Ele})]})})})})})})}var _Ne={name:Vse,label:function(e){return rIe[e.lang][iIe.sheet]},inner:function({col:e=9,row:t=9}){const n=R(jU),[o,i]=$({col:0,row:0});return X(Dh,{style:ple,children:[G(wh,{style:vle,onPointerLeave:()=>{i({col:0,row:0})},onClick:()=>{const{col:e,row:t}=o;0!==e&&0!==t&&$De(n,t,e)},children:Array(t).fill(0).map(((t,n)=>G("div",{style:gle,children:Array(e).fill(0).map(((e,t)=>{let r=Mf;return o.col>=t+1&&o.row>=n+1&&(r=Bf),G("div",{style:{...ble,backgroundColor:r},onPointerEnter:()=>((e,t)=>{i({col:t,row:e})})(n+1,t+1)},t)}))},n)))}),G("div",{style:Cle,children:`${o.row} X ${o.col}`})]})},outer:function({children:e,...t}){return X(oj,{...t,children:[G(lIe,{...t}),e]})},icon:lIe};function jNe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get();let c={fontWeight:"normal"};!1===t&&(c={fontWeight:"700"});const{rootdispatch:a,context:u,imperator:d,sync:f}=l,{editor:{data:h},gfocus:p}=s;if(p){if(wHe(h,p)){const e=FHe(h,p);if(!(null==e?void 0:e.editor.selection))return null==a||a(pDe(c,u)),void f(a)}null===(n=d.current)||void 0===n||n.setStyle(c)}}var WNe={...pW,outer:function(e){const t=R(jU),n=t.provider(),{context:o}=n,i=v$(e,o);return G(fW,{...e,active:i,onClick:()=>{jNe(t,i)}})}},zNe=Object.freeze({__proto__:null,default:WNe,setStyle:jNe});var VNe={...CW,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(yW,{...e,value:p$(o,"fontFamily"),onChange:e=>{var n;const o={fontFamily:e},i=t.provider(),r=t.stater.get(),{context:l,imperator:s,rootdispatch:c,sync:a}=i,{editor:{data:u},gfocus:d}=r;if(d){if(wHe(u,d)){const e=FHe(u,d);if(!(null==e?void 0:e.editor.selection))return c(pDe(o,l)),void a(c)}null===(n=s.current)||void 0===n||n.setStyle(o)}}})},outer:function(e){const t=R(jU),n=t.provider(),{context:o}=n,i=p$(o,"fontFamily");return G(mW,{...e,onClick:()=>{const n=t.provider(),{rootdispatch:o}=n;o(t7(e.name,!0))},value:i})}};function $Ne(e,t){var n,o;const{modal:i,webdav:r,file:l}=e.stater.get();if((null==i?void 0:i.visible)||(null==r?void 0:r.visible))return;if(gje(l))return;const s=e.provider(),c=e.stater.get(),{context:a,imperator:u,rootdispatch:d,sync:f}=s,h={fontSize:t},{editor:{data:p},gfocus:v}=c;if(v){if(wHe(p,v)){const e=FHe(p,v);if(!(null==e?void 0:e.editor.selection))return d(pDe(h,a)),void f(d)}null===(n=u.current)||void 0===n||n.setStyle(h),null===(o=u.current)||void 0===o||o.commit(Sye(a))}}var ZNe={...DW,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(EW,{...e,value:p$(o,"fontSize"),onChange:e=>{$Ne(t,e)}})},outer:function(e){const{name:t}=e,n=R(jU),o=n.provider(),{context:i}=o,r=p$(i,"fontSize");return G(SW,{...e,onClick:()=>{const e=n.provider(),{rootdispatch:o}=e;o(t7(t,!0))},value:r})}},UNe=Object.freeze({__proto__:null,default:ZNe,setStyle:$Ne});function qNe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{context:c,imperator:a,rootdispatch:u,sync:d}=l;let f={fontStyle:"normal"};!1===t&&(f={fontStyle:"italic"});const{editor:{data:h},gfocus:p}=s;if(p){if(wHe(h,p)){const e=FHe(h,p);if(!(null==e?void 0:e.editor.selection))return u(pDe(f,c)),void d(u)}null===(n=a.current)||void 0===n||n.setStyle(f)}}var YNe={...jW,outer:function(e){const t=R(jU),n=v$(e,t.provider().context);return G(HW,{...e,active:n,onClick:()=>{qNe(t,n)}})}},KNe=Object.freeze({__proto__:null,default:YNe,setStyle:qNe});function GNe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{context:c,imperator:a,rootdispatch:u,sync:d}=l;let f={textDecorationLine:"none"};!1===t&&(f={textDecorationLine:"underline"});const h={underline:!t,lineThrough:null},{editor:{data:p},gfocus:v}=s;if(v){if(wHe(p,v)){const e=FHe(p,v);if(!(null==e?void 0:e.editor.selection))return u(pDe(f,c)),void d(u)}null===(n=a.current)||void 0===n||n.setProps(h,h$)}}const{useHotkey:XNe}=Cj;var JNe={...JW,outer:function(e){var t;const n=R(jU),o=n.provider(),{context:i}=o,r=v$(e,i),l=_((()=>{GNe(n,r)}),[n,r]);return XNe(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),l),G(GW,{...e,active:r,onClick:l})}},QNe=Object.freeze({__proto__:null,default:JNe,setProps:GNe});function eLe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{context:c,imperator:a,rootdispatch:u,sync:d}=l;let f={textDecorationLine:"none"};!1===t&&(f={textDecorationLine:"line-through"});const h={lineThrough:!t,underline:null},{editor:{data:p},gfocus:v}=s;if(v){if(wHe(p,v)){const e=FHe(p,v);if(!(null==e?void 0:e.editor.selection))return u(pDe(f,c)),void d(u)}null===(n=a.current)||void 0===n||n.setProps(h,h$)}}const{useHotkey:tLe}=Cj;var nLe={...UW,outer:function(e){var t;const n=R(jU),o=n.provider(),{context:i}=o,r=v$(e,i),l=_((()=>{eLe(n,r)}),[n,r]);return tLe(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),l),G($W,{...e,active:r,onClick:l})}},oLe=Object.freeze({__proto__:null,default:nLe,setProps:eLe});function iLe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{context:c,imperator:a,rootdispatch:u,sync:d}=l,{focus:f,editor:{selectionStyle:h}}=c,p=s.editor.style,v={color:t};(null==h?void 0:h.color)===t&&(v.color=null==p?void 0:p.color),u(r4(f));const{editor:{data:g},gfocus:m}=s;if(m){if(wHe(g,m)){const e=FHe(g,m);if(!(null==e?void 0:e.editor.selection))return u(pDe(v,c)),void d(u)}null===(n=a.current)||void 0===n||n.setStyle(v)}}var rLe={...sz,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(rz,{...e,value:p$(o,"color"),onMore:()=>{const e=t.provider(),{rootdispatch:n}=e,o=VFe();n(r4(o))},onChange:e=>{iLe(t,e)}})},outer:function(e){const{name:t}=e,n=R(jU),o=n.provider(),{context:i}=o,r=p$(i,"color");return G(iz,{...e,onClick:()=>{const e=n.provider(),{rootdispatch:o}=e;o(t7(t,!0))},value:r})}},lLe=Object.freeze({__proto__:null,default:rLe,setStyle:iLe});function sLe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{context:c,imperator:a,rootdispatch:u,sync:d}=l,{focus:f,editor:{selectionStyle:h}}=c,p=s.editor.style,v={backgroundColor:t};(null==h?void 0:h.backgroundColor)===t&&(v.backgroundColor=p.backgroundColor),u(r4(f));const{editor:{data:g},gfocus:m}=s;if(m){if(wHe(g,m)){const e=FHe(g,m);if(!(null==e?void 0:e.editor.selection))return u(pDe(v,c)),void d(u)}null===(n=a.current)||void 0===n||n.setStyle(v)}}var cLe={...kz,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(Sz,{...e,value:p$(o,"backgroundColor"),onMore:()=>{const e=t.provider(),{rootdispatch:n}=e,o=VFe();n(r4(o))},onChange:e=>{sLe(t,e)}})},outer:function(e){const{name:t}=e,n=R(jU),o=n.provider(),{context:i}=o,r=p$(i,"backgroundColor");return G(xz,{...e,onClick:()=>{const e=n.provider(),{rootdispatch:o}=e;o(t7(t,!0))},value:r})}},aLe=Object.freeze({__proto__:null,default:cLe,setStyle:sLe});const{useHotkey:uLe}=Cj;function dLe(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{rootdispatch:c,context:a,imperator:u,sync:d}=l,f={textAlign:t},{editor:{data:h},gfocus:p}=s;if(p){if(wHe(h,p)){const e=FHe(h,p);if(!(null==e?void 0:e.editor.selection))return null==c||c(pDe(f,a)),void d(c)}null===(n=u.current)||void 0===n||n.setStyle(f,!0)}}var fLe={...Mz,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(Az,{...e,value:p$(o,"textAlign"),onChange:e=>{dLe(t,e)}})},outer:function(e){var t;const n=R(jU),{name:o}=e,i=n.provider(),{context:r}=i,l=p$(r,"textAlign"),s=_((()=>{const{modal:e,webdav:t,file:i}=n.stater.get();(null==e?void 0:e.visible)||(null==t?void 0:t.visible)||gje(i)||n.dispatch(t7(o,!0))}),[n,o]);return uLe(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),s),G(Lz,{...e,onClick:s,value:l})}},hLe=Object.freeze({__proto__:null,default:fLe,setStyle:dLe});function pLe(e){return G(J_,{...e,children:G(LR,{width:12.5})})}const{getEditNodeByPath:vLe,isBlockNode:gLe,isCollapsed:mLe,isDecorateNode:yLe,sliceBlockPath:bLe,traversalEditBlockNodeBySelection:CLe,sliceDecoratePath:wLe,reflowEditNodeBySelection:xLe}=hk;function SLe(e){var t,n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),{context:s,imperator:c}=l,a=parseFloat(String(null!==(t=p$(s,"fontSize"))&&void 0!==t?t:0));let u=!1,d=!1;const f=[],{decorateSafty:h,decorateSelection:p,isPrevListNodeDecorate:v,triggerDecorateSelection:g,isDecorateListNodeSelection:m}=Mye;m(s)&&(d=!0,v(s,Lxe)&&(f.push(iEe(s)),u=!0)),u||null===(n=c.current)||void 0===n||n.commit((e=>{var t,n,o,i;if(void 0===e.selection)return e;if(mLe(e.selection)){const{path:r}=e.selection.focus,l=wLe(e.node,r);if(l){const o=vLe(e.node,l);if(yLe(o)){const e=parseFloat(String(null!==(n=null===(t=o.style)||void 0===t?void 0:t.marginLeft)&&void 0!==n?n:0));o.style={...o.style,marginLeft:Math.max(e+2*a,0)}}}else{const t=bLe(e.node,r),n=vLe(e.node,t);if(gLe(n)){const e=parseFloat(String(null!==(i=null===(o=n.style)||void 0===o?void 0:o.marginLeft)&&void 0!==i?i:0));n.style={...n.style,marginLeft:Math.max(e+2*a,0)}}}return e=xLe(!0)(e)}const r=[];return CLe(e.node,e.selection,((t,n)=>{var o,i,l,s;const c=wLe(e.node,n);if(c){if(r.find((e=>Fc(c,e))))return;r.push(c);const t=vLe(e.node,c);if(yLe(t)){const e=parseFloat(String(null!==(i=null===(o=t.style)||void 0===o?void 0:o.marginLeft)&&void 0!==i?i:0));t.style={...t.style,marginLeft:Math.max(e+2*a,0)}}}else{const t=bLe(e.node,n),o=vLe(e.node,t);if(gLe(o)){const e=parseFloat(String(null!==(s=null===(l=o.style)||void 0===l?void 0:l.marginLeft)&&void 0!==s?s:0));o.style={...o.style,marginLeft:Math.max(e+2*a,0)}}}})),e=xLe(!0)(e)})),d&&(g(s,{[JTe]:()=>{f.push(BBe())}}),f.push(p(s)),h(s,c,f))}const{useHotkey:ELe}=Cj;const kLe="increaseIndent",DLe={cn:{[kLe]:""},en:{[kLe]:"Increase Indent"}};const ILe="increase-indent";var NLe={name:ILe,hotkey:function(e){return Uf?"+]":"Ctrl+]"},label:function(e){return DLe[e.lang][kLe]},outer:function({children:e,...t}){var n;const o=R(jU),i=_((()=>{SLe(o)}),[o]);return ELe(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),i),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:i,children:[G(pLe,{...t}),e]})}},LLe=Object.freeze({__proto__:null,IncreaseIndentIcon:pLe,default:NLe,indent:SLe,name:ILe});function TLe(e){return G(J_,{...e,children:G(TR,{width:12.5})})}const{getEditNodeByPath:BLe,isBlockNode:ALe,isCollapsed:MLe,isDecorateNode:OLe,sliceBlockPath:RLe,traversalEditBlockNodeBySelection:PLe,sliceDecoratePath:FLe,reflowEditNodeBySelection:HLe}=hk;function _Le(e){var t,n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),{context:s,imperator:c}=l,a=parseFloat(String(null!==(t=p$(s,"fontSize"))&&void 0!==t?t:0));let u=!1,d=!1;const f=[],{decorateSafty:h,decorateSelection:p,isPrevListNodeDecorate:v,triggerDecorateSelection:g,isDecorateListNodeSelection:m}=Mye;m(s)&&(d=!0,v(s,Lxe)&&(f.push(rEe(s)),u=!0)),u||null===(n=c.current)||void 0===n||n.commit((e=>{var t,n,o,i;if(void 0===e.selection)return e;if(MLe(e.selection)){const{path:r}=e.selection.focus,l=FLe(e.node,r);if(l){const o=BLe(e.node,l);if(OLe(o)){const e=parseFloat(String(null!==(n=null===(t=o.style)||void 0===t?void 0:t.marginLeft)&&void 0!==n?n:0));o.style={...o.style,marginLeft:Math.max(e-2*a,0)}}}else{const t=RLe(e.node,r),n=BLe(e.node,t);if(ALe(n)){const e=parseFloat(String(null!==(i=null===(o=n.style)||void 0===o?void 0:o.marginLeft)&&void 0!==i?i:0));n.style={...n.style,marginLeft:Math.max(e-2*a,0)}}}return e=HLe(!0)(e)}const r=[];return PLe(e.node,e.selection,((t,n)=>{var o,i,l,s;const c=FLe(e.node,n);if(c){if(r.find((e=>Fc(c,e))))return;r.push(c);const t=BLe(e.node,c);if(OLe(t)){const e=parseFloat(String(null!==(i=null===(o=t.style)||void 0===o?void 0:o.marginLeft)&&void 0!==i?i:0));t.style={...t.style,marginLeft:Math.max(e-2*a,0)}}}else{const t=RLe(e.node,n),o=BLe(e.node,t);if(ALe(o)){const e=parseFloat(String(null!==(s=null===(l=o.style)||void 0===l?void 0:l.marginLeft)&&void 0!==s?s:0));o.style={...o.style,marginLeft:Math.max(e-2*a,0)}}}})),e=HLe(!0)(e)})),d&&(g(s,{[JTe]:()=>{f.push(BBe())}}),f.push(p(s)),h(s,c,f))}const{useHotkey:jLe}=Cj;const WLe="decreaseIndent",zLe={cn:{[WLe]:""},en:{[WLe]:"Decrease Indent"}};const VLe="decrease-indent";var $Le={name:VLe,hotkey:function(e){return Uf?"+[":"Ctrl+["},label:function(e){return zLe[e.lang][WLe]},outer:function({children:e,...t}){var n;const o=R(jU),i=_((()=>{_Le(o)}),[o]);return jLe(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),i),t.silence?null:X(wh,{style:{...V_,...t.style},onClick:i,children:[G(TLe,{...t}),e]})}},ZLe=Object.freeze({__proto__:null,default:$Le,indent:_Le,name:VLe});const{useHotkey:ULe}=Cj;const qLe="indent",YLe={cn:{[qLe]:""},en:{[qLe]:"Indent"}};var KLe={name:"indent",label:function(e){return YLe[e.lang][qLe]},outer:function({children:e,...t}){var n;const{name:o}=t,i=R(jU),r=_((()=>{const{modal:e,webdav:t,file:n}=i.stater.get();if((null==e?void 0:e.visible)||(null==t?void 0:t.visible))return;if(gje(n))return;const r=i.provider(),{rootdispatch:l}=r;l(t7(o,!0))}),[i,o]);return ULe(null===(n=t.hotkey)||void 0===n?void 0:n.call(t,t),r),X(oj,{...t,onClick:r,children:[G(pLe,{...t}),e,G(NLe.outer,{...t,hotkey:NLe.hotkey,silence:!0}),G($Le.outer,{...t,hotkey:$Le.hotkey,silence:!0})]})},inner:function(e){const t=[NLe,$Le].map((t=>({...t,lang:e.lang,active:!1})));return G(tj,{...e,value:t})},hotkey:function(e){return Uf?"++M":"Ctrl+Shift+M"}};function GLe(e,t){var n,o;const{modal:i,webdav:r,file:l}=e.stater.get();if((null==i?void 0:i.visible)||(null==r?void 0:r.visible))return;if(gje(l))return;const s=e.provider(),c=e.stater.get(),{context:a,imperator:u,rootdispatch:d,sync:f}=s,h={lineHeight:t},{editor:{data:p},gfocus:v}=c;if(v){if(wHe(p,v)){const e=FHe(p,v);if(!(null==e?void 0:e.editor.selection))return d(pDe(h,a)),void f(d)}null===(n=u.current)||void 0===n||n.setStyle({lineHeight:t},!0),null===(o=u.current)||void 0===o||o.commit(Sye(a))}}var XLe={...sV,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(rV,{...e,value:p$(o,"lineHeight"),onChange:e=>{GLe(t,e)}})},outer:function(e){const{name:t}=e,n=R(jU);return G(iV,{...e,onClick:()=>{const e=n.provider(),{rootdispatch:o}=e;o(t7(t,!0))}})}},JLe=Object.freeze({__proto__:null,default:XLe,setStyle:GLe});const{clearEditNodeStyle:QLe}=hk;function eTe(e){var t;const{modal:n,webdav:o,file:i}=e.stater.get();if((null==n?void 0:n.visible)||(null==o?void 0:o.visible))return;if(gje(i))return;const r=e.provider(),{imperator:l,context:s}=r,c=s.editor.style;null===(t=l.current)||void 0===t||t.commit(QLe(c,{underline:!1,lineThrough:!1}))}var tTe={...cW,outer:function(e){const t=R(jU);return G(lW,{...e,onClick:()=>{eTe(t)}})}},nTe=Object.freeze({__proto__:null,clear:eTe,default:tTe});const{setEditNodeStyle:oTe,reflowEditNodeBySelection:iTe}=hk;const rTe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjkiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyOSAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjQuNSAzLjY1NmgxLjgyOGMuMzg4IDAgLjcwMy4zMTUuNzAzLjcwM3YzLjY1N2EuNzAzLjcwMyAwIDAgMS0uNzAzLjcwM2gtNi4xN3YxLjU0N2guNzc0YS4xNC4xNCAwIDAgMSAuMTQuMTR2NC4xNDlhMS40NzcgMS40NzcgMCAwIDEtMi45NTMgMHYtNC4xNDlhLjE0LjE0IDAgMCAxIC4xNC0uMTRoLjc3NHYtMS45N2MwLS4zODcuMzE1LS43MDIuNzAzLS43MDJoNi4xN1Y0Ljc4SDI0LjV2MS4yNjZhLjQyMi40MjIgMCAwIDEtLjQyMi40MjJoLTkuODQ0YS40MjIuNDIyIDAgMCAxLS40MjEtLjQyMlYyLjM5YzAtLjIzMy4xODgtLjQyMi40MjEtLjQyMmg5Ljg0NGMuMjMzIDAgLjQyMi4xODkuNDIyLjQyMnYxLjI2NXoiIGZpbGw9IiMyMzM5NmIiLz48cGF0aCBkPSJNMy40ODIgOS45M3YtLjk4M2gxLjAwMlYzLjgyMmMtLjExOS0uMzU2LS42NDYtMS4wODgtLjkwNS0xLjI5YTIuODggMi44OCAwIDAgMC0uOS0uNDU2IDIuMDQxIDIuMDQxIDAgMCAwLS40MjYtLjA2MyA2LjgzMyA2LjgzMyAwIDAgMC0uNjMtLjAxbC0uMDc3LjAwMi0uMDQ2LS45OTguMDk1LS4wMDRhNy43OSA3Ljc5IDAgMCAxIC43MjYuMDEyYy4yNjMuMDE4LjQ4NC4wNTEuNjYyLjEwOC40NDMuMTQuODUxLjM0MyAxLjIxLjYyLjIzLjE3OS41My41MzIuNzgxLjkxLjI2LS4zNzYuNTcxLS43MjUuODMyLS45MDUuNDI3LS4yOTYuODE1LS41MDYgMS4xODctLjYyNC4xNzktLjA1Ny40LS4wOS42NjQtLjEwOC4yNDEtLjAxNy40OTMtLjAxOS43MjQtLjAxM2wuMDk1LjAwNC0uMDQ2Ljk5OS0uMDc2LS4wMDNhNi44MzQgNi44MzQgMCAwIDAtLjYzLjAxYy0uMTg5LjAxMy0uMzQuMDM2LS40MjguMDY0LS4yNjIuMDgzLS41NjguMjQ5LS45MjEuNDk0LS4yNzguMTkxLS43NTguODQzLS45MDUgMS4yMzh2NS4xMzhoLjk5OHYuOTg0SDUuNDd2NC4xNzVjLjE0Ny4zOTQuNjI3IDEuMDQ1LjkwNyAxLjIzNy4zNS4yNDUuNjU2LjQxLjkyMi40OTMuMDg2LjAyNy4yMzcuMDUuNDI2LjA2My4yMDUuMDE0LjQyOC4wMTYuNjMuMDFsLjA3NS0uMDAyLjA0Ni45OTktLjA5NC4wMDNhNy43MiA3LjcyIDAgMCAxLS43MjUtLjAxMiAyLjgzOCAyLjgzOCAwIDAgMS0uNjYtLjEwOGMtLjM3NS0uMTE3LS43NjQtLjMyNy0xLjE4OS0uNjIzLS4yNjItLjE4LS41NzUtLjUzLS44MzQtLjkwNS0uMjUyLjM3Ni0uNTUyLjcyOS0uNzgyLjkxLS4zNTguMjc3LS43NjcuNDgtMS4yMDcuNjE3LS4xNzkuMDU4LS40LjA5Mi0uNjY0LjExYTcuNzEyIDcuNzEyIDAgMCAxLS43MjYuMDEybC0uMDk1LS4wMDMuMDQ2LS45OTkuMDc2LjAwM2MuMjAyLjAwNS40MjUuMDAzLjYzLS4wMS4xOS0uMDE0LjM0LS4wMzcuNDMtLjA2NS4zMzYtLjEwNi42NC0uMjU2Ljg5NS0uNDU0LjI2MS0uMjA1Ljc4OC0uOTM2Ljg5My0xLjI5NWwuMDE0LTQuMTU2SDMuNDgyeiIgZmlsbD0iIzIzMzk2YiIgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMTAyXzQpIi8+PHBhdGggZD0iTTMuNDgyIDkuOTN2LS45ODNoMS4wMDJWMy44MjJjLS4xMTktLjM1Ni0uNjQ2LTEuMDg4LS45MDUtMS4yOWEyLjg4IDIuODggMCAwIDAtLjktLjQ1NiAyLjA0MSAyLjA0MSAwIDAgMC0uNDI2LS4wNjMgNi44MzMgNi44MzMgMCAwIDAtLjYzLS4wMWwtLjA3Ny4wMDItLjA0Ni0uOTk4LjA5NS0uMDA0YTcuNzkgNy43OSAwIDAgMSAuNzI2LjAxMmMuMjYzLjAxOC40ODQuMDUxLjY2Mi4xMDguNDQzLjE0Ljg1MS4zNDMgMS4yMS42Mi4yMy4xNzkuNTMuNTMyLjc4MS45MS4yNi0uMzc2LjU3MS0uNzI1LjgzMi0uOTA1LjQyNy0uMjk2LjgxNS0uNTA2IDEuMTg3LS42MjQuMTc5LS4wNTcuNC0uMDkuNjY0LS4xMDguMjQxLS4wMTcuNDkzLS4wMTkuNzI0LS4wMTNsLjA5NS4wMDQtLjA0Ni45OTktLjA3Ni0uMDAzYTYuODM0IDYuODM0IDAgMCAwLS42My4wMWMtLjE4OS4wMTMtLjM0LjAzNi0uNDI4LjA2NC0uMjYyLjA4My0uNTY4LjI0OS0uOTIxLjQ5NC0uMjc4LjE5MS0uNzU4Ljg0My0uOTA1IDEuMjM4djUuMTM4aC45OTh2Ljk4NEg1LjQ3djQuMTc1Yy4xNDcuMzk0LjYyNyAxLjA0NS45MDcgMS4yMzcuMzUuMjQ1LjY1Ni40MS45MjIuNDkzLjA4Ni4wMjcuMjM3LjA1LjQyNi4wNjMuMjA1LjAxNC40MjguMDE2LjYzLjAxbC4wNzUtLjAwMi4wNDYuOTk5LS4wOTQuMDAzYTcuNzIgNy43MiAwIDAgMS0uNzI1LS4wMTIgMi44MzggMi44MzggMCAwIDEtLjY2LS4xMDhjLS4zNzUtLjExNy0uNzY0LS4zMjctMS4xODktLjYyMy0uMjYyLS4xOC0uNTc1LS41My0uODM0LS45MDUtLjI1Mi4zNzYtLjU1Mi43MjktLjc4Mi45MS0uMzU4LjI3Ny0uNzY3LjQ4LTEuMjA3LjYxNy0uMTc5LjA1OC0uNC4wOTItLjY2NC4xMWE3LjcxMiA3LjcxMiAwIDAgMS0uNzI2LjAxMmwtLjA5NS0uMDAzLjA0Ni0uOTk5LjA3Ni4wMDNjLjIwMi4wMDUuNDI1LjAwMy42My0uMDEuMTktLjAxNC4zNC0uMDM3LjQzLS4wNjUuMzM2LS4xMDYuNjQtLjI1Ni44OTUtLjQ1NC4yNjEtLjIwNS43ODgtLjkzNi44OTMtMS4yOTVsLjAxNC00LjE1NkgzLjQ4MnoiIGZpbGw9IiMyMzM5NmIiLz48ZGVmcz48ZmlsdGVyIGlkPSJmaWx0ZXIwX2RfMTEwMl80IiB4PSIuNSIgeT0iMCIgd2lkdGg9IjguOTc2IiBoZWlnaHQ9IjE3LjkxNCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPjxmZU9mZnNldC8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDEgMCAwIDAgMCAxIDAgMCAwIDAgMSAwIDAgMCAxIDAiLz48ZmVCbGVuZCBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTEwMl80Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzExMDJfNCIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=";var lTe={...nW,outer:function(e){const t=R(jU),n=t.provider(),{rootstate:o}=n,i=!!o.editor.formatPaint;return function(){const e=R(jU),t=R(RU),n=Wd("pointerup"),o=!!t.editor.formatPaint;F((()=>(window.addEventListener("pointerup",n.listener),()=>{window.removeEventListener("pointerup",n.listener)})),[n]),F((()=>{if(!o)return;const t=n.subscribe((()=>{var t;const n=e.provider(),{imperator:o,context:i}=n,{style:r,formatPaintStyle:l}=i.editor,s={...r,...l};null===(t=o.current)||void 0===t||t.commit([oTe(s),iTe()])}));return()=>{t.unsubscribe()}}),[o,e,n])}(),G(eW,{...e,active:i,onClick:()=>{const e=t.provider(),{rootdispatch:n}=e;jFe(),n(u9(!i))}})}},sTe=Object.freeze({__proto__:null,default:lTe,icon:rTe});const cTe="bulletedList",aTe={cn:{[cTe]:""},en:{[cTe]:"Bulleted List"}};const uTe="bulleted-list",dTe=5,fTe=6,hTe=4.5,pTe=6,vTe={position:"relative",top:Kf?-.5:0},gTe={width:dTe,height:dTe,marginLeft:"10%",borderRadius:"50%",backgroundColor:Hf,transformOrigin:"left",...vTe},mTe={width:fTe,height:fTe,marginLeft:"10%",borderRadius:"50%",borderWidth:1,borderStyle:"solid",borderColor:Hf,transformOrigin:"left",boxSizing:"border-box",...vTe},yTe={width:hTe,height:hTe,borderRadius:.5,marginLeft:"10%",backgroundColor:Hf,transformOrigin:"left",...vTe},bTe={width:pTe,height:pTe,marginLeft:"10%",borderRadius:"50%",borderWidth:1,borderStyle:"solid",borderColor:Hf,display:"flex",alignItems:"center",justifyContent:"center",transformOrigin:"left",boxSizing:"border-box",...vTe},CTe={width:2,height:2,borderRadius:"50%",backgroundColor:Hf,transformOrigin:"left"};function wTe(e){return G(J_,{...e,children:G(oR,{width:14})})}function xTe(e){var t,n,o,i;const r=null===(t=e.style)||void 0===t?void 0:t.color,l=nae(null===(n=e.style)||void 0===n?void 0:n.fontSize);if(e.subclass===Iye.ONE){const t=(null!==(i=null===(o=e.level)||void 0===o?void 0:o.length)&&void 0!==i?i:0)%3;if(1===t)return G(STe,{color:r,scale:l});if(2===t)return G(ETe,{color:r,scale:l});if(0===t)return G(kTe,{color:r,scale:l})}else if(e.subclass===Iye.TWO)return G(DTe,{color:r,scale:l});return null}function STe(e){return G("div",{style:{...gTe,transform:`scale(${e.scale})`,backgroundColor:e.color||Hf,...e.style}})}function ETe(e){return G("div",{style:{...mTe,transform:`scale(${e.scale})`,borderColor:e.color||Hf,...e.style}})}function kTe(e){return G("div",{style:{...yTe,transform:`scale(${e.scale})`,backgroundColor:e.color||Hf,...e.style}})}function DTe(e){return G("div",{style:{...bTe,transform:`scale(${e.scale})`,borderColor:e.color||Hf,...e.style},children:G("div",{style:{...CTe,backgroundColor:e.color||Hf}})})}const ITe={style:Kf?{}:{marginLeft:"0"}},NTe=[{type:Iye.ONE,jsx:[{icon:e=>G(STe,{...ITe,...e,style:{...ITe.style,...e.style}}),children:[{icon:e=>G(ETe,{...ITe,...e,style:{...ITe.style,...e.style}})},{icon:e=>G(ETe,{...ITe,...e,style:{...ITe.style,...e.style}}),children:[{icon:e=>G(kTe,{...ITe,...e,style:{...ITe.style,...e.style}})}]}]},{icon:e=>G(STe,{...ITe,...e,style:{...ITe.style,...e.style}})}]},{type:Iye.TWO,jsx:[{icon:e=>G(DTe,{...ITe,...e,style:{...ITe.style,...e.style}}),children:[{icon:e=>G(DTe,{...ITe,...e,style:{...ITe.style,...e.style}})},{icon:e=>G(DTe,{...ITe,...e,style:{...ITe.style,...e.style}}),children:[{icon:e=>G(DTe,{...ITe,...e,style:{...ITe.style,...e.style}})}]}]},{icon:e=>G(DTe,{...ITe,...e,style:{...ITe.style,...e.style}})}]}],{isDecorateBlockNode:LTe}=hk;function TTe(e){var t;return LTe(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===uTe}function BTe(e){var t,n;if(e.subclass===Iye.ONE){const o=(null!==(n=null===(t=e.level)||void 0===t?void 0:t.length)&&void 0!==n?n:0)%3;if(1===o)return dTe;if(2===o)return fTe;if(0===o)return hTe}else if(e.subclass===Iye.TWO)return pTe}function ATe(e){const t={...Vme(e.kid),...e.style};return G(Aye,{...e,iconSize:BTe(e),style:t,icon:xTe,children:e.children})}var MTe={name:uTe,label:function(e){return aTe[e.lang][cTe]},inner:function(e){const t=R(jU);return G(kye,{...e,group:NTe,decorate:(...e)=>wye(t,...e)})},outer:function({children:e,...t}){const n=R(jU);return X(Lye,{...t,decorate:(...e)=>wye(n,...e),children:[G(wTe,{...t}),e]})},icon:wTe},OTe=Object.freeze({__proto__:null,default:MTe,getIconSize:BTe,group:NTe,isBulletedListNode:TTe,list:ATe,name:uTe});const RTe="numberedList",PTe={cn:{[RTe]:""},en:{[RTe]:"Numbered List"}};const FTe={position:"absolute",whiteSpace:"nowrap",right:5,marginTop:1},HTe={display:"inline-block",marginLeft:1};function _Te(e){return G(J_,{...e,children:X("svg",{width:14.5,viewBox:"0 0 12 12",fill:"none",children:[G("path",{d:"M1.98029 8.8C2.24764 8.8 2.45888 8.86919 2.62226 9.01025C2.77904 9.1522 2.86073 9.34537 2.86073 9.59245C2.86073 9.90782 2.7122 10.1226 2.42257 10.2268C2.57853 10.2798 2.69735 10.3607 2.77821 10.4658C2.86816 10.5745 2.91271 10.7164 2.91271 10.8863C2.91271 11.1531 2.8269 11.3714 2.65939 11.5412C2.48116 11.7111 2.24764 11.8 1.96543 11.8C1.69478 11.8 1.47529 11.7236 1.31191 11.5736C1.12625 11.4038 1.02228 11.1576 1 10.8341H1.40845C1.41588 11.0273 1.47199 11.1774 1.58339 11.2825C1.67993 11.3795 1.80618 11.428 1.96213 11.428C2.13294 11.428 2.26992 11.3714 2.37389 11.2663C2.463 11.1693 2.51086 11.0516 2.51086 10.9069C2.51086 10.7362 2.463 10.6113 2.36646 10.5305C2.27734 10.4496 2.14367 10.4092 1.96956 10.4092H1.77565V10.0776H1.96543C2.12881 10.0776 2.25176 10.0372 2.33345 9.96083C2.41432 9.88356 2.45888 9.77035 2.45888 9.6248C2.45888 9.47925 2.41845 9.36963 2.34418 9.29326C2.26249 9.2124 2.13954 9.17646 1.98359 9.17646C1.82433 9.17646 1.69808 9.22049 1.60897 9.30944C1.51985 9.39839 1.46456 9.53226 1.44889 9.71016H1.05281C1.07509 9.42264 1.17163 9.20072 1.34574 9.039C1.50995 8.87727 1.72036 8.8 1.98029 8.8Z",fill:zf,stroke:zf,strokeWidth:"0.3"}),G("path",{d:"M1.83982 4.5C2.08859 4.5 2.29753 4.57613 2.45769 4.73547C2.61541 4.89481 2.6959 5.09753 2.6959 5.34893C2.6959 5.59591 2.6081 5.8181 2.43981 6.0217C2.33737 6.13678 2.1577 6.28816 1.89835 6.48025C1.61625 6.68297 1.44877 6.86267 1.39349 7.01758H2.69996V7.4H0.900002C0.900002 7.11673 0.98374 6.86975 1.15935 6.65552C1.25447 6.53159 1.45202 6.36074 1.74795 6.13767C1.92437 6.00134 2.04876 5.89423 2.12193 5.81013C2.23819 5.66673 2.30079 5.51181 2.30079 5.34451C2.30079 5.18516 2.26014 5.06566 2.18046 4.98599C2.09916 4.90632 1.97884 4.86648 1.82519 4.86648C1.66096 4.86648 1.53657 4.92579 1.45202 5.04973C1.36422 5.16923 1.32032 5.34096 1.313 5.57201H0.914635C0.917887 5.25333 1.00163 4.9975 1.16666 4.80717C1.33495 4.60003 1.56178 4.5 1.83982 4.5Z",fill:zf,stroke:zf,strokeWidth:"0.3"}),G("path",{d:"M1.73661 0.300003H2.05389V3.3H1.63285V0.85089C1.46649 1.02269 1.25468 1.14874 1 1.22904V0.774326C1.12348 0.740713 1.25039 0.682823 1.39017 0.598789C1.52909 0.505419 1.64485 0.409247 1.73661 0.300003Z",fill:zf,stroke:zf,strokeWidth:"0.3"}),G("path",{d:"M11 9.78041V10.77H4V9.78041H11ZM11 5.52916V6.51875H4V5.52916H11ZM11 1.27V2.25958H4V1.27H11Z",fill:zf})]})})}function jTe(e){var t,n,o,i,r;if(e.subclass===Iye.ONE){const r=(null!==(n=null===(t=e.level)||void 0===t?void 0:t.length)&&void 0!==n?n:0)%3,l=null!==(o=dc(e.level))&&void 0!==o?o:1;let s="";1===r?s=String(l):2===r?s=lh(l).toLowerCase():0===r&&(s=function(e){let t="",n=~~((e-1)/10);for(let e=0;e<n;e++)t+=dc(sh)??"";return t+=sh[(e%10||10)-1],t}(l));const c={...FTe,color:null===(i=e.style)||void 0===i?void 0:i.color};return 1!==r&&(c.right=5),X("div",{style:c,children:[s,G("span",{style:HTe,children:"."})]})}if(e.subclass===Iye.TWO){const t=e.level||[1],n={...FTe,color:null===(r=e.style)||void 0===r?void 0:r.color};return t.length>1&&(n.right=5),X("div",{style:n,children:[t.join("."),G("span",{style:HTe,children:"."})]})}return null}const WTe={style:{fontSize:12,fontWeight:"bolder",transform:"scale(0.8)",textAlign:"right",fontWeight:Kf?550:"bolder"}},zTe=[{type:Iye.ONE,jsx:[{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"1. "}),children:[{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"a. "})},{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"b. "}),children:[{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"i. "})}]}]},{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"2. "})}]},{type:Iye.TWO,jsx:[{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"1. "}),children:[{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"1.1. "})},{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"1.2. "}),children:[{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"1.2.1. "})}]}]},{icon:e=>G("div",{...WTe,...e,style:{...WTe.style,...e.style},children:"2. "})}]}],VTe="numbered-list";function $Te(e){const t={...Vme(e.kid),...e.style};return G(Aye,{...e,style:t,icon:jTe,children:e.children})}const{isDecorateBlockNode:ZTe}=hk;function UTe(e){var t;return ZTe(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===VTe}var qTe={name:VTe,label:function(e){return PTe[e.lang][RTe]},inner:function(e){const t=R(jU);return G(kye,{...e,group:zTe,decorate:(...e)=>wye(t,...e)})},outer:function({children:e,...t}){const n=R(jU);return X(Lye,{...t,decorate:(...e)=>wye(n,...e),children:[G(_Te,{...t}),e]})},icon:_Te},YTe=Object.freeze({__proto__:null,default:qTe,group:zTe,isNumberedListNode:UTe,list:$Te,name:VTe});const KTe="checkList",GTe="checkListPackage",XTe={cn:{[KTe]:"",[GTe]:[{name:"1.0",value:1.7},{name:"1.15",value:2},{name:"1.5",value:2.5},{name:"2.0",value:3.4},{name:"2.5",value:4.3},{name:"3.0",value:5.1}]},en:{[KTe]:"Check List",[GTe]:[{name:"1.0",value:1.7},{name:"1.15",value:2},{name:"1.5",value:2.5},{name:"2.0",value:3.4},{name:"2.5",value:4.3},{name:"3.0",value:5.1}]}};const JTe="check-list",QTe=10,eBe=10,tBe={borderWidth:1,borderStyle:"solid",borderColor:_f,borderRadius:2,width:QTe,height:QTe,position:"relative",cursor:"pointer",transformOrigin:"left",boxSizing:"border-box"},nBe={position:"absolute",top:-5,left:-9,width:22,height:12,borderBottom:`4px solid ${_f}`,borderLeft:`4px solid ${_f}`,transform:"rotate(-45deg) scale(0.21)"},oBe={width:eBe,height:eBe,cursor:"pointer",position:"relative",transformOrigin:"left",borderRadius:"50%"},iBe={position:"absolute",top:-4,left:-8,width:22,height:12,borderBottom:`4px solid ${_f}`,borderLeft:`4px solid ${_f}`,transform:"rotate(-45deg) scale(0.21)"},rBe={position:"absolute",top:0,left:0,right:0,bottom:0,background:"#fff",borderWidth:1,borderStyle:"solid",borderColor:_f,borderRadius:"50%",backgroundImage:`linear-gradient(90deg, transparent 50%, ${_f} 0)`,transformOrigin:"left",overflow:"hidden"},lBe={marginLeft:"50%",height:"calc(100% + 0.5px)",transformOrigin:"left",backgroundColor:"inherit",transform:"rotate(0.5turn)"};function sBe(e){return G(J_,{...e,children:X("svg",{width:14.5,viewBox:"0 0 12 12",fill:"none",children:[G("path",{d:"M1.08165 10.011L1.51743 10.4613L2.61835 9.3H3.1L1.4945 10.959L1.37982 10.8168L0.6 10.011H1.08165Z",fill:zf}),G("path",{d:"M1.08165 10.011L1.51743 10.4613L2.61835 9.3H3.1L1.4945 10.959L1.37982 10.8168L0.6 10.011H1.08165Z",fill:zf}),G("path",{d:"M1.08165 10.011L1.51743 10.4613L2.61835 9.3H3.1L1.4945 10.959L1.37982 10.8168L0.6 10.011H1.08165Z",stroke:zf,strokeWidth:"0.5"}),G("path",{d:"M1.08165 5.71101L1.51743 6.16132L2.61835 5H3.1L1.4945 6.65902L1.37982 6.51682L0.6 5.71101H1.08165Z",fill:zf}),G("path",{d:"M1.08165 5.71101L1.51743 6.16132L2.61835 5H3.1L1.4945 6.65902L1.37982 6.51682L0.6 5.71101H1.08165Z",fill:zf}),G("path",{d:"M1.08165 5.71101L1.51743 6.16132L2.61835 5H3.1L1.4945 6.65902L1.37982 6.51682L0.6 5.71101H1.08165Z",stroke:zf,strokeWidth:"0.5"}),G("path",{d:"M1.08165 1.51101L1.51743 1.96132L2.61835 0.800003H3.1L1.4945 2.45902L1.37982 2.31682L0.6 1.51101H1.08165Z",fill:zf}),G("path",{d:"M1.08165 1.51101L1.51743 1.96132L2.61835 0.800003H3.1L1.4945 2.45902L1.37982 2.31682L0.6 1.51101H1.08165Z",fill:zf}),G("path",{d:"M1.08165 1.51101L1.51743 1.96132L2.61835 0.800003H3.1L1.4945 2.45902L1.37982 2.31682L0.6 1.51101H1.08165Z",stroke:zf,strokeWidth:"0.5"}),G("path",{d:"M11 9.78041V10.77H4V9.78041H11ZM11 5.52916V6.51875H4V5.52916H11ZM11 1.27V2.25958H4V1.27H11Z",fill:zf})]})})}function cBe(e){var t,n,o,i;const r=null===(t=e.style)||void 0===t?void 0:t.color,l=nae(null===(n=e.style)||void 0===n?void 0:n.fontSize),s=(null!==(o=e.numerator)&&void 0!==o?o:0)/(null!==(i=e.denominator)&&void 0!==i?i:1);return e.subclass===Iye.ONE?G(aBe,{color:r,scale:l,editable:e.editable,percentage:s}):e.subclass===Iye.TWO?G(uBe,{color:r,scale:l,editable:e.editable,percentage:s}):null}function aBe(e){var t;const n=R(hk.EditElement);return G("div",{style:{...tBe,cursor:e.editable?"pointer":"auto",borderColor:null!==(t=e.color)&&void 0!==t?t:_f,transform:`scale(${e.scale})`,top:n?Kf?-1:-.5:.5,...e.style},children:1===e.percentage?G("div",{style:{...nBe,borderBottomColor:e.color,borderLeftColor:e.color}}):null})}function uBe(e){var t,n,o,i,r;const l=null!==(t=e.percentage)&&void 0!==t?t:0,s=null!==(n=e.color)&&void 0!==n?n:_f,c=R(hk.EditElement);return X("div",{style:{...oBe,cursor:e.editable?"pointer":"auto",transform:`scale(${1.1*(null!==(o=e.scale)&&void 0!==o?o:1)})`,backgroundColor:1===l?s:"transparent",top:c?Kf?-1:-.5:.5,...e.style},children:[l<1&&G(dBe,{...e}),1===e.percentage?G("div",{style:{...iBe,borderBottomColor:null!==(i=e.fill)&&void 0!==i?i:"#fff",borderLeftColor:null!==(r=e.fill)&&void 0!==r?r:"#fff"}}):null]})}function dBe(e){var t,n,o,i,r,l;const s=(null!==(t=e.percentage)&&void 0!==t?t:0)>.5,c=(null!==(n=e.percentage)&&void 0!==n?n:0)-(s?.5:0),a=0===e.percentage?null!==(o=e.fill)&&void 0!==o?o:"#fff":null!==(i=e.color)&&void 0!==i?i:_f;return G("div",{style:{...rBe,backgroundColor:null!==(r=e.fill)&&void 0!==r?r:"#fff",borderColor:null!==(l=e.color)&&void 0!==l?l:_f,backgroundImage:`linear-gradient(90deg, transparent 50%, ${a} 0)`},children:G("div",{style:{...lBe,backgroundColor:s?a:"inherit",transform:`rotate(${c}turn)`}})})}const{isNode:fBe}=hk;function hBe(e){return tae(e,JTe)}function pBe(e){let t=e;for(;fBe(t)&&!hBe(t);)t=t.children[0];return hBe(t)?t:null}async function vBe(e,t,n,o=!0,i){var r,l,s,c,a,u;const d=[],f=t.stater.get();let h=null===(l=null===(r=f.store)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[e],p=null===(c=null===(s=f.store)||void 0===s?void 0:s.reference)||void 0===c?void 0:c[e];if(!h){const t=await XY(e,n);t&&(h=null===(a=t.editor)||void 0===a?void 0:a[e],h&&mFe(h,{reference:t.reference}),p=null===(u=t.reference)||void 0===u?void 0:u[e],d.push(mq(t)))}if(!h||!p)return d;if(o){const o=h.data.children[0];if(Rve(o,iae.H)&&pBe(o))for(const o in p.detail)o!==e&&d.push(...await vBe(o,t,n,!0))}if(void 0===i)return d;async function v(e){var o;const i=null==h?void 0:h.data.children[e];if(Rve(i,iae.H)&&pBe(i)){const e=null===(o=i.props)||void 0===o?void 0:o.id;if(!e)return;d.push(...await vBe(e,t,n,!1,-1))}}if(-1!==i)return await v(i),d;const g=h.data.children.length;for(let e=1;e<g;e++)await v(e);return d}function gBe(e){return e.subclass===Iye.ONE?QTe:e.subclass===Iye.TWO?eBe:void 0}function mBe(e,t,n){var o,i,r,l,s,c,a,u;const d=t[e];if(!Rve(d))return n;const f=pBe(d);if(!f)return n;const h=null!==(i=null===(o=f.props)||void 0===o?void 0:o.numerator)&&void 0!==i?i:0,p=null!==(l=null===(r=f.props)||void 0===r?void 0:r.denominator)&&void 0!==l?l:1;void 0===n&&(n=h/p==1),f.props&&Object.assign(f.props,{numerator:n?0:1,denominator:1}),!1===(null===(s=d.props)||void 0===s?void 0:s.expand)&&yBe(d,n);const v=null===(c=d.props)||void 0===c?void 0:c.subclass;if(v!==iae.H||0===e)for(let o=e+1;o<t.length;o++){let e=t[o];if(!Rve(e))continue;const i=null===(a=e.props)||void 0===a?void 0:a.subclass;if(i>=v&&i!==iae.H)break;!1===(null===(u=e.props)||void 0===u?void 0:u.expand)&&yBe(e,n),e=pBe(e),e&&(e.props&&Object.assign(e.props,{numerator:n?0:1,denominator:1}))}return n}function yBe(e,t){var n,o,i,r;if(!1!==(null===(n=e.props)||void 0===n?void 0:n.expand))return;const l=[...e.children,...null!==(i=null===(o=e.props)||void 0===o?void 0:o.list)&&void 0!==i?i:[]];for(const e of l){!1===(null===(r=e.props)||void 0===r?void 0:r.expand)&&yBe(e,t);const n=pBe(e);n&&(n.props&&Object.assign(n.props,{numerator:t?0:1,denominator:1}))}}function bBe(e,t){var n,o,i,r,l,s,c;const a=t[e];if(!Rve(a))return;const u=null===(n=a.props)||void 0===n?void 0:n.subclass;let d=0;for(let n=e-1;n>=0;n--){let e=t[n];if(!Rve(e))continue;const a=null===(o=e.props)||void 0===o?void 0:o.subclass;if(a===iae.H&&0!==n)continue;if(a<=u&&a!==iae.H)continue;if(d>=a)continue;if(e=pBe(e),!e)continue;d=a;let f=0,h=0,p=0;for(let e=n+1;e<t.length;e++){let n=t[e];if(!Rve(n))continue;const o=null===(i=n.props)||void 0===i?void 0:i.subclass;if(o>=a&&o!==iae.H)break;if(p>o)continue;if(o!==iae.H&&(p=o),n=pBe(n),!n)continue;f+=(null!==(l=null===(r=n.props)||void 0===r?void 0:r.numerator)&&void 0!==l?l:0)/(null!==(c=null===(s=n.props)||void 0===s?void 0:s.denominator)&&void 0!==c?c:1),h+=1}0!==h&&e.props&&Object.assign(e.props,{numerator:Math.max(0,f),denominator:h})}}const{genPrevLevelPath:CBe,isEditNode:wBe,iterateBlockNode:xBe,sliceDecoratePath:SBe,getEditNodeByPath:EBe,getRelativePath:kBe,getPathFromKey:DBe}=hk;function IBe(e,t,n){SBe(e.node,t,sye.name)?mBe(t[0],e.node.children):(NBe(e,n,t),TBe(e,n,t))}function NBe(e,t,n){var o,i,r,l,s,c,a,u,d;const f=null!==(o=dc(kBe(e.node,n)))&&void 0!==o?o:0,h=t.children[f];if(!tae(h,JTe))return;const p=(null!==(r=null===(i=h.props)||void 0===i?void 0:i.numerator)&&void 0!==r?r:0)/(null!==(s=null===(l=h.props)||void 0===l?void 0:l.denominator)&&void 0!==s?s:1)==1;h.props&&Object.assign(h.props,{numerator:p?0:1,denominator:1}),rSe(t)&&LBe(t,p);const v=parseInt(String(null!==(a=null===(c=h.style)||void 0===c?void 0:c.marginLeft)&&void 0!==a?a:0));for(let e=f+1;e<t.children.length;e++){let n=t.children[e];if(!tae(n))continue;if(v>=parseInt(String(null!==(d=null===(u=n.style)||void 0===u?void 0:u.marginLeft)&&void 0!==d?d:0)))break;rSe(n)?LBe(n,p):hBe(n)&&n.props&&Object.assign(n.props,{numerator:p?0:1,denominator:1})}}function LBe(e,t){var n,o;if(!rSe(e))return;const i=[...e.children,...null!==(o=null===(n=e.props)||void 0===n?void 0:n.list)&&void 0!==o?o:[]];for(const e of i)hBe(e)?e.props&&Object.assign(e.props,{numerator:t?0:1,denominator:1}):rSe(e)&&LBe(e,t)}function TBe(e,t,n){var o,i,r,l,s,c,a,u,d,f,h,p,v,g,m;const y=null!==(o=dc(n))&&void 0!==o?o:0,b=t.children[y];if(!tae(b,JTe)){let o=!1;if(tae(b,gEe.name)){tae(b.children[0],JTe)&&(o=!0)}if(!o)return void(y>0&&TBe(e,t,CBe(n)))}const C=rSe(b),w=parseInt(String(null!==(r=null===(i=b.style)||void 0===i?void 0:i.marginLeft)&&void 0!==r?r:0));for(let e=y-1;e>=0;e--){let n=t.children[e];if(!tae(n))continue;const o=rSe(n),i=parseInt(String(null!==(s=null===(l=n.style)||void 0===l?void 0:l.marginLeft)&&void 0!==s?s:0));if(w<=i&&(!C||o))continue;if(o&&(n=n.children[0],!tae(n)))continue;if(!tae(n,JTe))continue;let r=0,y=0;const b=null!==(a=null===(c=n.props)||void 0===c?void 0:c.level)&&void 0!==a?a:[];for(let n=e+1;n<t.children.length;n++){let e=t.children[n];if(!tae(e))continue;const o=rSe(e);if(parseInt(String(null!==(d=null===(u=e.style)||void 0===u?void 0:u.marginLeft)&&void 0!==d?d:0))<=i&&!o)break;if(o&&(e=e.children[0],!tae(e)))continue;if((null!==(h=null===(f=e.props)||void 0===f?void 0:f.level)&&void 0!==h?h:[]).length-b.length!=1&&!o)continue;if(!hBe(e))continue;r+=(null!==(v=null===(p=e.props)||void 0===p?void 0:p.numerator)&&void 0!==v?v:0)/(null!==(m=null===(g=e.props)||void 0===g?void 0:g.denominator)&&void 0!==m?m:1),y+=1}0!==y&&n.props&&Object.assign(n.props,{numerator:Math.max(0,r),denominator:y})}if(rSe(t)&&n.length>1){const n=DBe(t.key),o=EBe(e.node,hc(n));wBe(o)&&TBe(e,o,n)}}const BBe=e=>e=>(Jce(e).forEach((t=>{e=xBe(((t,n)=>{TBe(e,t,[...n,t.children.length-1])}),t)(e)})),e),{isReferenceNode:ABe,isNodeEqual:MBe}=hk,OBe=(e,t,n=!0,o=!0,i)=>r=>{var l,s,c,a,u,d;const{store:f,file:h}=r,p=null===(l=null==f?void 0:f.editor)||void 0===l?void 0:l[e];if(!p)return r;const v=p.data.children,g=v[t];if(!Rve(g))return r;if(!pBe(g))return r;if(o){const e=mBe(t,v,i),n=t=>{var n,o,i,l;const s=v[t];if(Rve(s,iae.H)&&pBe(s)){const t=null===(n=s.props)||void 0===n?void 0:n.id;if(!t)return;const c=s.children[0],a=null===(i=null===(o=r.store)||void 0===o?void 0:o.reference)||void 0===i?void 0:i[t];if(a){const e=a.data,t=null===(l=c.props)||void 0===l?void 0:l.uid,n={...e.props,uid:t},o={...e,props:n};MBe(c,o)||Object.assign(c,ps(o))}r=OBe(t,0,!1,!0,e)(r)}};if(0===t)for(let e=1;e<v.length;e++)n(e);else n(t)}n&&bBe(t,v);for(const t of v)if(Rve(t,iae.H)&&pBe(t)){const n=t.children[0];if(ABe(n)){const t=null===(s=n.props)||void 0===s?void 0:s.id;r=Oq(t,n,e)(r)}}r=kq(e,p)(r),r=Y3(e)(r),(null==h?void 0:h.currentPageId)===e&&(r.editor.data=p.data,r=k7(e)(r));const m=v[0];if(Rve(m,iae.H)&&pBe(m)){const t=null===(a=null===(c=f.reference)||void 0===c?void 0:c[e])||void 0===a?void 0:a.detail;for(const n in t){if(e===n)continue;const t=null===(u=f.editor)||void 0===u?void 0:u[n];if(!t)continue;let o=-1;const i=t.data.children;for(let t=1;t<i.length;t++){const n=i[t];if(Rve(n,iae.H)&&pBe(n)&&(null===(d=n.props)||void 0===d?void 0:d.id)===e){const e=pBe(n),i=pBe(m);e&&i&&(e.props=ps(i.props)),o=t;break}}-1!==o&&(r=OBe(n,o,!0,!1)(r))}}return r};const RBe={color:Kf?Hf:_f,scale:Kf?.8:1},PBe=[{type:Iye.ONE,jsx:[{icon:e=>G(aBe,{...RBe,...e,style:{...RBe.style,...e.style}}),children:[{icon:e=>G(aBe,{...RBe,...e,style:{...RBe.style,...e.style}})},{icon:e=>G(aBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:1}),children:[{icon:e=>G(aBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:1})}]}]},{icon:e=>G(aBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:1})}]},{type:Iye.TWO,jsx:[{icon:e=>G(uBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:.5}),children:[{icon:e=>G(uBe,{...RBe,...e,style:{...RBe.style,...e.style}})},{icon:e=>G(uBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:1}),children:[{icon:e=>G(uBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:1})}]}]},{icon:e=>G(uBe,{...RBe,...e,style:{...RBe.style,...e.style},percentage:1})}]}],{getPathFromKey:FBe,iterateBlockNode:HBe,sliceBlockPath:_Be,sliceDecoratePath:jBe}=hk;function WBe(e){var t,n;const o=R(jU),i=R(WU),r=R(ZU),l=R(VU),s=R(RU),c=R(PU),a=R(qU),u=(null!==(t=e.numerator)&&void 0!==t?t:0)/(null!==(n=e.denominator)&&void 0!==n?n:1)==1,d={...Vme(e.kid),...e.style};return G(Aye,{...e,style:d,iconSize:gBe(e),icon:cBe,onClickIcon:async t=>{var n;if(t.stopPropagation(),void 0===e.kid)return;if(!1===e.editable)return;const{editor:{node:u},focus:d,root:f}=r,h=[SDe(d),o4(d)],p=FBe(e.kid),v=jBe(u,p,sye.name);if(f&&v){const e=null===(n=s.file)||void 0===n?void 0:n.currentPageId;if(e){const t=await vBe(e,o,i,!0,p[0]);h.push(...t,OBe(e,p[0]))}}else{const e=_Be(u,p),t={anchor:{path:hc(e),offset:0},focus:{path:hc(e),offset:0}},n=[n=>HBe(Xs(IBe)(n,e),t)(n)],o=()=>{Eye(r,l,n,{anchor:{path:[...p],offset:0},focus:{path:[...p],offset:0}})};Fc(s.gfocus,d)?o():requestAnimationFrame(o)}c(...h),a(c)},onPointerDownIcon:e=>e.stopPropagation(),children:G("span",{style:{opacity:u?.6:1,fontSize:d.fontSize,color:d.color,textDecorationLine:u?"line-through":"none"},children:e.children})})}var zBe={name:JTe,label:function(e){return XTe[e.lang][KTe]},inner:function(e){const t=R(jU);return G(kye,{...e,group:PBe,onChange:()=>{var e;const n=t.provider(),{context:o,imperator:i}=n;null===(e=i.current)||void 0===e||e.commit(BBe())},decorate:(...e)=>wye(t,...e)})},outer:function({children:e,...t}){const n=R(jU);return X(Lye,{...t,onChange:()=>{var e;const t=n.provider(),{context:o,imperator:i}=t;null===(e=i.current)||void 0===e||e.commit(BBe())},decorate:(...e)=>wye(n,...e),children:[G(sBe,{...t}),e]})},icon:sBe},VBe=Object.freeze({__proto__:null,decorateOutline:OBe,decorateOutlineList:mBe,decorateOutlineParent:bBe,decorateOutlineToggle:yBe,decorateParent:TBe,decorateSelection:BBe,decorateState:IBe,decorateTarget:NBe,decorateToggle:LBe,default:zBe,generateCheckActions:vBe,getCheckNode:pBe,getIconSize:gBe,group:PBe,isCheckNode:hBe,list:WBe,name:JTe});function $Be(e,t){var n;const{modal:o,webdav:i,file:r}=e.stater.get();if((null==o?void 0:o.visible)||(null==i?void 0:i.visible))return;if(gje(r))return;const l=e.provider(),s=e.stater.get(),{context:c,imperator:a,rootdispatch:u,sync:d}=l,f={letterSpacing:Cc(t)?t:Number(null==t?void 0:t.toFixed(1))},{editor:{data:h},gfocus:p}=s;if(p){if(wHe(h,p)){const e=FHe(h,p);if(!(null==e?void 0:e.editor.selection))return u(pDe(f,c)),void d(u)}null===(n=a.current)||void 0===n||n.setStyle(f)}}var ZBe={...DV,inner:function(e){const t=R(jU),n=t.provider(),{context:o}=n;return G(EV,{...e,value:p$(o,"letterSpacing"),onChange:e=>{$Be(t,e)}})},outer:function(e){const{name:t}=e,n=R(jU);return G(dV,{...e,onClick:()=>{const e=n.provider(),{rootdispatch:o}=e;o(t7(t,!0))}})}},UBe=Object.freeze({__proto__:null,default:ZBe,setStyle:$Be});const{useHotkey:qBe}=Cj;const YBe={position:"relative",minHeight:80},KBe={padding:0,width:300,position:"absolute",right:0},GBe="search",XBe="replace",JBe={cn:{[GBe]:"",[XBe]:""},en:{[GBe]:"Search",[XBe]:"Replace"}};var QBe={...OV,inner:function(e){var t;const n=R(jU),o=Z(null),[i,r]=$(0),l=n.stater.get(),s=null===(t=l.file)||void 0===t?void 0:t.currentPageId;F((()=>()=>{const e=n.provider(),{rootdispatch:t}=e;t(O9())}),[n]),H((()=>{var e;const t=null===(e=o.current)||void 0===e?void 0:e.getBoundingClientRect();if(!t)return;const n=t.right-window.innerWidth+12,i=Math.max(-t.width/2,n);r(i)}),[]),F((()=>{const e=()=>{var e;const t=null===(e=o.current)||void 0===e?void 0:e.getBoundingClientRect();if(!t)return;const n=t.right-window.innerWidth+12,l=Math.max(-t.width/2,i+n);l!==i&&r(l)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i]);const c=gje(l.file);return G("div",{ref:o,style:{...KBe,right:i},children:G(AV,{...e,children:G(g2,{autoFocus:!0,style:{...YBe,minHeight:c?44:80},replace:!c,replaceable:!c,height:400,pageId:s,placeholder:JBe[e.lang][GBe],replaceholder:JBe[e.lang][XBe]})})})},outer:function(e){var t;const n=R(jU),{name:o}=e,i=_((()=>{const{modal:e,webdav:t}=n.stater.get();if((null==e?void 0:e.visible)||(null==t?void 0:t.visible))return;const i=n.provider(),{rootdispatch:r}=i;r(t7(o,!0),r4(VFe()))}),[o,n]);return qBe(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),i),G(TV,{...e,onClick:i})}};const eAe=Hz,{isDecorateNode:tAe}=hk;var nAe={..._z,outer:function(e){return G(Fz,{...e,active:e.active,onClick:()=>{}})}},oAe=Object.freeze({__proto__:null,default:nAe,isCodeNode:function(e){var t;return tAe(e)&&(null===(t=e.props)||void 0===t?void 0:t.type)===eAe}});async function iAe(e){const{modal:t,webdav:n,file:o}=e.stater.get();if((null==t?void 0:t.visible)||(null==n?void 0:n.visible))return;if(!(null==o?void 0:o.branch))return;const i=e.provider(),{rootdispatch:r}=i,l=eje(o.tree,o.branch);let s=!1;const c={callback:e=>{var t;e.id===(null===(t=o.branch)||void 0===t?void 0:t.id)?(e.active=!0,s=!0):delete e.active},deep:!0},a=await CK(l,e.worker,c);delete a.more;const u=!l.readonly,d=[c6(a,l.path),h6(l,u),jq(l,void 0,!0)];s&&d.push(z3(o.branch)),r(...d),e.webdav.detect()}const{useHotkey:rAe}=Cj;var lAe={...zj,outer:function(e){var t;const n=R(jU),o=_((async()=>{iAe(n)}),[n]);return rAe(null===(t=e.hotkey)||void 0===t?void 0:t.call(e,e),o),G(Wj,{...e,onClick:o})}},sAe=Object.freeze({__proto__:null,default:lAe,todo:iAe});const cAe=300,aAe=300,uAe=5,dAe={WXLB:{1:"bulletedlist1",2:"bulletedlist2"},YXLB:{1:"numberedlist1",2:"numberedlist2"},RWLB:{1:"checklist1",2:"checklist2"},ZDLB:{1:"togglelist1",2:"togglelist2"},ZW:"text",BT:"title",DG:{1:"outline1",2:"outline2",3:"outline3",4:"outline4",5:"outline5",6:"outline6"},CT:"blod",XT:"italic",XHX:"strikeunderline",ZHX:"strikethrough",ZH:{12:"fontsize12",13:"fontsize13",16:"fontsize16",20:"fontsize20",28:"fontsize28"},TP:"image",BG:"sheet",LJ:"link",SL:"reference",YW:"quote",FGX:"separate",BQWZ:"emoji",HEI:{1:"black1",2:"black2",3:"black3",4:"black4",5:"black5"},LANHUI:{1:"bluegrey1",2:"bluegrey2",3:"bluegrey3",4:"bluegrey4",5:"bluegrey5"},ZONG:{1:"brown1",2:"brown2",3:"brown3",4:"brown4",5:"brown5"},HONG:{1:"red1",2:"red2",3:"red3",4:"red4",5:"red5"},CHENG:{1:"orange1",2:"orange2",3:"orange3",4:"orange4",5:"orange5"},HUANG:{1:"yellow1",2:"yellow2",3:"yellow3",4:"yellow4",5:"yellow5"},LV:{1:"green1",2:"green2",3:"green3",4:"green4",5:"green5"},LAN:{1:"blue1",2:"blue2",3:"blue3",4:"blue4",5:"blue5"},DIANLAN:{1:"indigo1",2:"indigo2",3:"indigo3",4:"indigo4",5:"indigo5"},ZI:{1:"purple1",2:"purple2",3:"purple3",4:"purple4",5:"purple5"}},fAe={position:"relative",zIndex:1e6},hAe={width:aAe,position:"absolute",top:"100%",display:"inline-block"},pAe={position:"absolute",top:`calc(100% + ${uAe}px)`,width:aAe,height:cAe,boxShadow:Wf,borderRadius:4,overflow:"hidden"},vAe={height:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",flex:1},gAe={display:"flex",alignItems:"center"},mAe={marginRight:2,color:_f},yAe={width:15,height:15,marginRight:8,marginBottom:1,display:"flex",alignItems:"center",justifyContent:"center"},bAe={width:25,height:18,borderRadius:3,backgroundColor:Af,marginRight:5,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},CAe={position:"relative",height:15},wAe={position:"absolute",top:0,right:-6,display:"flex"},xAe={position:"absolute",bottom:.5,right:-6,display:"flex"},SAe={position:"absolute",left:-6,top:5,display:"flex"},EAe={width:3.5,height:3.5,borderRadius:1,backgroundColor:zf,opacity:.8,position:"relative",top:1.5},kAe={fontSize:12,transform:"scale(0.66)",fontWeight:900,color:zf,opacity:.9,transformOrigin:"top right",position:"relative",top:-1,left:-.5},DAe={width:2,height:2,borderRadius:1,borderColor:zf,borderWidth:1,borderStyle:"solid",position:"relative",top:2},IAe={fontSize:12,transform:"scale(0.7)",height:7,fontWeight:900,color:zf,opacity:.9,position:"relative",left:1.5,bottom:4},NAe={opacity:.8},LAe={backgroundColor:Tf},TAe={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,right:0,bottom:0,paddingBottom:30,fontSize:14,fontWeight:Vf,color:_f,backgroundColor:Tf},{isNode:BAe,isMetaNode:AAe,isCollapsed:MAe,getPathFromKey:OAe,getEditNodeByPath:RAe,createBlockNode:PAe}=hk,{recursiveTree:FAe,recursiveTreeSource:HAe}=OB;function _Ae(e){return BAe(e)&&e.type===eRe}function jAe(e){if(AAe(e)){return _Ae(e.children[0])}return!1}function WAe(){return{type:eRe,props:{uid:aRe(!0)},children:[]}}function zAe(e){return{tree:e,scrollHeight:cje(e),scrollTop:0,clientWidth:aAe,clientHeight:cAe,scrollOffset:{top:0,bottom:0},renderStart:{path:[0],index:0}}}function VAe(e){const t=[];return HAe(e,(e=>{var n,o;const i=dc(e);i&&t.push({...i,children:[],path:hc(e).map((e=>e.id)),hotkeys:null!==(o=null===(n=i.title)||void 0===n?void 0:n.hotkeys)&&void 0!==o?o:[]})})),t}function $Ae(e,t){const n={};FAe(e,(e=>{n[e.id]={...e,active:!1,children:[]}})),t.forEach((e=>{var t;const{matches:o,score:i,item:{path:[...r],id:l}}=e;let s=n[l];for(;r.length;){const e=r.pop(),c=n[e];c.children=null!==(t=c.children)&&void 0!==t?t:[];const a=c.children.find((e=>e.id===s.id));if(a){const e=c.children.indexOf(a);c.children[e]={...a,title:{...a.title,matches:o,score:i}}}else s.id===l?c.children.push({...s,title:{...s.title,matches:o,score:i}}):c.children.push({...s,title:{...s.title}});s={...c,title:{...c.title}}}}));const o=e.map((e=>{var t;const o=n[e.id];return(null===(t=o.children)||void 0===t?void 0:t.length)?{...o,children:o.children.map((e=>{var t,n,o;if(!e.children)return e;const i=null===(t=e.title)||void 0===t?void 0:t.icon,r=[{...e,title:{...e.title,icon:void 0},children:[]},...e.children].filter((e=>{var t;return null===(t=e.title)||void 0===t?void 0:t.score})).sort(((e,t)=>{var n,o,i,r;return(null!==(o=null===(n=e.title)||void 0===n?void 0:n.score)&&void 0!==o?o:0)-(null!==(r=null===(i=t.title)||void 0===i?void 0:i.score)&&void 0!==r?r:0)}));return{...r[0],expand:!1,title:{...r[0].title,icon:i},children:[...null!==(o=null===(n=r[0])||void 0===n?void 0:n.children)&&void 0!==o?o:[],...r.slice(1)]}})).sort(((e,t)=>{var n,o,i,r;return(null!==(o=null===(n=e.title)||void 0===n?void 0:n.score)&&void 0!==o?o:0)-(null!==(r=null===(i=t.title)||void 0===i?void 0:i.score)&&void 0!==r?r:0)}))}:null})).filter((e=>!!e)).sort(((e,t)=>{var n,o,i,r;return(null!==(o=null===(n=e.children[0].title)||void 0===n?void 0:n.score)&&void 0!==o?o:0)-(null!==(r=null===(i=t.children[0].title)||void 0===i?void 0:i.score)&&void 0!==r?r:0)}));return o.length?(o[0].children[0].active=!0,o[0].children[0].expand=!0,o):o}function ZAe(e,t){const{node:n,selection:o}=t.editor;if(!o||!MAe(o))return null;const i=OAe(e.kid),r=RAe(n,hc(i));if(!jAe(r))return null;const l=RAe(n,hc(i,2)),s=l.children.indexOf(r);if(-1===s)return null;const c=l.children.slice(s+1);return LWe(PAe(c)).slice(1)}function UAe(e,t){var n,o;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){if(e[i].id!==t[i].id)return!1;if(!Fc(null===(n=e[i].title)||void 0===n?void 0:n.matches,null===(o=t[i].title)||void 0===o?void 0:o.matches))return!1;const r=e[i].children,l=t[i].children;if(!r||!l)return!1;if(!UAe(r,l))return!1}return!0}function qAe(e){const t=null==e?void 0:e.value;return t===dAe.ZW||t===dAe.BT||t===dAe.DG[1]||t===dAe.DG[2]||t===dAe.DG[3]||t===dAe.DG[4]||t===dAe.DG[5]||t===dAe.DG[6]}function YAe(e){const t=null==e?void 0:e.value,n=null==e?void 0:e.name;return t===dAe.CT||t===dAe.XT||t===dAe.XHX||t===dAe.ZHX||t===dAe.ZH[11]||t===dAe.ZH[13]||t===dAe.ZH[16]||t===dAe.ZH[20]||t===dAe.ZH[28]||n===rLe.name||n===cLe.name}function KAe(e){const t=null==e?void 0:e.value;return t===dAe.TP||t===dAe.BG||t===dAe.LJ||t===dAe.SL||t===dAe.YW||t===dAe.FGX||t===dAe.BQWZ}function GAe(e){const t=null==e?void 0:e.value;return t===dAe.BT?iae.H:t===dAe.DG[1]?iae.H1:t===dAe.DG[2]?iae.H2:t===dAe.DG[3]?iae.H3:t===dAe.DG[4]?iae.H4:t===dAe.DG[5]?iae.H5:t===dAe.DG[6]?iae.H6:iae.H0}function XAe(e){let t=null;const n=null==e?void 0:e.value;return n===dAe.CT?t=WNe.name:n===dAe.XT?t=YNe.name:n===dAe.XHX?t=JNe.name:n===dAe.ZHX?t=nLe.name:n===dAe.ZH[11]||n===dAe.ZH[13]||n===dAe.ZH[16]||n===dAe.ZH[20]||n===dAe.ZH[28]?t=ZNe.name:(null==e?void 0:e.name)===rLe.name?t=rLe.name:(null==e?void 0:e.name)===cLe.name&&(t=cLe.name),t}const{isNode:JAe,insertNode:QAe,createInlineNode:eMe,createMetaInlineNode:tMe,createDecorateBlockNode:nMe,traverseNode:oMe,sliceBlockPath:iMe,decorateBlockNode:rMe,getEditNodeByPath:lMe,getPrevEditNodePath:sMe,setSelectionReflow:cMe,minusPointOnceByPath:aMe,iterateBlockNode:uMe,getPathFromKey:dMe}=hk,fMe=()=>e=>{var t;const n=null===(t=e.selection)||void 0===t?void 0:t.focus.path;if(!n)return e;const o=iMe(e.node,n),i=lMe(e.node,o);if(JAe(i)){let t=!1;if(oMe(i,(e=>{if(_Ae(e))return t=!0,!0})),t)return e}const r=eMe([tMe([WAe()])]);return e=QAe(r)(e)},hMe=()=>e=>{let t=null;return oMe(e.node,(n=>{if(jAe(n)){const o=dMe(n.key),i=lMe(e.node,hc(o)),r=i.children.indexOf(n);return i.children.splice(r,1),t=o,!0}})),t&&(e=aMe(t,"anchor",!1)(e),e=aMe(t,"focus",!1)(e)),e},pMe=()=>e=>{let t=null;return oMe(e.node,(n=>{if(jAe(n)){const o=dMe(n.key),i=lMe(e.node,hc(o)),r=i.children.indexOf(n),l=i.children.length;return i.children.splice(r,l-r,""),t=o,!0}})),t&&(e.selection={focus:{path:[...t],offset:0},anchor:{path:[...t],offset:0}}),e},vMe=e=>t=>{var n;const o=null===(n=t.selection)||void 0===n?void 0:n.focus.path;if(!o)return t;const i=lMe(t.node,o);if(f(i)&&i.length>0)return t;const r=sMe(t.node,o);return jAe(lMe(t.node,r))&&(t=hMe()(t),null==e||e()),t},gMe=(e,t)=>n=>{if(!t)return n;if(t.value===dAe.WXLB[1]){const t=Iye.ONE;n=mMe(e,t,uTe)(n)}else if(t.value===dAe.WXLB[2]){const t=Iye.TWO;n=mMe(e,t,uTe)(n)}else if(t.value===dAe.YXLB[1]){const t=Iye.ONE;n=mMe(e,t,VTe)(n)}else if(t.value===dAe.YXLB[1]){const t=Iye.TWO;n=mMe(e,t,VTe)(n)}else if(t.value===dAe.RWLB[1]){const t=Iye.ONE;n=mMe(e,t,JTe)(n),n=BBe()(n)}else if(t.value===dAe.RWLB[2]){const t=Iye.TWO;n=mMe(e,t,JTe)(n),n=BBe()(n)}else if(t.value===dAe.ZDLB[1]){const t=Iye.ONE;n=eEe(e,t,"inner")(n)}else if(t.value===dAe.ZDLB[2]){const t=Iye.TWO;n=eEe(e,t,"inner")(n)}return n},mMe=(e,t,n)=>o=>{const{selectionDecorate:i,style:r}=e.editor;if((null==i?void 0:i[n])!==t){const e=nMe({type:n,subclass:t});o=rMe(e,!0)(o)}else o=rMe()(o);return Jce(o=cMe(!0)(o)).forEach((t=>{o=uMe((t=>{xye(o,t,r),Qce(e,rae)&&bme(o,o.node,r)}),t)(o)})),o};function yMe(e,t,n,o,i,r){const l=GAe(r),s=async e=>{var r;let l={};if(i.root){const e=await Uve(i,t);l=null!==(r=e.editor)&&void 0!==r?r:{},n(mq(e))}const s=[],c=[pMe(),gme(i,e,l,s)];Eme(i,o,c,n,s)};i.root?Kve(i,e,n,(()=>s(l))):s(l)}function bMe(e,t,n,o,i){var r,l,s,c,a,u,d,h,p,v,g,m,y,b,C;const w=XAe(i);if(null!==w)if(w!==ZNe.name){if(w!==rLe.name){if(w!==cLe.name){if(w===WNe.name){const e={fontWeight:v$({name:w},o)?Vf:"bold"};return null===(h=n.current)||void 0===h||h.commit(pMe()),void(null===(p=n.current)||void 0===p||p.setStyle(e))}if(w===YNe.name){const e={fontStyle:v$({name:w},o)?"normal":"italic"};return null===(v=n.current)||void 0===v||v.commit(pMe()),void(null===(g=n.current)||void 0===g||g.setStyle(e))}if(w===JNe.name){const e={underline:!v$({name:w},o),lineThrough:null};return null===(m=n.current)||void 0===m||m.commit(pMe()),void(null===(y=n.current)||void 0===y||y.setProps(e,h$))}if(w===nLe.name){const e={lineThrough:!v$({name:w},o),underline:null};return null===(b=n.current)||void 0===b||b.commit(pMe()),void(null===(C=n.current)||void 0===C||C.setProps(e,h$))}}else if(f(null==i?void 0:i.data)){const e={backgroundColor:i.data};null===(u=n.current)||void 0===u||u.commit(pMe()),null===(d=n.current)||void 0===d||d.setStyle(e)}}else if(f(null==i?void 0:i.data)){const e={color:i.data};null===(c=n.current)||void 0===c||c.commit(pMe()),null===(a=n.current)||void 0===a||a.setStyle(e)}}else if(null==i?void 0:i.data){const e={fontSize:i.data};null===(r=n.current)||void 0===r||r.commit(pMe()),null===(l=n.current)||void 0===l||l.setStyle(e),null===(s=n.current)||void 0===s||s.commit(Sye(o))}}function CMe(e,t,n,o,i,r,l){var s,c,a,u,d,f,h,p,v;const g=null==l?void 0:l.value;if(g===dAe.TP)return null===(c=null===(s=i.current)||void 0===s?void 0:s.image)||void 0===c||c.click(),void(null===(a=o.current)||void 0===a||a.commit(pMe()));if(g!==dAe.BG){if(g===dAe.LJ){const i=r.lang,l=e.stater.get();return null===(d=o.current)||void 0===d||d.commit([pMe(),Tue(t,l,n,i)]),void t(g3())}if(g!==dAe.SL)if(g!==dAe.YW)if(g!==dAe.FGX)g===dAe.BQWZ&&(null===(v=o.current)||void 0===v||v.commit([pMe(),fhe()]));else{const t=e.stater.get().editor.style;null===(p=o.current)||void 0===p||p.commit([pMe(),Ofe(t)])}else{const{selectionDecorate:e}=r.editor,t=null==e?void 0:e[ofe];null===(h=o.current)||void 0===h||h.commit([pMe(),hfe(t)])}else{const i=r.lang,l=e.stater.get();null===(f=o.current)||void 0===f||f.commit([pMe(),Ghe(t,l,n,i)])}}else null===(u=o.current)||void 0===u||u.commit([pMe(),MDe(3,3,r.root)])}const{toggleBranchArrow:wMe,syncScrollHeight:xMe,recursiveTree:SMe,recursiveTreeSource:EMe,setEditPending:kMe,calcReflowIndex:DMe,resetTreeState:IMe}=OB,NMe=e=>t=>(t.menu=e,t),LMe=e=>t=>{var n,o;t.menu.tree=e,t.menu=xMe()(t.menu),t.menu=IMe()(t.menu);const i=null===(o=null===(n=e[0])||void 0===n?void 0:n.children)||void 0===o?void 0:o[0];return(null==i?void 0:i.active)&&(t=TMe(i)(t)),t},TMe=e=>t=>(t.branch=e,t),BMe=e=>t=>(SMe(t.menu.tree,(t=>{(null==e?void 0:e.id)===t.id?t.active=!0:t.active=!1})),t.menu=kMe(!0)(t.menu),t),AMe=(e,t)=>n=>{var o,i;return EMe(n.menu.tree,(o=>{var i;const r=dc(o);if(!r)return;const l=hc(o);if((null==e?void 0:e.id)===r.id){for(const e of l)!1===e.expand&&(null===(i=e.title)||void 0===i?void 0:i.toggle)&&(n.menu=wMe(e,t,!0)(n.menu));r.active=!0}else r.active=!1})),!1===e.expand&&(null===(o=e.title)||void 0===o?void 0:o.toggle)&&(null===(i=e.children)||void 0===i?void 0:i.length)&&(n.menu=wMe(e,t,!0)(n.menu),n.menu=xMe()(n.menu)),n.menu.scrollOffset&&(n.menu.scrollOffset.bottom=-n.menu.clientHeight),n.menu=kMe(!0)(n.menu),n},MMe=e=>t=>{var n,o;let i=!1,r=null;if(EMe(t.menu.tree,(e=>{var n,o,l;if(i)return!0;let s=dc(e);if(!s)return;const c=hc(e);if(s.active){i=!0,s.active=!1;const{expand:e,children:a,type:u}=s;if("outline"!==u)return!0;if(e&&(null==a?void 0:a.length))return r=a[0],r.active=!0,!0;for(;c.length;){const e=c.pop();if(!(null===(n=e.children)||void 0===n?void 0:n.length))break;const i=e.children.indexOf(s);if(-1===i)break;if(i===e.children.length-1){if("outline"===e.type){s=e;continue}let n=t.menu.tree.indexOf(e);if(-1===n)break;const i=t.menu.tree.length;for(;n<i;){if(n===i-1){r=null===(o=t.menu.tree[0].children)||void 0===o?void 0:o[0],"outline"===(null==r?void 0:r.type)&&(r.active=!0);break}if(r=null===(l=t.menu.tree[n+1].children)||void 0===l?void 0:l[0],"outline"===(null==r?void 0:r.type)){r.active=!0;break}n++}break}if(r=e.children[i+1],"outline"===(null==r?void 0:r.type)){r.active=!0;break}}return!0}})),null===r&&(r=null===(n=t.menu.tree[0].children)||void 0===n?void 0:n[0],r&&(r.active=!0)),r){t=TMe(r)(t);const n=Md(r),i=r!==(null===(o=t.menu.tree[0].children)||void 0===o?void 0:o[0]);requestAnimationFrame((()=>{var t;n&&(null===(t=e.current)||void 0===t||t.scrollBranchIntoView(n,i))}))}return t.menu=kMe(!0)(t.menu),t},OMe=e=>t=>{var n,o;let i=!1,r=null;if(EMe(t.menu.tree,(e=>{var n,o,l,s;if(i)return!0;let c=dc(e);if(!c)return;const a=hc(e);if(c.active){i=!0,c.active=!1;const{type:e}=c;if("outline"!==e)return!0;for(;a.length;){const e=a.pop();if(!(null===(n=e.children)||void 0===n?void 0:n.length))break;const i=e.children.indexOf(c);if(-1===i)break;if(0===i){if("outline"===e.type){r=e,r.active=!0;break}let n=t.menu.tree.indexOf(e);if(-1===n)break;for(;n>=0;){if(0===n){for(r=dc(t.menu.tree);(null==r?void 0:r.expand)&&(null===(o=r.children)||void 0===o?void 0:o.length);)r=dc(null==r?void 0:r.children);"outline"===(null==r?void 0:r.type)&&(r.active=!0);break}for(r=t.menu.tree[n-1];(null==r?void 0:r.expand)&&(null===(l=r.children)||void 0===l?void 0:l.length);)r=dc(null==r?void 0:r.children);if("outline"===(null==r?void 0:r.type)){r.active=!0;break}n--}break}for(r=e.children[i-1];(null==r?void 0:r.expand)&&(null===(s=r.children)||void 0===s?void 0:s.length);)r=dc(null==r?void 0:r.children);if("outline"===(null==r?void 0:r.type)){r.active=!0;break}}return!0}})),null===r&&(r=null===(n=t.menu.tree[0].children)||void 0===n?void 0:n[0],r&&(r.active=!0)),r){t=TMe(r)(t);const n=Md(r);let i=dc(t.menu.tree);for(;(null==i?void 0:i.expand)&&(null===(o=i.children)||void 0===o?void 0:o.length);)i=dc(null==i?void 0:i.children);const l=r!==i;requestAnimationFrame((()=>{var t;n&&(null===(t=e.current)||void 0===t||t.scrollBranchIntoView(n,l))}))}return t.menu=kMe(!0)(t.menu),t},RMe=e=>t=>{var n,o,i;const{branch:r}=t;if(!r)return t;t=HMe(r)(t),t=AMe(r)(t);if(!dc(r.children))return t;let l=0,s=!1;SMe(t.menu.tree,(e=>!!s||(l++,e.id===r.id?(s=!0,!0):!1!==e.expand&&void 0)));const{scrollTop:c,clientHeight:a,scrollOffset:u}=t.menu,d=l*OB.BRANCH_HEIGHT,f=d+(null!==(o=null===(n=r.children)||void 0===n?void 0:n.length)&&void 0!==o?o:0)*OB.BRANCH_HEIGHT,h=d-(c+(null!==(i=null==u?void 0:u.top)&&void 0!==i?i:0)),p=f-c-a,v=Math.min(h,p);return v<=0||requestAnimationFrame((()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView(v,!0)})),t},PMe=e=>e=>{const{branch:t}=e;return t?(e=HMe(t)(e),e=AMe(t)(e)):e},FMe=(e,t)=>n=>{var o,i;let r=0,l=null!==(i=null===(o=n.menu.scrollOffset)||void 0===o?void 0:o.bottom)&&void 0!==i?i:0;return SMe(n.menu.tree,(o=>{var i,s;if(e.id===o.id&&(null===(i=o.children)||void 0===i?void 0:i.length)){if(!o.title)return!0;const e=!o.title.open;o.title.open=e,SMe(o.children,(t=>{var n;(null===(n=t.title)||void 0===n?void 0:n.toggle)&&(t.title.open=e)}));for(const i of o.children){const{title:o}=i;(null==o?void 0:o.toggle)&&(null===(s=i.children)||void 0===s?void 0:s.length)&&(r+=i.children.length,n.menu=wMe(i,t,e)(n.menu))}const i=OB.BRANCH_HEIGHT*r;return e?l-=i:l+=i,!0}})),l>0&&(l=0),n.menu.scrollOffset&&(n.menu.scrollOffset.bottom=l),n},HMe=(e,t)=>n=>{var o,i;let r=!1,l=!1,s=0,c=0,a=null!==(i=null===(o=n.menu.scrollOffset)||void 0===o?void 0:o.bottom)&&void 0!==i?i:0;SMe(n.menu.tree,(o=>{const{title:i,expand:a,children:u,active:d}=o;if(r&&a&&(null==i?void 0:i.toggle)&&!i.open&&(null==u?void 0:u.length)&&!d){let e=!1;if(SMe(u,(t=>{if(t.active)return e=!0,!0})),e)return!1;n.menu=wMe(o,t,!1)(n.menu),c+=u.length,SMe(u,(e=>{var t;e.expand&&(null===(t=e.children)||void 0===t?void 0:t.length)&&(e.expand=!1,c+=e.children.length)})),l=!0}if(r||s++,e.id===o.id&&(r=!0),!1===a)return!1})),a-=OB.BRANCH_HEIGHT*c;const u=DMe(n.menu),d=OB.BRANCH_HEIGHT*(s-u);return a-=n.menu.clientHeight-d,a>0&&(a=0),n.menu.scrollOffset&&(n.menu.scrollOffset.bottom=a),l&&(n.menu=xMe()(n.menu)),n.menu=kMe(!0)(n.menu),n},{isMoveBackward:_Me,isMoveForward:jMe,isMoveUp:WMe,isMoveDown:zMe,isDeleteBackward:VMe,isSplitBlock:$Me,isShiftSplitBlock:ZMe}=hk;function UMe(e,t,n,o,i,r,l){const s=R(jU),c=R(WU),a=R(PU),u=R(FU),d=R(VU),f=R(ZU),h=R(GU),p=_d(e),v=_d(t),g=_d(f),m=Wd("keydown"),y=Wd("keyup"),b=Wd("pointerdown"),C=Wd("pointerdown"),w=o[2];return F((()=>(window.addEventListener("keydown",m.listener,{capture:!0}),window.addEventListener("keyup",y.listener,{capture:!0}),window.addEventListener("pointerdown",b.listener,{capture:!0}),()=>{window.removeEventListener("keydown",m.listener,{capture:!0}),window.removeEventListener("keyup",y.listener,{capture:!0}),window.removeEventListener("pointerdown",b.listener,{capture:!0})})),[m,y,b]),F((()=>{let e=!1;const t=b.subscribe((()=>{requestAnimationFrame((()=>{var t;e?e=!1:(null===(t=d.current)||void 0===t||t.commit(hMe()),w())}))})),n=C.subscribe((t=>{t.stopPropagation(),e=!0}));return()=>{t.unsubscribe(),n.unsubscribe()}}),[b,C,d,w]),F((()=>{const e=[];let t="";const o=m.subscribe((o=>{setTimeout((()=>{var i,r,f,m,y,b,C,x,S,E,k,D,I,N;let L=!0;const{tree:T,branch:B,menu:A}=v.current;if(_Me(o)||jMe(o))null===(i=d.current)||void 0===i||i.commit(hMe()),w(),L=!1;else if($Me(o)||ZMe(o)){if("outline"===(null==B?void 0:B.type)&&A.tree.length){const e=B.payload;return qAe(e)?yMe(s,c,a,d,g.current,e):YAe(e)?bMe(0,0,d,g.current,e):KAe(e)?CMe(s,a,u,d,h,g.current,e):null===(r=d.current)||void 0===r||r.commit([pMe(),gMe(g.current,e)]),void w()}null===(f=d.current)||void 0===f||f.commit(hMe()),w(),L=!1}else VMe(o)?null===(m=d.current)||void 0===m||m.commit(vMe((()=>{w(),L=!1}))):WMe(o)||zMe(o)?L=!1:"escape"===o.key.toLowerCase()&&(null===(y=d.current)||void 0===y||y.commit(hMe()),w(),L=!1);if(!L)return;const M=ZAe(p.current,g.current);if(null===M||M===t)return;if(t=M,!M)return n(LMe(T)),void(e.length=0);let O=null===(b=l.current)||void 0===b?void 0:b[1];if(M.length<8){const e=Math.max(1,M.length-1);O=null===(C=l.current)||void 0===C?void 0:C[e]}else O=null===(x=l.current)||void 0===x?void 0:x[7];const R=null===(S=null==O?void 0:O.search)||void 0===S?void 0:S.call(O,M);if(!R)return null===(E=d.current)||void 0===E||E.commit(hMe()),void w();const P=$Ae(T,R);return e.length>=3&&e.shift(),e.push(P),3===e.length&&UAe(e[0],e[1])&&UAe(e[1],e[2])?(null===(k=d.current)||void 0===k||k.commit(hMe()),void w()):0===(null===(D=e[e.length-1])||void 0===D?void 0:D.length)&&0===(null===(I=e[e.length-2])||void 0===I?void 0:I.length)?(null===(N=d.current)||void 0===N||N.commit(hMe()),void w()):void n(LMe(P))}),Uf?0:16)}));return()=>{o.unsubscribe()}}),[m,d,h,g,p,v,l,i,r,w,n,s,c,a,u]),F((()=>{const e=m.subscribe((e=>{r.current=!0,WMe(e)?n(OMe(i)):zMe(e)&&n(MMe(i))})),t=y.pipe((o=y.pipe(Pu(200)),Ha((function(e,t){var n=[];return e.subscribe(_a(t,(function(e){return n.push(e)}),(function(){t.next(n),t.complete()}))),du(o).subscribe(_a(t,(function(){var e=n;n=[],t.next(e)}),Da)),function(){n=null}})))).subscribe((e=>{const t=dc(e);WMe(t)?n(PMe()):zMe(t)&&n(RMe(i))}));var o;return()=>{e.unsubscribe(),t.unsubscribe()}}),[m,y,r,i,n]),{slash:zd([C])}}function qMe(e){return Array.isArray?Array.isArray(e):"[object Array]"===nOe(e)}const YMe=1/0;function KMe(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-YMe?"-0":t}(e)}function GMe(e){return"string"==typeof e}function XMe(e){return"number"==typeof e}function JMe(e){return!0===e||!1===e||function(e){return QMe(e)&&null!==e}(e)&&"[object Boolean]"==nOe(e)}function QMe(e){return"object"==typeof e}function eOe(e){return null!=e}function tOe(e){return!e.trim().length}function nOe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const oOe=e=>`Missing ${e} property in key`,iOe=e=>`Property 'weight' in key '${e}' must be a positive integer`,rOe=Object.prototype.hasOwnProperty;class lOe{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=sOe(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function sOe(e){let t=null,n=null,o=null,i=1,r=null;if(GMe(e)||qMe(e))o=e,t=cOe(e),n=aOe(e);else{if(!rOe.call(e,"name"))throw new Error(oOe("name"));const l=e.name;if(o=l,rOe.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(iOe(l));t=cOe(l),n=aOe(l),r=e.getFn}return{path:t,id:n,weight:i,src:o,getFn:r}}function cOe(e){return qMe(e)?e:e.split(".")}function aOe(e){return qMe(e)?e.join("."):e}const uOe={useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const i=(e,t,r)=>{if(eOe(e))if(t[r]){const l=e[t[r]];if(!eOe(l))return;if(r===t.length-1&&(GMe(l)||XMe(l)||JMe(l)))n.push(KMe(l));else if(qMe(l)){o=!0;for(let e=0,n=l.length;e<n;e+=1)i(l[e],t,r+1)}else t.length&&i(l,t,r+1)}else n.push(e)};return i(e,GMe(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var dOe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...uOe};const fOe=/[^ ]+/g;class hOe{constructor({getFn:e=dOe.getFn,fieldNormWeight:t=dOe.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,o=Math.pow(10,t);return{get(t){const i=t.match(fOe).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*e),l=parseFloat(Math.round(r*o)/o);return n.set(i,l),l},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,GMe(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();GMe(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!eOe(e)||tOe(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(eOe(i))if(qMe(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(eOe(o))if(GMe(o)&&!tOe(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else qMe(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(GMe(i)&&!tOe(i)){let e={v:i,n:this.norm.get(i)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function pOe(e,t,{getFn:n=dOe.getFn,fieldNormWeight:o=dOe.fieldNormWeight}={}){const i=new hOe({getFn:n,fieldNormWeight:o});return i.setKeys(e.map(sOe)),i.setSources(t),i.create(),i}function vOe(e,{errors:t=0,currentLocation:n=0,expectedLocation:o=0,distance:i=dOe.distance,ignoreLocation:r=dOe.ignoreLocation}={}){const l=t/e.length;if(r)return l;const s=Math.abs(o-n);return i?l+s/i:s?1:l}const gOe=32;function mOe(e,t,n,{location:o=dOe.location,distance:i=dOe.distance,threshold:r=dOe.threshold,findAllMatches:l=dOe.findAllMatches,minMatchCharLength:s=dOe.minMatchCharLength,includeMatches:c=dOe.includeMatches,ignoreLocation:a=dOe.ignoreLocation}={}){if(t.length>gOe)throw new Error((e=>`Pattern length exceeds max of ${e}.`)(gOe));const u=t.length,d=e.length,f=Math.max(0,Math.min(o,d));let h=r,p=f;const v=s>1||c,g=v?Array(d):[];let m;for(;(m=e.indexOf(t,p))>-1;){let e=vOe(t,{currentLocation:m,expectedLocation:f,distance:i,ignoreLocation:a});if(h=Math.min(e,h),p=m+u,v){let e=0;for(;e<u;)g[m+e]=1,e+=1}}p=-1;let y=[],b=1,C=u+d;const w=1<<u-1;for(let o=0;o<u;o+=1){let r=0,s=C;for(;r<s;){vOe(t,{errors:o,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:a})<=h?r=s:C=s,s=Math.floor((C-r)/2+r)}C=s;let c=Math.max(1,f-s+1),m=l?d:Math.min(f+s,d)+u,x=Array(m+2);x[m+1]=(1<<o)-1;for(let r=m;r>=c;r-=1){let l=r-1,s=n[e.charAt(l)];if(v&&(g[l]=+!!s),x[r]=(x[r+1]<<1|1)&s,o&&(x[r]|=(y[r+1]|y[r])<<1|1|y[r+1]),x[r]&w&&(b=vOe(t,{errors:o,currentLocation:l,expectedLocation:f,distance:i,ignoreLocation:a}),b<=h)){if(h=b,p=l,p<=f)break;c=Math.max(1,2*f-p)}}if(vOe(t,{errors:o+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:a})>h)break;y=x}const x={isMatch:p>=0,score:Math.max(.001,b)};if(v){const e=function(e=[],t=dOe.minMatchCharLength){let n=[],o=-1,i=-1,r=0;for(let l=e.length;r<l;r+=1){let l=e[r];l&&-1===o?o=r:l||-1===o||(i=r-1,i-o+1>=t&&n.push([o,i]),o=-1)}return e[r-1]&&r-o>=t&&n.push([o,r-1]),n}(g,s);e.length?c&&(x.indices=e):x.isMatch=!1}return x}function yOe(e){let t={};for(let n=0,o=e.length;n<o;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<o-n-1}return t}class bOe{constructor(e,{location:t=dOe.location,threshold:n=dOe.threshold,distance:o=dOe.distance,includeMatches:i=dOe.includeMatches,findAllMatches:r=dOe.findAllMatches,minMatchCharLength:l=dOe.minMatchCharLength,isCaseSensitive:s=dOe.isCaseSensitive,ignoreLocation:c=dOe.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:o,includeMatches:i,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(e,t)=>{this.chunks.push({pattern:e,alphabet:yOe(e),startIndex:t})},u=this.pattern.length;if(u>gOe){let e=0;const t=u%gOe,n=u-t;for(;e<n;)a(this.pattern.substr(e,gOe),e),e+=gOe;if(t){const e=u-gOe;a(this.pattern.substr(e),e)}}else a(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:o,distance:i,threshold:r,findAllMatches:l,minMatchCharLength:s,ignoreLocation:c}=this.options;let a=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:h})=>{const{isMatch:p,score:v,indices:g}=mOe(e,t,f,{location:o+h,distance:i,threshold:r,findAllMatches:l,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});p&&(d=!0),u+=v,p&&g&&(a=[...a,...g])}));let f={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(f.indices=a),f}}class COe{constructor(e){this.pattern=e}static isMultiMatch(e){return wOe(e,this.multiRegex)}static isSingleMatch(e){return wOe(e,this.singleRegex)}search(){}}function wOe(e,t){const n=e.match(t);return n?n[1]:null}class xOe extends COe{constructor(e,{location:t=dOe.location,threshold:n=dOe.threshold,distance:o=dOe.distance,includeMatches:i=dOe.includeMatches,findAllMatches:r=dOe.findAllMatches,minMatchCharLength:l=dOe.minMatchCharLength,isCaseSensitive:s=dOe.isCaseSensitive,ignoreLocation:c=dOe.ignoreLocation}={}){super(e),this._bitapSearch=new bOe(e,{location:t,threshold:n,distance:o,includeMatches:i,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class SOe extends COe{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const o=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,o.push([t,n-1]);const r=!!o.length;return{isMatch:r,score:r?0:1,indices:o}}}const EOe=[class extends COe{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},SOe,class extends COe{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends COe{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends COe{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends COe{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends COe{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},xOe],kOe=EOe.length,DOe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const IOe=new Set([xOe.type,SOe.type]);class NOe{constructor(e,{isCaseSensitive:t=dOe.isCaseSensitive,includeMatches:n=dOe.includeMatches,minMatchCharLength:o=dOe.minMatchCharLength,ignoreLocation:i=dOe.ignoreLocation,findAllMatches:r=dOe.findAllMatches,location:l=dOe.location,threshold:s=dOe.threshold,distance:c=dOe.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:o,findAllMatches:r,ignoreLocation:i,location:l,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(DOe).filter((e=>e&&!!e.trim())),o=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let r=!1,l=-1;for(;!r&&++l<kOe;){const e=EOe[l];let n=e.isMultiMatch(i);n&&(o.push(new e(n,t)),r=!0)}if(!r)for(l=-1;++l<kOe;){const e=EOe[l];let n=e.isSingleMatch(i);if(n){o.push(new e(n,t));break}}}return o}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let i=0,r=[],l=0;for(let o=0,s=t.length;o<s;o+=1){const s=t[o];r.length=0,i=0;for(let t=0,o=s.length;t<o;t+=1){const o=s[t],{isMatch:c,indices:a,score:u}=o.search(e);if(!c){l=0,i=0,r.length=0;break}if(i+=1,l+=u,n){const e=o.constructor.type;IOe.has(e)?r=[...r,...a]:r.push(a)}}if(i){let e={isMatch:!0,score:l/i};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}}const LOe=[];function TOe(e,t){for(let n=0,o=LOe.length;n<o;n+=1){let o=LOe[n];if(o.condition(e,t))return new o(e,t)}return new bOe(e,t)}const BOe="$and",AOe="$or",MOe="$path",OOe="$val",ROe=e=>!(!e[BOe]&&!e[AOe]),POe=e=>({[BOe]:Object.keys(e).map((t=>({[t]:e[t]})))});function FOe(e,t,{auto:n=!0}={}){const o=e=>{let i=Object.keys(e);const r=(e=>!!e[MOe])(e);if(!r&&i.length>1&&!ROe(e))return o(POe(e));if((e=>!qMe(e)&&QMe(e)&&!ROe(e))(e)){const o=r?e[MOe]:i[0],l=r?e[OOe]:e[o];if(!GMe(l))throw new Error((e=>`Invalid value for key ${e}`)(o));const s={keyId:aOe(o),pattern:l};return n&&(s.searcher=TOe(l,t)),s}let l={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];qMe(n)&&n.forEach((e=>{l.children.push(o(e))}))})),l};return ROe(e)||(e=POe(e)),o(e)}function HOe(e,t){const n=e.matches;t.matches=[],eOe(n)&&n.forEach((e=>{if(!eOe(e.indices)||!e.indices.length)return;const{indices:n,value:o}=e;let i={indices:n,value:o};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function _Oe(e,t){t.score=e.score}class jOe{constructor(e,t={},n){this.options={...dOe,...t},this.options.useExtendedSearch,this._keyStore=new lOe(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof hOe))throw new Error("Incorrect 'index' type");this._myIndex=t||pOe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){eOe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,o=this._docs.length;n<o;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,o-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:o,shouldSort:i,sortFn:r,ignoreFieldNorm:l}=this.options;let s=GMe(e)?GMe(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=dOe.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:o,score:i})=>{const r=e?e.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(t?1:o))})),e.score=n}))}(s,{ignoreFieldNorm:l}),i&&s.sort(r),XMe(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=dOe.includeMatches,includeScore:o=dOe.includeScore}={}){const i=[];return n&&i.push(HOe),o&&i.push(_Oe),e.map((e=>{const{idx:n}=e,o={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,o)})),o}))}(s,this._docs,{includeMatches:n,includeScore:o})}_searchStringList(e){const t=TOe(e,this.options),{records:n}=this._myIndex,o=[];return n.forEach((({v:e,i:n,n:i})=>{if(!eOe(e))return;const{isMatch:r,score:l,indices:s}=t.searchIn(e);r&&o.push({item:e,idx:n,matches:[{score:l,value:e,norm:i,indices:s}]})})),o}_searchLogical(e){const t=FOe(e,this.options),n=(e,t,o)=>{if(!e.children){const{keyId:n,searcher:i}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return r&&r.length?[{idx:o,item:t,matches:r}]:[]}const i=[];for(let r=0,l=e.children.length;r<l;r+=1){const l=e.children[r],s=n(l,t,o);if(s.length)i.push(...s);else if(e.operator===BOe)return[]}return i},o=this._myIndex.records,i={},r=[];return o.forEach((({$:e,i:o})=>{if(eOe(e)){let l=n(t,e,o);l.length&&(i[o]||(i[o]={idx:o,item:e,matches:[]},r.push(i[o])),l.forEach((({matches:e})=>{i[o].matches.push(...e)})))}})),r}_searchObjectList(e){const t=TOe(e,this.options),{keys:n,records:o}=this._myIndex,i=[];return o.forEach((({$:e,i:o})=>{if(!eOe(e))return;let r=[];n.forEach(((n,o)=>{r.push(...this._findMatches({key:n,value:e[o],searcher:t}))})),r.length&&i.push({idx:o,item:e,matches:r})})),i}_findMatches({key:e,value:t,searcher:n}){if(!eOe(t))return[];let o=[];if(qMe(t))t.forEach((({v:t,i:i,n:r})=>{if(!eOe(t))return;const{isMatch:l,score:s,indices:c}=n.searchIn(t);l&&o.push({score:s,key:e,value:t,idx:i,norm:r,indices:c})}));else{const{v:i,n:r}=t,{isMatch:l,score:s,indices:c}=n.searchIn(i);l&&o.push({score:s,key:e,value:i,norm:r,indices:c})}return o}}function WOe(){return G("svg",{width:"8",viewBox:"0 0 8 12",children:G("path",{fill:zf,d:"M1.35187 5.33801H6.64813V0.70378C6.64813 0.528199 6.71788 0.359808 6.84203 0.235653C6.96619 0.111498 7.13458 0.041748 7.31016 0.041748C7.48574 0.041748 7.65413 0.111498 7.77829 0.235653C7.90244 0.359808 7.9722 0.528199 7.9722 0.70378V11.2963C7.9722 11.4719 7.90244 11.6403 7.77829 11.7644C7.65413 11.8886 7.48574 11.9583 7.31016 11.9583C7.13458 11.9583 6.96619 11.8886 6.84203 11.7644C6.71788 11.6403 6.64813 11.4719 6.64813 11.2963V6.66207H1.35187V11.2963C1.35187 11.4719 1.28212 11.6403 1.15797 11.7644C1.03381 11.8886 0.86542 11.9583 0.689838 11.9583C0.514256 11.9583 0.345865 11.8886 0.22171 11.7644C0.097555 11.6403 0.0278053 11.4719 0.0278053 11.2963V0.70378C0.0278053 0.528199 0.097555 0.359808 0.22171 0.235653C0.345865 0.111498 0.514256 0.041748 0.689838 0.041748C0.86542 0.041748 1.03381 0.111498 1.15797 0.235653C1.28212 0.359808 1.35187 0.528199 1.35187 0.70378V5.33801Z"})})}function zOe(e){var t;return G(J_,{...e,children:X("div",{style:{...CAe,right:1.5},children:[G(hR,{}),G("span",{style:{...xAe,right:1===e.num?-5:-6},children:G("span",{style:IAe,children:null!==(t=e.num)&&void 0!==t?t:"n"})})]})})}jOe.version="7.0.0",jOe.createIndex=pOe,jOe.parseIndex=function(e,{getFn:t=dOe.getFn,fieldNormWeight:n=dOe.fieldNormWeight}={}){const{keys:o,records:i}=e,r=new hOe({getFn:t,fieldNormWeight:n});return r.setKeys(o),r.setIndexRecords(i),r},jOe.config=dOe,jOe.parseQuery=FOe,function(...e){LOe.push(...e)}(NOe);var VOe=Object.freeze({__proto__:null,BulletedOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:wAe,children:G("span",{style:EAe})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})},BulletedTitleIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:wAe,children:G("span",{style:EAe})})]})})},CheckOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:wAe,children:G("span",{style:DAe})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})},CheckTitleIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:wAe,children:G("span",{style:DAe})})]})})},NumberedOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:wAe,children:G("span",{style:kAe,children:"1"})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})},NumberedTitleIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:wAe,children:G("span",{style:kAe,children:"1"})})]})})},OutlineIcon:zOe,TitleSVG:WOe,ToggleBulletedListIcon:function(e){return G(J_,{...e,children:X("svg",{width:14.5,viewBox:"0 0 12 12",children:[G("path",{d:"M1 9V11.6038L3.1 10.2453L1 9Z",fill:zf}),G("path",{d:"M1 4.75471V7.35849L3.1 6L1 4.75471Z",fill:zf}),G("path",{d:"M1 0.5V3.10378L3.1 1.74529L1 0.5Z",fill:zf}),G("path",{d:"M11 9.78041V10.77H7V9.78041H11ZM11 5.52916V6.51875H7V5.52916H11ZM11 1.27V2.25958H7V1.27H11Z",fill:zf}),G("path",{d:"M5.23636 1C5.43709 1 5.6 1.16291 5.6 1.36364V2.23636C5.6 2.43709 5.43709 2.6 5.23636 2.6H4.36364C4.16291 2.6 4 2.43709 4 2.23636V1.36364C4 1.16291 4.16291 1 4.36364 1H5.23636Z",fill:zf}),G("path",{d:"M5.23636 5.2C5.43709 5.2 5.6 5.36291 5.6 5.56363V6.43636C5.6 6.63709 5.43709 6.8 5.23636 6.8H4.36364C4.16291 6.8 4 6.63709 4 6.43636V5.56363C4 5.36291 4.16291 5.2 4.36364 5.2H5.23636Z",fill:zf}),G("path",{d:"M5.23636 9.5C5.43709 9.5 5.6 9.66291 5.6 9.86364V10.7364C5.6 10.9371 5.43709 11.1 5.23636 11.1H4.36364C4.16291 11.1 4 10.9371 4 10.7364V9.86364C4 9.66291 4.16291 9.5 4.36364 9.5H5.23636Z",fill:zf})]})})},ToggleBulletedOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:SAe,children:G(cO,{style:NAe,width:4,fill:zf})}),G("span",{style:wAe,children:G("span",{style:EAe})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})},ToggleCheckListIcon:function(e){return G(J_,{...e,children:X("svg",{width:14.5,viewBox:"0 0 12 12",children:[G("path",{d:"M1 9V11.6038L3.1 10.2453L1 9Z",fill:zf}),G("path",{d:"M1 4.75471V7.35849L3.1 6L1 4.75471Z",fill:zf}),G("path",{d:"M1 0.5V3.10378L3.1 1.74529L1 0.5Z",fill:zf}),G("path",{d:"M11 9.78041V10.77H7V9.78041H11ZM11 5.52916V6.51875H7V5.52916H11ZM11 1.27V2.25958H7V1.27H11Z",fill:zf}),G("path",{d:"M4.48165 10.211L4.91743 10.6613L6.01835 9.5H6.5L4.8945 11.159L4.77982 11.0168L4 10.211H4.48165Z",fill:zf}),G("path",{d:"M4.48165 10.211L4.91743 10.6613L6.01835 9.5H6.5L4.8945 11.159L4.77982 11.0168L4 10.211H4.48165Z",fill:zf}),G("path",{d:"M4.48165 10.211L4.91743 10.6613L6.01835 9.5H6.5L4.8945 11.159L4.77982 11.0168L4 10.211H4.48165Z",stroke:zf,"stroke-width":"0.5"}),G("path",{d:"M4.48165 5.91101L4.91743 6.36131L6.01835 5.2H6.5L4.8945 6.85902L4.77982 6.71682L4 5.91101H4.48165Z",fill:zf}),G("path",{d:"M4.48165 5.91101L4.91743 6.36131L6.01835 5.2H6.5L4.8945 6.85902L4.77982 6.71682L4 5.91101H4.48165Z",fill:zf}),G("path",{d:"M4.48165 5.91101L4.91743 6.36131L6.01835 5.2H6.5L4.8945 6.85902L4.77982 6.71682L4 5.91101H4.48165Z",stroke:zf,"stroke-width":"0.5"}),G("path",{d:"M4.48165 1.71101L4.91743 2.16132L6.01835 1H6.5L4.8945 2.65902L4.77982 2.51682L4 1.71101H4.48165Z",fill:zf}),G("path",{d:"M4.48165 1.71101L4.91743 2.16132L6.01835 1H6.5L4.8945 2.65902L4.77982 2.51682L4 1.71101H4.48165Z",fill:zf}),G("path",{d:"M4.48165 1.71101L4.91743 2.16132L6.01835 1H6.5L4.8945 2.65902L4.77982 2.51682L4 1.71101H4.48165Z",stroke:zf,"stroke-width":"0.5"})]})})},ToggleCheckOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:SAe,children:G(cO,{style:NAe,width:4,fill:zf})}),G("span",{style:wAe,children:G("span",{style:DAe})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})},ToggleNumberedListIcon:function(e){return G(J_,{...e,children:X("svg",{width:14.5,viewBox:"0 0 12 12",children:[G("path",{d:"M1 9V11.6038L3.1 10.2453L1 9Z",fill:zf}),G("path",{d:"M1 4.75471V7.35849L3.1 6L1 4.75471Z",fill:zf}),G("path",{d:"M1 0.5V3.10378L3.1 1.74529L1 0.5Z",fill:zf}),G("path",{d:"M11 9.78041V10.77H7V9.78041H11ZM11 5.52916V6.51875H7V5.52916H11ZM11 1.27V2.25958H7V1.27H11Z",fill:zf}),G("path",{d:"M5.18029 8.8C5.44764 8.8 5.65888 8.86919 5.82226 9.01025C5.97904 9.1522 6.06073 9.34537 6.06073 9.59245C6.06073 9.90782 5.9122 10.1226 5.62257 10.2268C5.77853 10.2798 5.89735 10.3607 5.97821 10.4658C6.06816 10.5745 6.11272 10.7164 6.11272 10.8863C6.11272 11.1531 6.0269 11.3714 5.85939 11.5412C5.68116 11.7111 5.44764 11.8 5.16543 11.8C4.89478 11.8 4.67529 11.7236 4.51191 11.5736C4.32625 11.4038 4.22228 11.1576 4.2 10.8341H4.60845C4.61588 11.0273 4.67199 11.1774 4.78339 11.2825C4.87993 11.3795 5.00618 11.428 5.16213 11.428C5.33294 11.428 5.46992 11.3714 5.57389 11.2663C5.663 11.1693 5.71086 11.0516 5.71086 10.9069C5.71086 10.7362 5.663 10.6113 5.56646 10.5305C5.47734 10.4496 5.34367 10.4092 5.16956 10.4092H4.97565V10.0776H5.16543C5.32882 10.0776 5.45176 10.0372 5.53345 9.96083C5.61432 9.88356 5.65888 9.77035 5.65888 9.6248C5.65888 9.47925 5.61845 9.36963 5.54418 9.29326C5.46249 9.2124 5.33954 9.17646 5.18359 9.17646C5.02433 9.17646 4.89808 9.22049 4.80897 9.30944C4.71985 9.39839 4.66456 9.53226 4.64889 9.71016H4.25281C4.27509 9.42264 4.37163 9.20072 4.54574 9.039C4.70995 8.87727 4.92036 8.8 5.18029 8.8Z",fill:zf,stroke:zf,"stroke-width":"0.2"}),G("path",{d:"M5.13982 4.5C5.38859 4.5 5.59753 4.57613 5.75769 4.73547C5.91541 4.89481 5.9959 5.09753 5.9959 5.34893C5.9959 5.59591 5.9081 5.8181 5.73981 6.0217C5.63737 6.13678 5.4577 6.28816 5.19835 6.48025C4.91625 6.68297 4.74877 6.86267 4.69349 7.01758H5.99996V7.4H4.2C4.2 7.11673 4.28374 6.86975 4.45935 6.65552C4.55447 6.53159 4.75202 6.36074 5.04795 6.13767C5.22437 6.00134 5.34876 5.89423 5.42193 5.81013C5.53818 5.66673 5.60079 5.51181 5.60079 5.34451C5.60079 5.18516 5.56014 5.06566 5.48046 4.98599C5.39916 4.90632 5.27884 4.86648 5.12518 4.86648C4.96096 4.86648 4.83657 4.92579 4.75202 5.04973C4.66422 5.16923 4.62032 5.34096 4.613 5.57201H4.21463C4.21789 5.25333 4.30162 4.9975 4.46666 4.80717C4.63495 4.60003 4.86178 4.5 5.13982 4.5Z",fill:zf,stroke:zf,"stroke-width":"0.2"}),G("path",{d:"M4.93661 0.300003H5.25389V3.3H4.83285V0.85089C4.66649 1.02269 4.45468 1.14874 4.2 1.22904V0.774326C4.32348 0.740713 4.4504 0.682823 4.59017 0.598789C4.72909 0.505419 4.84485 0.409247 4.93661 0.300003Z",fill:zf,stroke:zf,"stroke-width":"0.2"})]})})},ToggleNumberedOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:SAe,children:G(cO,{style:NAe,width:4,fill:zf})}),G("span",{style:wAe,children:G("span",{style:kAe,children:"1"})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})},ToggleOutlineIcon:function(e){return G(J_,{...e,children:X("div",{style:CAe,children:[G(WOe,{}),G("span",{style:SAe,children:G(cO,{style:NAe,width:4,fill:zf})}),G("span",{style:xAe,children:G("span",{style:IAe,children:"n"})})]})})}});const{colors:$Oe}=ig;function ZOe(e,t,n){var o,i,r,l;const s=[qOe("1",[qOe("2",[],{feature:!0,value:dAe.HEI[2],hotkeys:["ss2","hs2","shense2","heise2","black2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.HEI[3],hotkeys:["ss3","hs3","shense3","heise3","black3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.HEI[4],hotkeys:["ss4","hs4","shense4","heise4","black4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.HEI[5],hotkeys:["ss5","hs5","shense5","heise5","black5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.HEI[1],hotkeys:["ss1","hs1","heise1","black1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.LANHUI[2],hotkeys:["lh2","lhs2","lanhui2","lanhuise2","bluegrey2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.LANHUI[3],hotkeys:["lh3","lhs3","lanhui3","lanhuise3","bluegrey3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.LANHUI[4],hotkeys:["lh4","lhs4","lanhui4","lanhuise4","bluegrey4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.LANHUI[5],hotkeys:["lh5","lhs5","lanhui5","lanhuise5","bluegrey5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.LANHUI[1],hotkeys:["lh1","lhs1","lanhui1","lanhuise1","bluegrey1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.ZONG[2],hotkeys:["zs2","zongse2","brown2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.ZONG[3],hotkeys:["zs3","zongse3","brown3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.ZONG[4],hotkeys:["zs4","zongse4","brown4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.ZONG[5],hotkeys:["zs5","zongse5","brown5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.ZONG[1],hotkeys:["zs1","zongse1","brown1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.HONG[2],hotkeys:["hs2","hongse2","red2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.HONG[3],hotkeys:["hs3","hongse3","red3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.HONG[4],hotkeys:["hs4","hongse4","red4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.HONG[5],hotkeys:["hs5","hongse5","red5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.HONG[1],hotkeys:["hs1","hongse1","red1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.CHENG[2],hotkeys:["cs2","chengse2","orange2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.CHENG[3],hotkeys:["cs3","chengse3","orange3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.CHENG[4],hotkeys:["cs4","chengse4","orange4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.CHENG[5],hotkeys:["cs5","chengse5","orange5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.CHENG[1],hotkeys:["cs1","chengse1","orange1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.HUANG[2],hotkeys:["hs2","huangse2","yellow2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.HUANG[3],hotkeys:["hs3","huangse3","yellow3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.HUANG[4],hotkeys:["hs4","huangse4","yellow4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.HUANG[5],hotkeys:["hs5","huangse5","yellow5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.HUANG[1],hotkeys:["hs1","huangse1","yellow1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.LV[2],hotkeys:["ls2","lvse2","green2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.LV[3],hotkeys:["ls3","lvse3","green3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.LV[4],hotkeys:["ls4","lvse4","green4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.LV[5],hotkeys:["ls5","lvse5","green5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.LV[1],hotkeys:["ls1","lvse1","green1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.LAN[2],hotkeys:["ls2","lanse2","blue2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.LAN[3],hotkeys:["ls3","lanse3","blue3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.LAN[4],hotkeys:["ls4","lanse4","blue4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.LAN[5],hotkeys:["ls5","lanse5","blue5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.LAN[1],hotkeys:["ls1","lanse1","blue1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.DIANLAN[2],hotkeys:["dl2","dls2","dianlan2","dianlanse2","indigo2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.DIANLAN[3],hotkeys:["dl3","dls3","dianlan3","dianlanse3","indigo3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.DIANLAN[4],hotkeys:["dl4","dls4","dianlan4","dianlanse4","indigo4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.DIANLAN[5],hotkeys:["dl5","dls5","dianlan5","dianlanse5","indigo5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.DIANLAN[1],hotkeys:["dl1","dls1","dianlan1","dianlanse1","indigo1"],expand:!1,toggle:!0,icon:rLe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.ZI[2],hotkeys:["zs2","zise2","purple2"],expand:!1,toggle:!0}),qOe("3",[],{feature:!0,value:dAe.ZI[3],hotkeys:["zs3","zise3","purple3"],expand:!1,toggle:!0}),qOe("4",[],{feature:!0,value:dAe.ZI[4],hotkeys:["zs4","zise4","purple4"],expand:!1,toggle:!0}),qOe("5",[],{feature:!0,value:dAe.ZI[5],hotkeys:["zs5","zise5","purple5"],expand:!1,toggle:!0})],{feature:!0,value:dAe.ZI[1],hotkeys:["zs1","zise1","purple1"],expand:!1,toggle:!0,icon:rLe.icon})],c=Oi($Oe);for(let a=0;a<s.length;a++){const u=s[a];if(!u.payload)continue;let d=c[a].slice();if(n&&d.reverse(),u.payload.data=d[0],u.payload.name=e,null===(i=null===(o=u.title)||void 0===o?void 0:o.hotkeys)||void 0===i||i.push(...t),u.children)for(let n=0;n<u.children.length;n++){const o=u.children[n];(null==o?void 0:o.payload)&&(o.payload.data=d[n+1],o.payload.name=e,null===(l=null===(r=o.title)||void 0===r?void 0:r.hotkeys)||void 0===l||l.push(...t))}}return s}function UOe(e,t){return{type:"page",id:aRe(!0),title:{text:e},touchable:!1,expand:!0,children:t,transition:!0}}function qOe(e,t,n){const{icon:o,hotkeys:i,matches:r,toggle:l,expand:s,active:c,value:a,data:u,name:d,feature:f}=n;return{type:"outline",id:aRe(!0),title:{text:e,icon:o,hotkeys:[...i,e,null!=a?a:""].filter((e=>!!e)),matches:r,toggle:l,feature:f},payload:{value:a,data:u,name:d},active:c,expand:s,children:t,touchable:!1,transition:!0,style:LAe}}const{recursiveTree:YOe}=OB;function KOe(e,t,n){var o;const{uid:i=aRe(!0)}=e,r=[UOe("",[qOe("1",[qOe("2",[],{feature:!0,value:dAe.WXLB[2],hotkeys:["wxlb2","wuxuliebiao2"],expand:!1,toggle:!0})],{feature:!0,value:dAe.WXLB[1],hotkeys:["wxlb1","wuxuliebiao1"],expand:!0,toggle:!0,active:!0,icon:MTe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.YXLB[2],hotkeys:["yxlb2","youxuliebiao2"],expand:!1,toggle:!0})],{feature:!0,value:dAe.YXLB[1],hotkeys:["yxlb1","youxuliebiao1"],expand:!1,toggle:!0,icon:qTe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.RWLB[2],hotkeys:["rwlb2","renwuliebiao2"],expand:!1,toggle:!0})],{feature:!0,value:dAe.RWLB[1],hotkeys:["rwlb1","renwuliebiao1"],expand:!1,toggle:!0,icon:zBe.icon}),qOe("1",[qOe("2",[],{feature:!0,value:dAe.ZDLB[2],hotkeys:["zdlb2","zhedieliebiao2"],expand:!1,toggle:!0})],{feature:!0,value:dAe.ZDLB[1],hotkeys:["zdlb1","zhedieliebiao1"],expand:!1,toggle:!0,icon:gEe.icon})]),UOe("",[qOe("",[],{value:dAe.ZW,hotkeys:["zw","zhengwen","content"],expand:!1,toggle:!0,icon:()=>G(hR,{style:{position:"relative",right:1.5}})}),qOe("",[],{value:dAe.BT,hotkeys:["bt","biaoti","title"],expand:!1,toggle:!0,icon:()=>G(hR,{style:{position:"relative",right:1.5}})}),qOe("1",[],{value:dAe.DG[1],hotkeys:["dg1","h1","dagang1"],expand:!1,toggle:!0,icon:()=>G(zOe,{num:1})}),qOe("2",[],{value:dAe.DG[2],hotkeys:["dg2","h2","dagang2"],expand:!1,toggle:!0,icon:()=>G(zOe,{num:2})}),qOe("3",[],{value:dAe.DG[3],hotkeys:["dg3","h3","dagang3"],expand:!1,toggle:!0,icon:()=>G(zOe,{num:3})}),qOe("4",[],{value:dAe.DG[4],hotkeys:["dg4","h4","dagang4"],expand:!1,toggle:!0,icon:()=>G(zOe,{num:4})}),qOe("5",[],{value:dAe.DG[5],hotkeys:["dg5","h5","dagang5"],expand:!1,toggle:!0,icon:()=>G(zOe,{num:5})}),qOe("6",[],{value:dAe.DG[6],hotkeys:["dg6","h6","dagang6"],expand:!1,toggle:!0,icon:()=>G(zOe,{num:6})})]),UOe("",[qOe("",[],{value:dAe.CT,hotkeys:["ct","cuti","bolder"],expand:!1,toggle:!0,icon:WNe.icon}),qOe("",[],{value:dAe.XT,hotkeys:["xt","xieti"],expand:!1,toggle:!0,icon:YNe.icon}),qOe("",[],{value:dAe.XHX,hotkeys:["xhx","xiahuaxian"],expand:!1,toggle:!0,icon:JNe.icon}),qOe("",[],{value:dAe.ZHX,hotkeys:["zhx","zhonghuaxian","strikethrough"],expand:!1,toggle:!0,icon:nLe.icon}),qOe("12",[qOe("13",[],{value:dAe.ZH[13],data:ch(13),hotkeys:["zh13","zihao13"],expand:!1,toggle:!0}),qOe("16",[],{value:dAe.ZH[16],data:ch(16),hotkeys:["zh16","zihao16"],expand:!1,toggle:!0}),qOe("20",[],{value:dAe.ZH[20],data:ch(20),hotkeys:["zh20","zihao20"],expand:!1,toggle:!0}),qOe("28",[],{value:dAe.ZH[28],data:ch(28),hotkeys:["zh28","zihao28"],expand:!1,toggle:!0})],{value:dAe.ZH[12],data:ch(12),hotkeys:["zh11","zihao11"],expand:!1,toggle:!0,icon:ZNe.icon})]),UOe("",[qOe("",[],{value:dAe.TP,hotkeys:["tp","tupian","img"],expand:!1,toggle:!0,icon:tve.icon}),qOe("",[],{value:dAe.BG,hotkeys:["bg","biaoge"],expand:!1,toggle:!0,icon:_Ne.icon}),qOe("",[],{value:dAe.LJ,hotkeys:["lg","lianjie"],expand:!1,toggle:!0,icon:xde.icon}),qOe("",[],{value:dAe.SL,hotkeys:["sl","shuanglian","link"],expand:!1,toggle:!0,icon:Ipe.icon}),qOe("",[],{value:dAe.YW,hotkeys:["yw","yinwen"],expand:!1,toggle:!0,icon:bfe.icon}),qOe("",[],{value:dAe.FGX,hotkeys:["fgx","fengexian"],expand:!1,toggle:!0,icon:Xfe.icon}),qOe("",[],{value:dAe.BQWZ,hotkeys:["bqwz","biaoqingwenzi"],expand:!1,toggle:!0,icon:Nhe.icon})]),UOe("",ZOe(rLe.name,["wzys","wenziyanse","textcolor"],!0)),UOe("",ZOe(cLe.name,["bjs","bjys","beijingyanse","backgroundcolor"]))],l={tree:r,list:VAe(r),menu:zAe(r),layout:{height:cAe,top:uAe}};let s=!1;if(YOe(l.menu.tree,(e=>!!s||(e.active?(s=!0,l.branch=e,!0):void 0))),!(null==t?void 0:t.focus))return l;const{focus:c}=t,a=NHe(xHe(c,eHe(i)));for(const e in n.options){const t=null===(o=n.options)||void 0===o?void 0:o[e];e===a&&(l.layout=t.layout)}return l}const{isWhite:GOe}=ig;const XOe={color:Hf,opacity:.95,fontSize:11,fontWeight:"bold"};function JOe(e){const t=null==e?void 0:e.value,n=null==e?void 0:e.data;if(t===dAe.WXLB[1])return X(K,{children:[G(STe,{scale:1.2,style:{marginLeft:0}}),G(ETe,{scale:1.05,style:{marginLeft:4}})]});if(t===dAe.WXLB[2])return X(K,{children:[G(DTe,{scale:1.1,style:{marginLeft:0}}),G(DTe,{scale:1.1,style:{marginLeft:3}})]});if(t===dAe.YXLB[1])return X(K,{children:[G("span",{style:XOe,children:"1"}),G("span",{style:{...XOe,transform:"scale(1.08)",marginLeft:2.5,marginBottom:1},children:"a"})]});if(t===dAe.YXLB[2])return G("span",{style:XOe,children:"1.1"});if(t===dAe.RWLB[1])return G(aBe,{color:Hf});if(t===dAe.RWLB[2])return G(uBe,{fill:"transparent",color:Hf});if(t===dAe.ZDLB[1])return G(Oxe,{scale:1.2,style:{zIndex:0,marginRight:2}});if(t===dAe.ZDLB[2])return G(Rxe,{scale:1.1,style:{marginRight:2}});if(t===dAe.HEI[1]||t===dAe.HEI[2]||t===dAe.HEI[3]||t===dAe.HEI[4]||t===dAe.HEI[5]||t===dAe.LANHUI[1]||t===dAe.LANHUI[2]||t===dAe.LANHUI[3]||t===dAe.LANHUI[4]||t===dAe.LANHUI[5]||t===dAe.ZONG[1]||t===dAe.ZONG[2]||t===dAe.ZONG[3]||t===dAe.ZONG[4]||t===dAe.ZONG[5]||t===dAe.HONG[1]||t===dAe.HONG[2]||t===dAe.HONG[3]||t===dAe.HONG[4]||t===dAe.HONG[5]||t===dAe.CHENG[1]||t===dAe.CHENG[2]||t===dAe.CHENG[3]||t===dAe.CHENG[4]||t===dAe.CHENG[5]||t===dAe.HUANG[1]||t===dAe.HUANG[2]||t===dAe.HUANG[3]||t===dAe.HUANG[4]||t===dAe.HUANG[5]||t===dAe.LV[1]||t===dAe.LV[2]||t===dAe.LV[3]||t===dAe.LV[4]||t===dAe.LV[5]||t===dAe.LAN[1]||t===dAe.LAN[2]||t===dAe.LAN[3]||t===dAe.LAN[4]||t===dAe.LAN[5]||t===dAe.DIANLAN[1]||t===dAe.DIANLAN[2]||t===dAe.DIANLAN[3]||t===dAe.DIANLAN[4]||t===dAe.DIANLAN[5]||t===dAe.ZI[1]||t===dAe.ZI[2]||t===dAe.ZI[3]||t===dAe.ZI[4]||t===dAe.ZI[5]){const e={position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:3,backgroundColor:n};return n&&GOe(n)&&(e.border=`1px solid ${Mf}`),G("span",{style:e})}return null}function QOe(e){const t=R(jU),n=R(WU),o=R(PU),i=R(FU),r=R(_U),l=R(HU),s=R(VU),c=R(ZU),a=R(GU),u=Z(null),[d,f]=qd((()=>KOe(e,c,i.current))),h=_d(d),{kid:p,uid:v=aRe(!0)}=e,g=e3(p,eHe(v)),m=Z(null),y=Z(!1),b=Z(!0),C=Z(null),w=e=>{var t,n;const{title:o,type:i,level:r=0,payload:l}=e;if(!o)return null;const{hotkeys:s,text:c,matches:a}=o,u={fontWeight:Vf};"outline"!==i&&(u.fontWeight="bolder");const d={};!o.icon&&r>=2&&(d.marginLeft=23*(r-1)),null==s||s[0];const f=[];if((null==s?void 0:s.length)&&f.push({text:"/"}),null==a?void 0:a.length){let e=null;for(const t of a){if(null===e){e=t;continue}const n=e.indices[0],o=t.indices[0];n[1]-n[0]<o[1]-o[0]&&(e=t)}if(null==e?void 0:e.value)for(let o=0;o<e.indices.length;o++){const i=e.indices[o];if(0===o){const t=e.value.slice(0,i[0]);t&&f.push({text:t})}const r=e.value.slice(i[0],i[1]+1);r&&f.push({text:r,color:Bf});const l=null!==(n=null===(t=e.indices[o+1])||void 0===t?void 0:t[0])&&void 0!==n?n:e.value.length,s=e.value.slice(i[1]+1,l);s&&f.push({text:s})}}else(null==s?void 0:s.length)&&f.push({text:s[0]});return X("div",{style:{...vAe,...u},children:[X("div",{style:{...gAe,...d},children:[o.icon&&G("span",{style:yAe,children:G(o.icon,{})}),o.feature&&G("span",{style:bAe,children:JOe(l)}),G("span",{children:c})]}),f.length?G("div",{style:mAe,children:f.map(((e,t)=>G("span",{style:{color:e.color},children:e.text},t)))}):null]})},x=UMe(e,d,f,g,u,b,m),S=W((()=>nc(((e,t)=>{var n,o;let{branch:i}=h.current;e&&t&&(i=t),i&&(e&&f(BMe()),f(HMe(i)),!e&&(null===(n=i.title)||void 0===n?void 0:n.toggle)&&(null===(o=i.children)||void 0===o?void 0:o.length)&&f(AMe(i)))}),15,{leading:!0})),[f,h]);H((()=>{g[1]({...d})})),F((()=>{r(),i.current.slash=!0;const e=h.current.tree;return m.current=function(e){const t=VAe(e);let n=jOe;"function"!=typeof n&&(n=jOe.default);const o={includeScore:!0,includeMatches:!0,keys:["hotkeys"]};return{1:new n(t,{...o,minMatchCharLength:1}),2:new n(t,{...o,minMatchCharLength:2}),3:new n(t,{...o,minMatchCharLength:3}),4:new n(t,{...o,minMatchCharLength:4}),5:new n(t,{...o,minMatchCharLength:5}),6:new n(t,{...o,minMatchCharLength:6}),7:new n(t,{...o,minMatchCharLength:7})}}(e),requestAnimationFrame((()=>{b.current=!1})),()=>{delete i.current.slash}}),[r,i,m,h]);const E={value:d.menu,style:LAe,showMore:!1,flat:!0,render:w,onChange:e=>{var t;!y.current||e.isScrolling||b.current||requestAnimationFrame((()=>S())),y.current=null!==(t=e.isScrolling)&&void 0!==t&&t,f(NMe(e))},onClickBranch:(e,r,l,u)=>{var h,p;if("outline"!==e.type)return void f(FMe(e,u));const{menu:v}=d;if(v.tree.length){const r=e.payload;return qAe(r)?yMe(t,n,o,s,c,r):YAe(r)?bMe(0,0,s,c,r):KAe(r)?CMe(t,o,i,s,a,c,r):null===(h=s.current)||void 0===h||h.commit([pMe(),gMe(c,r)]),void g[2]()}null===(p=s.current)||void 0===p||p.commit(hMe()),g[2]()},onPointerEnterBranch:(e,t,n,o)=>{b.current||(f(TMe(e)),"outline"===e.type?f(BMe(e)):S(!0,e))},onPointerMoveBranch:(e,t,n,o)=>{b.current=!1,"outline"===e.type?S():S(!0,e)}};return X("span",{style:fAe,children:[G("span",{style:hAe,ref:C}),oD(G("span",{style:pAe,...x.slash,children:d.menu.tree.length?G(RB,{...E,ref:u}):G("span",{style:TAe,children:""})}),l,C,"bottom")]})}const eRe="slash";var tRe={name:eRe,inner:function(e){return G("div",{})},outer:function(e){return G("div",{})}},nRe=Object.freeze({__proto__:null,activateNextMenuSubClass:MMe,activatePrevMenuSubClass:OMe,block:QOe,checkSlashNode:vMe,createMenu:zAe,createSlashNode:WAe,default:tRe,findSlashText:ZAe,flatTree:VAe,genTree:$Ae,hideAfterMenuSubClass:HMe,hideMenuSubClass:e=>t=>{let n=!1;return SMe(t.menu.tree,(o=>{const{title:i,expand:r,children:l,active:s}=o;if(r&&(null==i?void 0:i.toggle)&&!i.open&&(null==l?void 0:l.length)&&!s){let i=!1;return SMe(l,(e=>{if(e.active)return i=!0,!0})),i?!1:(t.menu=wMe(o,e,!1)(t.menu),SMe(l,(e=>{e.expand=!1})),n=!0,!1)}})),n&&(t.menu=xMe()(t.menu)),t},icon:VOe,injectFunctionalNode:CMe,injectListNode:mMe,injectNode:gMe,injectOutlineNode:yMe,injectSlashNode:fMe,injectStyleNode:bMe,isFunctionalPayload:KAe,isOutlinePayload:qAe,isSearchEqual:UAe,isSlashMetaNode:jAe,isSlashNode:_Ae,isStylePayload:YAe,name:eRe,relocateNextMenuSubClass:RMe,relocatePrevMenuSubClass:PMe,removeSlashAfterNode:pMe,removeSlashNode:hMe,setBranch:TMe,setMenu:NMe,setMenuSubClassActive:BMe,setMenuSubClassAnimation:(e,t)=>n=>(SMe(n.menu.tree,(n=>{var o;n.id===e.id&&(null===(o=n.children)||void 0===o||o.forEach((e=>{e.animation=t})))})),n.menu=kMe(!0)(n.menu),n),setMenuTree:LMe,showMenuSubClass:AMe,toggleMenuSubClass:FMe,transformOutlineSubClass:GAe,transformStyleName:XAe});const oRe=[[Tpe],[cle,fle,lTe,tTe],[sye,VNe,ZNe],[WNe,YNe,JNe,nLe,rLe,cLe],[MTe,qTe,zBe,gEe],[fLe,KLe,XLe,ZBe],[QBe]],iRe="uuid-vi",rRe="0000";let lRe="",sRe=0;const cRe=nc((()=>{const e={v:lRe,i:sRe};window.localStorage.setItem(iRe,JSON.stringify(e))}),1e3);function aRe(e){if(e)return function(){const e=String(dRe);e.length>rRe.length&&(uRe=YB(),dRe=0);return`${uRe}-${rRe.slice(0,-e.length)}${dRe++}`}();const t=String(sRe);if(""===lRe){let e=!1;try{const t=window.localStorage.getItem(iRe);if(null!==t){const n=JSON.parse(t);n.v&&n.i&&(lRe=n.v,sRe=n.i,e=!0)}}catch(e){}e||(lRe=YB(),sRe=0)}return t.length>rRe.length&&(lRe=YB(),sRe=0),cRe(),`${lRe}-${rRe.slice(0,-t.length)}${sRe++}`}let uRe=YB(),dRe=0;function fRe(e){const t=e.split("-");return{uuid:t.slice(0,5).join("-"),sn:t.slice(5).join("")}}function hRe(e,t){return t?`${e}-${t}`:e}const{getKeyFromPath:pRe,sliceBlockPath:vRe,genPrevLevelPath:gRe,genNextLevelPath:mRe,getNodeByPath:yRe,isBlockNodeX:bRe,isBlockNodeCritical:CRe,isBlockNode:wRe,isNodeEqual:xRe,initNodeKey:SRe,isNode:ERe,isEmptyNode:kRe,comparePath:DRe,getBlockNodeStartPath:IRe,getEditBlockNodeStartPath:NRe,createBlockNode:LRe,createInlineNode:TRe,sliceEditNodeByCWND:BRe,isEditNode:ARe,isReferenceNode:MRe,transformNodeToEditNode:ORe,getBlockNodeEndPath:RRe,getEditBlockNodeEndPath:PRe,sliceNode:FRe,sortSelection:HRe,getEditNodeByPath:_Re,getNodeStartPath:jRe,getNodeEndPath:WRe,getNodeLength:zRe,traverseNode:VRe,getRelativePath:$Re,removeBoxSizeStyle:ZRe,removePositionStyle:URe,removeBorderSizeStyle:qRe,getPathFromKey:YRe,sliceBoxSizeStyle:KRe,joinKey:GRe,isMetaBrNode:XRe,isMetaNode:JRe,isReferenceBlockNode:QRe,isReferenceInlineNode:ePe,SPAN_NODE:tPe}=hk,{resetImageSize:nPe}=yk;function oPe(e){return LRe(e,{paddingTop:64,paddingBottom:64})}function iPe(e,t){let n=yRe(e,hc(t));for(;ERe(n)&&dc(t)>=n.children.length-1;)t=hc(t),n=yRe(e,hc(t));if(0===t.length)return t;t=mRe(t);let o=yRe(e,t);for(;ERe(o)&&o.children.length;)t=[...t,0],o=yRe(e,t);return t}function rPe(e,t){for(;0===dc(t);)t=hc(t);if(0===t.length)return t;t=gRe(t);let n=yRe(e,t);for(;ERe(n)&&n.children.length;)t=[...t,n.children.length-1],n=yRe(e,t);return t}function lPe(e,t){if(0===(t=vRe(e,t)).length)return t;let n=yRe(e,t);if(bRe(n))return[...t,n.children.length-1];for(;t.length;){const e=t[t.length-1];if(t=t.slice(0,-1),e>0){t=[...t,e-1];break}}return t}function sPe(e,t){if(0===(t=vRe(e,t)).length)return t;let n=yRe(e,t);if(bRe(n))return[...t,0];for(;t.length;){const o=t[t.length-1];if(t=t.slice(0,-1),n=yRe(e,t),n.children.length-1>o){t=[...t,o+1];break}}return t}function cPe(e){const t=jRe(e),n=WRe(e),o=yRe(e,n);return{anchor:{path:t,offset:0},focus:{path:n,offset:zRe(null!=o?o:"")}}}function aPe(e,t,n){const o=RRe(e);if(0===DRe(o,t)&&t.length>=o.length)return null;const i=sPe(e,t);if(0===i.length||DRe(i,t)<0)return null;let r=yRe(e,i);if(bRe(r)&&!Rve(r)){const e={...r,critical:CRe(r),key:pRe(i),children:[]};return e.props&&(e.props={...e.props}),fPe(e,{reference:null==n?void 0:n.reference})}if(null===r||wRe(r)||(r=LRe([r])),wRe(r)){const e=SRe(r,i);return e.props&&(e.props={...e.props}),fPe(e,{reference:null==n?void 0:n.reference})}return null}function uPe(e,t,n){const o=IRe(e);if(0===DRe(o,t)&&t.length>=o.length)return null;const i=lPe(e,t);if(0===i.length||DRe(i,t)>0)return null;let r=yRe(e,i);if(null===r||wRe(r)||(r=LRe([r])),wRe(r)){const e=SRe(r,i);return e.props&&(e.props={...e.props}),fPe(e,{reference:null==n?void 0:n.reference})}return null}function dPe(e,t,n,o){const i=BRe(e,t,n);if(ARe(i)){const t=i.children.length-1,n=i.children[t];if(Rve(n)&&0===zRe(n)){const o=YRe(n.key),r=yRe(e,o);Rve(r)&&(i.children[t]=ORe(r,n.key))}return fPe(i,{reference:null==o?void 0:o.reference})}return i}function fPe(e,t){var n,o,i,r,l;const{refresh:s,refreshCallbacks:c,clone:a,reference:u,callback:d}=t;function f(e){if(0===e.children.length){let t=null;if(QRe(e)?t=LRe([""]):ePe(e)&&(t=TRe([""])),t&&ARe(e)){const n=GRe(e.key,0);t=ORe(t,n)}t&&(t.style=KRe(e.style),e.style=ZRe(e.style),e.children.push(t))}}if(void 0===u)return f(e),e;if(Yse(e)){if(!e.props)return e;(e={...e}).props={...e.props},e.props.value={...e.props.value},e.props.value.cells={...e.props.value.cells};const n=e.props.value.cells;return Object.keys(n).forEach((e=>{var o;const i=null===(o=n[e].state)||void 0===o?void 0:o.editor;if(i){const o={...n[e].state};o.editor={...o.editor};const r={...t,clone:!0};s&&(r.refreshCallbacks=[...null!=c?c:[],()=>{o.editor.refresh=aRe(!0)}]),o.editor.node=fPe(i.node,r),n[e]={...n[e],state:o}}})),e}if(Rve(e)){const t=null===(n=e.props)||void 0===n?void 0:n.subclass;if(t&&!e.style){const n=Bve(t);a?e={...e,style:n}:e.style=n}}if((rSe(e)||Rve(e))&&!1===(null===(o=e.props)||void 0===o?void 0:o.expand)){const n=e.props.list;n&&(a?(e={...e,props:{...e.props}}).props.list=n.map((e=>fPe(e,t))):n.forEach((e=>{fPe(e,t)})))}if(MRe(e)){let t=null===(r=u[null===(i=e.props)||void 0===i?void 0:i.id])||void 0===r?void 0:r.data;if(MRe(t)){Ku(t)&&(t=ed(t));const n=null===(l=e.props)||void 0===l?void 0:l.uid,o={...t.props,uid:n};let i={...t,props:o};ARe(e)&&(i=ORe(i,e.key)),xRe(i,e)||(a?e=i:Object.assign(e,i),s&&(null==c||c.forEach((e=>e()))))}f(e),null==d||d(e)}const h=e.children.map((e=>ERe(e)?fPe(e,t):e));return a?e={...e,children:h}:e.children=h,e}function hPe(e){const t=[];for(;bRe(e);)e=e.children[0],t.push(0);return t}function pPe(e){const t=IRe(e),n=yRe(e,t);return wRe(n)?n:e}function vPe(){return LRe([TRe([""])])}function gPe(){return{type:y$,children:[]}}function mPe(e){return ERe(e)&&e.type===y$}function yPe(e){for(;!mPe(e);)if(e=dc(e.children),!ERe(e))return!1;return!0}function bPe(e,t=14,n){var o,i,r,l,s,c,a;const u=[];for(let o=0;o<e.children.length;o++){let i=e.children[o];if(!jAe(i)&&!XRe(i))if(ERe(i)){n&&(i=n(i));const r=bPe(i,t,n);u.push(r),wRe(i)&&!yPe(r)&&o<e.children.length-1&&u.push(gPe())}else u.push(i)}if(e={...e,children:u},wRe(e)&&e.style&&(e.style=URe(e.style),(null===(o=e.style)||void 0===o?void 0:o.background)&&delete e.style.background,(null===(i=e.style)||void 0===i?void 0:i.backgroundColor)&&delete e.style.backgroundColor),wRe(e))e={...e,type:tPe};else if(Zde(e)){let n=e.props;(null==n?void 0:n.value)&&(n={...n,value:nPe(n.value,t)});const o={...null==n?void 0:n.style,position:"relative",top:Uf?-3:Kf?-1.5:-1};delete o.padding,delete o.margin,n={...n,style:o},e={...e,props:n}}else if(ihe(e)){const t={...null==e?void 0:e.style,verticalAlign:"middle",position:"relative",top:Uf?0:eh?-2:-1};e={...e,style:t}}if(e.style&&(e.style=ZRe(e.style),e.style=qRe(e.style),(null===(r=e.style)||void 0===r?void 0:r.fontSize)&&delete e.style.fontSize,(null===(l=e.style)||void 0===l?void 0:l.lineHeight)&&delete e.style.lineHeight,(null===(s=e.style)||void 0===s?void 0:s.whiteSpace)&&delete e.style.whiteSpace,(null===(c=e.style)||void 0===c?void 0:c.textIndent)&&delete e.style.textIndent,(null===(a=e.style)||void 0===a?void 0:a.alignSelf)&&delete e.style.alignSelf),!Zde(e)&&!ihe(e)&&1===e.children.length){const t=e.children[0];!ERe(t)||JRe(e)||JRe(t)||(e={...t,style:{...e.style,...t.style}})}return e}function CPe(e,t,n){const o=NRe(t),i=PRe(t);return fPe(FRe(e,o,i),{reference:n,clone:!0,refresh:!0})}function wPe(e,t,n){const{before:o,after:i}=HRe(t),r=FRe(e,o.path,i.path),l=_Re(r,hc(o.path)),s=_Re(r,hc(i.path));let c=s.children[s.children.length-1];Cc(c)?s.children[s.children.length-1]=c.slice(0,i.offset):ERe(c)&&(c.children=c.children.slice(0,i.offset+1));let a=l.children[0];Cc(a)?l.children[0]=a.slice(o.offset):ERe(a)&&(a.children=a.children.slice(o.offset));return fPe(r,{reference:n,clone:!0})}function xPe(e,t,n){VRe(e,((e,o)=>{var i,r,l,s,c,a;if(t(e,o),Yse(e)){const n=null===(r=null===(i=e.props)||void 0===i?void 0:i.value)||void 0===r?void 0:r.cells;if(!n)return;for(const e in n){const o=null===(l=n[e].state)||void 0===l?void 0:l.editor;if(!o)continue;xPe(o.node,t)}}n&&(rSe(e)||Rve(e))&&!1===(null===(s=e.props)||void 0===s?void 0:s.expand)&&(null===(a=null===(c=e.props)||void 0===c?void 0:c.list)||void 0===a||a.forEach((e=>{xPe(e,t,n)})))}))}function SPe(e,t){VRe(e,((e,n)=>{var o,i,r,l,s,c;if(Yse(e)){const n=null===(i=null===(o=e.props)||void 0===o?void 0:o.value)||void 0===i?void 0:i.cells;if(!n)return;for(const e in n){const o=null===(r=n[e].state)||void 0===r?void 0:r.editor;if(!o)continue;t(o);SPe(o.node,t)}}(rSe(e)||Rve(e))&&!1===(null===(l=e.props)||void 0===l?void 0:l.expand)&&(null===(c=null===(s=e.props)||void 0===s?void 0:s.list)||void 0===c||c.forEach((e=>{SPe(e,t)})))}))}function EPe(e,t){var n;const o=[],{before:i,after:r}=HRe(t);let l=i.path[0],s=r.path[0];for(ARe(e)&&(l=$Re(e,i.path)[0],s=$Re(e,r.path)[0]);l<=s;){const t=e.children[l];if(Rve(t,iae.H)){const e=null===(n=t.props)||void 0===n?void 0:n.id;if(void 0===e)continue;o.includes(e)||o.push(e)}l++}return o}function kPe(e,t){const{path:n,offset:o}=t,i=pc(n);if(void 0===i)return;const r=e.children.slice(0,i),l=e.children[i];if(ERe(l))if(n.length>1){const e=kPe(l,{path:fc(n),offset:o});ERe(e)&&!kRe(e)&&r.push(e)}else kRe(l)||r.push(l);else if(Cc(l))if(n.length<=1){const e=l.slice(0,o);""!==e&&r.push(e)}else r.push(l);return 0!==r.length?{...e,children:r}:void 0}function DPe(e,t){var n,o,i,r;const{path:l,offset:s}=t,c=pc(l);if(void 0===c)return;const a=e.children.slice(c+1),u=e.children[c];if(ERe(u))if(l.length>1){const e=DPe(u,{path:fc(l),offset:s});ERe(e)&&!kRe(e)&&a.unshift(e),rSe(u)&&(null===(o=null===(n=u.props)||void 0===n?void 0:n.list)||void 0===o?void 0:o.length)>0&&a.unshift(...null!==(r=null===(i=u.props)||void 0===i?void 0:i.list)&&void 0!==r?r:[])}else kRe(u)||a.unshift(u);else if(Cc(u))if(l.length<=1){const e=u.slice(s);""!==e&&a.unshift(e)}else a.unshift(u);return 0!==a.length?{...e,children:a}:void 0}function IPe(e){return{fontSize:ch(12),fontFamily:"Arial",fontWeight:Vf,fontStyle:"normal",textDecorationLine:"none",color:"rgba(0, 0, 0, 0.88)",backgroundColor:"transparent",textAlign:"justify",lineHeight:1.7,letterSpacing:0,...e}}function NPe(e){const t=IPe(),n={};for(const o in t)e[o]&&(n[o]=e[o]);return n}const{isNode:LPe,isReferenceNode:TPe,traverseNode:BPe}=hk;function APe(e){var t,n;if(!TPe(e))return!1;const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=e.props)||void 0===n?void 0:n.uid;return!(!o||!i)&&o===i}function MPe(e){var t;if(!TPe(e))return!1;return(null===(t=e.props)||void 0===t?void 0:t.type)===Qpe}function OPe(e,t){var n;if(TPe(e)){const o=null===(n=e.props)||void 0===n?void 0:n.id;if(null==t?void 0:t[o]){const e=t[o].data,n=e.children.map((e=>LPe(e)?OPe(e,t):e));return{...e,children:n}}}return{...e,children:e.children.map((e=>LPe(e)?OPe(e,t):e))}}function RPe(e){const t={};return BPe(e,(e=>{var n,o,i,r,l,s,c;if(TPe(e)){const o=null===(n=e.props)||void 0===n?void 0:n.uid;o&&(t[o]=e)}else{if(Yse(e)){const n=null===(i=null===(o=e.props)||void 0===o?void 0:o.value)||void 0===i?void 0:i.cells;if(!n)return;for(const e in n){const o=null===(r=n[e].state)||void 0===r?void 0:r.editor;if(!o)continue;const i=o.node;Object.assign(t,RPe(i))}}(rSe(e)||Rve(e))&&!1===(null===(l=e.props)||void 0===l?void 0:l.expand)&&(null===(c=null===(s=e.props)||void 0===s?void 0:s.list)||void 0===c||c.forEach((e=>{Object.assign(t,RPe(e))})))}})),t}function PPe(e){}const{traversalEditBlockNodeBySelection:FPe,sortSelection:HPe,getEditNodeByPath:_Pe,isPathAfter:jPe,isPathBefore:WPe,transformNodeToEditNode:zPe,transformEditNodeToNode:VPe}=hk,{comparePath:$Pe,createBlockNode:ZPe,createReferenceBlockNode:UPe,getBlockNodeStartPath:qPe,getEditBlockNodeStartPath:YPe,getEditNodeOffsets:KPe,getEditNodeStartPath:GPe,getNodeByPath:XPe,getNodeEndPath:JPe,getNodeLength:QPe,initNodeKey:eFe,isBlockNode:tFe,isInlineNode:nFe,isReferenceNode:oFe,traverseNode:iFe,traversalSelectionBlockNodePath:rFe,isReferenceBlockNode:lFe,DetectFlag:sFe,ReflowStartFlag:cFe}=hk;function aFe(e,t){const n={node:e.node,clientWidth:e.clientWidth,clientHeight:e.clientHeight,contentHeight:e.contentHeight,scrollHeight:e.scrollHeight,scrollTop:e.scrollTop,detect:e.detect};return void 0!==e.ureference&&(n.ureference=e.ureference),void 0!==e.reflowStart&&(n.reflowStart=e.reflowStart),void 0!==e.selectionFrozen&&(n.selectionFrozen=e.selectionFrozen),void 0!==e.selection&&(null==t?void 0:t.focusing)&&(n.selection=e.selection),void 0!==e.selectionReflow&&(null==t?void 0:t.focusing)&&(n.selectionReflow=e.selectionReflow),void 0!==e.selectionStyle&&(n.selectionStyle=e.selectionStyle),void 0!==e.selectionDecorate&&(n.selectionDecorate=e.selectionDecorate),void 0!==e.selectionLayout&&(n.selectionLayout=e.selectionLayout),void 0!==e.selectionPath&&(n.selectionPath=e.selectionPath),void 0!==e.selectionBackground&&(n.selectionBackground=e.selectionBackground),void 0!==e.cursorStyle&&(n.cursorStyle=e.cursorStyle),void 0!==e.cwnd&&(n.cwnd=e.cwnd),void 0!==e.isEditPending&&(n.isEditPending=e.isEditPending),void 0!==e.isScrolling&&(n.isScrolling=e.isScrolling),void 0!==e.isScrollPending&&(n.isScrollPending=e.isScrollPending),void 0!==e.scrollOffset&&(n.scrollOffset=e.scrollOffset),void 0!==e.scrollTouch&&(n.scrollTouch=e.scrollTouch),void 0!==e.resizeHeight&&(n.resizeHeight=e.resizeHeight),void 0!==e.resizeWidth&&(n.resizeWidth=e.resizeWidth),void 0!==e.location&&(n.location=e.location),void 0!==e.threshold&&(n.threshold=e.threshold),void 0!==e.highlights&&(n.highlights=e.highlights),(null==t?void 0:t.highlights)&&(n.highlights=t.highlights),void 0!==e.composing&&(n.composing=e.composing),void 0!==e.composition&&(n.composition=e.composition),void 0!==e.reload&&(n.reload=e.reload),void 0!==e.slicer&&(n.slicer=e.slicer),n}function uFe(e){var t,n,o,i,r,l;const s=null!==(t=null==e?void 0:e.cwnd)&&void 0!==t?t:3,c=IPe(),a={top:Kf?0:m$},u=aRe(),d=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:ZPe([_ve({id:u,subclass:iae.H},[UPe({id:u,uid:u},[ZPe([{type:"span",children:[""]}],Ave(iae.H))])])],Y$),f=null!==(i=null===(o=null==e?void 0:e.reflowStart)||void 0===o?void 0:o.path)&&void 0!==i?i:qPe(d),h=null!==(l=null!==(r=null==e?void 0:e.node)&&void 0!==r?r:dPe(d,f,s))&&void 0!==l?l:eFe(d),p=RPe(h),{clientWidth:v,clientHeight:g}=gqe(),m=I_(d,h),y=GPe(h),b={focus:{path:[...y],offset:0},anchor:{path:[...y],offset:0}},C={"outline-list":iae.H},w=Number(c.fontSize),x={flag:sFe.STATIC};return{cwnd:s,node:h,data:d,bounds:m,style:c,createTime:Date.now(),clientWidth:v,clientHeight:g,ureference:p,contentHeight:w,scrollHeight:6e3,scrollTop:0,scrollOffset:a,selection:b,selectionDecorate:C,status:"normal",detect:x,...e}}function dFe(e,t){const n={};if(Cc(e)||nFe(e)?n.data=ZPe([ps(UPe({id:t,uid:t},[e]))],Y$):tFe(e)&&(e=lFe(e)?{...e,props:{...e.props,uid:t}}:UPe({id:t,uid:t},[{...e,style:{...e.style,...Ave(iae.H)}}]),n.data=ZPe([_ve({subclass:iae.H,id:t},[ps(e)])],Y$)),n.data){const e=JPe(n.data),o=XPe(n.data,e);if(null!==o){const t={path:e,offset:QPe(o)};n.selection={focus:ps(t),anchor:ps(t)}}const i={[t]:t};iFe(n.data,(e=>{var t,n;if(oFe(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,r=null===(n=e.props)||void 0===n?void 0:n.uid;r&&o&&(i[r]=o)}})),n.uids=i}return uFe(n)}function fFe(e,t){var n,o;const{editor:i,store:r,file:l}=e;if(!(null===(n=null==t?void 0:t.ids)||void 0===n?void 0:n.length)||!r||!l)return i;const s=l.currentPageId;if(!s)return i;if(!(null==t?void 0:t.ids.includes(s)))return i;const c=null===(o=r.editor)||void 0===o?void 0:o[s];if(!c)return i;const{node:a,cwnd:u}=i,{data:d,uids:f}=c,h=YPe(a),p={path:h,offsets:KPe(a,h),flag:cFe.next},v=!u||void 0,g=CPe(d,a,r.reference),m=I_(d,g),y=u?i.ureference:RPe(g);return{...i,data:d,uids:f,bounds:m,boundsReset:!0,reflowStart:p,resizeWidth:v,node:g,ureference:y,isEditPending:void 0}}function hFe(e){var t,n,o,i,r,l;let s=0;const c=[];for(const t in e){const n=fc(t.split(k$)).join(k$);let o=null;for(let e=0;e<c.length;e++){const t=c[e][0];if(n.endsWith(t.key)){o=c[e];break}}const i={key:n,option:e[t]};if(o){let e=-1;for(let t=0;t<o.length;t++)if(o[t].key.length>=n.length){e=t;break}-1===e?o.push(i):o.splice(e,0,i)}else c.push([i])}for(let e=0;e<c.length;e++){let a=0,u=null;for(let s=0;s<c[e].length;s++){const{layout:d}=c[e][s].option;null===u&&(u=null!==(n=null===(t=null==d?void 0:d.rect)||void 0===t?void 0:t.top)&&void 0!==n?n:0);let f=null!==(o=null==d?void 0:d.height)&&void 0!==o?o:0;f+=null!==(i=null==d?void 0:d.top)&&void 0!==i?i:0,f+=null!==(l=null===(r=null==d?void 0:d.rect)||void 0===r?void 0:r.top)&&void 0!==l?l:0,f-=u,f>a&&(a=f)}a>s&&(s=a)}return s}function pFe(e,t){const n={},o={},i={};for(const t in e.uids)n[t]=e.uids[t];for(const e in t.uids){const r=t.uids[e];n[e]?(delete n[e],i[e]=r):o[e]=r}return{duids:n,cuids:o,uuids:i}}function vFe(e,t,n){let o=!1;return n?(rFe(e,n,((e,n)=>{if(0===$Pe(n,t))return o=!0,!1})),o):o}function gFe(e,t){const n=[];if(!t)return n;const{before:o,after:i}=HPe(t);return FPe(e,t,((t,r)=>{if(APe(t)){let l=!0;if(!WPe(r,i.path)&&(l=!1,0===$Pe(r,i.path))){const t=_Pe(e,i.path);t&&QPe(t)>=i.offset&&(l=!0)}jPe(r,o.path)||(l=!1),l&&n.push(zPe(VPe(t),""))}})),n}function mFe(e,t){const{uids:n,data:o}=e;if(Pc(n))return;const i=Object.keys(n);if(1===i.length){const e=o.children[0];return void(Fve(e)&&fPe(e,t))}let r=!0;for(const e of i)if(n[e]!==e){r=!1;break}if(r)for(const e of o.children)Fve(e)&&fPe(e,t);else o.children.length>L$||fPe(o,t)}var yFe;!function(e){e.POINTER_DOWN_MOVE_UNTIL_UP="POINTER_DOWN_MOVE_UNTIL_UP",e.POINTER_UP="POINTER_UP"}(yFe||(yFe={}));const{calcLeftSizeByStyle:bFe,calcRightSizeByStyle:CFe,getPathFromKey:wFe,getRelativePath:xFe,isEditNode:SFe}=hk;function EFe(e){var t,n;const o=document.documentElement.clientWidth,i=D$+WQ,r=(null!==(n=null===(t=null==e?void 0:e.file)||void 0===t?void 0:t.clientWidth)&&void 0!==n?n:D$)+WQ,l=o/1440*350*Math.min(1,i/r),s=Math.floor(o-r-l);return Math.min(N$,Math.max(s,350))}function kFe(e){var t,n,o;let i=document.documentElement.clientHeight;if(rh){i-=KH()+rG}else if(!Kf){i-=null!==(o=null===(n=null===(t=null==e?void 0:e.editor)||void 0===t?void 0:t.scrollOffset)||void 0===n?void 0:n.top)&&void 0!==o?o:0}return i}function DFe(e){let t=document.documentElement.clientHeight;if(rh){t-=KH()+5}return t}function IFe(e,t,n){var o,i;let r=e.clientWidth,l=e.node,s=0;const c=xFe(e.node,t);do{if(r-=bFe(l.style),r-=CFe(l.style),tae(l)&&n){const l=Gce(e,t,n),s=null!==(i=null!==(o=null==l?void 0:l.fontSize)&&void 0!==o?o:n.fontSize)&&void 0!==i?i:ch(12);r-=parseInt(String(s))*Lce}const a=l.children[c[s++]];if(!SFe(a))break;l=a}while(s<c.length);return r}function NFe(e,t,n){if(void 0===n)return e.clientWidth;const o=IFe(e,wFe(t));return Math.min(n,o)}const{getKeyFromPath:LFe,getPathFromKey:TFe,isEditNode:BFe,getEditNodeByPath:AFe,getNodeByPath:MFe,isNode:OFe,joinKey:RFe,cloneNodeByPath:PFe,cloneEditNodeByPath:FFe,transformEditNodeToNode:HFe,transformNodeToEditNode:_Fe}=hk;function jFe(){return{type:E$.NONE}}function WFe(){return{type:E$.EDITOR}}function zFe(){return{type:E$.FILE}}function VFe(){return{type:E$.TOOL_BAR}}function $Fe(e){return{type:E$.SHEET,key:e}}function ZFe(e){return{type:E$.NODE,path:e}}function UFe(e){return{type:E$.TOGGLE,path:e}}function qFe(e){return{type:E$.OUTLINE,path:e}}function YFe(e){return{type:E$.PANEL,key:e}}function KFe(){return{type:E$.REFER}}function GFe(){return{type:E$.LINK}}function XFe(){return{type:E$.SELECTOR}}function JFe(){return{type:E$.OPTION}}function QFe(e){return{type:E$.EMOJI,key:e}}function eHe(e){return{type:E$.SLASH,key:e}}function tHe(e){return e.type===E$.NONE}function nHe(e){return e.type===E$.SHEET}function oHe(e){return e.type===E$.NODE}function iHe(e){return e.type===E$.EDITOR}function rHe(e){return e.type===E$.FILE}function lHe(e){return e.type===E$.TOOL_BAR}function sHe(e){return e.type===E$.PANEL}function cHe(e){return e.type===E$.REFER}function aHe(e){return e.type===E$.LINK}function uHe(e){return e.type===E$.SELECTOR}function dHe(e){return e.type===E$.OPTION}function fHe(e){return e.type===E$.TOGGLE}function hHe(e){return e.type===E$.OUTLINE}function pHe(e,t){if(e.type===t.type&&e.key===t.key&&Fc(e.path,t.path)){if(!t.child)return!0;if(e.child&&pHe(e.child,t.child))return!0}return!1}function vHe(e){return!!sHe(e)||!!e.child&&vHe(e.child)}function gHe(e){return!!nHe(e)||!!e.child&&gHe(e.child)}function mHe(e){return!!fHe(e)||!!e.child&&mHe(e.child)}function yHe(e){return!!hHe(e)||!!e.child&&yHe(e.child)}function bHe(e){return yHe(e)||mHe(e)}function CHe(e){const t=kHe(e);return!(!iHe(t)||t.child)}function wHe(e,t){var n,o,i,r,l,s,c,a,u,d;if(f(e))return!1;t=kHe(t);const{key:h,path:p,child:v}=t;if(oHe(t)){if(!p||!v)return!1;if(BFe(e)){let t=null;return t=p.length?AFe(e,p):e,!!BFe(t)&&wHe(t,v)}{let t=null;return t=p.length?MFe(e,p):e,!!OFe(t)&&wHe(t,v)}}if(nHe(t)){if(!Yse(e))return!1;if(!h||!v)return!0;const t=null===(o=null===(n=e.props)||void 0===n?void 0:n.value)||void 0===o?void 0:o.cells,l=null===(r=null===(i=null==t?void 0:t[h])||void 0===i?void 0:i.state)||void 0===r?void 0:r.editor.node;return!!l&&wHe(l,v)}if(fHe(t)){if(!rSe(e))return!1;const t=[...e.children];if(!1===(null===(l=e.props)||void 0===l?void 0:l.expand)&&t.push(...null!==(c=null===(s=e.props)||void 0===s?void 0:s.list)&&void 0!==c?c:[]),1!==(null==p?void 0:p.length))return!1;let n=t[p[0]];return!(!v||!OFe(n))&&(OFe(e)&&BFe(n)&&(n=HFe(n)),wHe(n,v))}if(hHe(t)){if(!Rve(e))return!1;const t=[...e.children];if(!1===(null===(a=e.props)||void 0===a?void 0:a.expand)&&t.push(...null!==(d=null===(u=e.props)||void 0===u?void 0:u.list)&&void 0!==d?d:[]),1!==(null==p?void 0:p.length))return!1;let n=t[p[0]];return!(!v||!OFe(n))&&(OFe(e)&&BFe(n)&&(n=HFe(n)),wHe(n,v))}return!!v&&wHe(e,v)}function xHe(e,...t){return e.child?{...e,child:xHe(e.child,...t)}:0===t.length?e:1===t.length?{...e,child:t[0]}:t.length>1?{...e,child:xHe(t[0],...t.slice(1))}:e}function SHe(e,t){return e.type===t.type&&e.key===t.key&&Fc(e.path,t.path)?e.child&&t.child?SHe(e.child,t.child):e.child&&!t.child?e.child:null:null}function EHe(e){if(!e.child)return null;const t=EHe(e.child);return null===t?(delete(e={...e}).child,e):{...e,child:t}}function kHe(e){let t=e;for(;e.child;)sHe(e=e.child)&&(t=e);return t}function DHe(e){let t=e;for(;e.child;)nHe(e=e.child)&&(t=e);return t}function IHe(e){let t=e;for(;e.child;)oHe(e=e.child)&&(t=e);return t}function NHe(e){var t;let n=e.type;return e.key&&(n+=`${k$}${e.key}`),(null===(t=e.path)||void 0===t?void 0:t.length)&&(n+=`${k$}${LFe(e.path)}`),e.child&&(n+=`${k$}${NHe(e.child)}`),n}function LHe(e){const t=e.split(k$);if(t[0]!==E$.EDITOR)return{type:t[0]};let n=WFe(),o=1;for(;o<t.length;){const e=t[o];if(e===E$.NODE){n=xHe(n,ZFe(TFe(t[++o])))}else if(e===E$.SHEET){n=xHe(n,$Fe(t[++o]))}else if(e===E$.PANEL){n=xHe(n,YFe(t[++o]))}else if(e===E$.REFER)n=xHe(n,KFe());else if(e===E$.LINK)n=xHe(n,GFe());else if(e===E$.EMOJI){n=xHe(n,QFe(t[++o]))}else e===E$.SELECTOR?n=xHe(n,XFe()):e===E$.OPTION&&(n=xHe(n,JFe()));o++}return n}function THe(e){let t=1;for(;e.child;)t++,e=e.child;return t}function BHe(e){return e.child?BHe(e.child):e}function AHe(e){let t={...e};delete t.child;const n=t;for(;e.child;){if(sHe(e=e.child))return n;t.child={...e},t=t.child,delete t.child}return n}function MHe(e){var t,n,o,i,r,l;let s={...e};delete s.child;const c=s;for(;e.child;)if(fHe(e=e.child)||oHe(e)&&oHe(s))s.path=[...null!==(t=s.path)&&void 0!==t?t:[],...null!==(n=e.path)&&void 0!==n?n:[]];else if(hHe(e)){const t=null!==(o=s.path)&&void 0!==o?o:[],n=t.length-1,c=null!==(i=t[n])&&void 0!==i?i:0,a=null!==(l=null===(r=e.path)||void 0===r?void 0:r[0])&&void 0!==l?l:0;s.path=[...t],a>0?s.path[n]=c+a:s.path.push(a)}else s.child={...e},s=s.child,delete s.child;return c}function OHe(e){var t,n;let o={...e};delete o.child;const i=o;for(;e.child;)fHe(e=e.child)||oHe(e)&&oHe(o)?o.path=[...null!==(t=o.path)&&void 0!==t?t:[],...null!==(n=e.path)&&void 0!==n?n:[]]:(o.child={...e},o=o.child,delete o.child);return i}function RHe(e){var t,n,o,i,r;let l={...e};delete l.child;const s=l;for(;e.child;)if(hHe(e=e.child)||oHe(e)&&oHe(l)){if(!(null===(t=l.path)||void 0===t?void 0:t.length))break;const s=null!==(n=l.path)&&void 0!==n?n:[],c=s.length-1,a=null!==(o=s[c])&&void 0!==o?o:0,u=null!==(r=null===(i=e.path)||void 0===i?void 0:i[0])&&void 0!==r?r:0;l.path=[...s],u>0?l.path[c]=a+u:l.path.push(u)}else l.child={...e},l=l.child,delete l.child;return s}function PHe(e,t){var n,o,i,r,l,s,c,a,u,d;if(f(e))return e;t=kHe(t);const{key:h,path:p,child:v}=t;if(oHe(t)){if(!p)return e;let t=null;return t=BFe(e)?p.length?AFe(e,p):e:p.length?MFe(e,p):e,v&&t?PHe(t,v):t}if(nHe(t)){if(!Yse(e)||!h)return e;const t=null===(o=null===(n=e.props)||void 0===n?void 0:n.value)||void 0===o?void 0:o.cells,l=null===(r=null===(i=null==t?void 0:t[h])||void 0===i?void 0:i.state)||void 0===r?void 0:r.editor.node;return v&&l?PHe(l,v):l}if(fHe(t)){if(!rSe(e))return e;const t=[...e.children];if(!1===(null===(l=e.props)||void 0===l?void 0:l.expand)&&t.push(...null!==(c=null===(s=e.props)||void 0===s?void 0:s.list)&&void 0!==c?c:[]),1!==(null==p?void 0:p.length))return e;let n=t[p[0]];return v&&n?(OFe(e)&&BFe(n)&&(n=HFe(n)),PHe(n,v)):n}if(hHe(t)){if(!Rve(e))return e;const t=[...e.children];if(!1===(null===(a=e.props)||void 0===a?void 0:a.expand)&&t.push(...null!==(d=null===(u=e.props)||void 0===u?void 0:u.list)&&void 0!==d?d:[]),1!==(null==p?void 0:p.length))return e;let n=t[p[0]];return v&&n?(OFe(e)&&BFe(n)&&(n=HFe(n)),PHe(n,v)):n}return v?PHe(e,v):e}function FHe(e,t){var n,o,i,r,l,s,c,a,u,d,h;if(f(e))return null;t=kHe(t);const{key:p,path:v,child:g}=t;if(oHe(t)){if(!v||!g)return null;if(BFe(e)){let t=null;return t=v.length?AFe(e,v):e,null===t?null:FHe(t,g)}{let t=null;return t=v.length?MFe(e,v):e,null===t?null:FHe(t,g)}}if(nHe(t)){if(!Yse(e)||!p)return null;const t=null===(o=null===(n=e.props)||void 0===n?void 0:n.value)||void 0===o?void 0:o.cells,s=null!==(r=null===(i=null==t?void 0:t[p])||void 0===i?void 0:i.state)&&void 0!==r?r:null;if(!g)return s;const c=null==s?void 0:s.editor.node;return c?null!==(l=FHe(c,g))&&void 0!==l?l:s:null}if(fHe(t)){if(!rSe(e))return null;const t=[...e.children];if(!1===(null===(s=e.props)||void 0===s?void 0:s.expand)&&t.push(...null!==(a=null===(c=e.props)||void 0===c?void 0:c.list)&&void 0!==a?a:[]),1!==(null==v?void 0:v.length))return null;let n=t[v[0]];return g&&OFe(n)?(OFe(e)&&BFe(n)&&(n=HFe(n)),FHe(n,g)):null}if(hHe(t)){if(!Rve(e))return null;const t=[...e.children];if(!1===(null===(u=e.props)||void 0===u?void 0:u.expand)&&t.push(...null!==(h=null===(d=e.props)||void 0===d?void 0:d.list)&&void 0!==h?h:[]),1!==(null==v?void 0:v.length))return null;let n=t[v[0]];return g&&OFe(n)?(OFe(e)&&BFe(n)&&(n=HFe(n)),FHe(n,g)):null}return g?FHe(e,g):null}function HHe(e,t){var n,o,i,r,l,s,c,a,u,d,h,p,v,g,m;if(f(e))return null;t=kHe(t);const{key:y,path:b,child:C}=t;if(oHe(t)){if(!b)return null;if(BFe(e)){let t=null;return t=b.length?AFe(e,b):e,null===t?null:C?HHe(t,C):Yse(t)&&null!==(o=null===(n=t.props)||void 0===n?void 0:n.value)&&void 0!==o?o:null}{let t=null;return t=b.length?MFe(e,b):e,null===t?null:C?HHe(t,C):Yse(t)&&null!==(r=null===(i=t.props)||void 0===i?void 0:i.value)&&void 0!==r?r:null}}if(nHe(t)){if(!Yse(e))return null;const t=null===(l=e.props)||void 0===l?void 0:l.value;if(!y||!C)return t;const n=null===(c=null===(s=e.props)||void 0===s?void 0:s.value)||void 0===c?void 0:c.cells,o=null===(u=null===(a=null==n?void 0:n[y])||void 0===a?void 0:a.state)||void 0===u?void 0:u.editor.node;return o?HHe(o,C):t}if(fHe(t)){if(!rSe(e))return null;const t=[...e.children];if(!1===(null===(d=e.props)||void 0===d?void 0:d.expand)&&t.push(...null!==(p=null===(h=e.props)||void 0===h?void 0:h.list)&&void 0!==p?p:[]),1!==(null==b?void 0:b.length))return null;let n=t[b[0]];return C&&OFe(n)?(OFe(e)&&BFe(n)&&(n=HFe(n)),HHe(n,C)):null}if(hHe(t)){if(!Rve(e))return null;const t=[...e.children];if(!1===(null===(v=e.props)||void 0===v?void 0:v.expand)&&t.push(...null!==(m=null===(g=e.props)||void 0===g?void 0:g.list)&&void 0!==m?m:[]),1!==(null==b?void 0:b.length))return null;let n=t[b[0]];return C&&OFe(n)?(OFe(e)&&BFe(n)&&(n=HFe(n)),HHe(n,C)):null}return C?HHe(e,C):null}function _He(e,t,n){var o,i,r,l,s,c,a,u,d;if(f(e))return;t=kHe(t);const{key:h,path:p,child:v}=t;if(oHe(t)){if(!p||!v)return;if(BFe(e)){let t=null;if(t=p.length?AFe(e,p):e,null===t)return;return _He(t,v,n)}{let t=null;if(t=p.length?MFe(e,p):e,null===t)return;return _He(t,v,n)}}if(nHe(t)){if(!Yse(e)||!h)return;const l=null===(i=null===(o=e.props)||void 0===o?void 0:o.value)||void 0===i?void 0:i.cells,s=null===(r=null==l?void 0:l[h])||void 0===r?void 0:r.state;if(s&&n(s,t),!v)return;const c=null==s?void 0:s.editor.node;if(!c)return;return _He(c,v,n)}if(fHe(t)){if(!rSe(e))return;const t=[...e.children];if(!1===(null===(l=e.props)||void 0===l?void 0:l.expand)&&t.push(...null!==(c=null===(s=e.props)||void 0===s?void 0:s.list)&&void 0!==c?c:[]),1!==(null==p?void 0:p.length))return;let o=t[p[0]];if(!v||!OFe(o))return;return OFe(e)&&BFe(o)&&(o=HFe(o)),_He(o,v,n)}if(hHe(t)){if(!Rve(e))return;const t=[...e.children];if(!1===(null===(a=e.props)||void 0===a?void 0:a.expand)&&t.push(...null!==(d=null===(u=e.props)||void 0===u?void 0:u.list)&&void 0!==d?d:[]),1!==(null==p?void 0:p.length))return;let o=t[p[0]];if(!v||!OFe(o))return;return OFe(e)&&BFe(o)&&(o=HFe(o)),_He(o,v,n)}return v?_He(e,v,n):void 0}function jHe(e,t,n){var o,i,r,l,s,c,a,u,d,h,p,v,g;if(f(e))return;t=kHe(t);const{key:m,path:y,child:b}=t;if(oHe(t)){if(!y)return;if(BFe(e)){let i=null;if(i=y.length?AFe(e,y):e,null===i)return;if(!b){if(Yse(i)){const e=null===(o=i.props)||void 0===o?void 0:o.value;e&&n(e,t)}return}return jHe(i,b,n)}{let o=null;if(o=y.length?MFe(e,y):e,null===o)return;if(!b){if(Yse(o)){const e=null===(i=o.props)||void 0===i?void 0:i.value;e&&n(e,t)}return}return jHe(o,b,n)}}if(nHe(t)){if(!Yse(e))return;const o=null===(r=e.props)||void 0===r?void 0:r.value;if(o&&n(o,t),!m||!b)return;const i=null===(s=null===(l=e.props)||void 0===l?void 0:l.value)||void 0===s?void 0:s.cells,u=null===(a=null===(c=null==i?void 0:i[m])||void 0===c?void 0:c.state)||void 0===a?void 0:a.editor.node;if(!u)return;return jHe(u,b,n)}if(fHe(t)){if(!rSe(e))return;const t=[...e.children];if(!1===(null===(u=e.props)||void 0===u?void 0:u.expand)&&t.push(...null!==(h=null===(d=e.props)||void 0===d?void 0:d.list)&&void 0!==h?h:[]),1!==(null==y?void 0:y.length))return;let o=t[y[0]];if(!b||!OFe(o))return;return OFe(e)&&BFe(o)&&(o=HFe(o)),jHe(o,b,n)}if(hHe(t)){if(!Rve(e))return;const t=[...e.children];if(!1===(null===(p=e.props)||void 0===p?void 0:p.expand)&&t.push(...null!==(g=null===(v=e.props)||void 0===v?void 0:v.list)&&void 0!==g?g:[]),1!==(null==y?void 0:y.length))return;let o=t[y[0]];if(!b||!OFe(o))return;return OFe(e)&&BFe(o)&&(o=HFe(o)),jHe(o,b,n)}return b?jHe(e,b,n):void 0}function WHe(e,t,n,o,i){var r,l,s,c,a,u;if(f(e))return e;const d=t===e;i&&(e=i(e,o)),n=kHe(n);const{key:h,path:p,child:v}=n;if(oHe(n)){if(!p)return e;let n=null;if(e=BFe(e)?FFe(e,p):PFe(e,p),d&&(t=e),n=BFe(e)?p.length?AFe(e,p):e:p.length?MFe(e,p):e,!v||!n)return e;const r=WHe(n,t,v,o,i);Object.assign(n,r)}else if(nHe(n)){if(!Yse(e)||!h)return e;d?t=e={...e}:e={...e},e.props={...e.props},e.props.value={...e.props.value},e.props.value.cells={...e.props.value.cells};const n={...e.props.value.cells[h]};n.state={...n.state},n.state.editor={...n.state.editor},n.state.editor.node={...n.state.editor.node},e.props.value.cells[h]=n;const o=n.state.editor.node;if(!v)return e;const r=WHe(o,t,v,n.state,i);Object.assign(o,r)}else if(fHe(n)){if(!rSe(e))return e;d?t=e={...e}:e={...e};const n=ds(null!==(l=null===(r=e.props)||void 0===r?void 0:r.list)&&void 0!==l?l:[]).map(((t,n)=>{if(!OFe(t))return t;if(BFe(e)&&!BFe(t)){const o=RFe(e.key,n+1);return _Fe(t,o)}return!BFe(e)&&BFe(t)?HFe(t):t})),c=[...e.children];if(!1===(null===(s=e.props)||void 0===s?void 0:s.expand)&&(e.props={...e.props},c.push(...n),e.props.expand=!0,delete e.props.list),1!==(null==p?void 0:p.length))return e;e.children=c;const a=c[p[0]];if(!v||!a)return e;const u=WHe(a,t,v,o,i);c[p[0]]=u}else if(hHe(n)){if(!Rve(e))return e;if(!1!==(null===(c=e.props)||void 0===c?void 0:c.expand))return e;const n=t.children.findIndex((t=>function(e,t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let o=0;o<n.length;o++)if(!yc(t,n[o])||!Zd(e[n[o]],t[n[o]]))return!1;return!0}(t,e)));if(-1===n)return e;d?t=e={...e}:e={...e};const r=ds(null!==(u=null===(a=e.props)||void 0===a?void 0:a.list)&&void 0!==u?u:[]).map(((t,n)=>{if(!OFe(t))return t;if(BFe(e)&&!BFe(t)){const o=RFe(e.key,n+1);return _Fe(t,o)}return!BFe(e)&&BFe(t)?HFe(t):t}));e.props={...e.props};const l=[...e.children];if(l.push(...r),e.props.expand=!0,delete e.props.list,t.children=[...t.children],t.children.splice(n+1,0,...r),1!==(null==p?void 0:p.length))return e;const s=l[p[0]];if(!v||!s)return e;const f=t.children.indexOf(s);if(-1===f)return e;const h=WHe(s,t,v,o,i);t.children[f]=h}return d?t:e}function zHe(e){let t=WFe();if(e&&gHe(e)){bHe(e)&&(e=MHe(e));oHe(BHe(e))&&(e=EHe(e)),e&&(t=xHe(t,e))}return t}const{isNode:VHe,isEmptyNode:$He}=hk;function ZHe(e){let t=e.children.length-1;for(;t>=0;){const n=e.children[t];VHe(n)&&ZHe(n),$He(n,!0)&&e.children.splice(t,1),t--}return e}const UHe={new:Uf?"+N":"Ctrl+N",snew:Uf?"++N":"Ctrl+Shift+N",paging:Uf?"++P":"Ctrl+Shift+P",offpage:Uf?"++O":"Ctrl+Shift+O",import:Uf?"++I":"Ctrl+Shift+I",export:Uf?"++E":"Ctrl+Shift+E",duplicate:Uf?"+D":"Ctrl+D",move:Uf?"++P":"Ctrl+Shift+P",rename:Uf?"++R":"Ctrl+Shift+R",delete:Uf?"++D":"Ctrl+Shift+D",readonly:Uf?"+R":"Alt+R",moveUp:"",moveDown:"",slash:"/",moveWordBackward:Uf?"+":"Ctrl+",moveWordForward:Uf?"+":"Ctrl+",moveLineBackward:Uf?"+":"Ctrl+",moveLineForward:Uf?"+":"Ctrl+",expandBackward:Uf?"+":"Shift+",expandForward:Uf?"+":"Shift+",expandLineBackward:Uf?"++":"Alt+Shift+",expandLineForward:Uf?"++":"Alt+Shift+",deleteBackward:"Ctrl?+Backspace",deleteForward:"Ctrl?+Del",deleteLineBackward:Uf?"+?+Backspace":"Ctrl+Shift+Backspace",deleteLineForward:Uf?"+?+Del":"Ctrl+Shift+Del",deleteWordBackward:Uf?"++Backspace":"Alt+Shift+Backspace",deleteWordForward:Uf?"++Del":"Alt+Shift+Del"},qHe=Xs(hh)(UHe.new),YHe=Xs(hh)(UHe.paging),KHe=Xs(hh)(UHe.offpage),GHe=Xs(hh)(UHe.import),XHe=Xs(hh)(UHe.export),JHe=Xs(hh)(UHe.duplicate),QHe=Xs(hh)(UHe.move),e_e=Xs(hh)(UHe.rename),t_e=Xs(hh)(UHe.delete),n_e=Xs(hh)(UHe.moveUp),o_e=Xs(hh)(UHe.moveDown),i_e=Xs(hh)(UHe.moveWordBackward),r_e=Xs(hh)(UHe.moveWordForward),l_e=Xs(hh)(UHe.moveLineBackward),s_e=Xs(hh)(UHe.moveLineForward),c_e=Xs(hh)(UHe.expandBackward),a_e=Xs(hh)(UHe.expandForward),u_e=Xs(hh)(UHe.expandLineBackward),d_e=Xs(hh)(UHe.expandLineForward),f_e=Xs(hh)(UHe.deleteBackward),h_e=Xs(hh)(UHe.deleteForward),p_e=Xs(hh)(UHe.deleteLineBackward),v_e=Xs(hh)(UHe.deleteLineForward),g_e=Xs(hh)(UHe.deleteWordBackward),m_e=Xs(hh)(UHe.deleteWordForward),y_e=Xs(fh)(UHe.slash),{createBlockNode:b_e,getKeyFromPath:C_e,initNodeKey:w_e,isNode:x_e,isEditNode:S_e,getPathFromKey:E_e,getEditNodeOffsets:k_e,transformNodeToEditNode:D_e,createReferenceBlockNode:I_e,transformEditNodeToNode:N_e,traverseNode:L_e,isReferenceNode:T_e,isBlockNodeX:B_e,removeBoxSizeStyle:A_e,removeBorderSizeStyle:M_e,isReferenceBlockNode:O_e}=hk,{getBranchByPath:R_e,recursiveTree:P_e,mapTree:F_e}=OB;function H_e(e,t){var n,o,i,r,l,s,c,a,u,d;const f=[],h=[];let p=f;const v=[];for(let n=0;n<e.children.length;n++){let o=e.children[n];Rve(o)&&v.push({node:OPe(o,t),path:[n]})}const g=v.shift(),m={subclass:iae.H,kid:C_e(g.path)},y={title:w_e(b_e([""])),id:null!==(o=null===(n=g.node.props)||void 0===n?void 0:n.id)&&void 0!==o?o:aRe(),type:"page",payload:m};for(;v.length;){const e=v.shift();if(void 0!==e)if(Rve(e.node)){const n=C_e(e.path),o=null===(i=e.node.props)||void 0===i?void 0:i.id,a=null===(r=e.node.props)||void 0===r?void 0:r.subclass,u=a===iae.H?"page":"outline",d=null===(l=e.node.props)||void 0===l?void 0:l.list;et(d)&&v.unshift(...d.map(((n,o)=>({node:OPe(n,t),path:[...e.path,o]}))));let g=e.node;if(B_e(g)){const e=g.style;g=g.children[0],g.style={...e,...g.style}}g.style=A_e(g.style),g.style=M_e(g.style),null===(s=g.style)||void 0===s||delete s.background,null===(c=g.style)||void 0===c||delete c.backgroundColor,g===e.node&&(g=b_e(g.children)),S_e(g)&&(g=N_e(g));let m=g;O_e(m)&&(m=g.children[0]);const y=D_e(m,n),b={kid:n,subclass:a},C={id:null!=o?o:aRe(),title:y,type:u,payload:b},w=dc(h);if(void 0===w){p=f,p.push(C),h.push({branch:C,level:a});continue}const x=w.level;if(void 0===x||void 0===a){et(d)&&v.splice(0,d.length),v.unshift(e),h.pop();continue}if(x>a&&x!==iae.H){et(w.branch.children)||(w.branch.children=[]),p=w.branch.children,p.push(C),h.push({branch:C,level:a});continue}et(d)&&v.splice(0,d.length),v.unshift(e),h.pop()}else;}if(y.children=f,Cc(g.node))y.title=w_e(b_e([g.node]));else if(x_e(g.node)){const e=C_e(g.path);y.payload={subclass:null===(a=g.node.props)||void 0===a?void 0:a.subclass,kid:e};let t=g.node;if(B_e(t)){const e=t.style;t=t.children[0],t.style={...e,...t.style}}t.style=A_e(t.style),t.style=M_e(t.style),null===(u=t.style)||void 0===u||delete u.background,null===(d=t.style)||void 0===d||delete d.backgroundColor,t===g.node&&(t=b_e(t.children)),S_e(t)&&(t=N_e(t));let n=t;O_e(n)&&(n=t.children[0]),y.title=D_e(n,e)}return y}function __e(e){const t=[];return P_e([e],(e=>{let{type:n,title:o,payload:i,id:r}=e;"outline"===n?x_e(o)&&t.push(_ve({subclass:i.subclass,id:r},[ps(o)])):(O_e(o)&&(o=o.children[0]),t.push(_ve({subclass:i.subclass,id:r},[I_e({id:r,uid:r},[ps(o)])])))})),t}function j_e(e){const t={},n=[e];for(;n.length;){const e=n.shift();if(!e)continue;t[e.id]=e;const o=e.children;void 0!==o&&n.unshift(...o)}return t}function W_e(e){const t=[],n=[e];for(;n.length;){const o=n.shift();if(!o)continue;if("outline"===o.type)t.push({...o,children:[]});else if(t.push(o),o!==e)continue;const i=o.children;void 0!==i&&n.unshift(...i)}return t}function z_e(e){var t;const n=[],o=[];let i=n;const r=(e=[...e]).shift();for(let r=0;r<e.length;r++){const l=e[r],s=null===(t=l.payload)||void 0===t?void 0:t.subclass,c=dc(o);if(void 0===c){i=n,i.push(l),o.push({branch:l,level:s});continue}const a=c.level;void 0!==a&&void 0!==s?a>s&&a!==iae.H?(et(c.branch.children)||(c.branch.children=[]),i=c.branch.children,i.push(l),o.push({branch:l,level:s})):(e.unshift(l),o.pop()):(e.unshift(l),o.pop())}return r.children=n,r}function V_e(e,t){let n=null,o=!1;return P_e(e,(e=>!!o||!!e&&(e.id===t?(n=e,o=!0,!0):void 0))),n}function $_e(e,t){let n=null,o=!1;return P_e(e,((e,i)=>!!o||!!e&&(e.id===t?(void 0!==i&&(n=i),o=!0,!0):void 0))),n}function Z_e(e,t){var n;const{path:o}=t;if(!o)return null;const i=[...o.slice(0,-1),(null!==(n=dc(o))&&void 0!==n?n:0)+1];return R_e(e,i)}function U_e(e,t){var n;const{path:o}=t;if(!o||!dc(o))return null;const i=[...o.slice(0,-1),(null!==(n=dc(o))&&void 0!==n?n:0)-1];return R_e(e,i)}function q_e(e,t){let n=Z_e(e,t),o=t.path;if(!o)return n;for(;null===n;){o=hc(o);const i=R_e(e,o);if(null===i)break;if("outline"!==i.type){n=i;let e=dc(n.children);for(;e&&e.id!==t.id;)n=e,e=dc(n.children);break}n=Z_e(e,i)}return n}function Y_e(e,t){let n=U_e(e,t),o=t.path;if(!o)return n;for(;null===n;){o=hc(o);const i=R_e(e,o);if(null===i)break;if("outline"!==i.type){n=i;let e=pc(n.children);for(;e&&e.id!==t.id;)n=e,e=pc(n.children);break}n=U_e(e,i)}return n}function K_e(e){return delete(e={...e}).active,delete e.more,delete e.moving,delete e.rename,delete e.dot,delete e.edge,delete e.inner,delete e.level,delete e.disabled,delete e.index,delete e.icon,delete e.incloud,delete e.syncing,delete e.update,delete e.path,e}function G_e(e,t,n){let o={...t[e]};return Pc(o)?null:(delete(t={...t})[e],o=K_e(o),n&&delete o.expand,o.children&&(o.children=F_e(o.children,(e=>{var o;const{id:i,type:r}=e;return"root"===r||"page"===r||void 0===r?null!==(o=G_e(i,t,n))&&void 0!==o?o:{id:i}:{...e}})).filter((({type:e})=>e))),o)}function X_e(e,t,n){const o={};let i=!1;return P_e([e],((t,r)=>{var l;if(i)return!0;if(!t)return!1;const s=K_e(t),{id:c,type:a,children:u}=s;if("root"===a||"page"===a){if(e.id!==c&&n)return i=!0,!0;const t=null==r?void 0:r.id;if(o[c]={...s,children:[...null!=u?u:[]],parent:{id:null!=t?t:""}},!u)return;o[c].children||(o[c].children=[]);for(let e=0;e<u.length;e++){if(!u[e])continue;const{type:t}=u[e];if("root"===t||"page"===t){const t=(null===(l=u[e].children)||void 0===l?void 0:l.length)?1:0;o[c].children[e]=K_e({...u[e],children:JSON.parse(JSON.stringify(Array(t)))})}else o[c].children[e]=K_e(u[e])}}}),t),o}function J_e(e,t){var n,o,i;let r=null;const l=[],s=[...t.children];for(;s.length;){const t=s.shift();if(void 0!==t)if(Rve(t)){if(null!==r){if(!(r>(null===(n=t.props)||void 0===n?void 0:n.subclass)))break;l.push(t)}if((null===(o=t.props)||void 0===o?void 0:o.id)===e&&(r=null===(i=t.props)||void 0===i?void 0:i.subclass,l.push(t),r===iae.H))break}else null!==r&&l.push(t)}return l}async function Q_e(e,t,n){var o,i;const r={};if(!(null==n?void 0:n.editor))return r;const l=null===(o=n.editor)||void 0===o?void 0:o[e];if(!l)return r;const s=J_e(t,l.data);r.bootstrap={type:"outline",nodes:s};const c={};!function e(t){L_e(t,(t=>{var o,i,r,l,s,a,u;if(Yse(t)){const n=null===(i=null===(o=t.props)||void 0===o?void 0:o.value)||void 0===i?void 0:i.cells;if(Pc(n))return;for(const t in n){const o=null===(r=n[t].state)||void 0===r?void 0:r.editor;o&&e(o.node)}}else if(T_e(t)){const e=null===(l=t.props)||void 0===l?void 0:l.id,o=null===(s=null==n?void 0:n.reference)||void 0===s?void 0:s[e];if(!o)return;c[e]=o}else if(Rve(t)){const n=null===(a=t.props)||void 0===a?void 0:a.list;if(et(n))for(const t of n)x_e(t)&&e(t)}else if(rSe(t)){const n=null===(u=t.props)||void 0===u?void 0:u.list;if(et(n))for(const t of n)x_e(t)&&e(t)}}))}(b_e(s));const a={};for(const e in c){const{data:t}=c[e];if((null===(i=t.props)||void 0===i?void 0:i.type)===Qpe){const{ok:t,data:n}=await MF(e,!0);1===t&&n&&(a[e]=n)}}return Pc(c)||(r.reference=c),Pc(a)||(r.assets=a),r}function eje(e,t){let n=null,o=t.path;if("outline"!==t.type)void 0===o?n=V_e(e,t.id):(n=R_e(e,o),t.id!==(null==n?void 0:n.id)&&(n=V_e(e,t.id)));else for(n=t;"outline"===(null==n?void 0:n.type);)o=hc(o),n=R_e(e,o);return null!=n?n:e[0]}function tje(e,t){const n=eje(e,t);return!!(null==n?void 0:n.readonly)}function nje(e){var t,n,o;const i=null===(t=e.file)||void 0===t?void 0:t.tree,r=null===(n=e.file)||void 0===n?void 0:n.branch;if(!i||!r)return null;const l=eje(i,r);return(null===(o=null==l?void 0:l.float)||void 0===o?void 0:o.visible)?l:null}function oje(e){var t,n,o,i,r,l,s;function c(){var t,n,o,i;const r=null===(t=e.file)||void 0===t?void 0:t.branch;return null!==(i=null!==(n=null==r?void 0:r.id)&&void 0!==n?n:null===(o=e.file)||void 0===o?void 0:o.currentPageId)&&void 0!==i?i:""}if(!(null===(t=e.file)||void 0===t?void 0:t.tree))return c();const{editor:{data:a,node:u,bounds:d,scrollTop:f,scrollHeight:h,clientHeight:p,scrollOffset:v}}=e;if(h<=p)return c();for(let e=u.children.length-1;e>=0;e--){const t=u.children[e];if(!Rve(t))continue;if(!t.position)continue;const r=E_e(t.key);if(Qc(k_e(u,r))-f-(null!==(n=null==v?void 0:v.top)&&void 0!==n?n:0)<100)return null!==(i=null===(o=t.props)||void 0===o?void 0:o.id)&&void 0!==i?i:c()}let g=null!==(r=d.start.path[0])&&void 0!==r?r:0;for(;g>=0;){const e=a.children[g];if(Rve(e))return null!==(s=null===(l=e.props)||void 0===l?void 0:l.id)&&void 0!==s?s:c();g--}return c()}function ije(e){var t;let n=1;const o=null===(t=e.payload)||void 0===t?void 0:t.subclass;return o===iae.H0?n=1:o===iae.H1?n=6:o===iae.H2?n=5:o===iae.H3?n=4:o===iae.H4?n=3:o===iae.H5?n=2:o===iae.H6?n=1:o===iae.H&&(n=7),n}function rje(e){var t;return null===(null===(t=e.children)||void 0===t?void 0:t[0])}function lje(e,t){if(!rje(t))return t;if(t.path){const n=R_e(e,t.path);return n||null}if(t.id){const n=V_e(e,t.id);return n||null}return null}const{BRANCH_HEIGHT:sje}=OB;function cje(e,t){var n;const o=null!==(n=null==t?void 0:t.top)&&void 0!==n?n:0;let i=sje+(Kf?0:o);const r=[...e];for(;r.length;){const e=r.pop();if(e){if(i+=sje,!1===e.expand)continue;const t=e.children;t&&r.push(...t)}}return i}function aje(e){return{id:e.id,type:e.type,title:e.title,payload:e.payload,active:e.active,more:e.more,children:e.children}}const{BRANCH_HEIGHT:uje,mapTree:dje,recursivePath:fje,scrollDelta:hje}=OB;function pje(e){const t={tree:e.tree,clientHeight:e.clientHeight,clientWidth:e.clientWidth,scrollHeight:e.scrollHeight,scrollTop:e.scrollTop,scrollOffset:mje()};return void 0!==e.isEditPending&&(t.isEditPending=e.isEditPending),void 0!==e.isScrolling&&(t.isScrolling=e.isScrolling),void 0!==e.scrollActive&&(t.scrollActive=e.scrollActive),void 0!==e.scrollSmooth&&(t.scrollSmooth=e.scrollSmooth),void 0!==e.renderStart&&(t.renderStart=e.renderStart),void 0!==e.more&&(t.more=e.more),Kf&&(t.scrollOffset?(t.scrollOffset.lower=e.clientHeight,t.scrollOffset.upper=e.clientHeight/2):t.scrollOffset={lower:e.clientHeight,upper:e.clientHeight/2}),t}function vje(e,t,n=0,o){var i,r,l;let{width:s,height:c}=null!==(i=e.float)&&void 0!==i?i:kqe(e),a=0,u=!1;const d=[{...e,active:!1,expand:!0,type:"root",children:dje(null!==(r=e.children)&&void 0!==r?r:[],(e=>{const n=e.id===t;return u||(a+=uje),n&&(u=!0),"outline"!==e.type?{...e,expand:null!=o?o:e.expand,children:[],active:n}:{...e,expand:null!=o?o:e.expand,active:n}}))}];let f=[],h=-1;fje(d,((e,t)=>{e&&(f.length||h++,e.active&&(f=t),e.path=t)})),u||(a=0,h=0,(null===(l=d[0].children)||void 0===l?void 0:l[0])&&(d[0].children[0].active=!0));const p=cje(d)-uje;a+uje>n+c?n=Math.min(Math.max(0,p-c),Math.max(0,a+uje-c)):a-uje<n&&(n=Math.max(0,a-uje));const v={tree:d,clientHeight:c,clientWidth:s,scrollHeight:p,scrollTop:a,renderStart:{path:f,index:h},isEditPending:!0};Kf&&(v.scrollOffset?(v.scrollOffset.lower=2*c,v.scrollOffset.upper=2*c):v.scrollOffset={lower:2*c,upper:2*c});return hje(n-a)(v),v}function gje(e){if(!e)return!1;const t=e.branch;return!!t&&(tje(e.tree,t)||!!t.readonly)}function mje(){return{top:jM()?48:44}}function yje(e,t){var n;let o=[{name:zK[e.lang][WK.new],value:WK.new,hotkey:"undefined"!=typeof electron?UHe.new:void 0,icon:G(qM,{})},{name:zK[e.lang][WK.import],value:WK.import,icon:G(YM,{}),children:[{name:"SLI",value:WK.ijson,icon:G(rO,{})},{name:"HTML ",value:WK.ihtml,icon:G(sO,{})},{name:"Markdown",value:WK.imarkdown,icon:G(lO,{})},{name:"",value:WK.idirectory,icon:G(tO,{})}]},{name:zK[e.lang][WK.export],value:WK.export,icon:G(KM,{}),children:[{name:"SLI",value:WK.ejson,icon:G(rO,{})},{name:"HTML",value:WK.ehtml,icon:G(sO,{})},{name:"Markdown",value:WK.emarkdown,icon:G(lO,{})},{name:`${zK[e.lang][WK.eapplication]}`,value:WK.eapplication,icon:G(JR,{})}]},{separate:!0,value:WK.syncNote},{name:zK[e.lang][WK.syncNote],value:WK.syncNote,style:{color:t.update?q$[t.update]:""},icon:G(EO,{fill:t.update?q$[t.update]:_f})},{separate:!0,value:WK.duplicate},{name:zK[e.lang][WK.duplicate],value:WK.duplicate,hotkey:UHe.duplicate,icon:G(GM,{})},{name:zK[e.lang][WK.move],value:WK.move,hotkey:UHe.move,icon:G(XM,{})},{name:zK[e.lang][WK.rename],value:WK.rename,hotkey:UHe.rename,icon:G(JM,{})},{name:zK[e.lang][WK.insertNote],value:WK.insertNote,icon:G(MO,{})},{separate:!0},{name:zK[e.lang][WK.readonly],value:WK.readonly,hotkey:UHe.readonly,icon:G(ZO,{})},{name:zK[e.lang][WK.editable],value:WK.editable,hotkey:UHe.readonly,icon:G(bO,{})},(null===(n=t.children)||void 0===n?void 0:n.some((e=>null==e?void 0:e.expand)))?{name:zK[e.lang][WK.collapsedNote],value:WK.collapsedNote,icon:G(OO,{})}:{name:zK[e.lang][WK.expandNote],value:WK.expandNote,icon:G(RO,{})},{name:zK[e.lang][WK.float],value:WK.float,icon:G($O,{})},{name:zK[e.lang][WK.finder],value:WK.finder,icon:G(Uf?eO:tO,{})},{separate:!0,value:WK.delete},{name:zK[e.lang][WK.profile],value:WK.profile,more:!0,inner:G($2,{pageId:t.id}),icon:G(DO,{width:13,fill:zf})},{name:zK[e.lang][WK.delete],value:WK.delete,hotkey:UHe.delete,icon:G(QM,{})}];if(o="root"===t.type?o.filter((n=>{var o,i,r;if(!Kf&&"undefined"==typeof electron&&(n.value===WK.finder||n.value===WK.transfer))return!1;if(n.value===WK.syncNote){if("undefined"==typeof electron)return!1;if(!(null===(r=null===(i=null===(o=e.file)||void 0===o?void 0:o.cloud)||void 0===i?void 0:i[t.id])||void 0===r?void 0:r.some((e=>e.bind))))return!1}return n.value===WK.readonly?!t.readonly:n.value!==WK.editable||!!t.readonly})):o.filter((e=>e.value!==WK.finder&&e.value!==WK.transfer&&e.value!==WK.insertNote&&e.value!==WK.syncNote&&(("outline"!==t.type||e.value!==WK.float&&e.value!==WK.readonly&&e.value!==WK.editable&&e.value!==WK.profile)&&(e.value===WK.readonly?!t.readonly:e.value!==WK.editable||!!t.readonly)))),"outline"===t.type){const e=o.find((e=>e.value===WK.import));(null==e?void 0:e.children)&&(e.children=e.children.filter((e=>e.value!==WK.idirectory)))}return o}function bje(e,t,n,o,i,r){const l={width:14,fill:Hf,style:{position:"relative",top:-.8}},s={position:"relative",top:-.5},c=[[{name:zK[e.lang][WK.search],value:WK.search,icon:G(uR,{...l,width:14.5})}].filter((e=>e.value!==WK.search||!!n)),[{name:zK[e.lang][WK.import],value:WK.import,icon:G(YM,{...l}),rightIconType:"arrow",children:[{name:"SLI",value:WK.ijson,icon:G(rO,{...l,style:s,fill:zf})},{name:"HTML ",value:WK.ihtml,icon:G(sO,{...l,style:s,fill:zf,width:15})},{name:"Markdown",value:WK.imarkdown,icon:G(lO,{...l,style:s,fill:zf})}]},{name:zK[e.lang][WK.export],value:WK.export,icon:G(KM,{...l,style:s}),rightIconType:"arrow",children:[{name:"SLI",value:WK.ejson,icon:G(rO,{...l,style:s,fill:zf})},{name:"HTML",value:WK.ehtml,icon:G(sO,{...l,style:s,fill:zf,width:15})},{name:"Markdown",value:WK.emarkdown,icon:G(lO,{...l,style:s,fill:zf})},{name:`${zK[e.lang][WK.eapplication]} `,value:WK.eapplication,icon:G(JR,{...l,fill:zf})}]}],[{name:zK[e.lang][WK.syncNote],value:WK.syncNote,style:{color:t.update?q$[t.update]:""},icon:G(EO,{...l,fill:t.update?q$[t.update]:Hf})}].filter((n=>{var o,i,r;return n.value!==WK.syncNote||!("root"!==t.type||!(null===(r=null===(i=null===(o=e.file)||void 0===o?void 0:o.cloud)||void 0===i?void 0:i[t.id])||void 0===r?void 0:r.some((e=>e.bind))))})),[{name:zK[e.lang][WK.duplicate],value:WK.duplicate,icon:G(GM,{...l})},{name:zK[e.lang][WK.move],value:WK.move,rightIconType:"arrow",icon:G(XM,{...l,width:15})},{name:zK[e.lang][WK.rename],value:WK.rename,icon:G(JM,{...l,width:13.5})},{name:zK[e.lang][WK.insertNote],value:WK.insertNote,icon:G(MO,{...l})}].filter((e=>e.value===WK.insertNote?"root"===t.type:e.value!==WK.rename||!n)),[{name:zK[e.lang][WK.readonly],value:WK.readonly,icon:G(ZO,{...l,width:15})},{name:zK[e.lang][WK.editable],value:WK.editable,icon:G(bO,{...l})},{name:zK[e.lang][WK.collapsedNote],value:WK.collapsedNote,icon:G(OO,{...l,width:13})},{name:zK[e.lang][WK.expandNote],value:WK.expandNote,icon:G(RO,{...l,width:13})},{name:zK[e.lang][WK.float],value:WK.float,icon:G($O,{...l,width:12.5})}].filter((e=>{var l,s;if(e.value===WK.collapsedNote)return!0===r||!(!(null===(l=t.children)||void 0===l?void 0:l.length)||n)&&(!1!==t.expand&&(!!t.children.some((e=>{var t;return null===(t=null==e?void 0:e.children)||void 0===t?void 0:t.length}))&&!!t.children.some((e=>null==e?void 0:e.expand))));if(e.value===WK.expandNote)return!0===i||!(!(null===(s=t.children)||void 0===s?void 0:s.length)||n)&&(!1===t.expand||!!t.children.some((e=>{var t;return null===(t=null==e?void 0:e.children)||void 0===t?void 0:t.length}))&&!t.children.some((e=>null==e?void 0:e.expand)));if(e.value===WK.float)return!!n;if(e.value===WK.readonly){if("outline"===t.type)return!1;if(!o)return!1}if(e.value===WK.editable){if("outline"===t.type)return!1;if(o)return!1}return!0})),[{name:zK[e.lang][WK.profile],value:WK.profile,rightIconType:"arrow",icon:G(DO,{style:s,width:15.5})},{name:zK[e.lang][WK.delete],value:WK.delete,hotkey:UHe.delete,style:{color:"outline"!==t.type?"red":Hf},icon:G(QM,{fill:"outline"!==t.type?"red":Hf,width:14.5,style:{position:"relative",top:-1}})}].filter((e=>e.value!==WK.profile||"outline"!==t.type))];return c}const{getBlockNodeEndPath:Cje,isPathAfter:wje,isNodeEqual:xje,isEmptyNode:Sje}=hk;function Eje(e){const t={...e};delete t.node,delete t.status,delete t.ureference,delete t.highlights,delete t.ghighlights,delete t.isEditPending,delete t.isScrollPending,delete t.isScrolling,delete t.selectionReflow,delete t.formatPaint;const n=Cje(e.data),o=ps(t.bounds);return wje(o.end.path,n)&&(o.end.path=n,o.end.slice=!1,t.bounds=o),t.updateTime=Date.now(),t}function kje(e,t){var n,o;const i={},r=["reference","editor","catalog"];for(const l of r){for(const t in null==e?void 0:e[l]){const o=null===(n=e[l])||void 0===n?void 0:n[t];if(!o)continue;let r=i[l];r||(r=i[l]={}),r[t]=o}for(const e in null==t?void 0:t[l]){const n=null===(o=t[l])||void 0===o?void 0:o[e];if(!n)continue;let r=i[l];if(r){if(r[e])continue}else r=i[l]={};r[e]=n}}return i}async function Dje(e,t){var n;const o={};if(o.bootstrap={type:"page",file:{currentPageId:e}},!t)return o;const i=Nje(e,t),r=Lje(e,t),l={};for(const e in i){const{data:t}=i[e];if((null===(n=t.props)||void 0===n?void 0:n.type)===Qpe){const{ok:t,data:n}=await MF(e,!0);1===t&&n&&(l[e]=n)}}return Pc(i)||(o.reference=i),Pc(l)||(o.assets=l),Pc(r)||(o.editor=r),o}function Ije(e,t){var n;const o={};if(!(null==t?void 0:t.catalog))return o;o[e]=t.catalog[e];const i=null!==(n=o[e].children)&&void 0!==n?n:[];for(const{id:n}of i)n!==e&&Object.assign(o,Ije(n,t));return o}function Nje(e,t){var n,o,i;const r={};if(!(null==t?void 0:t.reference)||!(null==t?void 0:t.catalog))return r;const l=null===(n=t.editor)||void 0===n?void 0:n[e];if(!l)return r;const s=Object.values(null!==(o=l.uids)&&void 0!==o?o:{});for(const n of s){const o=t.reference[n];if(o&&(r[n]=o,null===(i=t.editor)||void 0===i?void 0:i[n])){if(n===e)continue;Object.assign(r,Nje(n,t))}}return r}function Lje(e,t){var n,o,i;const r={};if(!(null==t?void 0:t.editor)||!(null==t?void 0:t.catalog))return r;const l=null===(n=t.editor)||void 0===n?void 0:n[e];if(!l)return r;r[e]=l;const s=Object.values(null!==(o=l.uids)&&void 0!==o?o:{});for(const n of s)if(null===(i=t.editor)||void 0===i?void 0:i[n]){if(n===e)continue;Object.assign(r,Lje(n,t))}return r}function Tje(e,t){var n,o;const i=[],r=null===(n=null==t?void 0:t.editor)||void 0===n?void 0:n[e];if(!r)return i;i.push(e);const l=r.data.children;for(const n of l)if(Fve(n)){const r=null===(o=n.props)||void 0===o?void 0:o.id;if(!r||r===e)continue;i.includes(r)||i.push(r);const l=Tje(r,t);for(const e of l)i.includes(e)||i.push(e)}return i}function Bje(e,t){var n,o,i,r,l;Ku(t)&&(t=ed(t));const s=null===(n=null==t?void 0:t.editor)||void 0===n?void 0:n[e];if(!s)return!1;const{uids:c,data:a}=s;if(Pc(c))return!1;const u=null==t?void 0:t.reference,d=Object.keys(c);if(1===d.length){const e=d[0],t=c[e];if(t===e){const e=a.children[0];if(Fve(e)){let n=e.children[0];n={...n,props:{...n.props}},null===(o=n.props)||void 0===o||delete o.uid;const r=null===(i=null==u?void 0:u[t])||void 0===i?void 0:i.data;if(r&&xje(n,r))return!1}}return!0}for(const e in c){if(e!==c[e])return!0}for(let e=0;e<a.children.length;e++){const t=a.children[e];if(!Fve(t))continue;const n=t.children[0],o=null===(r=n.props)||void 0===r?void 0:r.id;if(!o)continue;const i=null===(l=null==u?void 0:u[o])||void 0===l?void 0:l.data;if(i&&!xje(n,i))return!0}return!1}function Aje(e,t){var n;Ku(t)&&(t=ed(t));const o=null===(n=null==t?void 0:t.editor)||void 0===n?void 0:n[e];if(!o)return!1;const{data:i}=o,r=dc(i.children);return!Sje(r,!0)}const{DetectFlag:Mje,getNodeByPath:Oje,getNodeEndPath:Rje,getNodeLength:Pje,getNodeStartPath:Fje,initNodeKey:Hje,removeBoxSizeStyle:_je,isReferenceBlockNode:jje}=hk,{TITLE_HEIGHT:Wje}=OB;function zje(e){var t,n;let o=e.branch.title;jje(o)&&(o=o.children[0]);const i={...Hje(o),style:{...o.style,pointerEvents:"none",fontSize:Kf?15:14}};i.style=_je(i.style),null===(t=i.style)||void 0===t||delete t.fontWeight;let r=0;const l=Rje(i),s=Oje(i,l);null!==s&&(r=Pje(s));const c={focus:{path:Fje(i),offset:0},anchor:{path:Rje(i),offset:r}};return{node:i,detect:{flag:Mje.STATIC},selection:c,scrollTop:0,selectionReflow:!0,clientHeight:Wje,scrollHeight:Wje,contentHeight:Wje,clientWidth:null!==(n=e.clientWidth)&&void 0!==n?n:0}}function Vje(){return{backgroundColor:Bf,color:"#fff",WebkitTextFillColor:"#fff"}}function $je(e){var t;let{anchor:n,focus:o,search:i}=e;if(i){bHe(i)&&(i=MHe(i));const e=BHe(i);if(oHe(e)){const i=null!==(t=e.path)&&void 0!==t?t:[];n={...n,path:[...i,...n.path]},o={...o,path:[...i,...o.path]}}}return{anchor:n,focus:o}}function Zje(e){const t=null==e?void 0:e.payload;if(!t)return;return[{selection:$je(t),style:Vje()}]}function Uje(e){var t;const n=Vje();for(const o in n){const i=n[o];if((null===(t=e.style)||void 0===t?void 0:t[o])!==i)return!1}return!0}class qje{constructor(e,t){var n;this.conc=null!==(n=navigator.hardwareConcurrency)&&void 0!==n?n:4,this.result={},this.pending={},this.ids=[],this.resolve=null,this.payload=e,this.worker=t,this.ids=Object.keys(e),this.promise=new Promise(((e,t)=>{this.resolve=e}))}async compression(){if(Pc(this.ids))return;for(let e=Object.keys(this.pending).length;e<this.conc;e++){const e=this.ids.shift();if(!e)break;const t=this.payload[e],n={[e]:t};this.pending[e]=async()=>{var t;try{const t=await this.worker.compression(n);Object.assign(this.result,t),delete this.pending[e],await this.compression()}catch(e){console.warn("SegmentCompressionScheduler",e)}Pc(this.pending)&&Pc(this.ids)&&(null===(t=this.resolve)||void 0===t||t.call(this,this.result),this.resolve=null)},this.pending[e]()}}async output(){return Pc(this.payload)?this.result:await this.promise}}class Yje{constructor(e,t){var n;this.conc=null!==(n=navigator.hardwareConcurrency)&&void 0!==n?n:4,this.result={},this.pending={},this.ids=[],this.resolve=null,this.payload=e,this.worker=t,this.ids=Object.keys(e),this.promise=new Promise(((e,t)=>{this.resolve=e}))}async decompression(){if(Pc(this.ids))return;for(let e=Object.keys(this.pending).length;e<this.conc;e++){const e=this.ids.shift();if(!e)break;const t=this.payload[e],n={[e]:t};this.pending[e]=async()=>{var t;try{const t=await this.worker.decompression(n);Object.assign(this.result,t),delete this.pending[e],await this.decompression()}catch(e){console.warn("SegmentDecompressionScheduler",e)}Pc(this.pending)&&Pc(this.ids)&&(null===(t=this.resolve)||void 0===t||t.call(this,this.result),this.resolve=null)},this.pending[e]()}}async output(){return Pc(this.payload)?this.result:await this.promise}}class Kje{constructor(e,t){var n;this.conc=null!==(n=navigator.hardwareConcurrency)&&void 0!==n?n:4,this.result=[],this.cache=[],this.stack=[],this.pending={},this.cancels={},this.resolve=null,this.cancel=()=>{for(const e in this.cancels)this.cancels[e](),delete this.cancels[e]},this.payload=e,this.worker=t,this.promise=new Promise(((e,t)=>{this.resolve=e})),this.workOnNodes(e)}workOnNodes(e){const{node:t}=e,n=t.children.length,o=Math.ceil(n/this.conc);for(let e=0;e<n;e+=o){const n=t.children.slice(e,e+o);this.stack.push({index:e,node:{...t,children:n}})}}injectSelections(e,t){var n;t+=null!==(n=this.payload.index)&&void 0!==n?n:0;for(const n of e)if(n.search){if(oHe(n.search)){const e=n.search.path;e&&(e[0]+=t)}}else n.anchor.path[0]+=t,n.focus.path[0]+=t;this.cache[t]=e}search(){if(Pc(this.stack))return;for(let e=Object.keys(this.pending).length;e<this.conc;e++){const e=this.stack.shift();if(!e)break;const{index:t,node:n}=e;this.pending[t]=async()=>{var e;const o={...this.payload,node:n},{promise:i,cancel:r}=this.worker.search(o);this.cancels[t]=r;const{selections:l}=await i;this.injectSelections(l,t),delete this.pending[t],delete this.cancels[t],await this.search(),Pc(this.pending)&&Pc(this.stack)&&(this.result=Oi(this.cache.filter((e=>e))),null===(e=this.resolve)||void 0===e||e.call(this,this.result),this.resolve=null)},this.pending[t]()}}async output(){return this.payload.node.children.length?await this.promise:this.result}}const{getNodeByPath:Gje,getNodeStartPath:Xje,getNodeEndPath:Jje,sortSelection:Qje,comparePath:eWe,getNodeLength:tWe,sliceNode:nWe,getRelativeSortPoint:oWe,setEditNodeStyleRecursion:iWe,getEditNodeByPath:rWe,isEditNode:lWe,getEditNodeStartPath:sWe,getEditNodeEndPath:cWe,isBlockNode:aWe,initNodeKey:uWe,matchWordOffsetBackward:dWe,matchWordOffsetForward:fWe,wordSegmenter:hWe,traverseNode:pWe,isInlineNode:vWe,isNode:gWe,isPathEqualBlock:mWe,calcCommonSelectionPath:yWe,sliceDecoratePath:bWe,isDecorateNode:CWe,isDecorateInlineNode:wWe,transformNodeToEditNode:xWe,isMetaNode:SWe,isMetaBrNode:EWe,isMetaSpaceNode:kWe,createBlockNode:DWe,createInlineNode:IWe}=hk,{getIndexByKey:NWe}=UL;function LWe(e,t){var n;let o="";if(!e)return o;const i=[e];for(;i.length;){const e=i.shift();if(void 0!==e)if(Cc(e))o+=e;else if(kWe(e))o+=" ";else if(EWe(e))o+="\n";else{if(aWe(e)&&(o+="\n"),t&&tae(e)){o+=`${((null===(n=e.props)||void 0===n?void 0:n.level)||[1]).join(".")}. `}i.unshift(...e.children)}}return o.replace(/^[\n]+|[\n]+$/g,"")}function TWe(e,t,n){var o,i,r,l,s,c,a,u,d,f,h,p,v,g,m;const y=[],b=e.length;if(0===b)return[];let C=0,w=0,x=null;const S=[{node:t,path:[]}];for(;S.length;){const t=S.shift();if(void 0===t)continue;let{node:E,path:k,search:D}=t;if(gWe(E)&&(null==n?void 0:n(E,k))){C=0,w=0,x=null;continue}if(Cc(E)){const n=e.slice(C);if(E.length-w>=b-C){const e=E.indexOf(n,w);if(-1!==e){if(0===C){w=e+b-C;const t={anchor:{path:[...k],offset:e},focus:{path:[...k],offset:w}};D&&(t.search=ps(D)),y.push(t)}else if(x&&0===e){w=e+b-C;const t={anchor:x,focus:{path:[...k],offset:w}};D&&(t.search=ps(D)),y.push(t)}else w=e+1;w<E.length?S.unshift(t):w=0,C=0,x=null;continue}}else{if(-1!==n.indexOf(E.slice(w))){0===C&&(x={path:[...k],offset:w}),C+=E.length-w,w=0;continue}}if(0===C){do{const t=e.slice(0,++C),n=E.indexOf(t,w);if(-1===n){C=0;break}if(n+C===E.length)break}while(C<b);C>0&&(x={path:[...k],offset:E.length-C})}else C=0,x=null;w=0;continue}if(Yse(E)){const e=null!==(r=null===(i=null===(o=E.props)||void 0===o?void 0:o.value)||void 0===i?void 0:i.cells)&&void 0!==r?r:{};Object.keys(e).sort(((e,t)=>{const{rowIndex:n,columnIndex:o}=NWe(e),{rowIndex:i,columnIndex:r}=NWe(t);let l=i-n;return 0===l&&(l=r-o),l})).forEach((t=>{var n;const o=null===(n=e[t].state)||void 0===n?void 0:n.editor.node;if(o){const e=[ZFe([...k]),$Fe(t)];D&&e.unshift(D);const n=xHe(e[0],...e.slice(1));S.unshift({node:o,path:[],search:n})}}));continue}if(rSe(E)&&!1===(null===(l=E.props)||void 0===l?void 0:l.expand)&&(null===(c=null===(s=E.props)||void 0===s?void 0:s.list)||void 0===c?void 0:c.length)){const e=[...E.children];!1===(null===(a=E.props)||void 0===a?void 0:a.expand)&&e.push(...null!==(d=null===(u=E.props)||void 0===u?void 0:u.list)&&void 0!==d?d:[]),S.unshift(...e.map(((e,t)=>{const n=[ZFe([...k]),UFe([t])];D&&n.unshift(D);return{node:e,path:[],search:xHe(n[0],...n.slice(1))}})));continue}if(Rve(E)&&!1===(null===(f=E.props)||void 0===f?void 0:f.expand)&&(null===(p=null===(h=E.props)||void 0===h?void 0:h.list)||void 0===p?void 0:p.length)){const e=[...E.children];!1===(null===(v=E.props)||void 0===v?void 0:v.expand)&&e.push(...null!==(m=null===(g=E.props)||void 0===g?void 0:g.list)&&void 0!==m?m:[]),S.unshift(...e.map(((e,t)=>{const n=[ZFe([...k]),qFe([t])];D&&n.unshift(D);return{node:e,path:[],search:xHe(n[0],...n.slice(1))}})));continue}aWe(E)&&(C=0,w=0,x=null);const I=E.children;S.unshift(...I.map(((e,t)=>({node:e,path:[...k,t],search:D}))))}return y}function BWe(e,t,n,o=[4,15]){const{before:i,after:r}=Qje(t);let[l,s]=o;for(;l>0;){const t=Gje(e,i.path);if(null===t)break;if(i.offset>0){if(Cc(t)){const e=i.offset-1;i.offset=fWe(t,e)}else i.offset--;l--;continue}const n=Xje(e);if(eWe(i.path,n)<=0)break;const o=rPe(e,i.path),r=Gje(e,o);if(!mWe(e,o,i.path)&&--l<=0)break;if(i.path=o,i.offset=0,null===r)continue;const s=tWe(r);if(0===s){l--;continue}let c=!1;if(Cc(r)){const e=hWe(r);if(e.length){c=!0;const t=Math.min(l,e.length);l-=t,i.offset=e[e.length-t].index}}if(!1===c){const e=Math.min(l,s);l-=e,i.offset=s-e}}for(;s>0;){const t=Gje(e,r.path);if(null===t)break;const n=tWe(t);if(r.offset<n){Cc(t)?r.offset=dWe(t,r.offset):r.offset++,s--;continue}const o=Jje(e);if(eWe(r.path,o)>=0)break;const i=iPe(e,r.path),l=Gje(e,i);if(!mWe(e,i,r.path)&&--s<=0)break;if(r.path=i,r.offset=0,null===l)continue;const c=tWe(l);if(0===c){s--;continue}let a=!1;if(Cc(l)){const e=hWe(l);if(e.length){a=!0;const t=Math.min(s,e.length);s-=t;const n=e[t-1];r.offset=n.index+n.segment.length}}if(!1===a){const e=Math.min(s,c);s-=e,r.offset=e}}let c=nWe(e,i.path,r.path);const a=oWe(t,i.path);iWe(c,a.before,a.after,n),c=uWe(c);const u=sWe(c),d=rWe(c,u),f=rWe(c,hc(u));if(lWe(f)&&null!==d){const e=f.children.indexOf(d);Cc(d)&&0!==i.offset&&(f.children[e]=d.slice(i.offset))}const h=cWe(c),p=rWe(c,h),v=rWe(c,hc(h));if(lWe(v)&&null!==p){const e=v.children.indexOf(p);Cc(p)&&0!==r.offset&&(v.children[e]=p.slice(0,r.offset))}return pWe(c,(e=>{var t;vWe(e)&&!SWe(e)&&(null===(t=e.style)||void 0===t||delete t.display)})),c}function AWe(e,t,n,o){var i,r,l;const{exclude:s,start:c,end:a,callback:u}=n;let d=null!==(i=n.index)&&void 0!==i?i:0;const f=TWe(e,t,u);if(0===f.length)return null;const h=[...t.children];c&&(h.unshift(c),f.forEach((e=>{var t;const n=null===(t=e.search)||void 0===t?void 0:t.path;n?n[0]++:(e.anchor.path[0]++,e.focus.path[0]++)})),d=Math.max(0,d-1)),a&&h.push(a),t={...t,children:h};const p=[],v={...Vje(),content:null!=o?o:"initial"};for(let e=0;e<f.length;e++){let{search:n}=f[e],o=t;if(n){let e=o;if(bHe(n)&&(e=WHe(t,t,n),n=MHe(n)),gHe(n)&&gWe(e)){const t=FHe(e,n);e=null!==(r=null==t?void 0:t.editor.node)&&void 0!==r?r:null}gWe(e)&&(o=e)}const i=$je(f[e]);if(s){const t=yWe(i),n=Gje(o,t);if(gWe(n)){let t=!1;if(pWe(n,(e=>{var n;if(s.includes(null===(n=e.props)||void 0===n?void 0:n.uid))return t=!0,!0})),t){p[e]=null;continue}}let r=!1,c=t;for(;null==c?void 0:c.length;){const t=bWe(o,c);if(!t||Fc(c,t))break;const n=Gje(o,t);if(!CWe(n))break;if(s.includes(null===(l=n.props)||void 0===l?void 0:l.uid)){p[e]=null,r=!0;break}c=t}if(r)continue}p[e]=BWe(o,i,v)}const g=[],m=[];for(let t=0;t<p.length;t++){const n=p[t];if(!n)continue;const i=f[t];if(i.search){if(oHe(i.search)){const e=i.search.path;e&&(e[0]+=d)}}else i.anchor.path[0]+=d,i.focus.path[0]+=d;const r=bPe(n,14,(t=>Yse(t)?{...t,props:{}}:(pWe(t,(t=>{var n,r,l,s;if(wWe(t)){const c=null===(n=t.props)||void 0===n?void 0:n.id,a=null===(r=t.props)||void 0===r?void 0:r.uid;o&&o===c&&pWe(t,(e=>{var t;if((null===(t=e.style)||void 0===t?void 0:t.content)===o){if(a){if(m.includes(a))return;m.push(a)}return i.checked=!0,!0}}));let u=null===(l=t.style)||void 0===l?void 0:l.content,d=t;for(;void 0===u&&1===d.children.length;){const e=d.children[0];if(!gWe(e))break;d=e,u=null===(s=d.style)||void 0===s?void 0:s.content}if(u&&(u===o||"initial"===u))return LWe(t)===e?i.node=t:i.decorated=!0,!0}})),t)));g.push({type:"outline",id:aRe(!0),payload:i,title:r})}return 0===g.length?null:{id:aRe(!0),title:xWe(IWe([]),""),type:"page",expand:!0,children:g}}async function MWe(e,t,n,o,i,r,l){var s,c,a;const{rid:u}=o;let d=!1;const f={...Vje(),content:null!=u?u:"initial"},h=[],p=[];let v="";"string"==typeof r.current&&(v=r.current);const g=null!==(c=null===(s=t.children[0].props)||void 0===s?void 0:s.id)&&void 0!==c?c:aRe(!0),m=xWe(pPe(t),""),y=()=>{const e={id:g,title:m,type:"page",expand:!0,children:h.slice()};return h.length=0,e};await l();const b=1e3*(null!==(a=navigator.hardwareConcurrency)&&void 0!==a?a:4);for(let o=0;o<t.children.length;o+=b){const l=t.children.slice(o,o+b),s=new Kje({text:e,excludeIds:n,index:o,node:DWe(l)},i);s.search(),r.current=s.cancel;const c=await s.output();if(c.length>0&&(d=!0),await C(c),"string"==typeof r.current&&r.current!==v)break}async function C(n){var o;for(let i=0;i<n.length;i++){i>0&&i%1e3==0&&await new Promise((async e=>{const t=y();"string"==typeof r.current?r.current===v&&await l(t):await l(t),setTimeout(e,0)}));let{search:s}=n[i],c=t;if(s){let e=c;if(bHe(s)&&(e=WHe(t,t,s),s=MHe(s)),gHe(s)&&gWe(e)){const t=FHe(e,s);e=null!==(o=null==t?void 0:t.editor.node)&&void 0!==o?o:null}gWe(e)&&(c=e)}const a=bPe(BWe(c,$je(n[i]),f),14,(t=>Yse(t)?{...t,props:{}}:(pWe(t,(t=>{var o,r,l,s;if(wWe(t)){const c=null===(o=t.props)||void 0===o?void 0:o.id,a=null===(r=t.props)||void 0===r?void 0:r.uid;u&&u===c&&pWe(t,(e=>{var t;if((null===(t=e.style)||void 0===t?void 0:t.content)===u){if(a){if(p.includes(a))return;p.push(a)}return n[i].checked=!0,!0}}));let d=null===(l=t.style)||void 0===l?void 0:l.content,f=t;for(;void 0===d&&1===f.children.length;){const e=f.children[0];if(!gWe(e))break;f=e,d=null===(s=f.style)||void 0===s?void 0:s.content}if(d&&(d===u||"initial"===d))return LWe(t)===e?n[i].node=t:n[i].decorated=!0,!0}})),t)));h.push({type:"outline",id:aRe(!0),payload:n[i],title:a})}if(!h.length)return;const i=y();"string"==typeof r.current?r.current===v&&await l(i):await l(i)}return d}function OWe(e,t,n){const o=$je(t),i=yWe(o);if(i.length<=0)return null;const{search:r}=t;if(r&&gHe(r)){const e=FHe(n,r);n=null==e?void 0:e.editor.node}if(!gWe(n))return null;const l=i[0];return AWe(e,DWe([n.children[l]]),{start:n.children[l-1],end:n.children[l+1],index:l})}function RWe(e){var t;return gWe(e)&&wWe(e)&&"replace"===(null===(t=e.props)||void 0===t?void 0:t.type)}function PWe(e){var t,n;return 0===(null!==(n=null===(t=e[0].children)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}function FWe(e){let t="";return pWe(e,(e=>{if(RWe(e))return t=e.children[0].children[0],!0})),t}function HWe(e,t){const{before:n,after:o}=Qje(t);if(n.path[0]===o.path[0]){const t=e.children[n.path[0]];if(gWe(t))return{...e,children:[HWe(t,{anchor:{path:n.path.slice(1),offset:n.offset},focus:{path:o.path.slice(1),offset:o.offset}})]};if(Cc(t)){const i=t.slice(0,n.offset),r=t.slice(o.offset);e.children.splice(n.path[0],1,i,r);const l=t.slice(n.offset,o.offset);return{...e,children:[l]}}}const i=e.children[n.path[0]],r=e.children[o.path[0]],l=[];if(SWe(r))1===o.offset&&(l.unshift(r),e.children.splice(o.path[0],1,""));else if(gWe(r)){const e=o.path.length>1?o.path.slice(1):[0];l.unshift(HWe(r,{anchor:{path:[0],offset:0},focus:{path:e,offset:o.offset}}))}else if(Cc(r)){const t=r.slice(o.offset);e.children[o.path[0]]=t;const n=r.slice(0,o.offset);n&&l.unshift(n)}const s=n.path[0]+1,c=o.path[0]-s;if(c>0&&l.splice(0,0,...e.children.splice(s,c)),SWe(i))0===n.offset&&(l.unshift(i),e.children.splice(n.path[0],1,""));else if(gWe(i)){const e=Math.max(0,tWe(i)-1),t=i.children[e],o=n.path.length>1?n.path.slice(1):[0];l.unshift(HWe(i,{anchor:{path:o,offset:n.offset},focus:{path:[e],offset:tWe(t)}}))}else if(Cc(i)){const t=i.slice(0,n.offset);e.children[n.path[0]]=t;const o=i.slice(n.offset);o&&l.unshift(o)}return{...e,children:l}}const{getNodeByPath:_We,getNodeEndPath:jWe,getNodeLength:WWe,getNodeStartPath:zWe,isReferenceNode:VWe,isNode:$We,transformNodeToEditNode:ZWe,traverseNode:UWe}=hk,{getIndexByKey:qWe}=UL;function YWe(e,t,n,o,i){var r,l;const{exclude:s,start:c,end:a,callback:u}=n;i&&(e=fPe(e,{reference:i,clone:!0}));const d=[];if(function e(t,n){UWe(t,((t,i)=>{var r,l,c,a,f,h,p,v,g,m,y,b,C,w,x,S,E;if($We(t)&&(null==u?void 0:u(t,i)))return!1;if(VWe(t)||Eae(t)){const e=null===(r=t.props)||void 0===r?void 0:r.id;if(e&&o.includes(e)){if(null==s?void 0:s.includes(null===(l=t.props)||void 0===l?void 0:l.uid))return!1;const e=zWe(t),o=jWe(t),r=_We(t,o);if(null===r)return;const c=WWe(r),a={anchor:{path:[...i,...e],offset:0},focus:{path:[...i,...o],offset:c}};n&&(a.search=n),d.push(a)}}if(Yse(t)){const o=null!==(f=null===(a=null===(c=t.props)||void 0===c?void 0:c.value)||void 0===a?void 0:a.cells)&&void 0!==f?f:{};Object.keys(o).sort(((e,t)=>{const{rowIndex:n,columnIndex:o}=qWe(e),{rowIndex:i,columnIndex:r}=qWe(t);let l=i-n;return 0===l&&(l=r-o),l})).forEach((t=>{var r;const l=null===(r=o[t].state)||void 0===r?void 0:r.editor.node;if(l){const o=[ZFe([...i]),$Fe(t)];n&&o.unshift(n);e(l,xHe(o[0],...o.slice(1)))}}))}if(rSe(t)&&!1===(null===(h=t.props)||void 0===h?void 0:h.expand)&&(null===(v=null===(p=t.props)||void 0===p?void 0:p.list)||void 0===v?void 0:v.length)){const o=[...t.children];return!1===(null===(g=t.props)||void 0===g?void 0:g.expand)&&o.push(...null!==(y=null===(m=t.props)||void 0===m?void 0:m.list)&&void 0!==y?y:[]),o.forEach(((t,o)=>{if(!$We(t))return;const r=[ZFe([...i]),UFe([o])];n&&r.unshift(n);e(t,xHe(r[0],...r.slice(1)))})),!1}if(Rve(t)&&!1===(null===(b=t.props)||void 0===b?void 0:b.expand)&&(null===(w=null===(C=t.props)||void 0===C?void 0:C.list)||void 0===w?void 0:w.length)){const o=[...t.children];!1===(null===(x=t.props)||void 0===x?void 0:x.expand)&&o.push(...null!==(E=null===(S=t.props)||void 0===S?void 0:S.list)&&void 0!==E?E:[]),o.forEach(((t,o)=>{if(!$We(t))return;const r=[ZFe([...i]),qFe([o])];n&&r.unshift(n);e(t,xHe(r[0],...r.slice(1)))}))}}))}(e),0===d.length)return null;let f=null!==(r=n.index)&&void 0!==r?r:0;const h=[...e.children];c&&(h.unshift(c),d.forEach((e=>{var t;const n=null===(t=e.search)||void 0===t?void 0:t.path;n?n[0]++:(e.anchor.path[0]++,e.focus.path[0]++)})),f=Math.max(0,f-1)),a&&h.push(a),e={...e,children:h};const p=[],v=Vje();for(let t=0;t<d.length;t++){let{search:n}=d[t],o=e;if(n){let t=o;if(bHe(n)&&(t=WHe(e,e,n),n=MHe(n)),gHe(n)&&$We(t)){const e=FHe(t,n);t=null!==(l=null==e?void 0:e.editor.node)&&void 0!==l?l:null}$We(t)&&(i&&(t=fPe(t,{reference:i,clone:!0})),o=t)}const r=$je(d[t]);p[t]=BWe(o,r,v)}const g=[];for(let e=0;e<p.length;e++){const t=p[e];if(!t)continue;const n=d[e];if(n.search){if(oHe(n.search)){const e=n.search.path;e&&(e[0]+=f)}}else n.anchor.path[0]+=f,n.focus.path[0]+=f;const o=bPe(t,14,(e=>Yse(e)?{...e,props:{}}:e));g.push({type:"outline",id:aRe(!0),payload:n,title:o})}if(0===g.length)return null;const m=pPe(e);return{id:null!=t?t:aRe(!0),title:ZWe(m,""),type:"page",expand:!0,children:g}}const{isNode:KWe,isBlockNode:GWe,isInlineNode:XWe,isPreNode:JWe,isCodeNode:QWe,isMetaNode:eze,isMetaBrNode:tze,isMetaSpaceNode:nze,isBlockNodeX:oze,createBlockNode:ize,createInlineNode:rze,createPreNode:lze,createCodeNode:sze,createMetaNode:cze,createMetaBrNode:aze,createMetaSpaceNode:uze,createDecorateBlockNode:dze,createDecorateInlineNode:fze,createReferenceBlockNode:hze,transformNodeToEditNode:pze,injectSplitBlockNodeStyle:vze,removeSplitBlockNodeStyle:gze}=hk,{getRowSize:mze,getColumnSize:yze}=UL;function bze(e,t,n,o){const i=fie(t,wze(n,o));let r=i[0];for(;oze(r);)r=r.children[0];r&&LWe(r)===e&&i.shift();const l=aRe(),s=_ve({subclass:iae.H,id:l},[hze({id:l,uid:l},[ize([e],Ave(iae.H))])]);return ize([s,...i],Y$)}function Cze(e,t,n){const o=wze(t,n),i=yie(e,o);return i.forEach((e=>{var t;null===(t=e.style)||void 0===t||delete t.whiteSpace})),o.block(i)}function wze(e,t){const n={block(...e){const t=ize(...e);return vze(t),t},br:(...e)=>aze(),meta:(...e)=>cze(e[0],e[1]),space:(...e)=>uze({width:ch(6)}),inline:(...e)=>(e[0]=e[0].map((e=>Cc(e)?Hze(e):e)),rze(...e)),outline(...e){var t;const n=aRe(),{depth:o=6}=null!==(t=e[2])&&void 0!==t?t:{},i=cae[o];return _ve({subclass:i,id:n},[ize(e[0],Ave(i))])},separate:(...e)=>cze([Efe({})]),image(...t){var n;const o=$de(null!==(n=t[2])&&void 0!==n?n:{},[]);return e.image.push(o),rze([cze([o],Dde)],{display:"inline-block",fontSize:0})},bulleted(...e){var n;const o=dze({type:uTe,subclass:Iye.ONE,...e[2]},e[0],{...e[1],marginLeft:Sze(null===(n=e[2])||void 0===n?void 0:n.level,t)});return vze(o),o},numbered(...e){var n;const o=dze({type:VTe,subclass:Iye.ONE,...e[2]},e[0],{...e[1],marginLeft:Sze(null===(n=e[2])||void 0===n?void 0:n.level,t)});return vze(o),o},checked(...e){var n;const o=dze({type:JTe,subclass:Iye.ONE,...e[2]},e[0],{...e[1],marginLeft:Sze(null===(n=e[2])||void 0===n?void 0:n.level,t)});return vze(o),o},emoji(...e){var t;return cze([ohe({uid:aRe(),...e[2],value:{emoji:null===(t=e[0])||void 0===t?void 0:t[0]}})],e[1])},sheet(...e){var t,n,o,i,r,l,s,c;const a=null!==(t=e[2])&&void 0!==t?t:{};if(!a.sheet)return ize([]);const{cells:u,rows:d,columns:f,rowTotalNumber:h,columnTotalNumber:p}=a.sheet;let v=0;for(let e=0;e<p;e++){const t=null!==(i=null===(o=null===(n=null==f?void 0:f[e])||void 0===n?void 0:n.style)||void 0===o?void 0:o.width)&&void 0!==i?i:Zse;v+=parseFloat(String(t))}let g=0;for(let e=0;e<h;e++){const t=null!==(s=null===(l=null===(r=null==d?void 0:d[e])||void 0===r?void 0:r.style)||void 0===l?void 0:l.height)&&void 0!==s?s:$se;g+=parseFloat(String(t))}const m=pce(h,p,{clientWidth:v,columnDefaultSize:Zse});m.clientHeight=g,m.scrollHeight=g,m.rows=d,m.columns=f,m.rowStartDiff=mze(m,m.rowStartIndex),m.columnStartDiff=yze(m,m.columnStartIndex);for(const e in u){const t=null!==(c=u[e])&&void 0!==c?c:"";KWe(t)&&gze(t);const n=fce(),o=ize([t],dce());n.editor.node=pze(o,""),n.editor.isEditPending=!0,n.editor.clientWidth=m.columnDefaultSize,m.cells||(m.cells={}),m.cells[e]={state:n}}return cze([uce({row:h,col:p,value:m})],{display:"inline-block",lineHeight:1.2,marginBottom:-8})},quote:(...e)=>dze({type:ofe,subclass:ofe},e[0],{...e[1],...lfe()}),link(...e){var t;const n=aRe(),o=aRe(),i=null===(t=e[2])||void 0===t?void 0:t.src;return fze({id:n,uid:o,type:gae,subclass:gae,value:{text:i}},e[0])},code(...e){var t;return(null!==(t=e[2])&&void 0!==t?t:{}).inline?rze(e[0],{display:"inline-block",paddingLeft:6,paddingRight:6,borderRadius:4,backgroundColor:Af}):ize(e[0].map((e=>Cc(e)?lze([sze([e])]):e)),{paddingTop:6,paddingBottom:6,paddingLeft:10,paddingRight:10,borderRadius:4,overflowX:"auto",backgroundColor:Af})}};return n}function xze(e){const t={block:GWe,inline:XWe,outline:Rve,shortcut:Hve,separate:Sfe,bulleted:TTe,numbered:UTe,checked:hBe,toggle:rSe,quote:rfe,link:Eae,code:JWe,image:Ude,sheet:Kse,emoji:rhe,br:tze,space:nze,meta:eze},n=(()=>{const e=document.createElement("canvas").getContext("2d"),{fontSize:t,fontFamily:n}=IPe(),o=`${t}px ${n}`;return(t,n=o)=>e?(e.font=n,e.measureText(t).width):0})();return{filter:t,measurer:n,...e,outline:{depth:Mve,...null==e?void 0:e.outline}}}function Sze(e=[1],t=IPe()){var n;const o=null!==(n=t.fontSize)&&void 0!==n?n:ch(12);return 2*parseInt(String(o))*(e.length-1)}const{startVibration:Eze}=d2,{isNode:kze,isBlockNode:Dze,isDecorateBlockNode:Ize,isEmptyNode:Nze,createInlineNode:Lze,getNodeByPath:Tze,getPathFromKey:Bze,isNodeEqual:Aze,getEditNodeByPath:Mze}=hk;async function Oze(e,t="copy"){let{selection:n,data:o,node:i}=e;if(void 0===n)return;let r=null;if(Nze(o)?Nze(i)||(r=wPe(i,n)):r=wPe(o,n),null===r)return;let l=r.children[0];for(;1===r.children.length&&kze(l)&&1===l.children.length;)if(r=l,l=r.children[0],Ize(r)){if(Fve(r)||Hve(r))break;const e=Bze(r.key);let t=null;if(Nze(o)?Nze(i)||(t=Mze(i,e)):t=Tze(o,e),!t)continue;if(Aze(t,r))break}const s={command:T$.PASTE_NODE,data:{node:r}},c=LWe(r,Dze(l)),a=`<slinote payload="${encodeURIComponent(JSON.stringify(s))}"></slinote><div>${bie(r)}</div>`;if(rh){let e="";"copy"===t?e+="":"cut"===t&&(e+="");p_({"text/plain":c,"text/html":a},(n=>{n&&(e=""),Eze(),l_({message:e}),"cut"===t&&f_()}))}else try{const e=new Blob([c],{type:"text/plain"}),t=new Blob([a],{type:"text/html"}),n=new ClipboardItem({[e.type]:e,[t.type]:t});await navigator.clipboard.write([n])}catch(e){}}function Rze(){}const Pze=/<slinote payload="(.*?)"[^>]*>/;function Fze(e,t){const n=Pze.exec(e);try{const o=null==n?void 0:n[1];if(o)return JSON.parse(decodeURIComponent(o));const i=Cze(e,t);return{command:T$.PASTE_NODE,data:{node:i}}}catch(e){return console.warn(e),null}}function Hze(e,t=300){if(e.length<=t)return e;const n=[];for(let o=0;o<e.length;o+=t){const i=e.substring(o,o+t);n.push(Lze([i],void 0,{index:o}))}return Lze(n)}function _ze(e){const t=e.gfocus;let n=0,o=0;const{editor:{scrollOffset:i,clientWidth:r},client:l,file:s}=e;if((null==i?void 0:i.top)&&(n+=i.top),l){let e=l.width;s&&(e-=s.clientWidth),o=(e-r)/2}if(void 0===t)return{top:n,left:o};THe(t);return{top:n,left:o}}function jze(e){const t={...e};return t.target={...e.target},t.target.value=e.target.value,t}function Wze(e){const t={...e};return t.data=e.data,t}const{DECORATE_BLOCK_NODE:zze,DECORATE_INLINE_NODE:Vze}=hk;function $ze(e,t,n=!1,o=!1){var i,r,l;const s={style:e.style,...e.props,kid:e.key};if(e.style&&(null===(i=e.props)||void 0===i?void 0:i.style)&&(s.style={...s.style,...e.style}),e.type===Qpe)return G(Gpe,{editable:n&&o,...s});if(e.type===Gfe)return G(Kfe,{editable:n&&o,...s});if(e.type===Vse)return G(PNe,{editable:n,readable:o,...s});if(e.type===Ihe)return G(Dhe,{editable:n,...s,children:t});if(e.type===eRe)return G(QOe,{editable:n,...s,children:t});if(e.type===zze){const o=null===(r=e.props)||void 0===r?void 0:r.type;if(o===uTe)return G(ATe,{editable:n,...s,children:t});if(o===VTe)return G($Te,{editable:n,...s,children:t});if(o===JTe)return G(WBe,{editable:n,...s,children:t});if(o===Lxe)return G(vEe,{editable:n,...s,children:t});if(o===ofe)return G(yfe,{...s,children:t});if(o===rae)return G(Kme,{editable:n,...s,children:t});if(o===lae)return G(lye,{editable:n,...s,children:t})}else if(e.type===Vze){const o=null===(l=e.props)||void 0===l?void 0:l.type;return o===gae?G(vde,{editable:n,...s,children:t}):o===vae?G(wde,{editable:n,...s,children:t}):o===Bhe?G(Dpe,{editable:n,...s,children:t}):G("span",{style:e.style,children:t})}return G("div",{style:e.style,children:t})}function Zze(e,t){var n;const o={style:e.style,...e.props,kid:e.key};return e.style&&(null===(n=e.props)||void 0===n?void 0:n.style)&&(o.style={...o.style,...e.style}),e.type===y$?G("span",{style:oZ,children:G(CO,{})}):e.type===Vse?G("span",{style:iZ,children:G(lIe,{})}):e.type===Qpe?G(Gpe,{...o}):e.type===Ihe?G(Dhe,{...o,children:t}):e.type===zze||e.type===Vze?$ze(e,t):G("span",{style:e.style,children:t})}function Uze(e,t,n=!1,o=!1){return e.type===Vse?G("span",{style:iZ,children:G(lIe,{})}):$ze(e,t,n,o)}function qze(e,t){return Zze(bPe(e),t)}const{isCut:Yze,isDeleteBackward:Kze,isDeleteForward:Gze,isDeleteLineBackward:Xze,isDeleteLineForward:Jze,isDeleteWordBackward:Qze,isDeleteWordForward:eVe,isSplitBlock:tVe,isSpace:nVe,isTab:oVe}=hk;function iVe(e){return Yze(e)||Kze(e)||Gze(e)||Xze(e)||Jze(e)||Qze(e)||eVe(e)||tVe(e)||nVe(e)||oVe(e)}function rVe(e){if(e)return(e={...e,create:e.delete,delete:e.create}).delete||delete e.delete,e.create||delete e.create,e}function lVe(e,t){var n,o,i,r,l,s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x;if(!t)return;const S=null==t?void 0:t.crud;if(!S)return t;const E={},k={},D={},I=[...null!==(o=null===(n=null==S?void 0:S.create)||void 0===n?void 0:n.editor)&&void 0!==o?o:[],...null!==(r=null===(i=null==S?void 0:S.update)||void 0===i?void 0:i.editor)&&void 0!==r?r:[],...null!==(s=null===(l=null==S?void 0:S.delete)||void 0===l?void 0:l.editor)&&void 0!==s?s:[]],N=[...null!==(a=null===(c=null==S?void 0:S.create)||void 0===c?void 0:c.catalog)&&void 0!==a?a:[],...null!==(d=null===(u=null==S?void 0:S.update)||void 0===u?void 0:u.catalog)&&void 0!==d?d:[],...null!==(h=null===(f=null==S?void 0:S.delete)||void 0===f?void 0:f.catalog)&&void 0!==h?h:[]],L=[...null!==(v=null===(p=null==S?void 0:S.delete)||void 0===p?void 0:p.reference)&&void 0!==v?v:[]];for(const e of I){const n=null===(g=t.editor)||void 0===g?void 0:g[e];n&&(E[e]=n)}for(const e in E){const n=E[e].uids;for(const e in n){const o=n[e],i=null===(m=t.reference)||void 0===m?void 0:m[o];i&&(D[o]={...i,count:0,detail:{}}),(null===(y=t.catalog)||void 0===y?void 0:y[o])&&(k[o]=null===(b=t.catalog)||void 0===b?void 0:b[o])}}for(const e of N){const n=null===(C=t.catalog)||void 0===C?void 0:C[e];if(n&&(k[e]=n,"page"===n.type||"root"===n.type)){const n=null===(w=t.editor)||void 0===w?void 0:w[e];n&&(E[e]=n)}}for(const e of L){const n=null===(x=t.reference)||void 0===x?void 0:x[e];n&&(D[e]={...n,count:0,detail:{}})}return delete E[e],{...t,catalog:k,editor:E,reference:D}}function sVe(e,t){var n,o,i,r;if(!(t=null!=t?t:null===(n=e.file)||void 0===n?void 0:n.currentPageId))return[];const l=null===(o=e.undoredo)||void 0===o?void 0:o[t];if(!l)return[];const{offset:s,stack:c}=l;if(s<=0)return[];const{store:a}=c[s];if(!a)return[];const u=a.crud;if(!u)return[];const d=null===(i=u.create)||void 0===i?void 0:i.editor;return Pc(d)?[]:null!==(r=null==d?void 0:d.map((e=>{var t;return null===(t=a.reference)||void 0===t?void 0:t[e].data})).filter((e=>!!e)))&&void 0!==r?r:[]}function cVe(e,t){return sVe(e,t).length>0}const{ADD_PATH:aVe,MORE_PATH:uVe,TRIANGLE_PATH:dVe}=OB,fVe="note-bootstrap",hVe="note-helper",pVe="note-helper-slim",vVe="note-changelog",gVe="note-feedback",mVe="note-webdav",yVe="note-pricing",bVe="note-pricing-slim",CVe="note-plan",wVe="note-plan-slim",xVe="note-guide-step",SVe="note-location",EVe="note-html-light",kVe="note-html-map",DVe="note-recently-review",IVe="slinote-privacy-policy",NVe="slinote-user-agreement";function LVe(e){window.localStorage.setItem(fVe,JSON.stringify(e))}function TVe(){let e=null;try{const t=window.localStorage.getItem(fVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function BVe(e){window.localStorage.setItem(DVe,JSON.stringify(e))}function AVe(){let e=null;try{const t=window.localStorage.getItem(DVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function MVe(e){window.localStorage.setItem(hVe,JSON.stringify(e))}function OVe(){let e=null;try{const t=window.localStorage.getItem(hVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function RVe(e){window.localStorage.setItem(pVe,JSON.stringify(e))}function PVe(){let e=null;try{const t=window.localStorage.getItem(pVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function FVe(e){window.localStorage.setItem(NVe,JSON.stringify(e))}function HVe(){let e=null;try{const t=window.localStorage.getItem(NVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function _Ve(e){window.localStorage.setItem(IVe,JSON.stringify(e))}function jVe(){let e=null;try{const t=window.localStorage.getItem(IVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function WVe(e){window.localStorage.setItem(vVe,JSON.stringify(e))}function zVe(){let e=null;try{const t=window.localStorage.getItem(vVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function VVe(e){window.localStorage.setItem(gVe,JSON.stringify(e))}function $Ve(){let e=null;try{const t=window.localStorage.getItem(gVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function ZVe(e){window.localStorage.setItem(yVe,JSON.stringify(e))}function UVe(){let e=null;try{const t=window.localStorage.getItem(yVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function qVe(e){window.localStorage.setItem(bVe,JSON.stringify(e))}function YVe(){let e=null;try{const t=window.localStorage.getItem(bVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function KVe(e){window.localStorage.setItem(CVe,JSON.stringify(e))}function GVe(){let e=null;try{const t=window.localStorage.getItem(CVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function XVe(e){window.localStorage.setItem(mVe,JSON.stringify(e))}function JVe(){let e=null;try{const t=window.localStorage.getItem(mVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function QVe(e){window.localStorage.setItem(wVe,JSON.stringify(e))}function e$e(){let e=null;try{const t=window.localStorage.getItem(wVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function t$e(e){window.localStorage.setItem(xVe,JSON.stringify(e))}function n$e(){let e=null;try{const t=window.localStorage.getItem(xVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function o$e(e){window.localStorage.setItem(SVe,JSON.stringify(e))}function i$e(){window.localStorage.removeItem(SVe)}function r$e(){let e=null;try{const t=window.localStorage.getItem(SVe);t&&(e=JSON.parse(t))}catch(e){console.log(e)}return e}function l$e(e){if(!e)return;const t=document.querySelector(`.${C$}`);if(!t)return;const n=t.querySelector(`.${x$}`);if(!n)return;const o=t.querySelector(`.${w$}`),{scrollTop:i}=e;let r=0;if(o){r=o.getBoundingClientRect().bottom}const l=t.getBoundingClientRect().bottom;let s="";for(let e=0;e<n.children.length;e++){const t=n.children[e],o=t.getBoundingClientRect();if(!(o.bottom<r)){if(o.top>l)break;s+=t.outerHTML}}const c={[aRe()]:aVe,[aRe()]:uVe,[aRe()]:dVe};let a=t.innerHTML.replace(n.innerHTML,s);for(const e in c)a=a.replaceAll(c[e],e);a=a.replace(/<img([^>]+)src="([^"]+)"([^>]*)>/g,'<img$1src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="$3>'),a.length>5242880&&(a=""),function(e,t,n){"undefined"!=typeof WebPro&&WebPro.firstScreen(e,t,n)}(a,c,i)}function s$e(){window.localStorage.removeItem(EVe),window.localStorage.removeItem(kVe)}function c$e(){let e=window.localStorage.getItem(EVe);const t=window.localStorage.getItem(kVe);if(!t)return e;if(!e)return null;const n=JSON.parse(t);for(const t in n)e=e.replaceAll(t,n[t]);return e}const{isEmptyNode:a$e,isCollapsed:u$e,createBlockNode:d$e,createInlineNode:f$e,transformNodeToEditNode:h$e}=hk;function p$e(e,t){const n={visible:!0,title:"",content:G(FU,{value:{current:{}},children:G(hk.EditElement,{value:null,children:e.map(((e,t)=>{let n=Hf;return a$e(e,!0)&&(e=h$e(d$e([f$e([""])],{color:jf}),"")),e=bPe(e),G("div",{style:uZ,children:X("div",{style:dZ,children:[G("div",{style:fZ,children:G(dO,{fill:n})}),G(c3,{node:e,width:333})]})},t)}))})}),onOk(){t(n)}};return rh&&s_({title:n.title,message:e.map((e=>a$e(e,!0)?"":LWe(e))).join("/n"),cancel:{value:"",fontColor:Hf},confirm:{value:"",fontColor:"red",action(){t(n)}}}),n}function v$e(e,t,n){let o=Hf;a$e(e,!0)&&(e=h$e(d$e([f$e([""])],{color:jf}),"")),e=bPe(e);let i=G(dO,{fill:o});n&&(i=G(kO,{fill:o}));let r=!1;const l={visible:!0,title:"",content:X(FU,{value:{current:{}},children:[G(hk.EditElement,{value:null,children:G("div",{style:uZ,children:X("div",{style:dZ,children:[G("div",{style:fZ,children:i}),G(ZE,{node:e,renderElement:qze})]})})}),n?G("div",{style:hZ,children:G(jB,{onChange:e=>{r=e},children:""})}):null]}),onOk(){t(l,r)}};return l}function g$e(e,t,n,o){const{editor:{node:i,selection:r}}=e;if(!r||u$e(r))return void o();const l=gFe(i,r);if(!l.length)return void o();const s=p$e(l,(async()=>{var e;n(tre({...s,visible:!1}));const i=[];for(const n of l){const o=null===(e=n.props)||void 0===e?void 0:e.id;o&&(i.includes(o)||i.push(o),await t.safty(o,!0))}n(tY(i)),o()}));n(tre(s))}async function m$e(e,t){if("undefined"==typeof electron)return;const n=await electron.file.getBootstrapPath();if(1!==n.ok||!n.data)return;const o={visible:!0,title:"",content:`${n.data}.`,cancelText:"",showCancelIcon:!1,onCancel(n){t(tre({...o,visible:!1}),sre({misplace:!1}),D4(e))},okText:"",onOk:async()=>{var e;const t=await electron.dialog.showOpenDialog({title:"",properties:["openDirectory"]});if(1===t.ok&&!1===(null===(e=t.data)||void 0===e?void 0:e.canceled)){const e=t.data.filePaths;if(1===e.length){const t=await electron.file.verifyNote(e[0]);1===t.ok&&(!1===t.data?await electron.dialog.showMessageBox({message:"",type:"error"}):await electron.file.moveNote(e[0]))}}}};i$e(),t(tre(o))}function y$e(e){const t=ds(e);t.file=ds(t.file),t.store=ds(t.store);for(const e in t.store){const n=t.store[e];t.store[e]="crud"===e?ps(n):ds(n)}return t}function b$e(e){const{isEditPending:t,isScrollPending:n,isScrolling:o,isMoving:i,formatPaint:r,boundsReset:l,composing:s}=e.editor;return!(t||n||o||i||r||l||s)}function C$e(e){const{isEditPending:t,isScrollPending:n,isScrolling:o,selectionReflow:i,composing:r}=e;return!(t||n||o||i||r)}const{sliceNode:w$e,getKeyFromPath:x$e,getEditBlockNodeStartPath:S$e,getEditBlockNodeEndPath:E$e}=hk;function k$e(e,t,n){const o=ds(e),{data:i}=o;delete o.cwnd,delete o.isEditPending,delete o.isScrollPending,delete o.isScrolling,delete o.status,delete o.reflowStart,delete o.resizeHeight,delete o.selection,delete o.selectionDecorate,delete o.selectionStyle,delete o.selectionReflow,delete o.highlights,delete o.ghighlights,delete o.ureference;const r=w$e(i,t,n),l=I_(i,r);return o.node=r,o.bounds=l,o.boundsReset=!0,o.location=x$e(l.end.path),o.resizeWidth=!0,o.scrollTop=0,o.scrollTouchReset=!0,o.scrollOffset={top:Kf?0:m$},o}function D$e(e,t,n){const o=ds(e);if(delete o.cwnd,delete o.isEditPending,delete o.isScrollPending,delete o.isScrolling,delete o.status,delete o.reflowStart,delete o.resizeHeight,delete o.resizeWidth,delete o.selection,delete o.selectionDecorate,delete o.selectionStyle,delete o.selectionReflow,delete o.selectionLayout,delete o.highlights,delete o.ghighlights,delete o.scrollTouch,t&&n){const{data:e}=o,i=w$e(e,t,n),r=I_(e,i);o.node=i,o.bounds=r,o.boundsReset=!0,o.cwnd=3,o.ureference=RPe(i)}return o.scrollTop=0,o.scrollTouchReset=!0,o.scrollOffset={top:Kf?0:m$},o}var I$e={exports:{}};!function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof GB&&GB.global===GB?GB:void 0,l=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,l){var s=r.URL||r.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):o(c.href)?n(e,t,l):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,l){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,l),r);else if(o(e))n(e,r,l);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,t,o,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,o);var s="application/octet-stream"===e.type,c=/constructor/i.test(r.HTMLElement)||r.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&c||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=r.URL||r.webkitURL,f=d.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});r.saveAs=s.saveAs=s,e.exports=s}()}(I$e);var N$e=XB(I$e.exports);function L$e(e){return"jpg"===(e=e.toLowerCase())?"image/jpeg":"svg"===e?"image/svg+xml":`image/${e}`}function T$e(e){return e?"image/jpeg"===(e=e.toLowerCase())?"jpeg":"image/svg+xml"===e?"svg":e.split("/")[1]:"jpeg"}var B$e={},A$e=Uint8Array,M$e=Uint16Array,O$e=Int32Array,R$e=new A$e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),P$e=new A$e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),F$e=new A$e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H$e=function(e,t){for(var n=new M$e(31),o=0;o<31;++o)n[o]=t+=1<<e[o-1];var i=new O$e(n[30]);for(o=1;o<30;++o)for(var r=n[o];r<n[o+1];++r)i[r]=r-n[o]<<5|o;return{b:n,r:i}},_$e=H$e(R$e,2),j$e=_$e.b,W$e=_$e.r;j$e[28]=258,W$e[258]=28;for(var z$e=H$e(P$e,0).r,V$e=new M$e(32768),$$e=0;$$e<32768;++$$e){var Z$e=(43690&$$e)>>1|(21845&$$e)<<1;Z$e=(61680&(Z$e=(52428&Z$e)>>2|(13107&Z$e)<<2))>>4|(3855&Z$e)<<4,V$e[$$e]=((65280&Z$e)>>8|(255&Z$e)<<8)>>1}var U$e=function(e,t,n){for(var o=e.length,i=0,r=new M$e(t);i<o;++i)e[i]&&++r[e[i]-1];var l,s=new M$e(t);for(i=1;i<t;++i)s[i]=s[i-1]+r[i-1]<<1;if(n){l=new M$e(1<<t);var c=15-t;for(i=0;i<o;++i)if(e[i])for(var a=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)l[V$e[d]>>c]=a}else for(l=new M$e(o),i=0;i<o;++i)e[i]&&(l[i]=V$e[s[e[i]-1]++]>>15-e[i]);return l},q$e=new A$e(288);for($$e=0;$$e<144;++$$e)q$e[$$e]=8;for($$e=144;$$e<256;++$$e)q$e[$$e]=9;for($$e=256;$$e<280;++$$e)q$e[$$e]=7;for($$e=280;$$e<288;++$$e)q$e[$$e]=8;var Y$e=new A$e(32);for($$e=0;$$e<32;++$$e)Y$e[$$e]=5;var K$e=U$e(q$e,9,0),G$e=U$e(Y$e,5,0),X$e=function(e){return(e+7)/8|0},J$e=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new A$e(e.subarray(t,n))},Q$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],eZe=function(e,t,n){var o=new Error(t||Q$e[e]);if(o.code=e,Error.captureStackTrace&&Error.captureStackTrace(o,eZe),!n)throw o;return o},tZe=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>8},nZe=function(e,t,n){n<<=7&t;var o=t/8|0;e[o]|=n,e[o+1]|=n>>8,e[o+2]|=n>>16},oZe=function(e,t){for(var n=[],o=0;o<e.length;++o)e[o]&&n.push({s:o,f:e[o]});var i=n.length,r=n.slice();if(!i)return{t:uZe,l:0};if(1==i){var l=new A$e(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],c=n[1],a=0,u=1,d=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=n[n[a].f<n[d].f?a++:d++],c=n[a!=u&&n[a].f<n[d].f?a++:d++],n[u++]={s:-1,f:s.f+c.f,l:s,r:c};var f=r[0].s;for(o=1;o<i;++o)r[o].s>f&&(f=r[o].s);var h=new M$e(f+1),p=iZe(n[u-1],h,0);if(p>t){o=0;var v=0,g=p-t,m=1<<g;for(r.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));o<i;++o){var y=r[o].s;if(!(h[y]>t))break;v+=m-(1<<p-h[y]),h[y]=t}for(v>>=g;v>0;){var b=r[o].s;h[b]<t?v-=1<<t-h[b]++-1:++o}for(;o>=0&&v;--o){var C=r[o].s;h[C]==t&&(--h[C],++v)}p=t}return{t:new A$e(h),l:p}},iZe=function(e,t,n){return-1==e.s?Math.max(iZe(e.l,t,n+1),iZe(e.r,t,n+1)):t[e.s]=n},rZe=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new M$e(++t),o=0,i=e[0],r=1,l=function(e){n[o++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++r;else{if(!i&&r>2){for(;r>138;r-=138)l(32754);r>2&&(l(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(l(i),--r;r>6;r-=6)l(8304);r>2&&(l(r-3<<5|8208),r=0)}for(;r--;)l(i);r=1,i=e[s]}return{c:n.subarray(0,o),n:t}},lZe=function(e,t){for(var n=0,o=0;o<t.length;++o)n+=e[o]*t[o];return n},sZe=function(e,t,n){var o=n.length,i=X$e(t+2);e[i]=255&o,e[i+1]=o>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var r=0;r<o;++r)e[i+r+4]=n[r];return 8*(i+4+o)},cZe=function(e,t,n,o,i,r,l,s,c,a,u){tZe(t,u++,n),++i[256];for(var d=oZe(i,15),f=d.t,h=d.l,p=oZe(r,15),v=p.t,g=p.l,m=rZe(f),y=m.c,b=m.n,C=rZe(v),w=C.c,x=C.n,S=new M$e(19),E=0;E<y.length;++E)++S[31&y[E]];for(E=0;E<w.length;++E)++S[31&w[E]];for(var k=oZe(S,7),D=k.t,I=k.l,N=19;N>4&&!D[F$e[N-1]];--N);var L,T,B,A,M=a+5<<3,O=lZe(i,q$e)+lZe(r,Y$e)+l,R=lZe(i,f)+lZe(r,v)+l+14+3*N+lZe(S,D)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&M<=O&&M<=R)return sZe(t,u,e.subarray(c,c+a));if(tZe(t,u,1+(R<O)),u+=2,R<O){L=U$e(f,h,0),T=f,B=U$e(v,g,0),A=v;var P=U$e(D,I,0);tZe(t,u,b-257),tZe(t,u+5,x-1),tZe(t,u+10,N-4),u+=14;for(E=0;E<N;++E)tZe(t,u+3*E,D[F$e[E]]);u+=3*N;for(var F=[y,w],H=0;H<2;++H){var _=F[H];for(E=0;E<_.length;++E){var j=31&_[E];tZe(t,u,P[j]),u+=D[j],j>15&&(tZe(t,u,_[E]>>5&127),u+=_[E]>>12)}}}else L=K$e,T=q$e,B=G$e,A=Y$e;for(E=0;E<s;++E){var W=o[E];if(W>255){nZe(t,u,L[(j=W>>18&31)+257]),u+=T[j+257],j>7&&(tZe(t,u,W>>23&31),u+=R$e[j]);var z=31&W;nZe(t,u,B[z]),u+=A[z],z>3&&(nZe(t,u,W>>5&8191),u+=P$e[z])}else nZe(t,u,L[W]),u+=T[W]}return nZe(t,u,L[256]),u+T[256]},aZe=new O$e([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uZe=new A$e(0),dZe=function(e,t,n,o,i,r){var l=r.z||e.length,s=new A$e(o+l+5*(1+Math.ceil(l/7e3))+i),c=s.subarray(o,s.length-i),a=r.l,u=7&(r.r||0);if(t){u&&(c[0]=r.r>>3);for(var d=aZe[t-1],f=d>>13,h=8191&d,p=(1<<n)-1,v=r.p||new M$e(32768),g=r.h||new M$e(p+1),m=Math.ceil(n/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&p},C=new O$e(25e3),w=new M$e(288),x=new M$e(32),S=0,E=0,k=r.i||0,D=0,I=r.w||0,N=0;k+2<l;++k){var L=b(k),T=32767&k,B=g[L];if(v[T]=B,g[L]=T,I<=k){var A=l-k;if((S>7e3||D>24576)&&(A>423||!a)){u=cZe(e,c,0,C,w,x,E,D,N,k-N,u),D=S=E=0,N=k;for(var M=0;M<286;++M)w[M]=0;for(M=0;M<30;++M)x[M]=0}var O=2,R=0,P=h,F=T-B&32767;if(A>2&&L==b(k-F))for(var H=Math.min(f,A)-1,_=Math.min(32767,k),j=Math.min(258,A);F<=_&&--P&&T!=B;){if(e[k+O]==e[k+O-F]){for(var W=0;W<j&&e[k+W]==e[k+W-F];++W);if(W>O){if(O=W,R=F,W>H)break;var z=Math.min(F,W-2),V=0;for(M=0;M<z;++M){var $=k-F+M&32767,Z=$-v[$]&32767;Z>V&&(V=Z,B=$)}}}F+=(T=B)-(B=v[T])&32767}if(R){C[D++]=268435456|W$e[O]<<18|z$e[R];var U=31&W$e[O],q=31&z$e[R];E+=R$e[U]+P$e[q],++w[257+U],++x[q],I=k+O,++S}else C[D++]=e[k],++w[e[k]]}}for(k=Math.max(k,I);k<l;++k)C[D++]=e[k],++w[e[k]];u=cZe(e,c,a,C,w,x,E,D,N,k-N,u),a||(r.r=7&u|c[u/8|0]<<3,u-=7,r.h=g,r.p=v,r.i=k,r.w=I)}else{for(k=r.w||0;k<l+a;k+=65535){var Y=k+65535;Y>=l&&(c[u/8|0]=a,Y=l),u=sZe(c,u+1,e.subarray(k,Y))}r.i=l}return J$e(s,0,o+X$e(u)+i)},fZe=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,o=9;--o;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),hZe=function(){var e=-1;return{p:function(t){for(var n=e,o=0;o<t.length;++o)n=fZe[255&n^t[o]]^n>>>8;e=n},d:function(){return~e}}},pZe=function(e,t,n,o,i){if(!i&&(i={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),l=new A$e(r.length+e.length);l.set(r),l.set(e,r.length),e=l,i.w=r.length}return dZe(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,o,i)},vZe=function(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n},gZe=function(e,t,n){for(var o=e(),i=e.toString(),r=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),l=0;l<o.length;++l){var s=o[l],c=r[l];if("function"==typeof s){t+=";"+c+"=";var a=s.toString();if(s.prototype)if(-1!=a.indexOf("[native code]")){var u=a.indexOf(" ",8)+1;t+=a.slice(u,a.indexOf("(",u))}else for(var d in t+=a,s.prototype)t+=";"+c+".prototype."+d+"="+s.prototype[d].toString();else t+=a}else n[c]=s}return t},mZe=[],yZe=function(e,t,n,o){if(!mZe[n]){for(var i="",r={},l=e.length-1,s=0;s<l;++s)i=gZe(e[s],i,r);mZe[n]={c:gZe(e[l],i,r),e:r}}var c=vZe({},mZe[n].e);return function(e,t,n,o,i){var r=new Worker(B$e[t]||(B$e[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return r.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var o=new Error(n[0]);o.code=n[1],o.stack=n[2],i(o,null)}else i(null,t)},r.postMessage(n,o),r}(mZe[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t}(c),o)},bZe=function(){return[A$e,M$e,O$e,R$e,P$e,F$e,W$e,z$e,K$e,q$e,G$e,Y$e,V$e,aZe,uZe,U$e,tZe,nZe,oZe,iZe,rZe,lZe,sZe,cZe,X$e,J$e,dZe,pZe,SZe,CZe]},CZe=function(e){return postMessage(e,[e.buffer])},wZe=function(e,t,n,o,i,r){var l=yZe(n,o,i,(function(e,t){l.terminate(),r(e,t)}));return l.postMessage([e,t],t.consume?[e.buffer]:[]),function(){l.terminate()}},xZe=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function SZe(e,t){return pZe(e,t||{},0,0)}var EZe=function(e,t,n,o){for(var i in e){var r=e[i],l=t+i,s=o;Array.isArray(r)&&(s=vZe(o,r[1]),r=r[0]),r instanceof A$e?n[l]=[r,s]:(n[l+="/"]=[new A$e(0),s],EZe(r,l,n,o))}},kZe="undefined"!=typeof TextEncoder&&new TextEncoder,DZe="undefined"!=typeof TextDecoder&&new TextDecoder;try{DZe.decode(uZe,{stream:!0}),1}catch(e){}function IZe(e,t){if(t){for(var n=new A$e(e.length),o=0;o<e.length;++o)n[o]=e.charCodeAt(o);return n}if(kZe)return kZe.encode(e);var i=e.length,r=new A$e(e.length+(e.length>>1)),l=0,s=function(e){r[l++]=e};for(o=0;o<i;++o){if(l+5>r.length){var c=new A$e(l+8+(i-o<<1));c.set(r),r=c}var a=e.charCodeAt(o);a<128||t?s(a):a<2048?(s(192|a>>6),s(128|63&a)):a>55295&&a<57344?(s(240|(a=65536+(1047552&a)|1023&e.charCodeAt(++o))>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|63&a)):(s(224|a>>12),s(128|a>>6&63),s(128|63&a))}return J$e(r,0,l)}var NZe=function(e){var t=0;if(e)for(var n in e){var o=e[n].length;o>65535&&eZe(9),t+=o+4}return t},LZe=function(e,t,n,o,i,r,l,s){var c=o.length,a=n.extra,u=s&&s.length,d=NZe(a);xZe(e,t,null!=l?33639248:67324752),t+=4,null!=l&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(r<0&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var f=new Date(null==n.mtime?Date.now():n.mtime),h=f.getFullYear()-1980;if((h<0||h>119)&&eZe(10),xZe(e,t,h<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),t+=4,-1!=r&&(xZe(e,t,n.crc),xZe(e,t+4,r<0?-r-2:r),xZe(e,t+8,n.size)),xZe(e,t+12,c),xZe(e,t+14,d),t+=16,null!=l&&(xZe(e,t,u),xZe(e,t+6,n.attrs),xZe(e,t+10,l),t+=14),e.set(o,t),t+=c,d)for(var p in a){var v=a[p],g=v.length;xZe(e,t,+p),xZe(e,t+2,g),e.set(v,t+4),t+=4+g}return u&&(e.set(s,t),t+=u),t},TZe=function(e,t,n,o,i){xZe(e,t,101010256),xZe(e,t+8,n),xZe(e,t+10,n),xZe(e,t+12,o),xZe(e,t+16,i)};function BZe(e,t,n){n||(n=t,t={}),"function"!=typeof n&&eZe(7);var o={};EZe(e,"",o,t);var i=Object.keys(o),r=i.length,l=0,s=0,c=r,a=new Array(r),u=[],d=function(){for(var e=0;e<u.length;++e)u[e]()},f=function(e,t){AZe((function(){n(e,t)}))};AZe((function(){f=n}));var h=function(){var e=new A$e(s+22),t=l,n=s-l;s=0;for(var o=0;o<c;++o){var i=a[o];try{var r=i.c.length;LZe(e,s,i,i.f,i.u,r);var u=30+i.f.length+NZe(i.extra),d=s+u;e.set(i.c,d),LZe(e,l,i,i.f,i.u,r,s,i.m),l+=16+u+(i.m?i.m.length:0),s=d+r}catch(e){return f(e,null)}}TZe(e,l,a.length,n,t),f(null,e)};r||h();for(var p=function(e){var t=i[e],n=o[t],c=n[0],p=n[1],v=hZe(),g=c.length;v.p(c);var m=IZe(t),y=m.length,b=p.comment,C=b&&IZe(b),w=C&&C.length,x=NZe(p.extra),S=0==p.level?0:8,E=function(n,o){if(n)d(),f(n,null);else{var i=o.length;a[e]=vZe(p,{size:g,crc:v.d(),c:o,f:m,m:C,u:y!=t.length||C&&b.length!=w,compression:S}),l+=30+y+x+i,s+=76+2*(y+x)+(w||0)+i,--r||h()}};if(y>65535&&E(eZe(11,0,1),null),S)if(g<16e4)try{E(null,SZe(c,p))}catch(e){E(e,null)}else u.push(function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&eZe(7),wZe(e,t,[bZe],(function(e){return CZe(SZe(e.data[0],e.data[1]))}),0,n)}(c,p,E));else E(null,c)},v=0;v<c;++v)p(v);return d}var AZe="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()};function MZe(e,t){return woe(`<html>\n  <head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />\n    <title>${e}</title>\n    <style>\n      a{background-color:transparent}img{border-style:none}input,textarea{font-size:100%;line-height:1.15;margin:0}pre{margin:0}input{overflow:visible}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}[hidden]{display:none}*{outline:0;-webkit-tap-highlight-color:transparent}#root,body,html{height:100%;width:100%;line-height:1.2;-webkit-text-size-adjust:100%}body{margin:0;padding:0;color:#333;font-family:-apple-system,'PingFang SC',Roboto,RobotoDraft,Helvetica,Arial,sans-serif,Tahoma,'Microsoft YaHei',,;font-variant-numeric:tabular-nums;-webkit-font-smoothing:subpixel-antialiased;-moz-osx-font-smoothing:grayscale;margin-bottom:calc(constant(safe-area-inset-bottom));margin-bottom:calc(env(safe-area-inset-bottom))}\n    </style>\n  </head>\n  <body>\n    ${t.replaceAll('class="no-scrollbar"',"")}\n  </body>\n</html>`)}function OZe(e,t){return`\n<div id="root"></div>\n<script src="./${t}"><\/script>\n<script src="./${e}"><\/script>\n`}const{isNode:RZe,initNodeKey:PZe,createBlockNode:FZe,createInlineNode:HZe,createReferenceBlockNode:_Ze,transformEditNodeToNode:jZe}=hk;function WZe(e,t,n){return{title:PZe(FZe([HZe([zK[e.lang][t]])],Ave(iae.H))),type:"root",id:aRe(),expand:!0,tag:!0,children:n,payload:{subclass:iae.H}}}function zZe(e){return{title:PZe(FZe([HZe([""])],Ave(iae.H))),type:"page",id:aRe(),expand:!0,children:e,payload:{subclass:iae.H}}}function VZe(e){const{editor:t,file:n}=e;return{file:{currentPageId:null==n?void 0:n.currentPageId,renderStart:null==n?void 0:n.renderStart,scrollTop:null==n?void 0:n.scrollTop},editor:{node:{...t.node,children:t.node.children.slice(0,1)},scrollTop:t.scrollTop}}}function $Ze(e,t){var n,o,i,r,l;const s=null===(n=e.editor)||void 0===n?void 0:n[t];if(!s)return{};const c={};(null===(o=e.catalog)||void 0===o?void 0:o[t])&&(c[t]=e.catalog[t]);const a={},u={},d=ia(Object.values(null!==(i=s.uids)&&void 0!==i?i:{}));for(const t of d)(null===(r=e.reference)||void 0===r?void 0:r[t])&&(a[t]=e.reference[t]),(null===(l=e.assets)||void 0===l?void 0:l[t])&&(u[t]=e.assets[t]);return{bootstrap:{type:"page",file:{currentPageId:t}},editor:{[t]:s},reference:a,catalog:c,assets:u}}function ZZe(e){var t,n,o,i,r;if(null===(n=null===(t=e.bootstrap)||void 0===t?void 0:t.file)||void 0===n?void 0:n.currentPageId)return e;if("outline"!==(null===(o=e.bootstrap)||void 0===o?void 0:o.type))return e;const l=aRe(),s=e.bootstrap.nodes;let c=null===(i=null==s?void 0:s[0].children)||void 0===i?void 0:i[0];RZe(c)||(c=FZe([null!=c?c:""]));const a=_Ze({id:l,uid:l},[{...c,style:{...c.style,...Ave(iae.H)}}]),u=_ve({subclass:iae.H,id:l},[a]),d=FZe([u,...null!==(r=null==s?void 0:s.slice(1))&&void 0!==r?r:[]]),f=uFe({data:d}),h={...e.reference,[l]:{data:a,count:1,detail:{[l]:[l]}}},p=H_e(d),v={...e.catalog,...X_e(p)};return{...e,bootstrap:{type:"page",file:{currentPageId:l}},reference:h,catalog:v,editor:{[l]:f}}}const{createBlockNode:UZe,isReferenceNode:qZe}=hk;async function YZe(e,t,n){var o,i;if(rh)return KZe(e,t,n);const{bootstrap:r,editor:l}=e;let s="";if("page"===(null==r?void 0:r.type)){const e=null===(o=null==r?void 0:r.file)||void 0===o?void 0:o.currentPageId;if(l&&e){const t=null===(i=l[e])||void 0===i?void 0:i.data.children[0];t&&(s=LWe(t).trim())}}else if("outline"===(null==r?void 0:r.type)){const e=r.nodes;if(e){const t=e[0];t&&(s=LWe(t).trim())}}const c=aRe(!0),a=(await t.compression({[c]:e}))[c],u=new Blob([a.buffer],{type:"application/octet-stream"});N$e.saveAs(u,`${s}.sli`)}async function KZe(e,t,n){if(!n)return;const o=await t.jsonbridge(WH.STRINGIFY,e);l_(!0===await g_(n,o)?{message:""}:{message:""})}async function GZe(e,t){var n,o;e=ps(e);const{reference:i,bootstrap:r,editor:l,assets:s}=e,c="assets",a={},u={},d=async(e,t,n)=>{if(!rh)return;const o=await u_({newFileNames:[e],fileSuffixChoices:[n]});if(!(null==o?void 0:o[0]))return void l_({message:""});l_(!0===await g_(o[0],t)?{message:""}:{message:""})},f={},h=async e=>{var t,n,o,s,c,d,h;let p=a;const v=null===(t=null==l?void 0:l[e])||void 0===t?void 0:t.data;if(!v)return;const g=null===(n=null==r?void 0:r.file)||void 0===n?void 0:n.currentPageId;let m=await xK(e,u,g);if(!(null==m?void 0:m.length))return;const y=null!==(s=null===(o=null==l?void 0:l[e])||void 0===o?void 0:o.uids)&&void 0!==s?s:{};let b=!0;for(const t in y)if(t!==e&&y[t]===t){b=!1;break}let C=LWe(v.children[0]).trim();const w=[];let x="";const S=m.slice(1,-1);for(const e of S){x+=e;const t=f[x];if(t){p[t]||(p[t]={}),p=p[t],w.push(t);continue}const n=null!==(d=null===(c=u[e])||void 0===c?void 0:c.title)&&void 0!==d?d:null==i?void 0:i[e].data;if(!n)return{zips:p,name:e};let o=LWe(n).trim(),r=1;for(;p[o];)o+=r++;f[x]=o,p[o]||(p[o]={}),p=p[o],w.push(o)}if(x+=null!==(h=dc(m.slice(1)))&&void 0!==h?h:"",x)if(f[x])C=f[x];else{let e=1;for(;p[C]||p[`${C}.md`];)C+=e++;f[x]=C}return b||m.length<=1?{zips:p,title:C,dirs:w,src:`${C}.md`}:(p[C]||(p[C]={}),p=p[C],w.push(C),{zips:p,title:C,dirs:w,src:`${C}/${C}.md`})},p=xze({outline:{source:async e=>{var t,n;try{if(Fve(e)){const o=null===(t=e.props)||void 0===t?void 0:t.id,i=null===(n=null==l?void 0:l[o])||void 0===n?void 0:n.data;if(!i)return;const r=await h(o);if(!r)return;const{zips:s,title:c,src:a=""}=r,u=await hie(i,p);return s[`${c}.md`]=IZe(u),{src:a,alt:c}}}catch(e){return}}},shortcut:{source:async e=>{var t,n,o,r,l,s;try{if(Hve(e)){const c=null===(t=e.props)||void 0===t?void 0:t.id,a=await h(c);if(!a)return;const u=e.children[0];if(!qZe(u))return;const d=null===(n=u.props)||void 0===n?void 0:n.id,f=null===(o=u.props)||void 0===o?void 0:o.uid;if(!d||!f)return;const p=null===(r=null==i?void 0:i[d])||void 0===r?void 0:r.detail;if(!p)return;const g=Object.keys(p).find((e=>p[e].includes(f)));if(!g)return;const m=await h(g);let y="/";(null===(l=a.dirs)||void 0===l?void 0:l.length)&&(y+=a.dirs.join("/")),a.title&&(y.endsWith("/")?y+=`${a.title}.md`:y+=`/${a.title}.md`);let b="/";(null===(s=null==m?void 0:m.dirs)||void 0===s?void 0:s.length)&&(b+=m.dirs.join("/"));return{src:nA.relative(b,y),alt:v}}}catch(e){return}}},link:{source:async e=>{var t,n,o,r,l,s;try{if(Eae(e)){const c=null===(t=e.props)||void 0===t?void 0:t.value,a=null==c?void 0:c.pageId;if(!a)return;const u=await h(a);if(!u)return;const d=null==c?void 0:c.id;if(!d)return;const f=null!==(n=null==i?void 0:i[d].data)&&void 0!==n?n:null;if(!qZe(f))return;const p=null===(o=f.props)||void 0===o?void 0:o.back;if(!p)return;const g=p[null===(r=e.props)||void 0===r?void 0:r.id];if(!g)return;const m=await h(g);let y="/";(null===(l=u.dirs)||void 0===l?void 0:l.length)&&(y+=u.dirs.join("/")),u.title&&(y.endsWith("/")?y+=`${u.title}.md`:y+=`/${u.title}.md`);let b="/";(null===(s=null==m?void 0:m.dirs)||void 0===s?void 0:s.length)&&(b+=m.dirs.join("/"));return{src:nA.relative(b,y),alt:v}}}catch(e){return}}},image:{source:async t=>{var n,o;try{const r=t.children[0];if(!Zde(r))return;const l=r.props;if(!l)return;const{src:s,hash:u,value:d,uid:f}=l;if(s)return{src:s};if(!u||!f)return;const p=u.split(".");if(2!==p.length)return;const v=null===(n=e.assets)||void 0===n?void 0:n[u];if(!v)return;const g=null===(o=null==i?void 0:i[u])||void 0===o?void 0:o.detail;if(!g)return;const m=Object.keys(g).find((e=>g[e].includes(f)));if(!m)return;const y=await h(m);return new Promise((e=>{var t,n;const o=null!==(t=null==d?void 0:d.width)&&void 0!==t?t:0,i=null!==(n=null==d?void 0:d.height)&&void 0!==n?n:0;if(!o||!i)return;const r=new Image;r.src=v,r.onload=async()=>{const t=document.createElement("canvas");t.width=o,t.height=i;const n=t.getContext("2d");n?(n.imageSmoothingQuality="high",n.drawImage(r,0,0,o,i),t.toBlob((async t=>{var n;if(!t)return void e({src:""});const o=await(null==t?void 0:t.arrayBuffer()),i=new O2.ArrayBuffer;i.append(o);const r=T$e(t.type),l=`${i.end()}.${r}`;a[c]||(a[c]={}),a[c][l]=new Uint8Array(o);let s="/";(null===(n=null==y?void 0:y.dirs)||void 0===n?void 0:n.length)&&(s+=y.dirs.join("/"));let u=`/${c}/${l}`;const d=nA.relative(s,u);e({src:d})}),p[1],1)):e({src:""})}}))}catch(e){return}}}});let v="";if("page"===(null==r?void 0:r.type)){const e=null===(n=null==r?void 0:r.file)||void 0===n?void 0:n.currentPageId;if(!e)return;const t=null===(o=null==l?void 0:l[e])||void 0===o?void 0:o.data;if(!t)return;const i=t.children[0];if(!i)return;if(v=LWe(i).trim(),1===Object.keys(l).length&&Pc(s)){const e=await hie(t,p);if(rh)return void await d(v,e,".md");const n=new Blob([e],{type:"text/plain;charset=utf-8"});return void N$e.saveAs(n,`${v}.md`)}const c=await hie(t,p);return a[`${v}.md`]=IZe(c),new Promise((e=>{BZe(a,(async(t,n)=>{if(t)return void e();if(rh){const t=lA(n.buffer);return await d(v,t,".zip"),void e()}const o=new Blob([n],{type:"application/zip"});N$e.saveAs(o,`${v}.zip`),e()}))}))}if("outline"===(null==r?void 0:r.type)){const e=r.nodes;if(e){const t=e[0];t&&(v=LWe(t).trim())}const t=UZe(null!=e?e:[]);if(Pc(s)){const e=await hie(t,p);if(rh)return void await d(v,e,".md");const n=new Blob([e],{type:"text/plain;charset=utf-8"});return void N$e.saveAs(n,`${v}.md`)}const n=await hie(t,p);return a[`${v}.md`]=IZe(n),new Promise((e=>{BZe(a,(async(t,n)=>{if(t)return void e();if(rh){const t=lA(n.buffer);return await d(v,t,".zip"),void e()}const o=new Blob([n],{type:"application/zip"});N$e.saveAs(o,`${v}.zip`),e()}))}))}}async function XZe(e,t,n){var o;t=ps(ZZe(t));const{reference:i,bootstrap:r,editor:l,assets:s}=t,c=vqe(),a="assets",u={},d={},f=async(e,t,n)=>{if(!rh)return;const o=await u_({newFileNames:[e],fileSuffixChoices:[n]});if(!(null==o?void 0:o[0]))return void l_({message:""});l_(!0===await g_(o[0],t)?{message:""}:{message:""})},h={},p=async e=>{var t,n,o,s,c,a,f;let p=u;const v=null===(t=null==l?void 0:l[e])||void 0===t?void 0:t.data;if(!v)return;const g=null===(n=null==r?void 0:r.file)||void 0===n?void 0:n.currentPageId;let m=await xK(e,d,g);if(!(null==m?void 0:m.length))return;const y=null!==(s=null===(o=null==l?void 0:l[e])||void 0===o?void 0:o.uids)&&void 0!==s?s:{};let b=!0;for(const t in y)if(t!==e&&y[t]===t){b=!1;break}let C=LWe(v.children[0]).trim();const w=[];let x="";const S=m.slice(1,-1);for(const e of S){x+=e;const t=h[x];if(t){p[t]||(p[t]={}),p=p[t],w.push(t);continue}const n=null!==(a=null===(c=d[e])||void 0===c?void 0:c.title)&&void 0!==a?a:null==i?void 0:i[e].data;if(!n)return{zips:p,name:e};let o=LWe(n).trim(),r=1;for(;p[o];)o+=r++;h[x]=o,p[o]||(p[o]={}),p=p[o],w.push(o)}if(x+=null!==(f=dc(m.slice(1)))&&void 0!==f?f:"",x)if(h[x])C=h[x];else{let e=1;for(;p[C]||p[`${C}.html`];)C+=e++;h[x]=C}return b||m.length<=1?{zips:p,title:C,dirs:w,src:`${C}.html`}:(p[C]||(p[C]={}),p=p[C],w.push(C),{zips:p,title:C,dirs:w,src:`${C}/${C}.html`})},v=async n=>{var o,i,r,d;const f={lang:e.lang,showFile:!1,showEditor:!0,fullRender:!0,client:c,editStyle:{width:"80%",userSelect:"auto"},scroller:"native",note:{...t,bootstrap:{type:"page",file:{currentPageId:n}}}},h=ds(null===(o=null==l?void 0:l[n])||void 0===o?void 0:o.uids),g=ia(Object.values(null!=h?h:{})),m=await p(n);if(!m)return;const y=null!==(i=m.title)&&void 0!==i?i:"";let b=function(e){const t={node:e},n={...T};Object.assign(T,L()),T.ssr=!0;let o="";try{o=Pe(e,t)}catch(e){console.error("renderToString: ",e)}return T.ssr=!1,Object.assign(T,L(),{...n}),o}(G(l3,{...f}));b=MZe(y,b);const C=await p(n);for(const e in s){const t=e.split(".");if(2!==t.length)continue;if(!g.includes(e))continue;const n=T$e(t[1]),o=`${t[0]}.${n}`,i=s[e].split(";base64,")[1],l=sA(i);u[a]||(u[a]={}),u[a][o]=new Uint8Array(l);let c="/";(null===(r=null==C?void 0:C.dirs)||void 0===r?void 0:r.length)&&(c+=C.dirs.join("/"));let d=`/${a}/${o}`;const f=nA.relative(c,d);b=b.replaceAll(e,f)}null===(d=t.editor)||void 0===d||delete d[n];for(const e in h){if(e!==h[e])continue;if(e===n)continue;const t=await p(e);(null==t?void 0:t.src)&&(b=b.replaceAll(e,t.src),await v(e))}return m.zips[`${y}.html`]=IZe(b),{title:y,html:b}},g=null===(o=null==r?void 0:r.file)||void 0===o?void 0:o.currentPageId;if(!g||!l)return;if(1===Object.keys(l).length&&Pc(s)){const e=await v(g);if(!e)return;const{title:t,html:n}=e;if(rh)return void await f(t,n,".html");const o=new Blob([n],{type:"text/plain;charset=utf-8"});return void N$e.saveAs(o,`${t}.html`)}const m=await v(g);if(!m)return;const{title:y}=m;return new Promise((e=>{BZe(u,(async(t,n)=>{if(t)return void e();if(rh){const t=lA(n.buffer);return await f(y,t,".zip"),void e()}const o=new Blob([n],{type:"application/zip"});N$e.saveAs(o,`${y}.zip`),e()}))}))}async function JZe(e,t,n){var o,i;t=ps(ZZe(t));const{reference:r,bootstrap:l,editor:s,assets:c}=t,a="assets",u={},d=null===(o=null==l?void 0:l.file)||void 0===o?void 0:o.currentPageId;if(!d||!s)return;const f=null===(i=null==s?void 0:s[d])||void 0===i?void 0:i.data;if(!f)return;const h=f.children[0];if(!h)return;const p=LWe(h).trim();if(c)for(const e in s){xPe(s[e].data,(e=>{var t,n,o;if(!Zde(e))return;const i=null===(t=e.props)||void 0===t?void 0:t.hash,l=null==i?void 0:i.split(".");if(2!==(null==l?void 0:l.length))return;const s=T$e(l[1]),d=`${l[0]}.${s}`,f=c[i].split(";base64,")[1],h=sA(f);u[a]||(u[a]={}),u[a][d]=new Uint8Array(h),e.children.length=0,null==r||delete r[i],null===(n=e.props)||void 0===n||delete n.hash,null===(o=e.props)||void 0===o||delete o.uid,e.props.src=`./${a}/${d}`}))}const v=(await n.compression({[d]:{...t,assets:{}}}))[d],g=lA(v.buffer),m="slinote.js",y="web.cP6cvIDu.js";const b=await fetch(`./sw/${y}`).then((e=>e.text())),C=OZe(y,m),w=MZe(p,C),x=`window.slinote = '${g}';window.exports={}`;return u["index.html"]=IZe(w),u[m]=IZe(x),u[y]=IZe(b),new Promise((e=>{BZe(u,(async(t,n)=>{if(t)return void e();if(rh){const t=lA(n.buffer);return await(async(e,t,n)=>{if(!rh)return;const o=await u_({newFileNames:[e],fileSuffixChoices:[n]});if(!(null==o?void 0:o[0]))return void l_({message:""});l_(!0===await g_(o[0],t)?{message:""}:{message:""})})(p,t,".zip"),void e()}const o=new Blob([n],{type:"application/zip"});N$e.saveAs(o,`${p}.zip`),e()}))}))}const{traverseNode:QZe,isDecorateNode:eUe,isCollapsed:tUe,getEditNodeByPath:nUe,traversalEditBlockNodeBySelection:oUe,getEditNodesByPath:iUe,isDecorateBlockNode:rUe}=hk;function lUe(e){const t=new Set;return QZe(e,(e=>{var n,o,i,r,l,s;if(eUe(e))t.add(e);else{if(Yse(e)){const r=null===(o=null===(n=e.props)||void 0===n?void 0:n.value)||void 0===o?void 0:o.cells;if(!r)return;for(const e in r){const n=null===(i=r[e].state)||void 0===i?void 0:i.editor;if(!n)continue;const o=lUe(n.node);for(const e of o)t.add(e)}}(rSe(e)||Rve(e))&&!1===(null===(r=e.props)||void 0===r?void 0:r.expand)&&(null===(s=null===(l=e.props)||void 0===l?void 0:l.list)||void 0===s||s.forEach((e=>{const n=lUe(e);for(const e of n)t.add(e)})))}})),t}function sUe(e,t,n){let o=!1;const i=e.editor;let r=i.selection;if(void 0===r)return o;if(tUe(r)){const e=r.focus.path;let t=e.length;for(;t>0;){const n=nUe(i.node,e.slice(0,t));if(rUe(n)){o=!0;break}t--}return o}return oUe(i.node,r,((e,t)=>{const n=iUe(i.node,t);for(const e of n)if(rUe(e))return o=!0,!1})),o}const{isNodeEqual:cUe}=hk;function aUe(e,t){if(e&&!t)return!1;if(!e&&t)return!1;if(!e||!t)return!0;const{title:n,children:o,parent:i,...r}=e,{title:l,children:s,parent:c,...a}=t;if((null==i?void 0:i.id)!==(null==c?void 0:c.id))return!1;if((null==o?void 0:o.length)!==(null==s?void 0:s.length))return!1;if((null==o?void 0:o.length)&&(null==s?void 0:s.length))for(let e=0;e<o.length;e++)if(o[e].id!==s[e].id)return!1;return!!cUe(n,l)&&!!Fc(r,a)}async function uUe(e,t){var n,o;const i=null===(n=e.stater.get().file)||void 0===n?void 0:n.tree;if(!i)return;let r=!1;for(const e of i)if(null===(null===(o=e.children)||void 0===o?void 0:o[0])){if(0===(await kF(e.id)).ok){r=!0;break}}if(r){const e=c_({title:""});await async function(){return"undefined"!=typeof electron?{ok:1}:"undefined"!=typeof WebPro?new Promise((e=>{WebPro.rebuildCatalog((t=>{e(t)}))})):{ok:1}}(),await t(!1),e()}}const dUe=Xf?"#fff":"#e9e9e9",fUe={width:150,height:150},hUe={width:270,height:300};function pUe(){const e=document.body.clientWidth-1440,t=document.body.clientHeight-754;return{scaleX:(fUe.width+e/2)/fUe.width,scaleY:(fUe.height+t/2)/fUe.height}}function vUe(){const e=document.body.clientWidth-1440,t=document.body.clientHeight-754;return{scaleX:(hUe.width+e/2)/hUe.width,scaleY:(hUe.height+t/2)/hUe.height}}const{sortSelection:gUe,getEditNodeByPath:mUe,sliceBlockPath:yUe,getPrevEditNodePath:bUe,isPathEqualBlock:CUe,sliceDecoratePath:wUe,calcUltimateStyle:xUe}=hk;function SUe(e,t,n){let{before:{path:o,offset:i}}=gUe(t);if(0===i){const t=bUe(e,o);if(!CUe(e,o,t))return null;o=t}if(!n){const t=yUe(e,o),n=o.slice(t.length),i=n.filter((e=>0===e));if(!(i.length===n.length))return null}const r=mUe(e,o);return f(r)?(0===i&&(i=r.length),{path:o,offset:i}):null}function EUe(e,t){const n=SUe(e,t);if(null===n)return!1;const{path:o,offset:i}=n,r=mUe(e,o);if(!f(r))return!1;if(wUe(e,o,rae))return!1;const l=r.slice(0,i);return!!(/^#+$/.test(l)&&l.length<=6)}function kUe(e,t){const n=SUe(e,t);if(null===n)return!1;const{path:o,offset:i}=n,r=mUe(e,o);if(!f(r))return!1;if(wUe(e,o,ofe))return!1;const l=r.slice(0,i);return">"===l||""===l}function DUe(e,t){const n=SUe(e,t);if(null===n)return!1;const{path:o,offset:i}=n,r=mUe(e,o);if(!f(r))return!1;const l=r.slice(0,i),{isDecorateListNode:s}=Mye,c=yUe(e,o),a=mUe(e,c);return/\b\d+\.(?!\d)/.test(l)||"*"===l||"-"===l?!(s(a,uTe)||s(a,VTe)||s(a,JTe)):"+"===l||!("[]"!==l&&""!==l||!s(a,uTe)&&!s(a,VTe))}function IUe(e,t){const n=SUe(e,t);if(null===n)return!1;const{path:o,offset:i}=n,r=mUe(e,o);if(!f(r))return!1;const l=r.slice(0,i);return"---"===l||"***"===l}function NUe(e,t,n){const o=SUe(e,t,!0);if(null===o)return!1;const{path:i,offset:r}=o,l=mUe(e,i);if(!f(l))return!1;const{fontWeight:s}=xUe(e,i,n);if("bold"===s||"bolder"===s)return!1;const c=l.slice(0,r);return!!/\*\*(.*?)\*\*$/.test(c)}function LUe(e,t,n){const o=SUe(e,t,!0);if(null===o)return!1;const{path:i,offset:r}=o,l=mUe(e,i);if(!f(l))return!1;const{fontStyle:s}=xUe(e,i,n);if("italic"===s)return!1;const c=l.slice(0,r);return!!/\*(.*?)\*$/.test(c)}function TUe(e,t,n){const o=SUe(e,t,!0);if(null===o)return!1;const{path:i,offset:r}=o,l=mUe(e,i);if(!f(l))return!1;const{fontStyle:s,fontWeight:c}=xUe(e,i,n);if("italic"===s&&("bold"===c||"bolder"===c))return!1;const a=l.slice(0,r);return!!/\*\*\*(.*?)\*\*\*$/.test(a)}function BUe(e,t,n){const o=SUe(e,t,!0);if(null===o)return!1;const{path:i,offset:r}=o,l=mUe(e,i);if(!f(l))return!1;const{textDecorationLine:s}=xUe(e,i,n);if(s&&s.indexOf("line-through")>=0)return!1;const c=l.slice(0,r);return!!/~~(.*?)~~$/.test(c)}function AUe(e,t,n){const o=SUe(e,t,!0);if(null===o)return!1;const{path:i,offset:r}=o,l=mUe(e,i);if(!f(l))return!1;const{textDecorationLine:s}=xUe(e,i,n);if(s&&s.indexOf("underline")>=0)return!1;const c=l.slice(0,r);return!!/~(.*?)~$/.test(c)}async function MUe(e){var t;for(const n of e){(null===(t=n.props)||void 0===t?void 0:t.src).match(/^https?:/i)}}async function OUe(e){const t=e.data.children;if(t.length<=50)return JSON.stringify(e);const n=aRe(!0),o=JSON.stringify({...e,data:{...e.data,children:[n]}}),i=[];let r=0;for(;r<t.length;){const e=t.slice(r,r+=50);i.push((await new Promise((t=>{const n=()=>{t(JSON.stringify(e))};"function"==typeof requestIdleCallback?requestIdleCallback(n):setTimeout(n)}))).slice(1,-1))}const l=o.split(`"${n}"`);return`${l[0]}${i.join(",")}${l[1]}`}function RUe(e){const{style:t,editor:n,gfocus:o,focus:i,virtual:r,editable:l,root:s,main:c,lang:a,guide:u,cursor:d}=e;return{style:t,editor:n,gfocus:o,focus:i,virtual:r,editable:l,root:s,main:c,lang:a,guide:u,cursor:d}}const{recursiveTree:PUe}=OB;function FUe(e,t){const{file:n}=e;if(void 0===n)return;const o=n.tree.map((e=>{var t;const n=X_e(e,void 0,!0)[e.id],o=(null===(t=n.children)||void 0===t?void 0:t.length)?1:0;return{...n,children:JSON.parse(JSON.stringify(Array(o)))}})),i=[];PUe(n.tree,(e=>"outline"!==e.type&&(i.includes(e.id)||i.push(e.id),!1!==e.expand&&void 0)));const r={...n,tree:o,catalogs:i};if(r.branch){const e=r.branch.readonly;r.branch=aje({...r.branch,children:void 0}),r.branch.readonly=e}delete r.more,delete r.moving,delete r.rename,t||delete r.cloud;return{file:r}}function HUe(e){var t;const n=null!==(t=null==e?void 0:e.tree.map((e=>({...e,children:void 0,expand:!1}))))&&void 0!==t?t:[],o=[{value:-1,text:""},{value:0,text:""},{value:60,text:" 1  1 "},{value:600,text:" 10  1 "},{value:1800,text:" 30  1 "}];return{id:aRe(!0),roots:n,modes:o,mode:o[0]}}function _Ue(e){const{service:t,username:n,password:o,usernameInvisible:i,passwordInvisible:r,roots:l,selected:s,modes:c,mode:a}=e;return{id:aRe(!0),service:t,username:n,password:o,usernameInvisible:i,passwordInvisible:r,roots:l.map((e=>({...e}))),modes:c,mode:a}}function jUe(){return[{value:-1,text:""},{value:0,text:""},{value:60,text:" 1  1 "},{value:600,text:" 10  1 "},{value:1800,text:" 30  1 "}]}function WUe(e){const t={};for(const n in e)for(const o of e[n])if(o.bind){t[n]=o;break}return t}function zUe(e,t){var n;let o=null;for(const i of e)i.bind&&(null===(n=i.selected)||void 0===n?void 0:n.id)===t&&(o=i);return o}function VUe(e){var t,n,o;const i=null===(t=e.selected)||void 0===t?void 0:t.title,r=null===(n=e.selected)||void 0===n?void 0:n.id;return{mode:null===(o=e.mode)||void 0===o?void 0:o.value,username:e.username,uiv:e.usernameInvisible,password:e.password,piv:e.passwordInvisible,service:e.service,id:r,title:i?LWe(i):"",timestamp:Date.now()}}function $Ue(e=[]){return 40*(e.length+1)+20}class ZUe{constructor(e,t,n){this.threshold=1e3,this.pools=[],this.idxer={},this.idmap={},this.name=e,this.threshold=t,n&&(this.pools=n.pools,this.idxer=n.idxer,this.idmap=n.idmap)}getPath(e){if(void 0===this.idmap[e])return null;const t=this.idmap[e];return tA.join(this.name,`${t}.sli`)}setPath(e){var t;if(void 0!==this.idmap[e])return this.getPath(e);const n=null!==(t=this.pools[0])&&void 0!==t?t:0;return this.idmap[e]=n,void 0===this.idxer[n]&&(this.idxer[n]=0),this.idxer[n]>=this.threshold-1&&(this.pools.shift(),0===this.pools.length&&this.pools.push(n+1)),this.idxer[n]++,this.getPath(e)}delete(e){const t=this.idmap[e];void 0!==t&&(delete this.idmap[e],this.idxer[t]>0&&this.idxer[t]--,this.pools.includes(t)||this.pools.unshift(t))}getData(){return{pools:this.pools,idxer:this.idxer,idmap:this.idmap}}}function UUe(e){const t={delete:e.delete,update:{}};for(const n in e.update){const o=n,i=e.update[o];for(const e in i){t.update[o]||(t.update[o]={}),t.update[o][e]||(t.update[o][e]={});for(const n in i[e])t.update[o][e][n]=i[e][n][0]}}return t}async function qUe(e,t,n,o,i,r){var l,s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x,S;const E={pull:{reference:[],editor:[],catalog:[]},push:{reference:[],editor:[],catalog:[]},conflict:{reference:[],editor:[],catalog:[]},delete:{local:{reference:[],editor:[],catalog:[]},remote:{reference:[],editor:[],catalog:[]}}};async function k(e){var n,o,r,l,s;const{uuid:c,sn:a}=fRe(e);if(null===(o=null===(n=t.editor)||void 0===n?void 0:n[c])||void 0===o?void 0:o[a])return;const u=await yF(e);if(0===u.ok||!u.data)return null;let d=u.data;if(qP(d)){d=(await i.decompression({[e]:d}))[e]}else u.data=(await i.compression({[e]:d}))[e];t.editor[c]||(t.editor[c]={}),t.editor[c][a]={data:d,buffer:u.data};const f=null===(s=null===(l=null===(r=t.catalog)||void 0===r?void 0:r[c])||void 0===l?void 0:l[a])||void 0===s?void 0:s.data;f&&(f.uids||(f.uids=d.uids))}async function D(e){var n,i,r,l,s,c,a,u,d;if(!e)return;const{uuid:f,sn:h}=fRe(e),p=null===(i=null===(n=t.editor)||void 0===n?void 0:n[f])||void 0===i?void 0:i[h];if(!(null===(r=null==p?void 0:p.data)||void 0===r?void 0:r.createTime)&&!(null===(l=null==p?void 0:p.data)||void 0===l?void 0:l.updateTime))return!0;const v=null===(a=null===(c=null===(s=o.update)||void 0===s?void 0:s.editor)||void 0===c?void 0:c[f])||void 0===a?void 0:a[h],g=Math.floor((null!==(d=null===(u=null==p?void 0:p.data)||void 0===u?void 0:u.createTime)&&void 0!==d?d:0)/1e3);return v&&g>v?(await L(e),!0):void 0}function I(e,n){var o,i,r;const l=t.catalog,{uuid:s,sn:c}=fRe(e),a=null===(i=null===(o=null==l?void 0:l[s])||void 0===o?void 0:o[c])||void 0===i?void 0:i.data,u=null===(r=null==a?void 0:a.parent)||void 0===r?void 0:r.id;u&&!n.includes(u)&&n.push(u)}async function N(e){const n=t.catalog;if(e)return await o(e);for(const e in n)for(const t in n[e]){const n=hRe(e,t);await o(n)}async function o(e){await k(e);const{catalog:t,editor:n}=E.push;if(!n.includes(e)){if(await D(e))return;n.push(e)}t.includes(e)||t.push(e),I(e,t)}}async function L(e){if(e)return function(e){const{catalog:t,editor:n}=E.pull;n.includes(e)||n.push(e);t.includes(e)||t.push(e);I(e,t)}(e)}async function T(e){await k(e);const{catalog:t,editor:n}=E.conflict;if(!n.includes(e)){if(await D(e))return;n.push(e)}t.includes(e)||t.push(e),I(e,t)}if(Pc(o))return await N(),KUe(t,n,o,E),E;let B=!1;const{uuid:A,sn:M}=fRe(e);if((null===(c=null===(s=null===(l=o.delete)||void 0===l?void 0:l.editor)||void 0===s?void 0:s[A])||void 0===c?void 0:c.includes(M))&&(B=!0),B){await N();const{editor:e,reference:n}=E.push;for(const o of e){const{uuid:e,sn:i}=fRe(o),r=null===(u=null===(a=t.editor)||void 0===a?void 0:a[e])||void 0===u?void 0:u[i],l=null===(d=null==r?void 0:r.data)||void 0===d?void 0:d.uids;for(const e in l){const t=l[e];n.includes(t)||n.push(t)}}return E}if(r)return await L(e),E;for(const e in t.catalog)for(const i in t.catalog[e]){const t=hRe(e,i),r=null===(p=null===(h=null===(f=n.update)||void 0===f?void 0:f.editor)||void 0===h?void 0:h[e])||void 0===p?void 0:p[i],l=null===(m=null===(g=null===(v=o.update)||void 0===v?void 0:v.editor)||void 0===g?void 0:g[e])||void 0===m?void 0:m[i];if(void 0===r){(null===(C=null===(b=null===(y=n.delete)||void 0===y?void 0:y.editor)||void 0===b?void 0:b[e])||void 0===C?void 0:C.includes(i))||await L(t);continue}if(void 0===l){(null===(S=null===(x=null===(w=o.delete)||void 0===w?void 0:w.editor)||void 0===x?void 0:x[e])||void 0===S?void 0:S.includes(i))||await N(t);continue}const s=XUe(r,l);1===s?await N(t):2===s?await L(t):3===s&&await T(t)}return KUe(t,n,o,E),E}function YUe(e,t,n,o,i){var r,l,s,c,a,u;const d=Object.keys(i),f=[];for(const t in e.catalog)for(const n in e.catalog[t]){const e=hRe(t,n);f.push(e)}const h=uc(d,f);for(const e of h){const{uuid:n,sn:i}=fRe(e);(null===(s=null===(l=null===(r=t.delete)||void 0===r?void 0:r.editor)||void 0===l?void 0:l[n])||void 0===s?void 0:s.includes(i))?(o.delete.remote.editor.includes(e)||o.delete.remote.editor.push(e),o.delete.remote.catalog.includes(e)||o.delete.remote.catalog.push(e),o.delete.remote.reference.includes(e)||o.delete.remote.reference.push(e)):o.pull.editor.includes(e)||o.pull.editor.push(e)}const p=uc(f,d);for(const e of p){const{uuid:t,sn:i}=fRe(e);(null===(u=null===(a=null===(c=n.delete)||void 0===c?void 0:c.editor)||void 0===a?void 0:a[t])||void 0===u?void 0:u.includes(i))?(o.delete.local.editor.includes(e)||o.delete.local.editor.push(e),o.delete.local.catalog.includes(e)||o.delete.local.catalog.push(e),o.delete.local.reference.includes(e)||o.delete.local.reference.push(e)):o.push.editor.includes(e)||o.push.editor.push(e)}}function KUe(e,t,n,o){var i,r,l,s,c,a,u,d,f,h,p,v,g,m,y,b,C,w,x,S,E,k,D,I,N;const L={};for(const t in e.catalog)for(const n in e.catalog[t]){const o=e.catalog[t][n];(null===(i=o.data)||void 0===i?void 0:i.uids)&&Object.assign(L,o.data.uids)}for(const e in L){const{uuid:i,sn:S}=fRe(e),E=[...null!==(s=null===(l=null===(r=n.delete)||void 0===r?void 0:r.reference)||void 0===l?void 0:l[i])&&void 0!==s?s:[],...null!==(u=null===(a=null===(c=n.delete)||void 0===c?void 0:c.editor)||void 0===a?void 0:a[i])&&void 0!==u?u:[]];if(null==E?void 0:E.includes(S))continue;let k=null===(h=null===(f=null===(d=t.update)||void 0===d?void 0:d.reference)||void 0===f?void 0:f[i])||void 0===h?void 0:h[S],D=null===(g=null===(v=null===(p=n.update)||void 0===p?void 0:p.reference)||void 0===v?void 0:v[i])||void 0===g?void 0:g[S];if(k||(k=null===(b=null===(y=null===(m=t.update)||void 0===m?void 0:m.editor)||void 0===y?void 0:y[i])||void 0===b?void 0:b[S],D=null===(x=null===(w=null===(C=n.update)||void 0===C?void 0:C.editor)||void 0===w?void 0:w[i])||void 0===x?void 0:x[S]),!k){if(D){const{reference:t}=o.pull;t.includes(e)||t.push(e)}continue}if(!D){if(k){const{reference:t}=o.push;t.includes(e)||t.push(e)}continue}const I=XUe(k,D);if(1===I){const{reference:t}=o.push;t.includes(e)||t.push(e)}else if(2===I){const{reference:t}=o.pull;t.includes(e)||t.push(e)}else if(3===I){const{reference:t}=o.conflict;t.includes(e)||t.push(e)}}for(const e in null===(S=t.update)||void 0===S?void 0:S.reference){const i=null===(k=null===(E=n.delete)||void 0===E?void 0:E.reference)||void 0===k?void 0:k[e];if(!i)continue;const r=t.update.reference[e];for(const t in r){if(!i.includes(t))continue;const n=hRe(e,t);if(o.push.reference.includes(n))continue;const{reference:r}=o.delete.local;r.includes(n)||r.push(n)}}for(const e in null===(D=n.update)||void 0===D?void 0:D.reference){const i=null===(N=null===(I=t.delete)||void 0===I?void 0:I.reference)||void 0===N?void 0:N[e];if(!i)continue;const r=n.update.reference[e];for(const t in r){if(!i.includes(t))continue;const n=hRe(e,t);if(o.pull.reference.includes(n))continue;const{reference:r}=o.delete.remote;r.includes(n)||r.push(n)}}}function GUe(){return{pull:{reference:[],editor:[],catalog:[]},push:{reference:[],editor:[],catalog:[]},conflict:{reference:[],editor:[],catalog:[]},delete:{local:{reference:[],editor:[],catalog:[]},remote:{reference:[],editor:[],catalog:[]}}}}function XUe(e,t){return void 0===e[1]&&e[0]>t?1:void 0===e[1]&&e[0]<t?2:e[1]===t&&e[0]>t?1:e[1]<t&&e[0]===e[1]?2:e[1]<t&&e[0]>e[1]?3:0}async function JUe(e,t,n){var o,i;const r={editor:{},catalog:{},reference:{}};let l=ds(null===(o=t.file)||void 0===o?void 0:o.tree.find((t=>t.id===e)));if(!l)return r;l=await CK({...l,children:[]},n,{deep:!0});const s=X_e(l);for(const e in s){const{uuid:t,sn:o}=fRe(e);if(!s[e].uids){const l=await yF(e);if(1===l.ok&&l.data){let c=l.data;if(qP(c)){c=(await n.decompression({[e]:c}))[e]}else l.data=(await n.compression({[e]:c}))[e];r.editor[t]||(r.editor[t]={}),r.editor[t][o]={data:c,buffer:l.data},s[e].uids=null!==(i=c.uids)&&void 0!==i?i:{},Pc(c.segments)||(s[e].segments=c.segments)}}r.catalog[t]||(r.catalog[t]={}),r.catalog[t][o]={data:s[e]}}return r}function QUe(e){let t=12;for(const n of e)0!==n.length&&(t+=24,t+=44*n.length,1===n.length&&(t-=4));return t}const{initNodeKey:eqe,createBlockNode:tqe,createReferenceBlockNode:nqe,isBlockNode:oqe,isNode:iqe,isReferenceNode:rqe,transformEditNodeToNode:lqe,transformNodeToEditNode:sqe}=hk,{mapTree:cqe,recursiveTree:aqe,resetTreePath:uqe,BRANCH_HEIGHT:dqe}=OB;function fqe(e){const t=uFe({selection:void 0,selectionDecorate:void 0}),n=pqe(),o=yqe(e);return{toolbar:n,client:vqe(),gfocus:WFe(),file:o,editor:t}}function hqe(e){const{client:t}=e,n=yqe(e);!1===e.showEditor?n.clientWidth=t.width:n.clientWidth=200;const o=uFe({selection:void 0,selectionDecorate:void 0,scrollOffset:{top:0},clientHeight:t.height,clientWidth:t.width-80});e.showFile&&(o.clientWidth=o.clientWidth-n.clientWidth);const i={file:n,editor:o,client:t,regional:!0};L4()(i);for(const o in e.note.editor){const i=e.note.editor[o];e.showFile?i.clientWidth=t.width-n.clientWidth:i.clientWidth=t.width,i.clientHeight=t.height,i.scrollOffset={top:0},i.data.style={...i.data.style,paddingBottom:40}}if(e.showFile?Yie(e,e.note)(i):Kie(e,e.note)(i),e.fullRender){const{data:e}=i.editor,t=sqe(e,"");i.editor.node=t;const n=I_(e,t);i.editor.bounds=n;const o=RPe(t);i.editor.ureference=o}if(e.editStyle&&(i.editor.style={...i.editor.style,...e.editStyle}),i.file){const n=i.file.tree,o=n[0].children;if(n&&o&&(n.forEach((({id:e})=>{var t,n,o,r,l,s;null===(n=null===(t=i.store)||void 0===t?void 0:t.editor)||void 0===n||delete n[e],null===(r=null===(o=i.store)||void 0===o?void 0:o.catalog)||void 0===r||delete r[e],null===(s=null===(l=i.store)||void 0===l?void 0:l.reference)||void 0===s||delete s[e]})),i.file.tree=o.map((e=>({...e,type:"root"}))),i.file.clientHeight=t.height,i.file.scrollHeight=t.height,uqe()(i.file),i.file.branch=i.file.tree[0],!1===e.showEditor)){const e=i.file.tree,t=e[0].children;t&&(e.forEach((({id:e})=>{var t,n,o,r,l,s;null===(n=null===(t=i.store)||void 0===t?void 0:t.editor)||void 0===n||delete n[e],null===(r=null===(o=i.store)||void 0===o?void 0:o.catalog)||void 0===r||delete r[e],null===(s=null===(l=i.store)||void 0===l?void 0:l.reference)||void 0===s||delete s[e]})),i.file.tree=t),aqe(i.file.tree,(e=>{delete e.active})),uqe()(i.file)}i.file.editable=!1}return y6()(i),i}function pqe(e){return{tools:ud(oRe.map((e=>e.map((e=>({active:!1,...e}))))))}}function vqe(){const e=WM();return{width:e.clientWidth,height:e.clientHeight}}function gqe(e){const t=kFe(e);return{clientWidth:EFe(e),clientHeight:t}}function mqe(e,t){var n,o,i,r,l,s,c;const a={};if(void 0!==e){function u(e,t){const n=nqe({id:e,uid:e},[{...lqe(t),style:{...t.style,...Ave(iae.H)}}]);return _ve({subclass:iae.H,id:e},[n])}for(let d=0;d<e.tree.length;d++){const{id:f,title:h,children:p=[]}=e.tree[d];if(void 0===h)continue;const v={[f]:f},g=[u(f,h)];for(let b=0;b<p.length;b++){const{id:C,title:w}=p[b];void 0!==w&&(v[C]=C,g.push(u(C,w)))}const m=tqe(g,Y$),y=uFe({data:m,uids:v});a.editor=null!==(n=a.editor)&&void 0!==n?n:{},a.editor[f]=Eje(y);for(let x=0;x<m.children.length;x++){let S=m.children[x];for(;S&&iqe(S)&&!rqe(S);)S=S.children[0];if(rqe(S)){const E=null===(o=S.props)||void 0===o?void 0:o.id,k=null===(i=S.props)||void 0===i?void 0:i.uid;void 0!==E&&void 0!==k&&f!==E&&(a.reference=null!==(r=a.reference)&&void 0!==r?r:{},a.reference[E]={data:S,count:1,detail:{[f]:[k]}})}}}a.catalog=null!==(l=a.catalog)&&void 0!==l?l:{};for(const D of e.tree)Object.assign(a.catalog,X_e(D))}if(void 0!==t){let I=t.data.children[0];if(oqe(I)){const N=null===(s=I.props)||void 0===s?void 0:s.id;void 0!==N&&(a.editor=null!==(c=a.editor)&&void 0!==c?c:{},a.editor[N]=Eje(t))}}return a}function yqe(e,t){var n,o,i,r,l,s;const c=TVe(),a=null!==(o=ds(null===(n=null==c?void 0:c.file)||void 0===n?void 0:n.tree[0]))&&void 0!==o?o:{title:eqe(tqe([zK[e.lang][WK.note]],Ave(iae.H))),type:"root",id:aRe(),expand:!0,tag:!0};if(delete a.children,t){const e=H_e(t.data);e.active=!0,a.children=[e]}let u,d;a.children&&(u={...null===(i=a.children)||void 0===i?void 0:i[0]},d=null==u?void 0:u.id);const f=mje(),h=DFe();let p=D$;c&&(p=null!==(l=null===(r=c.file)||void 0===r?void 0:r.clientWidth)&&void 0!==l?l:D$,u=null===(s=c.file)||void 0===s?void 0:s.branch),rh&&(p=document.documentElement.clientWidth-WQ);const v={tree:[a],branch:u,currentPageId:d,scrollOffset:f,scrollTop:0,clientWidth:p,clientHeight:h,scrollHeight:h};return uqe()(v),v}function bqe(e){var t,n,o;const i=[{title:"",type:"root",id:null!==(t=e.pageId)&&void 0!==t?t:aRe(),children:[],style:{pointerEvents:"none"}}],r={top:!1===e.replaceable?40:80},l={tree:i,scrollHeight:cje(i,r),scrollTop:0,scrollOffset:r,clientWidth:null!==(n=e.width)&&void 0!==n?n:300,clientHeight:null!==(o=e.height)&&void 0!==o?o:600,renderStart:{path:[0],index:0}};return Kf&&(l.scrollOffset?(l.scrollOffset.lower=l.clientHeight,l.scrollOffset.upper=l.clientHeight/2):l.scrollOffset={lower:l.clientHeight,upper:l.clientHeight/2}),l}function Cqe(e){return{result:bqe(e)}}function wqe(e){return{result:xqe(e)}}function xqe(e){var t;const n={...e.file,renderStart:void 0,more:void 0,isEditPending:!1,scrollTop:0},o=e.branch.type,i=pje(n);let r=i.tree;r="root"===o?i.tree.map((e=>({...e,children:void 0}))):cqe(i.tree,(e=>({...K_e(e),path:e.path})));let l=300;"number"==typeof(null===(t=e.style)||void 0===t?void 0:t.height)&&(l=e.style.height);const s=cje(r);return{...i,tree:r,scrollHeight:s,clientHeight:l}}function Sqe(e,t,n,o){const i=e.currentPageId;if(!i)return{};const{data:r,node:l}=t;return(t={...t}).bounds=I_(r,l),t.boundsReset=!0,t.status="normal",delete(o={...lVe(i,o)}).crud,{[i]:{offset:0,timestamp:Date.now(),stack:[{editor:t,gfocus:n,store:o}]}}}function Eqe(e,t){const n=null==e?void 0:e.tree.map((e=>({...e,children:void 0,expand:!1}))),o=ps(null==e?void 0:e.cloud);if((null==n?void 0:n.length)&&!Pc(o)){const e=[];for(const t of n){let i=o[t.id];if(i&&(Array.isArray(i)||(i=[i]),i.length))for(const o of i){if(rh&&!o.bind)continue;const i=[{value:-1,text:""},{value:0,text:""},{value:60,text:" 1  1 "},{value:600,text:" 10  1 "},{value:1800,text:" 30  1 "}];e.push({mode:i[0],...o,roots:n.slice(),selected:t,modes:i})}}if(e.length)return{list:e}}return t?{list:[]}:{list:[HUe(e)]}}function kqe(e,t=!0){var n;const{clientHeight:o,clientWidth:i}=document.documentElement;let r=2*o/3;if(t){let t=dqe;aqe(null!==(n=e.children)&&void 0!==n?n:[],(e=>(t+=dqe,r<t||"outline"===e.type&&void 0))),r>t&&(r=t)}return{visible:!0,top:Math.floor((o-r)/2),left:i-180,width:168,height:r,sticky:!0}}const Dqe=e=>t=>(t.scroll=e,t),Iqe=()=>e=>(delete e.scroll,e),Nqe=e=>t=>(t.sidebar||(t.sidebar={}),t.sidebar.visible=e,t);const{initNodeKey:Lqe,isNode:Tqe}=hk;const Bqe={flex:1,position:"relative",display:"flex",height:`calc(100vh - ${Kf?44:0}px)`,overflow:"auto",boxSizing:"border-box",top:Kf?44:0,justifyContent:"center"},Aqe={maxWidth:1e3,width:"88%"},Mqe={position:"absolute",top:0,left:0,right:0,zIndex:1e4},Oqe={position:"absolute",left:0,top:0,height:"100vh",width:"70%",maxWidth:600,overflow:"hidden",boxShadow:"1px 0px 3px rgba(0, 0, 0, 0.05)",backgroundColor:"#fff",transform:"translateX(-100%)",transition:"transform 333ms cubic-bezier(0.2, 0.0, 0.2, 1.0)"},Rqe={position:"absolute",left:0,top:0,height:"100vh",width:"100vw",backgroundColor:"rgba(0, 0, 0, 0.2)",transition:"background-color 222ms cubic-bezier(0.2, 0.0, 0.2, 1.0)"},Pqe={height:44,position:"absolute",top:0,left:0,right:0,backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center"},Fqe={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:12,width:32,height:32,borderRadius:4},Hqe={display:"flex",justifyContent:"center",alignItems:"center"},_qe={justifyContent:"center",userSelect:"none"},jqe={position:"absolute",right:12,top:6,zIndex:100,width:32,height:32,borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",opacity:0,transition:"opacity 222ms cubic-bezier(0.2, 0.0, 0.2, 1.0)"};function Wqe(e){return G("div",{style:Bqe,ref:e.ref,children:G("div",{style:Aqe,children:e.children})})}const zqe=U(null);function Vqe(e){var n,o,i;const{RootState:r,FontSizeReader:l}=t,s=R(r),c=R(zqe),a=null===(n=e.sidebar)||void 0===n?void 0:n.visible;if(!Kf)return G(K,{children:e.children});const u=null===(i=null===(o=s.file)||void 0===o?void 0:o.tree[0])||void 0===i?void 0:i.title,d={...u,style:{...null==u?void 0:u.style,textAlign:"center",fontWeight:500}},f=()=>{c(Nqe(!a))};return X("div",{style:Mqe,ref:e.ref,children:[X("div",{style:Pqe,children:[G(Ev,{style:Fqe,onClick:f,children:G(oP,{height:14})}),G("div",{style:Hqe,children:G(l,{node:d,fontSize:18,fontWeight:500,style:_qe})})]}),G(wh,{style:{...Rqe,pointerEvents:a?"auto":"none",backgroundColor:`rgba(0, 0, 0, ${a?.2:0})`},onClick:f}),X("div",{style:{...Oqe,transform:`translateX(${a?0:"-101%"})`},children:[e.children,";"]}),G(Ev,{style:{...jqe,pointerEvents:a?"auto":"none",opacity:a?1:0},onClick:f,children:G(ZM,{})})]})}var $qe=Object.freeze({__proto__:null,Knowledge:function(e){const{RootDispatch:n,RootState:o,RootProps:i,RootAdvisor:r,RootWorker:l,RootPortal:s,RootTraversal:c,RootThreshold:a,File:u,Layout:d,Editor:f,initState:h,setNoDraft:p,useAdvisor:v,useThreshold:g,FOCUS_FIELD:m}=t,[y,b]=qd((()=>({...h(e),regional:!0})),p()),[C,w]=qd((()=>({}))),x={imperator:{note:Z({})},record:Z({}),main:Z(null)},S=Z(null),E=Z({}),k=g(E,b),D=function(e,t,n){const o=_(((e,t)=>{}),[]),i=_((e=>new Promise(((t,n)=>{const o=new RH((e=>{t(e)}));o.start(e)}))),[]),r=_(((e,t=!0)=>new Promise(((t,n)=>{const o=new FH((e=>{t(e)}));o.start(e)}))),[]),l=_(((e,t)=>new Promise(((n,o)=>{if(e===WH.PARSE){let e=t;Cc(t)&&(e=JSON.parse(t)),n(e)}else if(WH.STRINGIFY){let e=t;Cc(t)||(e=JSON.stringify(t)),n(e)}else n(t)}))),[]),s=_(((e,t=!0)=>({promise:new Promise(((t,n)=>{const o=new jH((e=>{t(e)}));o.start(e)})),cancel:()=>{}})),[]);return W((()=>({safty:o,search:s,compression:i,decompression:r,jsonbridge:l})),[o,s,i,r,l])}(),I=v(e,y,b,D);!function(e,n,o,i,r){const l=_d(e);H((()=>{const{replaceNote:e,getLocalBootStrap:n,injectBootstrap:r}=t;!async function(){const t=window.slinote;if(!t)return;const n=new Uint8Array(sA(t)),r=(await i.decompression({0:n}))[0],s=l.current;o(e(s,r,!0))}()}),[o,l,r,i])}(e,0,b,D,I);const N=function(e,t,n,o,i,r,l,s){const{removeLocation:c}=hk;return H((()=>{var e;if(!o.scroll)return;i(Iqe());const{location:t,smooth:n}=o.scroll,r=s.imperator.note.current,l=null===(e=r.ele)||void 0===e?void 0:e.call(r,t),c=s.main.current;if(!l||!c)return;const a=l.getBoundingClientRect(),u=Kf?44:0,d=c.scrollTop+a.top-u;c.scrollTo({top:d,behavior:n?"smooth":"auto"})})),H((()=>{var e,n;const o=t.editor.location;if(!o)return;const i=s.imperator.note.current;null===(e=i.commit)||void 0===e||e.call(i,c());const r=null===(n=i.ele)||void 0===n?void 0:n.call(i,o),l=s.main.current;if(!r||!l)return;const a=r.getBoundingClientRect(),u=l.scrollTop+a.top-l.clientHeight/3;l.scrollTo({top:u})})),{file:{onClickBranch:(e,n)=>{var o,r;const l=null===(o=t.file)||void 0===o?void 0:o.currentPageId;if(!l)return;const s=null===(r=e.payload)||void 0===r?void 0:r.kid;if(!s)return;const c=l===n||l===e.id;i(Dqe({location:s,smooth:c}),Nqe(!1))}}}}(0,y,0,C,w,0,0,x),L=function(e,t){var n,o,i;const r=null===(n=e.file)||void 0===n?void 0:n.currentPageId;if(!r)return e;const{data:l,node:s}=e.editor,c=t.record.current;if(!c[r]){const e=l.children[0];Tqe(e)&&(null===(o=e.props)||void 0===o?void 0:o.id)===r&&(c[r]=Lqe(l))}return{...e,editor:{...e.editor,scrollOffset:void 0,node:null!==(i=c[r])&&void 0!==i?i:s}}}({...y,...e,dispatch:b,main:!0,root:!0,virtual:!1,editable:!1,contextmenu:!1,scroller:"native",selecter:"native",focus:{type:m.EDITOR}},x),T=function(e){return{...e,ref:void 0,preventDefault:!1,file:{...e.file,tree:e.file.tree.map((e=>(delete e.tag,e))),editable:!1}}}(L);return G(n,{value:b,children:G(o,{value:y,children:G(i,{value:e,children:G(s,{value:S,children:G(c,{value:E,children:G(a,{value:k,children:G(r,{value:I,children:G(l,{value:D,children:G(zqe,{value:w,children:X(d,{...L,children:[G(Vqe,{...C,children:G(u,{...T,...N.file})}),G(Wqe,{ref:x.main,children:G(f,{...L,ref:x.imperator.note})}),G(tD,{ref:S})]})})})})})})})})})})}});const{Knowledge:Zqe}=$qe;var Uqe,qqe;!function(e=1e3){ne(),setInterval(ne,e)}(),Kf||Uf||document.body.style.setProperty("text-shadow","0px 0px 0.3px #ACACAC"),Uqe=G((function(){return G(Zqe,{lang:"cn"})}),{}),qqe=document.getElementById("root"),B.count++,A(),qqe||(qqe=document.body),void 0===qqe.context&&(qqe.context={node:Uqe,ele:qqe,depth:0,mounts:[]}),Le(Uqe,qqe.context),O(),function(e){for(const t in ce)e.addEventListener(t,le)}(qqe),exports.BOX_SHADOW=Wf,exports.BorderView=Uh,exports.DEEP_COLOR_MEDIUM=_f,exports.DEEP_COLOR_SLIGHT=jf,exports.DEFAULT_LIGHT_COLOR=Af,exports.INPUT_HEIGHT=44,exports.IS_HARMONY=eh,exports.IS_IOS=Zf,exports.IS_MAC=Uf,exports.ITEM_HEIGHT=34,exports.LOCAL_RECENT_EMOJI_KEY=Kz,exports.Tips=Vk,exports.TouchView=Ev,exports.createContext=U,exports.i18n=qz,exports.isIterateeCall=Do,exports.jsx=G,exports.jsxs=X,exports.keyEmoji=Yz,exports.keys=Uz,exports.toFinite=mt,exports.uniq=ia,exports.useContext=R,exports.useEffect=F,exports.useLayoutEffect=H,exports.useReaction=qd,exports.useRef=Z,exports.useState=$;
